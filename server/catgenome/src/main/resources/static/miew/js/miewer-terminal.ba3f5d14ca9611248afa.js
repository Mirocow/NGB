"use strict";(self.webpackChunkmiewer=self.webpackChunkmiewer||[]).push([[106],{3504:function(e,i,t){t.r(i),t.d(i,{MiewerTerminal:function(){return s}}),t(9288),t(4769);class s{constructor(e){this.onMiewMessage=e=>{e.message&&this._terminal&&("error"===e.level?this._terminal.error(e.message):this._terminal.echo(e.message))},this.onMiewResponse=e=>{this._terminal&&this._terminal.echo(e)},this.onMiewResponseError=e=>{this._terminal&&this._terminal.error(e)},this.onTerminalFocus=()=>{this._focused=!0,this.manageMiewHotKeys()},this.onTerminalBlur=()=>{this._focused=!1,this.manageMiewHotKeys()},this._container=e,this._miew=void 0,this._focused=!1}initialize(){return e=this,i=void 0,n=function*(){const{default:e}=yield Promise.resolve().then(t.t.bind(t,9755,23));this._terminal=e(this._container).terminal(this.interpreter.bind(this),{greetings:"Miew - 3D Molecular Viewer\nCopyright Â© 2015-2023 EPAM Systems, Inc.\n",prompt:"miew> ",scrollOnEcho:!0,onFocus:this.onTerminalFocus,onBlur:this.onTerminalBlur}),this.onTerminalFocus()},new((s=void 0)||(s=Promise))((function(t,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function h(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(e){e(i)}))).then(o,h)}a((n=n.apply(e,i||[])).next())}));var e,i,s,n}attach(e){this._miew!==e&&(this.detachMiew(),this._miew=e,this.attachMiew())}dispose(){this._terminal&&(this._terminal.destroy(),this._terminal=void 0)}interpreter(e){this._miew&&this._miew.script.call(this._miew,e,this.onMiewResponse,this.onMiewResponseError)}attachMiew(){this.detachMiew(),this._miew&&(this._miew.logger.addEventListener("message",this.onMiewMessage),this.manageMiewHotKeys())}detachMiew(){this._miew&&this._miew.logger.removeEventListener("message",this.onMiewMessage)}manageMiewHotKeys(){this._miew&&this._miew.enableHotKeys(!this._focused)}}}}]);
//# sourceMappingURL=miewer-terminal.ba3f5d14ca9611248afa.js.map