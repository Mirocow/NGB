{"version":3,"file":"js/miew.80ea2aed12e7daebe3af.js","mappings":"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I,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAEric,IAAIC,GAAY,CAAC,EAAK,IAAO,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAM,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,GAAM,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,IAAO,IAAM,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAM,IAAO,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAM,KAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,GAAM,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,IAAO,IAAM,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAM,IAAO,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,GAAM,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,KAAO,IAAM,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,IAAO,IAAM,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAM,IAAO,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,GAAM,IAAO,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,IAAM,IAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,KAAO,IAAO,IAAO,IAAO,GAKtvDC,GAAWhtE,GAAa,SAASgtE,IACnChuE,EAAgBuE,KAAMypE,GACtBzpE,KAAK0pE,SAAW,EAChB1pE,KAAK/C,EAAI,IAAIgB,MAAM+B,KAAK0pE,UACxB1pE,KAAK+5B,EAAI,IAAI97B,MAAM+B,KAAK0pE,UACxB1pE,KAAKuvC,IAAM,IAAItxC,MAAM+B,KAAK0pE,UAC1B,IAAK,IAAI1tE,EAAI,EAAGA,EAAIgE,KAAK0pE,WAAY1tE,EACnCgE,KAAK/C,EAAEjB,GAAK,IAAI,MAChBgE,KAAK+5B,EAAE/9B,GAAK,IAAI,MAElBgE,KAAK2pE,UAAY,CACnB,IACIC,GAAWntE,GAAa,SAASmtE,IACnCnuE,EAAgBuE,KAAM4pE,GACtB5pE,KAAK6H,EAAI,CACP5K,EAAG,IAAI,MACPmB,EAAG,IAAI,OAET4B,KAAKi+C,EAAI,CACPhhD,EAAG,IAAI,MACPmB,EAAG,IAAI,OAET4B,KAAKojB,EAAI,CACPnmB,EAAG,IAAI,MACPmB,EAAG,IAAI,MAEX,IACA,SAASyrE,GAAYC,GAEnB,IADA,IAAIhsE,EAAM,IAAIG,MAAM6rE,GACX9tE,EAAI,EAAGA,EAAI8tE,IAAW9tE,EAC7B8B,EAAI9B,GAAK,IAAI,MAEf,OAAO8B,CACT,CACA,IAAIisE,GAAa,WACf,SAASA,IACPtuE,EAAgBuE,KAAM+pE,GACtB/pE,KAAKgqE,cAAgB,EACrBhqE,KAAKiqE,aAAe,EACpBjqE,KAAKm5B,UAAY,GACjBn5B,KAAK47D,SAAW,GAChB57D,KAAKk6D,QAAU,KACfl6D,KAAK03D,SAAW,GAChB13D,KAAKkqE,gBAAkB,KACvBlqE,KAAKmqE,OAAS,IAAI,MAClBnqE,KAAKoqE,OAAS,IAAI,MAClBpqE,KAAKqqE,OAAS,IAAI,MAClBrqE,KAAKsqE,MAAQ,IAAI,MACjBtqE,KAAKuqE,MAAQ,IAAI,MACjBvqE,KAAKwqE,MAAQ,IAAI,KACnB,CA8ZA,OA7ZA/tE,EAAastE,EAAY,CAAC,CACxBvtE,IAAK,sBACLe,MAAO,WACL,IACIktE,EADUzqE,KAAKkqE,gBACIvf,cACnB+f,EAAQ1qE,KAAKmqE,OACbQ,EAAQ3qE,KAAKoqE,OACbQ,EAAQ5qE,KAAKqqE,OACbQ,EAAO7qE,KAAKsqE,MACZQ,EAAO9qE,KAAKuqE,MACZQ,EAAO/qE,KAAKwqE,MAChBE,EAAMpiE,IAAImiE,EAAShoE,EAAG,EAAG,GACzBkoE,EAAMriE,IAAI,EAAGmiE,EAAS/nE,EAAG,GACzBkoE,EAAMtiE,IAAI,EAAG,EAAGmiE,EAAS/6C,GACzBm7C,EAAKviE,IAAI,EAAG,EAAG,GACfwiE,EAAKxiE,IAAI,EAAG,EAAG,GACfyiE,EAAKziE,IAAI,EAAG,EAAG,GACf,IAAI0iE,EAAM,IAAI,MAOd,GANAA,EAAIx/C,aAAaq/C,EAAMC,GACnBE,EAAIrgD,IAAIogD,GAAQ,IAClBF,EAAK17C,SACL27C,EAAK37C,SACL47C,EAAK57C,UAEH07C,EAAKpoE,EAAI,GAAKooE,EAAKnoE,EAAI,GAAKmoE,EAAKn7C,EAAI,GAAKo7C,EAAKroE,EAAI,GAAKqoE,EAAKpoE,EAAI,GAAKooE,EAAKp7C,EAAI,GAAKq7C,EAAKtoE,EAAI,GAAKsoE,EAAKroE,EAAI,GAAKqoE,EAAKr7C,EAAI,EAC3H,OAAO,EAET,IAAIu7C,EAAU,SAAiBC,GAC7B,OAAOlpE,KAAKitB,IAAIi8C,GAAOtqD,OAAOuqD,OAChC,EACA,QAASF,EAAQP,EAAMhoE,IAAMuoE,EAAQP,EAAMh7C,IAAMu7C,EAAQN,EAAMloE,IAAMwoE,EAAQN,EAAMj7C,IAAMu7C,EAAQL,EAAMnoE,IAAMwoE,EAAQL,EAAMloE,GAC7H,GACC,CACDlG,IAAK,gBACLe,MAAO,SAAuB6tE,EAAUC,EAAMC,EAAMC,EAAMC,EAAQpO,GAChE,IAAIrgB,EAAKsuB,EAAKpuE,EAAEquE,GACZtuB,EAAKquB,EAAKpuE,EAAEsuE,GACZr6B,EAAKm6B,EAAKtxC,EAAEuxC,GACZn6B,EAAKk6B,EAAKtxC,EAAEwxC,GACZE,EAAQJ,EAAK97B,IAAI+7B,GAEjBI,EAAYN,EAAWK,EACvBE,EAFQN,EAAK97B,IAAIg8B,GAEKE,EACtBG,EAAK,EACL5pE,KAAKitB,IAAI08C,GAAe,IAC1BC,EAAKF,EAAYC,GAEnBC,EAAKA,EAAK,EAAM,EAAMA,EACtBJ,EAAOhN,YAAYzhB,EAAIC,EAAI4uB,GAC3BxO,EAAOoB,YAAYttB,EAAIC,EAAIy6B,EAC7B,GACC,CACDpvE,IAAK,cACLe,MAAO,SAAqB8tE,EAAMD,EAAUS,GAQ1C,IAPA,IAAIlC,EAAY0B,EAAK1B,UACjB3tE,EAAI,EACJ8tE,EAAUC,EAAWL,SACrBoC,EAAe/B,EAAWgC,cAC1BC,EAAgBjC,EAAWkC,eAC3BC,EAAanC,EAAWoC,YACxBC,EAAarC,EAAWsC,YACrBrwE,EAAI8tE,IAAW9tE,EAChBwtE,GAAUG,GAAa,GAAK3tE,GAC9BgE,KAAKssE,cAAclB,EAAUC,EAAMS,EAAa9vE,GAAIgwE,EAAchwE,GAAIkwE,EAAWlwE,GAAIowE,EAAWpwE,IAGpG,IAAIuwE,EAAW,EACXC,EAAwB,GAAZ7C,EACZ8C,EAAW1C,EAAW2C,UAC1B,IAAK1wE,EAAI,GAAgC,IAA7BywE,EAASD,EAAYxwE,GAAWA,GAAK,EAC/C6vE,EAAUU,GAAU1kE,EAAE5K,EAAEoU,KAAK66D,EAAWO,EAASD,EAAYxwE,KAC7D6vE,EAAUU,GAAU1kE,EAAEzJ,EAAEiT,KAAK+6D,EAAWK,EAASD,EAAYxwE,KAC7D6vE,EAAUU,GAAUtuB,EAAEhhD,EAAEoU,KAAK66D,EAAWO,EAASD,EAAYxwE,EAAI,KACjE6vE,EAAUU,GAAUtuB,EAAE7/C,EAAEiT,KAAK+6D,EAAWK,EAASD,EAAYxwE,EAAI,KACjE6vE,EAAUU,GAAUnpD,EAAEnmB,EAAEoU,KAAK66D,EAAWO,EAASD,EAAYxwE,EAAI,KACjE6vE,EAAUU,GAAUnpD,EAAEhlB,EAAEiT,KAAK+6D,EAAWK,EAASD,EAAYxwE,EAAI,OAC/DuwE,EAEJ,OAAOA,CACT,GACC,CACD/vE,IAAK,kBACLe,MAAO,SAAyBua,EAAUgiC,EAAM6yB,GAwB9C,IAvBA,IA0BIC,EA1BAC,EAAM7sE,KAAKkqE,gBACX4C,EAAU9sE,KAAKkqE,gBAAgB6C,UAC/BC,EAAMH,EAAII,gBACVpiB,EAAQmiB,EAAI,GACZliB,EAAQkiB,EAAI,GACZjiB,EAAQiiB,EAAI,GACZE,EAAQpzB,EAAO+yB,EAAIM,aACnBC,EAAQtzB,EAAO+yB,EAAIQ,aACnBC,EAAQxzB,EAAO+yB,EAAIU,aACnBC,EAAK,IAAI/D,GACTgE,EAAQD,EAAGj+B,IACXm+B,EAAYF,EAAGj+B,IAAItzC,OACnB0xE,EAAY,CAAC,IAAI,MAAQ,EAAG,EAAG,GACnC,IAAI,MAAQ7zB,EAAM,EAAG,GACrB,IAAI,MAAQA,EAAMA,EAAM,GACxB,IAAI,MAAQ,EAAGA,EAAM,GACrB,IAAI,MAAQ,EAAG,EAAGA,GAClB,IAAI,MAAQA,EAAM,EAAGA,GACrB,IAAI,MAAQA,EAAMA,EAAMA,GACxB,IAAI,MAAQ,EAAGA,EAAMA,IAGjB+xB,EAAY,IAAI5tE,MADF,GAETwW,EAAI,EAAGA,EAFE,IAEiBA,EACjCo3D,EAAUp3D,GAAK,IAAIm1D,GAGrB,IAKQgE,EALJ/wE,EAAOmD,KACP8/D,EAAY9/D,KAAKm5B,UACjB+jC,EAAUl9D,KAAK47D,SACf+Q,GAEIiB,EAAO,IAAI,MAAQ/wE,EAAKstE,OAAO1nE,EAAG5F,EAAKutE,OAAO1nE,EAAG7F,EAAKwtE,OAAO36C,GADnEk9C,EAES,SAAUiB,GACf,IAAIrC,EAASqC,EAAU5wE,EAAEutB,QACzBghD,EAAOtc,SAAS0e,GAChB9N,EAAUzgE,KAAKmsE,EAAO37B,IAAIhzC,EAAKixE,UAC/B5Q,EAAQ79D,KAAKwuE,EAAUzvE,EAAEosB,QAC3B,GAGFoiD,EAAe,WACb,IAAImB,EAAS,IAAI,MACjBA,EAAOzlE,IAAIzL,EAAKstE,OAAO1nE,EAAG5F,EAAKutE,OAAO3nE,EAAG5F,EAAKwtE,OAAO5nE,EAAG5F,EAAKstE,OAAOznE,EAAG7F,EAAKutE,OAAO1nE,EAAG7F,EAAKwtE,OAAO3nE,EAAG7F,EAAKstE,OAAOz6C,EAAG7yB,EAAKutE,OAAO16C,EAAG7yB,EAAKwtE,OAAO36C,GAC/I,IAAIs3C,EAAU,IAAI,MAElB,OADAA,EAAQ1+D,IAAIzL,EAAKytE,MAAM7nE,EAAG5F,EAAK0tE,MAAM9nE,EAAG5F,EAAK2tE,MAAM/nE,EAAG5F,EAAKytE,MAAM5nE,EAAG7F,EAAK0tE,MAAM7nE,EAAG7F,EAAK2tE,MAAM9nE,EAAG7F,EAAKytE,MAAM56C,EAAG7yB,EAAK0tE,MAAM76C,EAAG7yB,EAAK2tE,MAAM96C,GAChI,SAAUm+C,GACf/N,EAAUzgE,KAAKwuE,EAAU5wE,EAAEutB,QAAQq0C,aAAakP,GAAQl+B,IAAIhzC,EAAKixE,UACjE5Q,EAAQ79D,KAAKwuE,EAAUzvE,EAAEosB,QAAQq0C,aAAamI,GAChD,CACF,CATe,GAajB,IAFA,IA9LsB1kD,EAAGwyB,EAAOk5B,EAChCj0C,EA6LIxlB,EAAUvU,KAAK03D,SACfuW,EAAe,EACVv+C,EAAI,EAAGA,EAAIq7B,EAAQjR,EAAMpqB,GAAKoqB,EACrC,IAAK,IAAIp3C,EAAI,EAAGA,EAAIooD,EAAQhR,EAAMp3C,GAAKo3C,EAErC,IADA,IAAI11C,EAAMyoE,EAAIqB,aAAa,EAAGxrE,EAAGgtB,GACxBjtB,EAAI,EAAGA,EAAIooD,EAAQ/Q,EAAMr3C,GAAKq3C,EAAM11C,GAAO8oE,EAAO,CACzDO,EAAM,GAAKX,EAAQ1oE,GACnBqpE,EAAM,GAAKX,EAAQ1oE,EAAM8oE,GACzBO,EAAM,GAAKX,EAAQ1oE,EAAMgpE,GACzBK,EAAM,GAAKX,EAAQ1oE,EAAM8oE,EAAQE,GACjCK,EAAM,GAAKX,EAAQ1oE,EAAMkpE,GACzBG,EAAM,GAAKX,EAAQ1oE,EAAM8oE,EAAQI,GACjCG,EAAM,GAAKX,EAAQ1oE,EAAMgpE,EAAQE,GACjCG,EAAM,GAAKX,EAAQ1oE,EAAM8oE,EAAQE,EAAQE,GAGzC,IAFA,IAAI3D,EAAY,EACZ3tE,EAAI,EACDA,EAAI0xE,IAAa1xE,EAClByxE,EAAMzxE,GAAK8b,IACb6xD,GAAa,GAAK3tE,GAGtB,GAA6B,IAAzBwtE,GAAUG,GAAd,CAIA,IADA6D,EAAG7D,UAAYA,EACV3tE,EAAI,EAAGA,EAAI0xE,IAAa1xE,EAC3BwxE,EAAGvwE,EAAEjB,GAAGsM,IAAI7F,EAAIkrE,EAAU3xE,GAAGyG,EAAGC,EAAIirE,EAAU3xE,GAAG0G,EAAGgtB,EAAIi+C,EAAU3xE,GAAG0zB,GAxNvDpN,EAyNKtiB,KAAKmuE,UAzNPr5B,EAyNkB04B,EAAGvwE,EAAEjB,GAzNhBgyE,EAyNoBR,EAAGzzC,EAAE/9B,QAxNzD+9B,IAAIzX,EAAE+nC,SAASvV,EAAMryC,EAAGqyC,EAAMpyC,EAAGoyC,EAAMplB,GAC3Cs+C,EAAK1lE,IAAIyxB,EAAE,GAAIA,EAAE,GAAIA,EAAE,IAyNb,IAAIwyC,EAAWvsE,KAAKouE,YAAYZ,EAAI11D,EAAU+zD,GAE9C,IADAoC,GAAgB1B,EACXvwE,EAAI,EAAGA,EAAIuwE,IAAYvwE,EAC1BuY,EAAQlV,KAA0B,EAArBW,KAAKgqE,eAClBz1D,EAAQlV,KAA0B,EAArBW,KAAKgqE,cAAoB,GACtCz1D,EAAQlV,KAA0B,EAArBW,KAAKgqE,cAAoB,KACpChqE,KAAKgqE,cACP4C,EAAaf,EAAU7vE,GAAG6L,GAC1B+kE,EAAaf,EAAU7vE,GAAGiiD,GAC1B2uB,EAAaf,EAAU7vE,GAAGonB,EAf5B,CAiBF,CAGJ,OAAO6qD,CACT,GACC,CACDzxE,IAAK,UACLe,MAAO,SAAiBuvE,EAASnU,EAAQ7gD,EAAUgiC,GACjD95C,KAAKkqE,gBAAkB4C,EACvB9sE,KAAK8tE,QAAUnV,EACf34D,KAAKmuE,UAAYrB,EAAQuB,kBACzBruE,KAAKsuE,gBAAgBx2D,EAAUgiC,EAAM95C,KAAKuuE,sBAC5C,GACC,CACD/xE,IAAK,gBACLe,MAAO,SAAuBixE,EAAWC,GAGvC,IAFA,IAAIl6D,EAAUvU,KAAK03D,SACfgX,EAAan/D,EAAMiC,cAAcmrD,YAAa8R,GACzCzyE,EAAI,EAAGA,EAAIyyE,IAAYzyE,EAC9BuY,EAAQvY,GAAKwyE,EAAUj6D,EAAQvY,IAC/B0yE,EAAW1yE,GAAKuY,EAAQvY,GAE1BgE,KAAK03D,SAAWgX,CAClB,GACC,CACDlyE,IAAK,iBACLe,MAAO,SAAwBoxE,EAAUzR,EAAStnD,GAGhD,IAFA,IAAIg5D,EAAer/D,EAAMiC,cAAci5C,aAAsB,EAAR70C,GACjDi5D,EAAat/D,EAAMiC,cAAci5C,aAAsB,EAAR70C,GAC1C5Z,EAAI,EAAGA,EAAI4Z,IAAS5Z,EAAG,CAC9B,IAAIusC,EAAMomC,EAAS3yE,GACnB4yE,EAAiB,EAAJ5yE,GAASusC,EAAI9lC,EAC1BmsE,EAAiB,EAAJ5yE,EAAQ,GAAKusC,EAAI7lC,EAC9BksE,EAAiB,EAAJ5yE,EAAQ,GAAKusC,EAAI7Y,EAC9B,IAAIo/C,EAAO5R,EAAQlhE,GAAG0vB,YACtBmjD,EAAe,EAAJ7yE,GAAS8yE,EAAKrsE,EACzBosE,EAAe,EAAJ7yE,EAAQ,GAAK8yE,EAAKpsE,EAC7BmsE,EAAe,EAAJ7yE,EAAQ,GAAK8yE,EAAKp/C,CAC/B,CACA1vB,KAAKm5B,UAAYy1C,EACjB5uE,KAAK47D,SAAWiT,CAClB,GACC,CACDryE,IAAK,eACLe,MAAO,SAAsBsiC,EAAQ9hC,GACnC,IAAIgxE,EAAU/uE,KAAK03D,SAASz7D,OACxB0yE,EAAW3uE,KAAKm5B,UAChB+jC,EAAUl9D,KAAK47D,SACfoT,EAAgC,EAAlBL,EAAS1yE,OAC3B,GAAgB,IAAZ8yE,GAAiC,IAAhBC,EAArB,CAGA,IAAIC,EAAO1/D,EAAMiC,cAAcmrD,YAAaqS,GAC5CC,EAAK,GAAK,EAGV,IAFA,IAAIC,EAAS,EACTlzE,EAAI,EACDA,EAAIgzE,IAAehzE,EAAG,CAI3B,IAHA,IAAI2Z,EAAQu5D,EAASrvC,EAAS,EAAI,EAAIqvC,EAASrvC,EAC3C/8B,EAAM6S,EAAQ5X,EAAMmxE,EAASA,EAASv5D,EAAQ5X,EAC9CoxE,GAAgB,EACX16D,EAAIkB,EAAOlB,EAAI3R,IAAO2R,EAC7B,GAAIzS,KAAKitB,IAAI0/C,EAAS3yE,GAAK2yE,EAASl6D,IAAMmM,OAAOuqD,QAAS,CACxDgE,EAAe16D,EACf,KACF,EAEoB,IAAlB06D,EACFF,EAAKjzE,GAAKmzE,GAEVR,EAASO,GAAQ79D,KAAKs9D,EAAS3yE,IAC/BkhE,EAAQgS,GAAQ79D,KAAK6rD,EAAQlhE,IAC7BizE,EAAKjzE,GAAKkzE,IACRA,EAEN,CACAlvE,KAAKovE,cAAcH,EAAMF,GACzB/uE,KAAKqvE,eAAeV,EAAUzR,EAASgS,EAzBvC,CA0BF,GACC,CACD1yE,IAAK,iBACLe,MAAO,SAAwB+xE,EAAUC,EAASC,EAAeC,GAC/D,IAAIzzE,EACAoI,EAYAsrE,EACAC,EACAC,EACAC,EAdAC,EAAW9vE,KAAKm5B,UAAUl9B,OAAS,EACnC0yE,EAAW3uE,KAAKm5B,UAChBw/B,EAAS34D,KAAK8tE,QACdd,EAAMhtE,KAAKkqE,gBAAgB+C,gBAC3B8C,EAAK/C,EAAI,GAAK,EACdgD,EAAKhD,EAAI,GAAK,EACdiD,EAAKjD,EAAI,GAAK,EACdkD,EAAYZ,EAASvC,UACrBoD,EAAUb,EAASnC,aACnBiD,EAAUd,EAASjC,aACnBgD,EAAUf,EAAS/B,aAKI,OAAvBkC,IACFC,EAAiBF,EAAczC,UAC/B4C,EAAcH,EAAcrC,aAC5ByC,EAAcJ,EAAcnC,aAC5BwC,EAAcL,EAAcjC,cAE9B,IAAI+C,EAAO,EAAMtwE,KAAKmqE,OAAO1nE,EACzB8tE,EAAO,EAAMvwE,KAAKoqE,OAAO1nE,EACzB8tE,EAAO,EAAMxwE,KAAKqqE,OAAO36C,EACzB+gD,EAAa,GACbC,EAAc,GACdvV,EAAS5rD,EAAMiC,cAAci5C,aAAyB,EAAXqlB,GAC/C,SAASa,EAAO/E,EAAIgF,EAAMC,EAAMztD,GAC9BA,EAAE,IAAM,EAAIwoD,GAAMsE,EAAUU,GAAQhF,EAAKsE,EAAUW,GACnDztD,EAAE,IAAM,EAAIwoD,GAAMsE,EAAUU,EAAO,GAAKhF,EAAKsE,EAAUW,EAAO,GAC9DztD,EAAE,IAAM,EAAIwoD,GAAMsE,EAAUU,EAAO,GAAKhF,EAAKsE,EAAUW,EAAO,EAChE,CACA,SAASC,EAAcpvB,EAAIqvB,EAAOC,EAAOC,GACvC,IAAIppE,EAAI0nE,EAAQ7tB,GAChB,GAAS,MAAL75C,EAAW,CACb4oE,EAAW5oE,EAAEyc,OAASzc,EACtB,IAAIkoD,EAAIghB,EAAQC,EAAQC,EAAQvB,EAAehuB,QACX,IAAzBgvB,EAAY7oE,EAAEyc,OACvBosD,EAAY7oE,EAAEyc,OAASyrC,EAEvB2gB,EAAY7oE,EAAEyc,QAAUyrC,CAE5B,CACF,CACA,IAAIkf,EAAO1/D,EAAMiC,cAAc85B,WAAYwkC,GACvCoB,EAAc,EAClB,IAAKl1E,EAAI,EAAGA,EAAI8zE,EAAU9zE,IAAK,CAC7B,IAAIm1E,EAAU,EAAJn1E,EACNskE,GAAMqO,EAASwC,GAAOxY,EAAOl2D,GAAK6tE,EAClC/P,GAAMoO,EAASwC,EAAM,GAAKxY,EAAOj2D,GAAK6tE,EACtC/P,GAAMmO,EAASwC,EAAM,GAAKxY,EAAOjpC,GAAK8gD,EACtC/tE,EAAoC,EAAhCT,KAAKwY,IAAIxY,KAAK8M,IAAIwxD,EAAI,GAAIyP,GAC9BrtE,EAAoC,EAAhCV,KAAKwY,IAAIxY,KAAK8M,IAAIyxD,EAAI,GAAIyP,GAC9BtgD,EAAoC,EAAhC1tB,KAAKwY,IAAIxY,KAAK8M,IAAI0xD,EAAI,GAAIyP,GAC9BmB,EAAM9Q,EAAK79D,EACX4uE,EAAM9Q,EAAK79D,EACX4uE,EAAM9Q,EAAK9wC,EACf,GAA0B,MAAtB+/C,EAA4B,CAC9BgB,EAAa,GACbC,EAAc,GAEdI,EADA1sE,EAAMorE,EAActB,aAAazrE,EAAGC,EAAGgtB,GACpB,EAAI0hD,EAAK,EAAIC,EAAK,EAAIC,GACzCR,EAAc1sE,EAAMurE,EAAayB,EAAK,EAAIC,EAAK,EAAIC,GACnDR,EAAc1sE,EAAMwrE,EAAa,EAAIwB,EAAKC,EAAK,EAAIC,GACnDR,EAAc1sE,EAAMurE,EAAcC,EAAawB,EAAKC,EAAK,EAAIC,GAC7DR,EAAc1sE,EAAMyrE,EAAa,EAAIuB,EAAK,EAAIC,EAAKC,GACnDR,EAAc1sE,EAAMurE,EAAcE,EAAauB,EAAK,EAAIC,EAAKC,GAC7DR,EAAc1sE,EAAMwrE,EAAcC,EAAa,EAAIuB,EAAKC,EAAKC,GAC7DR,EAAc1sE,EAAMurE,EAAcC,EAAcC,EAAauB,EAAKC,EAAKC,GACvE,IAAIC,EAAY,EACZC,GAAe,EACnB,IAAK,IAAIC,KAAWf,EACdA,EAAYe,GAAWF,IACzBC,EAAcC,EACdF,EAAYb,EAAYe,IAG5B,GAAID,EAAc,IAAM/B,EAAmBxoC,aAAawpC,EAAWe,IAAe,CAChFvC,EAAKjzE,IAAM,EACX,QACF,CACF,CACAizE,EAAKjzE,GAAKk1E,IACV,IAAIj4D,EAAKxW,EAAIstE,EAAKI,EAAU,EACxBj3D,EAAKxW,EAAIstE,EAAKI,EAAU,EACxBj3D,EAAKuW,EAAIugD,EAAKI,EAAU,EACxBqB,EAAK,CAAC,EAAG,EAAG,GACZC,EAAK,CAAC,EAAG,EAAG,GACZC,EAAK,CAAC,EAAG,EAAG,GACZC,EAAK,CAAC,EAAG,EAAG,GAEhBlB,EAAOS,EADPhtE,EAAMkrE,EAASpB,aAAazrE,EAAGC,EAAGgtB,GACjBtrB,EAAM6U,EAAIy4D,GAC3Bf,EAAOS,EAAKhtE,EAAM8U,EAAI9U,EAAM6U,EAAKC,EAAIy4D,GACrChB,EAAOS,EAAKhtE,EAAM+U,EAAI/U,EAAM6U,EAAKE,EAAIy4D,GACrCjB,EAAOS,EAAKhtE,EAAM8U,EAAKC,EAAI/U,EAAM6U,EAAKC,EAAKC,EAAI04D,GAC/C,IAAIC,EAAM,CAAC,EAAG,EAAG,GACjBA,EAAI,IAAM,EAAIT,GAAOK,EAAG,GAAKL,EAAMM,EAAG,GACtCG,EAAI,IAAM,EAAIT,GAAOK,EAAG,GAAKL,EAAMM,EAAG,GACtCG,EAAI,IAAM,EAAIT,GAAOK,EAAG,GAAKL,EAAMM,EAAG,GACtC,IAAII,EAAM,CAAC,EAAG,EAAG,GACjBA,EAAI,IAAM,EAAIV,GAAOO,EAAG,GAAKP,EAAMQ,EAAG,GACtCE,EAAI,IAAM,EAAIV,GAAOO,EAAG,GAAKP,EAAMQ,EAAG,GACtCE,EAAI,IAAM,EAAIV,GAAOO,EAAG,GAAKP,EAAMQ,EAAG,GACtC1W,EAAOgW,IAAQ,EAAIG,GAAOQ,EAAI,GAAKR,EAAMS,EAAI,GAC7C5W,EAAOgW,EAAM,IAAM,EAAIG,GAAOQ,EAAI,GAAKR,EAAMS,EAAI,GACjD5W,EAAOgW,EAAM,IAAM,EAAIG,GAAOQ,EAAI,GAAKR,EAAMS,EAAI,EACnD,CAEA,GADA/xE,KAAKk6D,QAAUiB,EACW,MAAtBsU,EAA4B,CAC9B,IAAKzzE,EAAI,EAAGA,EAAI8zE,IAAY9zE,EAAG,CAC7B,IAAIyY,GAAIw6D,EAAKjzE,GACTyY,GAAI,IAGRzU,KAAKm5B,UAAc,EAAJ1kB,IAASzU,KAAKm5B,UAAc,EAAJn9B,GACvCgE,KAAKm5B,UAAc,EAAJ1kB,GAAQ,GAAKzU,KAAKm5B,UAAc,EAAJn9B,EAAQ,GACnDgE,KAAKm5B,UAAc,EAAJ1kB,GAAQ,GAAKzU,KAAKm5B,UAAc,EAAJn9B,EAAQ,GACnDgE,KAAK47D,SAAa,EAAJnnD,IAASzU,KAAK47D,SAAa,EAAJ5/D,GACrCgE,KAAK47D,SAAa,EAAJnnD,GAAQ,GAAKzU,KAAK47D,SAAa,EAAJ5/D,EAAQ,GACjDgE,KAAK47D,SAAa,EAAJnnD,GAAQ,GAAKzU,KAAK47D,SAAa,EAAJ5/D,EAAQ,GACjDgE,KAAKk6D,QAAY,EAAJzlD,IAASzU,KAAKk6D,QAAY,EAAJl+D,GACnCgE,KAAKk6D,QAAY,EAAJzlD,GAAQ,GAAKzU,KAAKk6D,QAAY,EAAJl+D,EAAQ,GAC/CgE,KAAKk6D,QAAY,EAAJzlD,GAAQ,GAAKzU,KAAKk6D,QAAY,EAAJl+D,EAAQ,GACjD,CACA,IAAIg2E,GAAehyE,KAAK03D,SAASz7D,OAAS,EACtCg2E,GAAc,EAClB,IAAKj2E,EAAI,EAAGA,EAAIg2E,KAAgBh2E,EAAG,CACjC,IAAIk2E,GAAKjD,EAAKjvE,KAAK03D,SAAS,EAAI17D,IAC5Bo1C,GAAK69B,EAAKjvE,KAAK03D,SAAS,EAAI17D,EAAI,IAChCq1C,GAAK49B,EAAKjvE,KAAK03D,SAAS,EAAI17D,EAAI,IAChCk2E,IAAM,GAAK9gC,IAAM,GAAKC,IAAM,IAC9BrxC,KAAK03D,SAAS,EAAIua,IAAeC,GACjClyE,KAAK03D,SAAS,EAAIua,GAAc,GAAK7gC,GACrCpxC,KAAK03D,SAAS,EAAIua,GAAc,GAAK5gC,KACnC4gC,GAEN,CACAjyE,KAAKm5B,UAAY,IAAIsxB,aAAazqD,KAAKm5B,UAAUrrB,OAAOxP,MAAM,EAAiB,EAAd4yE,EAAkB,IACnFlxE,KAAK47D,SAAW,IAAInR,aAAazqD,KAAK47D,SAAS9tD,OAAOxP,MAAM,EAAiB,EAAd4yE,EAAkB,IACjFlxE,KAAKk6D,QAAU,IAAIzP,aAAazqD,KAAKk6D,QAAQpsD,OAAOxP,MAAM,EAAiB,EAAd4yE,EAAkB,IAC/ElxE,KAAK03D,SAAW,IAAIiF,YAAY38D,KAAK03D,SAAS5pD,OAAOxP,MAAM,EAAiB,EAAd2zE,GAAkB,GAClF,CACF,GACC,CACDz1E,IAAK,SACLe,MAAO,WACL,IAAIu3D,EAAM,IAAI,MAMd,OALAA,EAAIgI,SAAS,IAAI,MAAgB98D,KAAK03D,SAAU,IAChD5C,EAAIpzD,aAAa,WAAY,IAAI,MAAgB1B,KAAKm5B,UAAW,IACjE27B,EAAIpzD,aAAa,SAAU,IAAI,MAAgB1B,KAAK47D,SAAU,IAC9D9G,EAAIpzD,aAAa,QAAS,IAAI,MAAgB1B,KAAKk6D,QAAS,IAC5DpF,EAAIsF,wBACGtF,CACT,KAEKiV,CACT,CA/aiB,GAgbjBhkD,GAAgBgkD,GAAY,YAAad,GAAoBztE,UAAU+tE,sBACvExjD,GAAgBgkD,GAAY,WAAY,IACxChkD,GAAgBgkD,GAAY,gBAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAC/EhkD,GAAgBgkD,GAAY,iBAAkB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAChFhkD,GAAgBgkD,GAAY,cAAeF,GAAYE,GAAWL,WAClE3jD,GAAgBgkD,GAAY,cAAeF,GAAYE,GAAWL,WAIlE,IAAIyI,GAAwB,SAAUC,GACpCh1E,EAAU+0E,EAAuBC,GACjC,IAJuB7kE,EAAeC,EAIlCC,GAJmBF,EAIM4kE,EAJS3kE,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ0qE,GAAuC,WAAkC,IAAsChmE,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAAS8lE,IAEP,OADA12E,EAAgBuE,KAAMmyE,GACf1kE,EAAO1N,MAAMC,KAAMH,UAC5B,CAoGA,OAnGApD,EAAa01E,EAAuB,CAAC,CACnC31E,IAAK,SACLe,MAAO,WACL,IAAI0L,EAASjJ,KAAK8oE,MAClB9oE,KAAKy0C,UAAY,CAAC,IAAK,IAAK,KAC5Bz0C,KAAK0qE,MAAQ,IAAI,MAAQ,EAAK,EAAK,GACnC1qE,KAAK2qE,MAAQ,IAAI,MAAQ,EAAK,EAAK,GACnC3qE,KAAK4qE,MAAQ,IAAI,MAAQ,EAAK,EAAK,GACnC5qE,KAAK24D,OAAS,IAAI,MAAQ,EAAK,EAAK,GACpC34D,KAAKsyE,oBAAsBrpE,EAAOwmE,mBAClCzvE,KAAKuyE,aAAatpE,EACpB,GACC,CACDzM,IAAK,cACLe,MAAO,SAAqBi1E,GAK1B,IAJA,IACIC,EAAaD,EAAYv2E,OADd,EAEXy2E,EAAY,CAACF,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,IACzEG,EAAY,CAACH,EAAY,GAAIA,EAAY,GAAIA,EAAY,GAAIA,EAAY,IACpEx2E,EAAI,EAAGA,EAAIy2E,IAAcz2E,EAEhC,IADA,IAAIm1E,EALS,EAKHn1E,EACD49D,EAAU,EAAGA,EANT,IAM+BA,EAAS,CACnD,IAAIgZ,EAASJ,EAAYrB,EAAMvX,GAC/B8Y,EAAU9Y,GAAW53D,KAAK8M,IAAI8jE,EAAQF,EAAU9Y,IAChD+Y,EAAU/Y,GAAW53D,KAAKwY,IAAIo4D,EAAQD,EAAU/Y,GAClD,CAEF,MAAO,CACL8Y,UAAWA,EACXC,UAAWA,EAEf,GACC,CACDn2E,IAAK,iBACLe,MAAO,SAAwBi1E,EAAavpE,GAC1C,IAAIwrC,EAAYz0C,KAAKy0C,UACjBo+B,EAAe7yE,KAAK8yE,YAAYN,GAChCO,EAAcF,EAAaF,UAC3BK,EAAcH,EAAaH,UAC3BK,EAAY,GAAK,IACnB9pE,EAAO+O,aAAe+6D,EAAY,IAEpC,IAAIE,EAAchqE,EAAOiqE,SAAWF,EAAY,GAAK,IACjDG,EAASF,EACbE,EAAS,IAAOnxE,KAAK0mC,KAAK,EAAM,EAAM1mC,KAAK2C,GAAKwuE,EAASA,EAASA,GAClEF,EAAcjxE,KAAK8M,IAAImkE,EAAaE,GAEpC,IADA,IAAIn3E,EAAI,EACDA,EAAI,IAAKA,EACd+2E,EAAY/2E,IAAMi3E,EAClBD,EAAYh3E,IAAMi3E,EAEpB,IAAKj3E,EAAI,EAAGA,EAAI,IAAKA,EACnBy4C,EAAUz4C,GAAKgG,KAAK4pD,MAAMonB,EAAYh3E,GAAK+2E,EAAY/2E,IAAMiN,EAAO+O,aAEtEhY,KAAK0qE,MAAMjoE,GAAKgyC,EAAU,GAAK,GAAKxrC,EAAO+O,YAC3ChY,KAAK2qE,MAAMjoE,GAAK+xC,EAAU,GAAK,GAAKxrC,EAAO+O,YAC3ChY,KAAK4qE,MAAMl7C,GAAK+kB,EAAU,GAAK,GAAKxrC,EAAO+O,YAC3C,IAAIo7D,EAAe10E,EAAeq0E,EAAa,GAI/C,OAHA/yE,KAAK24D,OAAOl2D,EAAI2wE,EAAa,GAC7BpzE,KAAK24D,OAAOj2D,EAAI0wE,EAAa,GAC7BpzE,KAAK24D,OAAOjpC,EAAI0jD,EAAa,GACtB,CACLC,KAAMR,EACN7F,IAAKv4B,EAET,GACC,CACDj4C,IAAK,eACLe,MAAO,SAAsB+1E,EAASrqE,GACpC,IAAIsqE,EAAU,IAAIxJ,GAClBwJ,EAAQC,QAAQF,EAAQtoB,OAAQhrD,KAAK24D,OAAQ1vD,EAAO6O,SAAU,GAC9Dy7D,EAAQE,aAAa,EAAG,GACpBF,EAAQvJ,cAAgB,GAC1BuJ,EAAQG,eAAeJ,EAAQK,UAAWL,EAAQ/D,QAAS+D,EAAQ9D,cAAexvE,KAAKsyE,qBACvFtyE,KAAK88D,SAAS,IAAI,MAAgByW,EAAQ7b,SAAU,IACpD13D,KAAK0B,aAAa,WAAY,IAAI,MAAgB6xE,EAAQp6C,UAAW,IACrEn5B,KAAK0B,aAAa,SAAU,IAAI,MAAgB6xE,EAAQ3X,SAAU,IAClE57D,KAAK0B,aAAa,QAAS,IAAI,MAAgB6xE,EAAQrZ,QAAS,KAEhEl6D,KAAK0B,aAAa,WAAY,IAAI,MAAgB6N,EAAMiC,cAAci5C,aAAc,GAAI,GAE5F,GACC,CACDjuD,IAAK,eACLe,MAAO,SAAsB0L,GAC3B,IAAI2qE,EAAe,CACjB5K,OAAQhpE,KAAK+oE,QACb5N,OAAQn7D,KAAKk6D,QACb/tC,MAAOnsB,KAAK8oE,MAAM38C,OAEpB,GAAmC,IAA/BynD,EAAa5K,OAAO/sE,OAAxB,CAGA,IAAI+uC,EAAahrC,KAAK6zE,eAAeD,EAAa5K,OAAQ//D,GACtD8qC,EAAM,IAAI,MAAK/zC,KAAK24D,OAAQ,IAAI,MAAQ34D,KAAK0qE,MAAMjoE,EAAGzC,KAAK2qE,MAAMjoE,EAAG1C,KAAK4qE,MAAMl7C,GAAGmgB,IAAI7vC,KAAK24D,SAC3F2a,EAAUtzE,KAAK8zE,gBAAgBF,EAAc7/B,EAAK/I,EAAY/hC,GAClEjJ,KAAK+zE,aAAaT,EAASrqE,EAJ3B,CAKF,KAEKkpE,CACT,CA3G4B,CA2G1BvJ,IAIF,IAAIoL,GAAWznB,GAAKhD,OAChB0qB,GAAoB,SAAUC,GAChC92E,EAAU62E,EAAmBC,GAC7B,IALuB3mE,EAAeC,EAKlCC,GALmBF,EAKM0mE,EALSzmE,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQwsE,GAAuC,WAAkC,IAAsC9nE,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMza,SAAS4nE,IAEP,OADAx4E,EAAgBuE,KAAMi0E,GACfxmE,EAAO1N,MAAMC,KAAMH,UAC5B,CAyGA,OAxGApD,EAAaw3E,EAAmB,CAAC,CAC/Bz3E,IAAK,kBACLe,MAAO,SAAyBq2E,EAAc7/B,EAAK/I,EAAY/hC,GAC7DjJ,KAAKo0E,eAAeR,EAAa5K,QACjC,IAAIsK,EAAU,CACZtoB,OAAQ,IAAIgpB,GAASvpB,aAAczqD,KAAKy0C,UAAWV,GACnD4/B,UAAW,IAAIK,GAASvpB,aAAczqD,KAAKy0C,UAAWV,EAAK,IAO7D,OALgC,MAA5B/zC,KAAKsyE,sBACPgB,EAAQ/D,QAAU,GAClB+D,EAAQ9D,cAAgB,IAAIwE,GAASvpB,aAAczqD,KAAKy0C,UAAWV,IAErE/zC,KAAKq0E,aAAaf,EAASM,EAAc,KAAM3qE,GACxCqqE,CACT,GACC,CACD92E,IAAK,eACLe,MAAO,SAAsB+1E,EAASM,EAAcU,EAAWrrE,GAC7D,IAkBIymE,EAlBA/iC,EAAWinC,EAAa5K,OAAO/sE,OAAS,EACxC+sE,EAAS4K,EAAa5K,OACtB7N,EAASyY,EAAazY,OACtB1mB,EAAYz0C,KAAKy0C,UACjBy+B,EAAWjqE,EAAOiqE,SAClBn7D,EAAW9O,EAAO8O,SAClBC,EAAc/O,EAAO+O,YACrBu8D,EAAc,EAAMtrE,EAAO6O,SAC3B08D,EAAiB,EAAMx8D,EACvBy8D,EAAYhgC,EAAU,GAAK,EAC3BigC,EAAYjgC,EAAU,GAAK,EAC3BkgC,EAAYlgC,EAAU,GAAK,EAC3BuW,EAASsoB,EAAQtoB,OACjB2oB,EAAYL,EAAQK,UACpB7G,EAAU9hB,EAAO+hB,UACjBoD,EAAUnlB,EAAOmiB,aACjByH,EAAajB,EAAU5G,UACvB8H,EAAalB,EAAUxG,aAEK,MAA5BntE,KAAKsyE,sBACP5C,EAAiB4D,EAAQ9D,cAAczC,WAGzC,IADA,IAAIwC,EAAU+D,EAAQ/D,QACbvzE,EAAI,EAAGA,EAAI2wC,IAAY3wC,EAAG,CACjC,IAAIm1E,EAAU,EAAJn1E,EACN84E,EAAY9L,EAAOmI,EAAM,GAAK+B,EAC9B6B,EAAgC,OAAdT,EAAqB,EAAMA,EAAUt4E,GACvDg5E,EAAS,GAAK,EAAIF,EAAYA,GAC9BG,EAASl9D,EAAW+8D,EACpBI,EAAUD,EAASA,EACvBA,GAAUT,EACV,IAAIxJ,EAAMhC,EAAOmI,GAAOqD,EACpBW,EAAOnzE,KAAK8M,IAAIk8D,EAAMiK,EAAS,EAAG,GAClCG,EAAOpzE,KAAKwY,IAAIwwD,EAAMiK,EAAS,EAAGR,GACtCzJ,EAAMhC,EAAOmI,EAAM,GAAKqD,EACxB,IAAIhhC,EAAOxxC,KAAK8M,IAAIk8D,EAAMiK,EAAS,EAAG,GAClCxhC,EAAOzxC,KAAKwY,IAAIwwD,EAAMiK,EAAS,EAAGP,GACtC1J,EAAMhC,EAAOmI,EAAM,GAAKqD,EAIxB,IAHA,IAAIvhC,EAAOjxC,KAAK8M,IAAIk8D,EAAMiK,EAAS,EAAG,GAClC/hC,EAAOlxC,KAAKwY,IAAIwwD,EAAMiK,EAAS,EAAGN,GAClCx7D,EAAK85B,EAAOj7B,EAAcgxD,EAAOmI,EAAM,GAClCzhD,EAAIujB,EAAMvjB,GAAKwjB,IAAQxjB,EAAGvW,GAAMnB,EAEvC,IADA,IAAIkB,EAAKs6B,EAAOx7B,EAAcgxD,EAAOmI,EAAM,GAClCzuE,EAAI8wC,EAAM9wC,GAAK+wC,IAAQ/wC,EAAGwW,GAAMlB,EAAa,CACpD,IAAIq9D,EAASn8D,EAAKA,EAAKC,EAAKA,EAC5B,KAAIk8D,GAAUH,GAMd,IAHA,IAAII,EAAOtqB,EAAOkjB,aAAaiH,EAAMzyE,EAAGgtB,GACpC6lD,EAAU5B,EAAUzF,aAAaiH,EAAMzyE,EAAGgtB,GAC1CzW,EAAKk8D,EAAOn9D,EAAcgxD,EAAOmI,GAC5B1uE,EAAI0yE,EAAM1yE,GAAK2yE,IAAQ3yE,EAAGwW,GAAMjB,EAAas9D,GAAQnF,EAASoF,GAAWV,EAAY,CAC5F,IACIW,IADKv8D,EAAKA,EAAKo8D,GACAL,EACfS,EAAUzzE,KAAK0zE,IAAIF,GAAUT,EACD,MAA5B/0E,KAAKsyE,qBAA+BmD,EAAU/F,EAAe4F,KAC/D5F,EAAe4F,GAAQG,EACvBlG,EAAQ+F,GAAQ1B,EAAaznD,MAAMnwB,IAErC8wE,EAAQwI,IAASG,EACjBA,GAAWlB,EACX,IAAIoB,EAAa,EAAJ35E,EACb44E,EAAWW,IAAYE,EAAUta,EAAOwa,GACxCf,EAAWW,EAAU,IAAME,EAAUta,EAAOwa,EAAS,GACrDf,EAAWW,EAAU,IAAME,EAAUta,EAAOwa,EAAS,EACvD,CACF,CAEJ,CACF,GACC,CACDn5E,IAAK,iBACLe,MAAO,SAAwBi1E,GAM7B,IALA,IAAIoD,EAAU51E,KAAK24D,OAAOl2D,EACtBozE,EAAU71E,KAAK24D,OAAOj2D,EACtBozE,EAAU91E,KAAK24D,OAAOjpC,EAEtB+iD,EAAaD,EAAYv2E,OADd,EAEND,EAAI,EAAGA,EAAIy2E,IAAcz2E,EAAG,CACnC,IAAIm1E,EAHS,EAGHn1E,EACVw2E,EAAYrB,IAAQyE,EACpBpD,EAAYrB,EAAM,IAAM0E,EACxBrD,EAAYrB,EAAM,IAAM2E,CAC1B,CACF,KAEK7B,CACT,CAhHwB,CAgHtB9B,IAEF,SAAS4D,GAAO/M,EAAQxuD,EAAK1L,EAAKknE,GAChC,IACIlnC,EAASk6B,EAAO/sE,OADL,EAEXg6E,EAAOz7D,EAAI,GACX07D,EAAO17D,EAAI,GACX27D,EAAO37D,EAAI,GACX47D,EAAOtnE,EAAI,GACXunE,EAAOvnE,EAAI,GACXwnE,EAAOxnE,EAAI,GACf,SAASynE,EAASxmB,EAAGymB,GACnB,OAAOx0E,KAAKoyC,OAAO2b,EAAIymB,GAAQR,EACjC,CACA,IASIh6E,EACAy6E,EALyBh0E,EAAGC,EAAGgtB,EAL/BgnD,EAAOH,EAASH,EAAMH,GAAQ,EAC9BU,EAAOJ,EAASF,EAAMH,GAAQ,EAC9BU,EAAOL,EAASD,EAAMH,GAAQ,EAC9BU,EAASH,EAAOC,EAAOC,EACvBE,EAAQH,EAAOC,EAIfG,EAAU,GAGd,IAAK/6E,EAAI,EAAGA,EAAI8yC,EAAQ9yC,IAAK,CAC3B,IAAIg7E,EAvBS,EAuBSh7E,EAPKyG,EAQdumE,EAAOgO,GARUt0E,EAQHsmE,EAAOgO,EAAO,GARRtnD,EAQYs5C,EAAOgO,EAAO,QACtC/yE,IAAjB8yE,EADJN,GAPQF,EAAS9zE,EAAGwzE,GAAQU,EAAOJ,EAAS7zE,EAAGwzE,IAASU,EAAOL,EAAS7mD,EAAGymD,IASzEY,EAAQN,GAAO,CAACz6E,GAEhB+6E,EAAQN,GAAKp3E,KAAKrD,EAEtB,CACA,IAKIyY,EALAwiE,EAAc1nE,EAAMiC,cAAcmrD,YAAaka,GAC/CK,EAAc3nE,EAAMiC,cAAcorD,YAAaia,GAC/C3hE,EAAO3F,EAAMiC,cAAcmrD,YAAa7tB,GACxCjP,EAAS,EACTs3C,EAAgB,EAEpB,IAAKn7E,EAAI,EAAGA,EAAI66E,EAAQ76E,IAAK,CAC3B,IAAI2Z,EAAQshE,EAAYj7E,GAAK6jC,EACzBu3C,EAAWL,EAAQ/6E,GACvB,QAAiBiI,IAAbmzE,EACF,IAAK3iE,EAAI,EAAGA,EAAI2iE,EAASn7E,OAAQwY,IAC/BS,EAAK2qB,GAAUu3C,EAAS3iE,GACxBorB,IAGJ,IAAIw3C,EAAax3C,EAASlqB,EAC1BuhE,EAAYl7E,GAAKq7E,EACbA,EAAaF,IACfA,EAAgBE,EAEpB,CACAr3E,KAAKs3E,oBAAsB,GAAKH,EAAgB,EAChDn3E,KAAKu3E,YAAc,SAAU90E,EAAGC,EAAGgtB,EAAG8nD,EAAQC,GAC5C,IAAIC,EAAS,EACTC,EAAQpB,EAAS9zE,EAAGwzE,GACpB2B,EAAQrB,EAAS7zE,EAAGwzE,GACpB2B,EAAQtB,EAAS7mD,EAAGymD,GACpB2B,EAAM91E,KAAK8M,IAAI,EAAG6oE,EAAQ,GAC1BI,EAAM/1E,KAAK8M,IAAI,EAAG8oE,EAAQ,GAC1BI,EAAMh2E,KAAK8M,IAAI,EAAG+oE,EAAQ,GAC1BI,EAAMj2E,KAAKwY,IAAIk8D,EAAO,EAAGiB,EAAQ,GACjCO,EAAMl2E,KAAKwY,IAAIm8D,EAAO,EAAGiB,EAAQ,GACjCO,EAAMn2E,KAAKwY,IAAIo8D,EAAO,EAAGiB,EAAQ,GACrC,IAAK77E,EAAI87E,EAAK97E,GAAKi8E,IAAOj8E,EAAG,CAC3B,IAAIo8E,EAAUp8E,EAAI86E,EAClB,IAAKriE,EAAIsjE,EAAKtjE,GAAKyjE,IAAOzjE,EAExB,IADA,IAAI4jE,EAAU5jE,EAAImiE,EACT38C,EAAI+9C,EAAK/9C,GAAKk+C,IAAOl+C,EAI5B,IAFA,IAAIq+C,EAAYrB,EADhBR,EAAM2B,EAAUC,EAAUp+C,GAEtBs+C,EAAUD,EAAYpB,EAAYT,GAC7B+B,EAAYF,EAAWE,EAAYD,EAASC,IAAa,CAChE,IACIC,EA1EC,EAyEWvjE,EAAKsjE,GAEjBv/D,EAAK+vD,EAAOyP,GAAah2E,EACzByW,EAAK8vD,EAAOyP,EAAY,GAAK/1E,EAC7ByW,EAAK6vD,EAAOyP,EAAY,GAAK/oD,EAC7BgpD,EAAO1P,EAAOyP,EAAY,GAAKjB,EAC/Bv+D,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,GAAMu/D,EAAOA,IACxCjB,EAAIC,KAAYxiE,EAAKsjE,GAEzB,CAGN,CACAf,EAAIC,IAAW,CACjB,CACF,CACA,SAASiB,GAAe/E,EAAc5oC,EAAY/hC,EAAQ2vE,GACxD,IAQIniC,EACAoiC,EACAphE,EACAqhE,EACA5gE,EAEA80D,EACA3B,EACA0N,EACAC,EAIAC,EACAC,EACAC,EACAC,EACAC,EACA17C,EACA27C,EAIAC,EA/BA/kE,EAAW,EACXw0D,EAAS4K,EAAa5K,OACtB7N,EAASyY,EAAazY,OACtBhvC,EAAQynD,EAAaznD,MACrB2iB,EAASk6B,EAAO/sE,OAASuY,EACzB6+D,EAAOroC,EAAWqoC,KAClB74D,EAAM64D,EAAKV,UACX7jE,EAAMukE,EAAKX,UAMX8G,GAAY,EAKZC,EAAa,KACblK,EAAU,KACVE,EAAqB,KAQrBiK,EAAM,IAAI,MAAQ,EAAK,EAAK,GAC5BxoC,EAAK,IAAI,MAAQ,EAAK,EAAK,GAC3BC,EAAK,IAAI,MAAQ,EAAK,EAAK,GAS/B,SAASwoC,EAAY9xE,EAAG8N,EAAOmkC,GAC7B,IAAK,IAAI8/B,EAAO,EAAGA,EAAO/xE,EAAE5L,OAAQ29E,IAClC/xE,EAAE+xE,GAAQjkE,EAAQmkC,EAAO8/B,CAE7B,CAmCA,SAASrkD,IACP9d,EAAcxO,EAAOwO,YACrBqhE,EAAc7vE,EAAO6vE,YACrB5gE,EAAiBjP,EAAOiP,eACxBu3D,EAAqBxmE,EAAOwmE,mBAC5Bh5B,EAAKlnC,EAAMiC,cAAci5C,aAAc3b,GACvC+pC,EAAY,EACZ,IAAK,IAAIe,EAAO,EAAGA,EAAO9qC,IAAU8qC,EAAM,CACxC,IAAIC,EAAO7Q,EAAO4Q,EAAOplE,EAAW,IAAMiD,EACtCoiE,EAAOhB,IACTA,EAAYgB,GAEdpjC,EAAGmjC,GAAQC,EAAOA,CACpB,EA/CF,WACEf,EAAc7vE,EAAO6vE,YACrB9L,EAAMhiC,EAAWgiC,IACjBuM,EAAUv3E,KAAKwY,IAAI,EAAG,EAAIxY,KAAKoyC,MAAM38B,EAAcqhE,IACnD,IAAIgB,EAAW9M,EAAI,GAAKA,EAAI,GAAKA,EAAI,GACrC3B,EAjBF,SAAsB0O,EAAU37E,EAAGyJ,GAEjC,IADA,IAAIkK,EAAQxC,EAAMiC,cAAcuoE,EAAU37E,GACjCw7E,EAAO,EAAGA,EAAOx7E,IAAKw7E,EAC7B7nE,EAAM6nE,IAcoC,KAZ5C,OAAO7nE,CACT,CAWSioE,CAAavvB,aAAcqvB,GAClCf,EAASxpE,EAAMiC,cAAci5C,aAAyB,EAAXqvB,GAC3Cd,EAAUzpE,EAAMiC,cAAci5C,aAAcqvB,GACxCrK,IACFgK,EAAalqE,EAAMiC,cAAci5C,aAAcqvB,GAC/CvK,EAAU,IAEZ0J,EAAQ1pE,EAAMiC,cAAci5C,aAAcuiB,EAAI,IAC9CkM,EAAQ3pE,EAAMiC,cAAci5C,aAAcuiB,EAAI,IAC9CmM,EAAQ5pE,EAAMiC,cAAci5C,aAAcuiB,EAAI,IAC9C2M,EAAYV,EAAOz+D,EAAI,GAAI,EAAIs+D,GAC/Ba,EAAYT,EAAO1+D,EAAI,GAAI,EAAIs+D,GAC/Ba,EAAYR,EAAO3+D,EAAI,GAAI,EAAIs+D,EACjC,EA8BEmB,GA7BF,WACE,IAAIjoC,EAAQ,EACR8H,EAAO,EAAI93C,KAAK2C,GAAKuT,EACzBmhE,EAAW9pE,EAAMiC,cAAci5C,aAAcvyC,GAC7CkhE,EAAW7pE,EAAMiC,cAAci5C,aAAcvyC,GAC7C,IAAK,IAAI0hE,EAAO,EAAGA,EAAO1hE,EAAgB0hE,IACxCP,EAASO,GAAQ53E,KAAK6C,IAAImtC,GAC1BonC,EAASQ,GAAQ53E,KAAK4C,IAAIotC,GAC1BA,GAAS8H,CAEb,CAoBEogC,GAlBAv8C,EAAO,IAAIo4C,GAAO/M,EAAQxuD,EAAK1L,EAAK,KAAO+pE,GAC3CS,EAAa,IAAIhuC,WAAW3N,EAAK25C,qBAmBjCkC,GAAY,CACd,CACA,SAASW,EAAmBz4B,EAAI04B,EAAMC,EAAMC,GAC1C,IAAIC,EAAQ/lE,EAAWktC,EACnB84B,EAAM/jC,EAAGiL,GACTzoC,EAAK+vD,EAAOuR,GAASH,EACrBlhE,EAAK8vD,EAAOuR,EAAQ,GAAKF,EACzBlhE,EAAK6vD,EAAOuR,EAAQ,GAAKD,EAE7B,OADSrhE,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EACtBqhE,CACd,CACA,SAASC,EAASL,EAAMC,EAAMC,EAAMzyE,EAAGo2C,GACrC,IAAIyD,EACJ,IAAkB,IAAd83B,EAAiB,CAEnB,IADA93B,EAAK83B,KACM3xE,GAAK65C,IAAOzD,GAAKk8B,EAAmBz4B,EAAI04B,EAAMC,EAAMC,GAC7D,OAAO54B,EAET83B,GAAY,CACd,CACA,IAAIkB,EAAK,EAET,IADAh5B,EAAK43B,EAAWoB,GACTh5B,GAAM,GAAG,CACd,GAAIA,IAAO75C,GAAK65C,IAAOzD,GAAKk8B,EAAmBz4B,EAAI04B,EAAMC,EAAMC,GAE7D,OADAd,EAAW93B,EACJA,EAETA,EAAK43B,IAAaoB,EACpB,CAEA,OADAlB,GAAY,GACJ,CACV,CAmFA,SAASmB,EAAa9yE,EAAGo2C,GACvB,IAAI28B,EAAOpmE,EAAW3M,EAClBgzE,EAAOrmE,EAAWypC,EAClB68B,EAAK9R,EAAO4R,GACZG,EAAK/R,EAAO4R,EAAO,GACnBI,EAAKhS,EAAO4R,EAAO,GACnBK,EAAKjS,EAAO4R,EAAO,GACnB3hE,EAAKygE,EAAIj3E,EAAIumE,EAAO6R,GAAQC,EAC5B5hE,EAAKwgE,EAAIh3E,EAAIsmE,EAAO6R,EAAO,GAAKE,EAChC5hE,EAAKugE,EAAIhqD,EAAIs5C,EAAO6R,EAAO,GAAKG,EAChCE,EAAQlS,EAAO6R,EAAO,GACtBrkC,EAAKv9B,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EAC9BqoC,EAAIx/C,KAAK0mC,KAAK8N,GAEd2kC,EAAMF,IADEA,EAAKA,EAAKz5B,EAAIA,EAAI05B,EAAQA,IAAU,EAAMD,EAAKz5B,IAE3Dk4B,EAAIhuD,YA1BN,SAAsB+rD,EAAKx6E,GACzBw6E,EAAIh1E,EAAIg1E,EAAI/0E,EAAI+0E,EAAI/nD,EAAI,EACZ,IAARzyB,EAAEwF,EACJg1E,EAAIh1E,GAAKxF,EAAEyF,EAAIzF,EAAEyyB,IAAMzyB,EAAEwF,EACR,IAARxF,EAAEyF,EACX+0E,EAAI/0E,GAAKzF,EAAEwF,EAAIxF,EAAEyyB,IAAMzyB,EAAEyF,EACR,IAARzF,EAAEyyB,IACX+nD,EAAI/nD,GAAKzyB,EAAEwF,EAAIxF,EAAEyF,IAAMzF,EAAEyyB,EAG7B,CAiBE0rD,CAAalqC,EAAIwoC,GACjBxoC,EAAGxlB,YACHylB,EAAG3lB,aAAakuD,EAAKxoC,GACrBC,EAAGzlB,YACH,IAAI2vD,EAAOr5E,KAAK0mC,KAAKuyC,EAAKA,EAAKE,EAAMA,GACrCjqC,EAAGjmB,eAAeowD,GAClBlqC,EAAGlmB,eAAeowD,GAClB3B,EAAIzuD,eAAekwD,GACnBzB,EAAIj3E,GAAKq4E,EACTpB,EAAIh3E,GAAKq4E,EACTrB,EAAIhqD,GAAKsrD,EACTxB,GAAY,EAEZ,IADA,IAAI8B,EAAK/B,EACAK,EAAO,EAAGA,EAAO1hE,EAAgB0hE,IAAQ,CAChD,IAAI2B,EAAOlC,EAASO,GAChB4B,EAAOpC,EAASQ,GAChB6B,EAAK/B,EAAIj3E,EAAI84E,EAAOrqC,EAAGzuC,EAAI+4E,EAAOrqC,EAAG1uC,EACrCi5E,EAAKhC,EAAIh3E,EAAI64E,EAAOrqC,EAAGxuC,EAAI84E,EAAOrqC,EAAGzuC,EACrCi5E,EAAKjC,EAAIhqD,EAAI6rD,EAAOrqC,EAAGxhB,EAAI8rD,EAAOrqC,EAAGzhB,EACzC,IAAoC,IAAhC+qD,EAASgB,EAAIC,EAAIC,EAAI9zE,EAAGo2C,GAU1B,IATA,IAAI29B,EAAM55E,KAAKoyC,MAAM0kC,GAAe2C,EAAKjhE,EAAI,KACzCqhE,EAAM75E,KAAKoyC,MAAM0kC,GAAe4C,EAAKlhE,EAAI,KACzCshE,EAAM95E,KAAKoyC,MAAM0kC,GAAe6C,EAAKnhE,EAAI,KACzCuhE,EAAO/5E,KAAK8M,IAAI,EAAG8sE,EAAMN,GACzBU,EAAOh6E,KAAK8M,IAAI,EAAG+sE,EAAMP,GACzBW,EAAOj6E,KAAK8M,IAAI,EAAGgtE,EAAMR,GACzBY,EAAOl6E,KAAKwY,IAAIwyD,EAAI,GAAI4O,EAAMN,EAAK,GACnCa,EAAOn6E,KAAKwY,IAAIwyD,EAAI,GAAI6O,EAAMP,EAAK,GACnCc,EAAOp6E,KAAKwY,IAAIwyD,EAAI,GAAI8O,EAAMR,EAAK,GAC9Be,EAAKJ,EAAMI,EAAKD,EAAMC,IAAM,CACnCljE,EAAKwiE,EAAKxC,EAAMkD,GAEhB,IADA,IAAIjmB,EAAU4W,EAAI,GAAKA,EAAI,GAAKqP,EACvBC,EAAKN,EAAMM,EAAKH,EAAMG,IAI7B,IAFA,IAAIC,EAAOpjE,EAAKA,GADhBD,EAAKwiE,EAAKxC,EAAMoD,IACUpjE,EACtBsjE,GAAWpmB,EAAU4W,EAAI,GAAKsP,EACzBG,GAAKV,EAAMU,GAAKP,EAAMO,KAAM,CAEnCjmC,EAAK+lC,GADLtjE,EAAKwiE,EAAKxC,EAAMwD,KACCxjE,EACjB,IAAI7U,GAAMq4E,GAAKD,GACXE,GAAUrR,EAAKjnE,IACfs4E,GAAU,GAAOlmC,EAAKkmC,GAAUA,KAClCrR,EAAKjnE,IAAOpC,KAAK0mC,KAAK8N,GAE1B,CAEJ,CAEJ,CACF,CA0CAx2C,KAAK8lD,MAAQ,WAbX17C,QAAQ1D,KAAK,4BACb0D,QAAQ1D,KAAK,uBACb6uB,IACAnrB,QAAQuyE,QAAQ,uBAChBvyE,QAAQ1D,KAAK,gCApLf,WAIE,IAHA,IAGSkzE,EAAO,EAAGA,EAAO9qC,EAAQ8qC,IAAQ,CACxC,IAAIW,EAAQ/lE,EAAWolE,EACnBgD,EAAK5T,EAAOuR,GACZsC,EAAK7T,EAAOuR,EAAQ,GACpBuC,EAAK9T,EAAOuR,EAAQ,GACpB/2D,EAAKwlD,EAAOuR,EAAQ,GACpBwC,EAAMtmC,EAAGmjC,GACbj8C,EAAK45C,YAAYqF,EAAIC,EAAIC,EAAIt5D,EAAI81D,GAejC,IAdA,IAAIgC,EAAKt5E,KAAK4pD,KAAKpoC,EAAKs1D,GACpB8C,EAAM55E,KAAKoyC,MAAM0kC,GAAe8D,EAAKpiE,EAAI,KACzCqhE,EAAM75E,KAAKoyC,MAAM0kC,GAAe+D,EAAKriE,EAAI,KACzCshE,EAAM95E,KAAKoyC,MAAM0kC,GAAegE,EAAKtiE,EAAI,KACzCuhE,EAAO/5E,KAAK8M,IAAI,EAAG8sE,EAAMN,GACzBU,EAAOh6E,KAAK8M,IAAI,EAAG+sE,EAAMP,GACzBW,EAAOj6E,KAAK8M,IAAI,EAAGgtE,EAAMR,GACzBY,EAAOl6E,KAAKwY,IAAIwyD,EAAI,GAAI4O,EAAMN,EAAK,GACnCa,EAAOn6E,KAAKwY,IAAIwyD,EAAI,GAAI6O,EAAMP,EAAK,GACnCc,EAAOp6E,KAAKwY,IAAIwyD,EAAI,GAAI8O,EAAMR,EAAK,GACnC0B,EAAgB,EAAPpD,EACTqD,EAAK9hB,EAAO6hB,GACZE,EAAK/hB,EAAO6hB,EAAS,GACrBG,EAAKhiB,EAAO6hB,EAAS,GAChBX,EAAKJ,EAAMI,EAAKD,EAAMC,IAG7B,IAFA,IAAIljE,EAAKggE,EAAMkD,GAAMS,EACjB1mB,EAAU4W,EAAI,GAAKA,EAAI,GAAKqP,EACvBC,EAAKN,EAAMM,EAAKH,EAAMG,IAI7B,IAHA,IAAIpjE,EAAKggE,EAAMoD,GAAMO,EACjBN,EAAOpjE,EAAKA,EAAKD,EAAKA,EACtBsjE,EAAWpmB,EAAU4W,EAAI,GAAKsP,EACzBG,EAAKV,EAAMU,EAAKP,EAAMO,IAAM,CACnC,IAAIr4E,EAAMq4E,EAAKD,EACXvjE,EAAKggE,EAAMwD,GAAMG,EACjBpmC,EAAK+lC,EAAOtjE,EAAKA,EACrB,GAAIu9B,EAAKumC,EAAK,CACZ,IAAIhtB,EAAI/tD,KAAK0zE,IAnCP,QAmCYl/B,GACd4mC,GAAa,EAANh5E,EACX20E,EAAOqE,KAASH,EAAKltB,EACrBgpB,EAAOqE,GAAO,IAAMF,EAAKntB,EACzBgpB,EAAOqE,GAAO,IAAMD,EAAKptB,EACzBipB,EAAQ50E,IAAQ2rD,EACW,OAAvB0f,GAA+B1f,EAAI0pB,EAAWr1E,KAChDq1E,EAAWr1E,GAAO2rD,EAClBwf,EAAQnrE,GAAO+nB,EAAMytD,IAEnBvO,EAAKjnE,GAAO,IACdinE,EAAKjnE,IAAQinE,EAAKjnE,IAEpB,IAAIo9C,GAAIx/C,KAAK0mC,KAAK8N,GACd6mC,GAAK75D,EAAKg+B,GACV87B,GAAMrkE,EAAKokE,GACXE,GAAMrkE,EAAKmkE,GACXG,GAAMrkE,EAAKkkE,GAIf,IAA2C,IAAvC5C,EAHJ6C,IAAOV,EACPW,IAAOV,EACPW,IAAOV,EACqBlD,GAAO,GAAW,CAC5C,IAAI6D,GAAKj6D,EAAKg+B,GACVi8B,GAAKpS,EAAKjnE,KACZinE,EAAKjnE,GAAOq5E,GAEhB,CACF,CACF,CAGN,CACF,CA+GEC,GACAtzE,QAAQuyE,QAAQ,gCAChBvyE,QAAQ1D,KAAK,+BAnCf,WACE,IAAK,IAAIkzE,EAAO,EAAGA,EAAO9qC,EAAQ8qC,IAAQ,CACxC,IAAI+D,EAASnpE,EAAWolE,EACxBj8C,EAAK45C,YAAYvO,EAAO2U,GAAS3U,EAAO2U,EAAS,GAAI3U,EAAO2U,EAAS,GAAI3U,EAAO2U,EAAS,GAAIrE,GAG7F,IAFA,IAAI3tC,EAAK,EACL+uC,EAAKpB,EAAW3tC,GACb+uC,GAAM,GACPd,EAAOc,GACTC,EAAaf,EAAMc,GAErBA,EAAKpB,IAAa3tC,EAEtB,CACF,CAuBEiyC,GACAxzE,QAAQuyE,QAAQ,+BAvBlB,WACE,IAAK,IAAI/C,EAAO,EAAGx7E,EAAIitE,EAAKpvE,OAAQ29E,EAAOx7E,EAAGw7E,IAAQ,CAChDvO,EAAKuO,GAAQ,IAAGvO,EAAKuO,GAAQ,GACjC,IAAI7pB,EAAIipB,EAAQY,GAChB,GAAI7pB,EAAI,EAAG,CACTA,EAAI,EAAIA,EACR,IAAI8tB,EAAiB,EAAPjE,EACdb,EAAO8E,IAAY9tB,EACnBgpB,EAAO8E,EAAU,IAAM9tB,EACvBgpB,EAAO8E,EAAU,IAAM9tB,CACzB,CACF,CACF,CAYE+tB,GACA1zE,QAAQuyE,QAAQ,4BAIhB38E,KAAK2zE,UAAYoF,EACjB/4E,KAAKy5E,WAAaA,EAClBz5E,KAAKuvE,QAAUA,EACfvvE,KAAKgrD,OAASqgB,CAChB,CACF,CAIA,IAAI9hB,GAASgD,GAAKhD,OACdw0B,GAAyB,SAAU7J,GACrC92E,EAAU2gF,EAAwB7J,GAClC,IALuB3mE,EAAeC,EAKlCC,GALmBF,EAKMwwE,EALSvwE,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQq2E,GAAuC,WAAkC,IAAsC3xE,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMza,SAAS0xE,IAEP,OADAtiF,EAAgBuE,KAAM+9E,GACftwE,EAAO1N,MAAMC,KAAMH,UAC5B,CAeA,OAdApD,EAAashF,EAAwB,CAAC,CACpCvhF,IAAK,kBACLe,MAAO,SAAyBq2E,EAAc7/B,EAAK/I,EAAY/hC,GAC7D,IAAIg1E,EAAiB,IAAItF,GAAe/E,EAAc5oC,EAAY/hC,GAQlE,OAPAg1E,EAAen4B,QACD,CACZkF,OAAQ,IAAIzB,GAAOkB,aAAczqD,KAAKy0C,UAAWV,EAAK,EAAGkqC,EAAejzB,QACxE2oB,UAAW,IAAIpqB,GAAOkB,aAAczqD,KAAKy0C,UAAWV,EAAK,EAAGkqC,EAAetK,WAC3EpE,QAAS0O,EAAe1O,QACxBC,cAAe,IAAIjmB,GAAOkB,aAAczqD,KAAKy0C,UAAWV,EAAK,EAAGkqC,EAAexE,YAGnF,KAEKsE,CACT,CAtB6B,CAsB3B5L,IAEE+L,GAAwBzhF,GAAa,SAASyhF,EAAsB9nC,EAAS+nC,GAC/E1iF,EAAgBuE,KAAMk+E,GACtBl+E,KAAKo+E,MAAQ,IAAI,MACjBp+E,KAAKo+E,MAAM/sE,KAAK+kC,GAChBp2C,KAAKI,OAAS+9E,EACdn+E,KAAKq+E,OAAS,OACdr+E,KAAKs+E,OAAS,EACdt+E,KAAKu+E,OAAS,EACdv+E,KAAKw+E,SAAW,EAChBx+E,KAAKy+E,QAAU,IACjB,IAEIC,GAAyB,WAC3B,SAASA,EAAuB/xC,EAAUxgB,EAAOwyD,EAASC,EAASnnE,GACjEhc,EAAgBuE,KAAM0+E,GACtB1+E,KAAK6+E,UAAYlyC,EACjB3sC,KAAK4sB,OAAST,EACdnsB,KAAKusC,SAAW,IAAI,MACpBvsC,KAAKwsC,SAAW,IAAI,MACpBxsC,KAAKusC,SAASl7B,KAAKstE,GACnB3+E,KAAKwsC,SAASn7B,KAAKutE,GACnB5+E,KAAK8+E,aAAernE,EACpBzX,KAAK++E,WAAa,KAClB/+E,KAAKg/E,WAAa,IACpB,CAoPA,OAnPAviF,EAAaiiF,EAAwB,CAAC,CACpCliF,IAAK,eACLe,MAAO,WACL,IAAI0hF,EACA9qB,EAEAxnB,EAA4B,EAAjB3sC,KAAK6+E,UAChB1yD,EAAQnsB,KAAK4sB,OACb3T,EAAKjZ,KAAKwsC,SAAS/pC,EAAIzC,KAAKusC,SAAS9pC,EACrCyW,EAAKlZ,KAAKwsC,SAAS9pC,EAAI1C,KAAKusC,SAAS7pC,EACrCyW,EAAKnZ,KAAKwsC,SAAS9c,EAAI1vB,KAAKusC,SAAS7c,EACrCqgC,EAAI92C,EAAKC,EAAKD,EAAKC,EACvB62C,EAAI52C,EAAK42C,EAAI52C,EAAK42C,EAClB,IAEI/zD,EAFA+yC,EAAS,EACTmwC,EAAS,EAEb,IAAKljF,EAAI,EAAGA,EAAI2wC,EAAU3wC,IAExB+yC,GADAolB,EAA8C,GAAvChoC,EAAMnwB,GAAGoE,OAASJ,KAAK8+E,eACf/vC,EAASolB,EAAMplB,EAC9BmwC,GAAU/qB,EAEZ,IAAIgrB,EAAWn9E,KAAKoyC,MAAM2b,EAAIhhB,GAC1BowC,EAAW,IACbA,EAAW,GAEbD,GAAUvyC,EACV3sC,KAAKo/E,UAAYD,EACjBn/E,KAAKq/E,QAAUH,EACfl/E,KAAKosC,QAAU2C,EACf,IAAIuwC,EAAOH,EACPI,EAAQJ,EAAWA,EACnBK,EAAQL,EAAWA,EAAWA,EAC9BM,EAASz/E,KAAK0/E,QAAU,GAAO1/E,KAAKwsC,SAAS/pC,EAAIzC,KAAKusC,SAAS9pC,GAC/Dk9E,EAAS3/E,KAAK4/E,QAAU,GAAO5/E,KAAKwsC,SAAS9pC,EAAI1C,KAAKusC,SAAS7pC,GAC/Dm9E,EAAS7/E,KAAK8/E,QAAU,GAAO9/E,KAAKwsC,SAAS9c,EAAI1vB,KAAKusC,SAAS7c,GAC/DqwD,EAAe,EACfC,EAAcP,EAASN,EACvBc,EAAcN,EAASR,EACvBe,EAAcL,EAASV,EAC3B,IAAKnjF,EAAI,EAAGA,EAAI2wC,EAAU3wC,IAAK,CAC7B,IACImkF,EApCqB,KAmCRh0D,EAAMnwB,GAAGoE,OAASJ,KAAK8+E,cACZ,EACxBsB,EAAUp+E,KAAKoyC,MAAM4rC,EAAcG,EAAY,IAC/CE,EAAUr+E,KAAKoyC,MAAM6rC,EAAcE,EAAY,IAC/CG,EAAUt+E,KAAKoyC,MAAM8rC,EAAcC,EAAY,IAInDJ,KAHAK,IACAC,IACAC,CAEF,CACAtgF,KAAKg/E,WAAazvE,EAAMiC,cAAc85B,WAAYk0C,GAClD,IAAI7vC,EAAY,GAEhB,GADAA,EAAU1zC,OAAS8jF,EACK,OAApB//E,KAAKg/E,YAAqC,OAAdrvC,EAC9B,OAAO,EAET,IAAK3zC,EAAI,EAAGA,EAAIwjF,EAAOxjF,IACrBgE,KAAKg/E,WAAWhjF,IAAM,EAGxB,IADAijF,EAAe,EACVjjF,EAAI,EAAGA,EAAI2wC,EAAU3wC,IAAK,CAC7Bm4D,EAxDyB,KAwDlBhoC,EAAMnwB,GAAGoE,OAASJ,KAAK8+E,cAC9B,IAAIyB,EAAUv+E,KAAKoyC,OAAOjoB,EAAMnwB,GAAGoiF,MAAM37E,EAAIzC,KAAKusC,SAAS9pC,EAAI0xD,GAAOgrB,EAAWM,GAC7Ee,EAAUx+E,KAAKoyC,OAAOjoB,EAAMnwB,GAAGoiF,MAAM17E,EAAI1C,KAAKusC,SAAS7pC,EAAIyxD,GAAOgrB,EAAWQ,GAC7Ec,EAAUz+E,KAAKoyC,OAAOjoB,EAAMnwB,GAAGoiF,MAAM1uD,EAAI1vB,KAAKusC,SAAS7c,EAAIykC,GAAOgrB,EAAWU,GAC7Ea,EAAU1+E,KAAKoyC,OAAOjoB,EAAMnwB,GAAGoiF,MAAM37E,EAAIzC,KAAKusC,SAAS9pC,EAAI0xD,GAAOgrB,EAAWM,GAC7EkB,EAAU3+E,KAAKoyC,OAAOjoB,EAAMnwB,GAAGoiF,MAAM17E,EAAI1C,KAAKusC,SAAS7pC,EAAIyxD,GAAOgrB,EAAWQ,GAC7EiB,EAAU5+E,KAAKoyC,OAAOjoB,EAAMnwB,GAAGoiF,MAAM1uD,EAAI1vB,KAAKusC,SAAS7c,EAAIykC,GAAOgrB,EAAWU,GACjFU,EAAUA,GAAW,EAAIA,EAAU,EACnCC,EAAUA,GAAW,EAAIA,EAAU,EAEnCE,EAAUA,EAAUvB,EAAWuB,EAAUvB,EAAW,EACpDwB,EAAUA,EAAUxB,EAAWwB,EAAUxB,EAAW,EACpDyB,EAAUA,EAAUzB,EAAWyB,EAAUzB,EAAW,EACpD,IAAK,IAAIzvD,EAJT+wD,EAAUA,GAAW,EAAIA,EAAU,EAIb/wD,GAAKkxD,EAASlxD,IAClC,IAAK,IAAIhtB,EAAI89E,EAAS99E,GAAKi+E,EAASj+E,IAClC,IAAK,IAAID,EAAI89E,EAAS99E,GAAKi+E,EAASj+E,IAAK,CACvC,IAAIo+E,EAAWp+E,EAAIC,EAAI48E,EAAO5vD,EAAI6vD,EAClC,GAAIv/E,KAAKg/E,WAAW6B,GAAY,EAC9BlxC,EAAyB,EAAfsvC,EAAmB,GAAKjjF,EAClC2zC,EAAyB,EAAfsvC,EAAmB,IAAK,EAClCj/E,KAAKg/E,WAAW6B,GAAY5B,EAC5BA,QAJF,CAOA,IAAI6B,EAAY9gF,KAAKg/E,WAAW6B,GAChC7gF,KAAKg/E,WAAW6B,GAAY5B,EAC5BtvC,EAAyB,EAAfsvC,EAAmB,GAAKjjF,EAClC2zC,EAAyB,EAAfsvC,EAAmB,GAAK6B,EAClC7B,GALA,CAMF,CAGN,CAEA,OADAj/E,KAAK++E,WAAazzC,WAAW9sC,KAAKmxC,GAC3B,CACT,GACC,CACDnzC,IAAK,gBACLe,MAAO,WACLyC,KAAK++E,WAAa,KAClB/+E,KAAKg/E,WAAa,KAClBh/E,KAAK4sB,OAAS,KACd5sB,KAAK+gF,UAAY,KACjB/gF,KAAKusC,SAAW,KAChBvsC,KAAKwsC,SAAW,IAClB,GACC,CACDhwC,IAAK,qBACLe,MAAO,SAA4Bu3C,EAAO5tB,GAMxC,IALA,IAAI85D,EAAOh/E,KAAKoyC,OAAOU,EAAMryC,EAAIzC,KAAKusC,SAAS9pC,GAAKzC,KAAKo/E,UAAYp/E,KAAK0/E,SACtEuB,EAAOj/E,KAAKoyC,OAAOU,EAAMpyC,EAAI1C,KAAKusC,SAAS7pC,GAAK1C,KAAKo/E,UAAYp/E,KAAK4/E,SACtEsB,EAAOl/E,KAAKoyC,OAAOU,EAAMplB,EAAI1vB,KAAKusC,SAAS7c,GAAK1vB,KAAKo/E,UAAYp/E,KAAK8/E,SACtEe,EAAWG,EAAOC,EAAOjhF,KAAKo/E,UAAY8B,EAAOlhF,KAAKo/E,UAAYp/E,KAAKo/E,UACvEjzD,EAAQnsB,KAAK4sB,OACRu0D,EAAMnhF,KAAKg/E,WAAW6B,GAAWM,GAAO,EAAGA,EAAMnhF,KAAK++E,WAAiB,EAANoC,EAAU,GAElFj6D,EAAQiF,EADQnsB,KAAK++E,WAAiB,EAANoC,IAGpC,GACC,CACD3kF,IAAK,iBACLe,MAAO,SAAwBu3C,GAC7B,IAAIssC,EAAU,KACVC,EAAWzgE,OAAO0gE,UAQtB,OAPAthF,KAAKuhF,mBAAmBzsC,GAAO,SAAUz+B,GACvC,IAAIw3B,EAAQiH,EAAMrM,kBAAkBpyB,EAAK+nE,OACrCvwC,EAAQwzC,IACVA,EAAWxzC,EACXuzC,EAAU/qE,EAEd,IACO+qE,CACT,GACC,CACD5kF,IAAK,eACLe,MAAO,SAAsBikF,EAAa7S,EAAUzR,GAoClD,IAnCA,IAKIrvB,EALAhxC,EAAOmD,KACPyhF,EAAgB,EAChBnhB,EAAK,EACLC,EAAK,EACLC,EAAK,EAELkhB,EAAW,EACXC,EAAW,EACXC,EAAW,EACXC,EAAO,EACP9xB,EAAI,EAGJ+xB,EAFM,IAES9hF,KAAKq/E,QACpB0C,EAAgBD,EAAeA,EAC/BE,EAHM,IAGMhiF,KAAKq/E,QACjB4C,EAAgB,SAAuB5rE,GACzC,IAAI4C,EAAKqnD,EAAKjqD,EAAK+nE,MAAM37E,EACrByW,EAAKqnD,EAAKlqD,EAAK+nE,MAAM17E,EACrByW,EAAKqnD,EAAKnqD,EAAK+nE,MAAM1uD,EAEzB,MADAme,EAAQ50B,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,GACrB4oE,GAAZ,CAGA,IAAI5tB,EAAM99C,EAAKjW,OAASvD,EAAKiiF,cAC7B+C,EAAOh0C,EAAQsmB,EAAMA,GACV,IACT0tB,GAAQA,GAEV9xB,EAAI/tD,KAAK0zE,IAAIsM,EAAWH,GACxBH,GAAYzoE,EAAK82C,EACjB4xB,GAAYzoE,EAAK62C,EACjB6xB,GAAYzoE,EAAK42C,EACjB0xB,GAVA,CAWF,EACSzlF,EAAI,EAAGA,EAAIwlF,EAAaxlF,IAC/BskE,EAAKqO,EAAS3yE,GAAGyG,EACjB89D,EAAKoO,EAAS3yE,GAAG0G,EACjB89D,EAAKmO,EAAS3yE,GAAG0zB,EACjB+xD,EAAgB,EAChBC,EAAWC,EAAWC,EAAW,EACjC5hF,KAAKuhF,mBAAmB5S,EAAS3yE,GAAIimF,GACrCp0C,EAAQ6zC,EAAWA,EAAWC,EAAWA,EAAWC,EAAWA,EAC3DH,EAAgB,IAClBI,EAAO,EAAM7/E,KAAK0mC,KAAKmF,GACvB6zC,GAAYG,EACZF,GAAYE,EACZD,GAAYC,GAEd3kB,EAAQlhE,GAAGyG,EAAIi/E,EACfxkB,EAAQlhE,GAAG0G,EAAIi/E,EACfzkB,EAAQlhE,GAAG0zB,EAAIkyD,EAEjB,OAAO,CACT,GACC,CACDplF,IAAK,cACLe,MAAO,SAAqBikF,EAAa7S,EAAUxT,EAAQ+mB,GA+BzD,IA9BA,IAAIrlF,EAAOmD,KACPsgE,EAAK,EACLC,EAAK,EACLC,EAAK,EACLqhB,EAAO,EACP9xB,EAAI,EAGJgyB,EADeG,IAEfC,EAAc,GACdnJ,EAAU,GACVoJ,EAAa,EACbC,EAAe,SAAsBhsE,GACvC,IAAI4C,EAAKqnD,EAAKjqD,EAAK+nE,MAAM37E,EACrByW,EAAKqnD,EAAKlqD,EAAK+nE,MAAM17E,EACrByW,EAAKqnD,EAAKnqD,EAAK+nE,MAAM1uD,EACrBme,EAAQ50B,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EACrC,KAAI00B,EAAQk0C,GAAZ,CAGA,IAAI5tB,EAAM99C,EAAKjW,OAASvD,EAAKiiF,cAC7B+C,EAAOh0C,EAAQsmB,EAAMA,GACV,IACT0tB,GAAQA,GAEV9xB,EAAI,GAnBS,GAmBS8xB,GACtBM,EAAY9iF,KAAK,CAACgX,EAAKgoE,OAAQhoE,EAAKioE,OAAQjoE,EAAKkoE,SACjDvF,EAAQ35E,KAAK0wD,GACbqyB,GAAcryB,CATd,CAUF,EACS/zD,EAAI,EAAGA,EAAIwlF,EAAaxlF,IAAK,CACpCskE,EAAKqO,EAAS3yE,GAAGyG,EACjB89D,EAAKoO,EAAS3yE,GAAG0G,EACjB89D,EAAKmO,EAAS3yE,GAAG0zB,EACjByyD,EAAc,GACdnJ,EAAU,GACVoJ,EAAa,EACbpiF,KAAKuhF,mBAAmB5S,EAAS3yE,GAAIqmF,GACrC,IAAK,IAAI5tE,EAAI,EAAGA,EAAI0tE,EAAYlmF,SAAUwY,EAAG,CAC3C,IAAI6tE,EAAmBtJ,EAAQvkE,GAAK2tE,EACpCjnB,EAAOn/D,GAAGyG,GAAK0/E,EAAY1tE,GAAG,GAAK6tE,EACnCnnB,EAAOn/D,GAAG0G,GAAKy/E,EAAY1tE,GAAG,GAAK6tE,EACnCnnB,EAAOn/D,GAAG0zB,GAAKyyD,EAAY1tE,GAAG,GAAK6tE,CACrC,CACF,CACA,OAAO,CACT,KAEK5D,CACT,CAjQ6B,GAmQzB6D,GAAgB,WAClB,SAASA,EAAcC,EAAgBC,EAAiBC,GAatD,IAAI1mF,EACJ,IAbAP,EAAgBuE,KAAMuiF,GACtBviF,KAAK2iF,gBAAkBH,EACvBxiF,KAAK4iF,iBAAmBH,EACxBziF,KAAK+gF,UAAY,IAAI9iF,MAAMukF,GAC3BxiF,KAAK47D,SAAW,IAAI39D,MAAMukF,GAC1BxiF,KAAKk6D,QAAU,KACXwoB,IACF1iF,KAAKk6D,QAAU,IAAIj8D,MAAMukF,IAE3BxiF,KAAK03D,SAAW,IAAIz5D,MAAwB,EAAlBwkF,GAC1BziF,KAAKiqE,aAAe,EACpBjqE,KAAKgqE,cAAgB,EAEhBhuE,EAAI,EAAGA,EAAIwmF,EAAgBxmF,IAC9BgE,KAAK+gF,UAAU/kF,GAAK,IAAI,MACxBgE,KAAK47D,SAAS5/D,GAAK,IAAI,MAEzB,IAAKA,EAAI,EAAGA,EAAsB,EAAlBymF,EAA2BzmF,IACzCgE,KAAK03D,SAAS17D,IAAM,EAEtB,GAAI0mF,EACF,IAAK1mF,EAAI,EAAGA,EAAIwmF,EAAgBxmF,IAC9BgE,KAAKk6D,QAAQl+D,GAAK,IAAI,KAG5B,CASA,OARAS,EAAa8lF,EAAe,CAAC,CAC3B/lF,IAAK,UACLe,MAAO,WACLyC,KAAK+gF,UAAY,KACjB/gF,KAAK47D,SAAW,KAChB57D,KAAK03D,SAAW,IAClB,KAEK6qB,CACT,CArCoB,GAyCpB,IAEIM,GAAYt2B,GAAK/kC,QACjBs7D,GAAuB,SAAU1Q,GACnCh1E,EAAU0lF,EAAsB1Q,GAChC,IAPuB7kE,EAAeC,EAOlCC,GAPmBF,EAOMu1E,EAPSt1E,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQo7E,GAAuC,WAAkC,IAAsC12E,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAQza,SAASy2E,IAEP,OADArnF,EAAgBuE,KAAM8iF,GACfr1E,EAAO1N,MAAMC,KAAMH,UAC5B,CAkmBA,OAjmBApD,EAAaqmF,EAAsB,CAAC,CAClCtmF,IAAK,SACLe,MAAO,WACLyC,KAAKgjF,cACL,IAAIC,EAASjjF,KAAKkjF,SAClBljF,KAAKgvC,UACLhvC,KAAKmjF,SAASF,EAChB,GACC,CACDzmF,IAAK,WACLe,MAAO,SAAkB0lF,GACvB,IAAI9nB,EAAS,KACT2E,EAAYvwD,EAAMiC,cAAci5C,aAAc,EAAUw4B,EAAOhZ,cAC/D/M,EAAU3tD,EAAMiC,cAAci5C,aAAc,EAAUw4B,EAAOhZ,cAC1C,OAAnBgZ,EAAO/oB,UACTiB,EAAS5rD,EAAMiC,cAAci5C,aAAc,EAAUw4B,EAAOhZ,eAG9D,IADA,IAAI11D,EAAUhF,EAAMiC,cAAcmrD,YAAa,EAAUsmB,EAAOjZ,eACvDhuE,EAAI,EAAGyY,EAAI,EAAGzY,EAAIinF,EAAOhZ,aAAcjuE,IAC9C8jE,EAAUrrD,EAAI,GAAKwuE,EAAOlC,UAAU/kF,GAAGyG,EACvCq9D,EAAUrrD,EAAI,GAAKwuE,EAAOlC,UAAU/kF,GAAG0G,EACvCo9D,EAAUrrD,EAAI,GAAKwuE,EAAOlC,UAAU/kF,GAAG0zB,EACvCwtC,EAAQzoD,EAAI,GAAKwuE,EAAOrnB,SAAS5/D,GAAGyG,EACpCy6D,EAAQzoD,EAAI,GAAKwuE,EAAOrnB,SAAS5/D,GAAG0G,EACpCw6D,EAAQzoD,EAAI,GAAKwuE,EAAOrnB,SAAS5/D,GAAG0zB,EACpCjb,GAAK,EAEP,GAAe,OAAX0mD,EACF,IAAK,IAAIt8D,EAAK,EAAGu9C,EAAK,EAAGv9C,EAAKokF,EAAOhZ,aAAcprE,IAAMu9C,GAAM,EAC7D+e,EAAO/e,EAAK,GAAK6mC,EAAO/oB,QAAQr7D,GAAI4D,EACpC04D,EAAO/e,EAAK,GAAK6mC,EAAO/oB,QAAQr7D,GAAI6D,EACpCy4D,EAAO/e,EAAK,GAAK6mC,EAAO/oB,QAAQr7D,GAAI6wB,EAIxC,IADA,IAAI0zD,EAAiC,EAAvBH,EAAOjZ,cACZxuB,EAAM,EAAGA,EAAM4nC,EAAS5nC,IAC/BjnC,EAAQinC,GAAOynC,EAAOvrB,SAASlc,GAEjCx7C,KAAK88D,SAAS,IAAI,MAAgBvoD,EAAS,IAC3CvU,KAAK0B,aAAa,WAAY,IAAI,MAAgBo+D,EAAW,IAC7D9/D,KAAK0B,aAAa,SAAU,IAAI,MAAgBw7D,EAAS,IACzDl9D,KAAK0B,aAAa,QAAS,IAAI,MAAgBy5D,EAAQ,IACvDn7D,KAAKi5D,qBACLj5D,KAAKo6D,wBACL6oB,EAAOj0C,SACT,GACC,CACDxyC,IAAK,wBACLe,MAAO,SAA+Bq2E,EAAcyP,GAGlD,IAFA,IAAIl3D,EAAQynD,EAAaznD,MACrBgvC,EAASyY,EAAazY,OACjBn/D,EAAI,EAAG2wC,EAAWxgB,EAAMlwB,OAAQD,EAAI2wC,EAAU3wC,IAAK,CAC1D,IAAIo6C,EAAUjqB,EAAMnwB,GAAGkF,SACnBd,EAAS+rB,EAAMnwB,GAAG+J,QAAQ3F,OAC9BijF,EAAarnF,GAAK,IAAIkiF,GAAsB9nC,EAASh2C,GACrD,IAAIkjF,EAAKn3D,EAAMnwB,GAAG+J,QAAQwE,OAC1B84E,EAAarnF,GAAGwiF,SAAWx+E,KAAKg4C,QAAQsrC,GACxC,IAAIlG,EAnEK,EAmEephF,EACxBqnF,EAAarnF,GAAGqiF,OAASljB,EAAOiiB,KAChCiG,EAAarnF,GAAGsiF,OAASnjB,EAAOiiB,KAChCiG,EAAarnF,GAAGuiF,OAASpjB,EAAOiiB,GAChCiG,EAAarnF,GAAGyiF,QAAUtyD,EAAMnwB,EAClC,CACF,GACC,CACDQ,IAAK,SACLe,MAAO,WACL,OAAOyC,KAAKijF,MACd,GACC,CACDzmF,IAAK,UACLe,MAAO,WACLyC,KAAKmsB,MAAQ,KACbnsB,KAAKujF,UAAY,KACjBvjF,KAAKwjF,YAAc,IACrB,GACC,CACDhnF,IAAK,iBACLe,MAAO,SAAwB4uB,EAAOwyD,EAASC,GAC7C,IAAI6E,EAAS,IACb9E,EAAQl8E,EAAIk8E,EAAQj8E,EAAIi8E,EAAQjvD,EAAI+zD,EACpC7E,EAAQn8E,EAAIm8E,EAAQl8E,EAAIk8E,EAAQlvD,EAAI,EAAI+zD,EAGxC,IAFA,IAAIC,EAAe1jF,KAAKyX,YAAczX,KAAK2jF,gBACvCC,EAAS,EACJ5nF,EAAI,EAAG6nF,EAAM13D,EAAMlwB,OAAQD,EAAI6nF,EAAK7nF,IAAK,CAChD,IAAIo6C,EAAUjqB,EAAMnwB,GAAGoiF,MACnBjqB,EAAMhoC,EAAMnwB,GAAGoE,OAASsjF,EAC5BE,EAASzvB,EAAMyvB,EAASzvB,EAAMyvB,EAC1BxtC,EAAQ3zC,EAAI0xD,EAAMwqB,EAAQl8E,IAC5Bk8E,EAAQl8E,EAAI2zC,EAAQ3zC,EAAI0xD,GAEtB/d,EAAQ1zC,EAAIyxD,EAAMwqB,EAAQj8E,IAC5Bi8E,EAAQj8E,EAAI0zC,EAAQ1zC,EAAIyxD,GAEtB/d,EAAQ1mB,EAAIykC,EAAMwqB,EAAQjvD,IAC5BivD,EAAQjvD,EAAI0mB,EAAQ1mB,EAAIykC,GAEtB/d,EAAQ3zC,EAAI0xD,EAAMyqB,EAAQn8E,IAC5Bm8E,EAAQn8E,EAAI2zC,EAAQ3zC,EAAI0xD,GAEtB/d,EAAQ1zC,EAAIyxD,EAAMyqB,EAAQl8E,IAC5Bk8E,EAAQl8E,EAAI0zC,EAAQ1zC,EAAIyxD,GAEtB/d,EAAQ1mB,EAAIykC,EAAMyqB,EAAQlvD,IAC5BkvD,EAAQlvD,EAAI0mB,EAAQ1mB,EAAIykC,EAE5B,CACAwqB,EAAQl8E,GAAKmhF,EACbjF,EAAQj8E,GAAKkhF,EACbjF,EAAQjvD,GAAKk0D,EACbhF,EAAQn8E,GAAKmhF,EACbhF,EAAQl8E,GAAKkhF,EACbhF,EAAQlvD,GAAKk0D,CACf,GACC,CACDpnF,IAAK,iBACLe,MAAO,SAAwBohF,EAASC,EAASn8E,EAAGC,EAAGgtB,EAAGo0D,EAAWC,GACnE,IAAIC,EAAQ,GAAOF,EAAY,GAC3BG,EAAKxhF,EAAIuhF,EACTE,EAAKxhF,EAAIshF,EACTG,EAAKz0D,EAAIs0D,EACbD,EAAKthF,EAAIk8E,EAAQl8E,GAAK,EAAMwhF,GAAMrF,EAAQn8E,EAAIwhF,EAC9CF,EAAKrhF,EAAIi8E,EAAQj8E,GAAK,EAAMwhF,GAAMtF,EAAQl8E,EAAIwhF,EAC9CH,EAAKr0D,EAAIivD,EAAQjvD,GAAK,EAAMy0D,GAAMvF,EAAQlvD,EAAIy0D,CAChD,GACC,CACD3nF,IAAK,iBACLe,MAAO,SAAwBkuC,EAAQC,EAAQ04C,EAAMC,EAAMC,EAAiBP,GAC1E,GAAIK,EAAK34C,GAAU24C,EAAK14C,GAAS,CAC/B,IAII/rC,GAHI,EAAI0kF,EAAKnb,mBAAmBob,EADlB,GACkD74C,KAC5D44C,EAAKnb,mBAAmBob,EAFd,GAE8C54C,GACxD24C,EAAKnb,mBAAmBob,EAHd,GAG8C74C,IAE5DqvC,EAAKuJ,EAAKnb,mBAAmBob,EAA2B,EAAT74C,EAAmB,GAClEsvC,EAAKsJ,EAAKnb,mBAAmBob,EAA2B,EAAT74C,EAAmB,GAClEuvC,EAAKqJ,EAAKnb,mBAAmBob,EAA2B,EAAT74C,EAAmB,GAClE84C,EAAKF,EAAKnb,mBAAmBob,EAA2B,EAAT54C,EAAmB,GAClE84C,EAAKH,EAAKnb,mBAAmBob,EAA2B,EAAT54C,EAAmB,GAClE+4C,EAAKJ,EAAKnb,mBAAmBob,EAA2B,EAAT54C,EAAmB,GACtEq4C,EAAKthF,EAAIq4E,GAAM,EAAMn7E,GAAK4kF,EAAK5kF,EAC/BokF,EAAKrhF,EAAIq4E,GAAM,EAAMp7E,GAAK6kF,EAAK7kF,EAC/BokF,EAAKr0D,EAAIsrD,GAAM,EAAMr7E,GAAK8kF,EAAK9kF,CACjC,CACF,GACC,CACDnD,IAAK,oBACLe,MAAO,SAA2BmnF,EAAIt1C,EAAIC,GACxC,IAAIs1C,EAAK3kF,KAAK4kF,WAAWC,eAAeH,GACpCI,EAAK9kF,KAAK4kF,WAAWC,eAAez1C,GACpC21C,EAAK/kF,KAAK4kF,WAAWC,eAAex1C,GACxC,OAAW,OAAPs1C,GAAsB,OAAPG,GAAsB,OAAPC,GAA8B,OAAfJ,EAAGlG,SAAmC,OAAfqG,EAAGrG,SAAmC,OAAfsG,EAAGtG,SAG3Fz+E,KAAKyvE,mBAAmBxoC,aAAa09C,EAAGlG,UAAYz+E,KAAKyvE,mBAAmBxoC,aAAa69C,EAAGrG,UAAYz+E,KAAKyvE,mBAAmBxoC,aAAa89C,EAAGtG,QACzJ,GACC,CACDjiF,IAAK,cACLe,MAAO,SAAqBmnF,EAAIt1C,EAAIC,GAClC,GAAIrvC,KAAKyvE,qBAAuBzvE,KAAKglF,kBAAkBN,EAAIt1C,EAAIC,GAC7D,OAAO,EAET,IAAIylB,EAAM90D,KAAKijF,OACf,GAAInuB,EAAIkV,eAAiBhqE,KAAKyiF,gBAC5B,OAAO,EAET,IAAIwC,EAAYjlF,KAAKklF,eAAepwB,EAAK4vB,GACrCS,EAAYnlF,KAAKklF,eAAepwB,EAAK1lB,GACrCg2C,EAAYplF,KAAKklF,eAAepwB,EAAKzlB,GACzC,IAAK41C,EAAYE,EAAYC,GAAa,EACxC,OAAO,EAET,IAAIC,EAAM,EAAIvwB,EAAIkV,cAKlB,OAJAlV,EAAI4C,SAAS2tB,EAAM,GAAKJ,EACxBnwB,EAAI4C,SAAS2tB,EAAM,GAAKF,EACxBrwB,EAAI4C,SAAS2tB,EAAM,GAAKD,EACxBtwB,EAAIkV,iBACG,CACT,GACC,CACDxtE,IAAK,sBACLe,MAAO,SAA6B+nF,EAAS3G,EAASC,EAASt+E,EAASilF,EAAWlB,GAOjF,IANA,IAEIlF,EAAWmG,EAAU,EACrBhG,EAAOgG,EACP/F,EAAQ+F,EAAUA,EAClBE,EAAU,IAAIvnF,MALJ,IAMLjC,EAAI,EAAGA,EANF,GAMeA,IAC3BwpF,EAAQxpF,GAAK,IAAI,MAGnB,IADA,IAAIooF,EAAO,GACFroC,EAAM,EAAGA,EATF,EASmBA,IACjCqoC,EAAKroC,GAAO,EAKd,IAHA,IAAI0pC,EAAU,IAAI,MACdC,EAAU,EACVC,EAAO,EACFjjF,EAAI,EAAGA,EAAIy8E,EAAUz8E,IAAKijF,GAAQpG,EAEzC,IADA,IAAIqG,EAAO,EACFl2D,EAAI,EAAGA,EAAIyvD,EAAUzvD,IAAKk2D,GAAQtG,EACzC,IAAK,IAAI78E,EAAI,EAAGA,EAAI08E,EAAU18E,IAC5B,GAAK4hF,EAAKlb,gBAAgBuc,GAA1B,CAIA,IAAItc,EAAaib,EAAKjb,WAAWsc,GACjC1lF,KAAK6lF,eAAelH,EAASC,EAASn8E,EAAGC,EAAGgtB,EAAG41D,EAASG,GAExD,IADA,IAAIK,EAA2B,GAAVJ,EACZxpC,EAAM,EAAGznC,EAAI,EAAGynC,EA1Bf,EA0BgCA,IACxCmoC,EAAKnb,mBAAmB4c,EAAiBrxE,KAAOgxE,EAAQhjF,EACxD4hF,EAAKnb,mBAAmB4c,EAAiBrxE,KAAOgxE,EAAQ/iF,EACxD2hF,EAAKnb,mBAAmB4c,EAAiBrxE,KAAOgxE,EAAQ/1D,EAE1D20D,EAAKnb,mBAAmB4c,EAAiB,IAAMP,EAAU9iF,EACzD4hF,EAAKnb,mBAAmB4c,EAAiB,IAAUP,EAAU9iF,EAC7D4hF,EAAKnb,mBAAmB4c,EAAiB,KAAUP,EAAU9iF,EAC7D4hF,EAAKnb,mBAAmB4c,EAAiB,KAAUP,EAAU9iF,EAC7D4hF,EAAKnb,mBAAmB4c,EAAiB,EAAQ,IAAMP,EAAU71D,EACjE20D,EAAKnb,mBAAmB4c,EAAiB,EAAQ,IAAMP,EAAU71D,EACjE20D,EAAKnb,mBAAmB4c,EAAiB,GAAQ,IAAMP,EAAU71D,EACjE20D,EAAKnb,mBAAmB4c,EAAiB,GAAQ,IAAMP,EAAU71D,EACjE20D,EAAKnb,mBAAmB4c,EAAiB,GAAQ,IAAMP,EAAU7iF,EACjE2hF,EAAKnb,mBAAmB4c,EAAiB,GAAQ,IAAMP,EAAU7iF,EACjE2hF,EAAKnb,mBAAmB4c,EAAiB,GAAQ,IAAMP,EAAU7iF,EACjE2hF,EAAKnb,mBAAmB4c,EAAiB,GAAQ,IAAMP,EAAU7iF,EAEjE,IADA,IAAIqjF,EAAYD,EAAiB,GACxBzpC,EAAM,EAAGA,EA5CR,IA4C2BA,EACnC+nC,EAAK/nC,GAAOgoC,EAAKnb,mBAAmB6c,EAAY1pC,GAAO,EAAM,EAAI,EAEnEr8C,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,IAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,KAC9DxlF,KAAKgmF,eAAe,EAAG,EAAG5B,EAAMC,EAAMyB,EAAgBN,EAAQ,KAE9D,IADA,IAAIS,EAAoB,GAAb7c,EACF8c,EAAS,EAAGC,EAAS,EAAGD,EAAS,EAAWA,IAAUC,GAAU,EAAG,CAC1E,IAAIjU,EAAKmS,EAAK9a,qBAAqB0c,EAAOE,GAC1C,GAAIjU,EAAK,EACP,MAEF,IAAI9gC,EAAKizC,EAAK9a,qBAAqB0c,EAAOE,EAAS,GAC/C90C,EAAKgzC,EAAK9a,qBAAqB0c,EAAOE,EAAS,GACnD,IAAKnmF,KAAKomF,YAAYZ,EAAQtT,GAAKsT,EAAQp0C,GAAKo0C,EAAQn0C,IACtD,OAAO,CAEX,CACAq0C,GAjDA,MAFEA,IAuDR,OAAO,CACT,GACC,CACDlpF,IAAK,yBACLe,MAAO,SAAgC+hF,EAAMH,EAAU7+E,EAAS+jF,GAM9D,IALA,IAAI9E,EAAQD,EAAOA,EAEf+G,EAAsB,EACtBX,EAAU,EACVC,EAAO,EACFjjF,EAAI,EAAGA,EAAIy8E,EAAUz8E,IAAKijF,GAAQpG,EAEzC,IADA,IAAIqG,EAAO,EACFl2D,EAAI,EAAGA,EAAIyvD,EAAUzvD,IAAKk2D,GAAQtG,EACzC,IAAK,IAAI78E,EAAI,EAAGA,EAAI08E,EAAU18E,IAAK,CACjC,IAAI6jF,EAA4B,GAAVZ,EAAyB,GAC3Ca,EAAY9jF,EAAImjF,EAAOD,EAC3BtB,EAAKnb,mBAAmBod,GAAmBhmF,EAAQimF,GACnDlC,EAAKnb,mBAAmBod,EAAkB,GAAKhmF,EAAQimF,EAAY,GACnElC,EAAKnb,mBAAmBod,EAAkB,GAAKhmF,EAAQimF,EAAYjH,EAAO,GAC1E+E,EAAKnb,mBAAmBod,EAAkB,GAAKhmF,EAAQimF,EAAYjH,GACnE+E,EAAKnb,mBAAmBod,EAAkB,GAAKhmF,EAAQi/E,EAAQgH,GAC/DlC,EAAKnb,mBAAmBod,EAAkB,GAAKhmF,EAAQi/E,EAAQgH,EAAY,GAC3ElC,EAAKnb,mBAAmBod,EAAkB,GAAKhmF,EAAQi/E,EAAQgH,EAAYjH,EAAO,GAClF+E,EAAKnb,mBAAmBod,EAAkB,GAAKhmF,EAAQi/E,EAAQgH,EAAYjH,GAE3E,IADA,IAAIlW,EAAa,EACRptE,EAAI,EAAGA,EAnBN,IAmBuBA,EAC3BqoF,EAAKnb,mBAAmBod,EAAkBtqF,GAAK,IACjDotE,GAAc,GAAKptE,GAGJ,IAAfotE,GAAmC,MAAfA,EACtBib,EAAKlb,gBAAgBuc,IAAW,GAEhCrB,EAAKlb,gBAAgBuc,IAAW,EAChCW,KAEFhC,EAAKjb,WAAWsc,GAAWtc,EAC3Bsc,GACF,CAGJ,OAAOW,CACT,GACC,CACD7pF,IAAK,UACLe,MAAO,SAAiBipF,GACtB,IAAIC,EAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,GAC5wB,GAAID,EAAS,GAAKA,EAASC,EAAMxqF,OAAS,GAAoD,EAA/CK,OAAOyO,KAAK83E,GAAUl6D,gBAAgB1sB,SAAewqF,EAAMxqF,OACxG,MAAM,IAAIwO,MAAM,mEAElB,OAAOg8E,EAAe,EAATD,EACf,GACC,CACDhqF,IAAK,uBACLe,MAAO,SAA8B+C,EAASg/E,EAAMX,EAASC,EAASzyD,EAAOu6D,GAM3E,IALA,IAAInH,EAAQD,EAAOA,EACfE,EAAQD,EAAQD,EAChBmG,EAAU,IAAI,MACdkB,EAAO,IAAI,MAEN3qF,EAAI,EAAGA,EAAIwjF,EAAOxjF,IACzBsE,EAAQtE,GAFC,KAOX,IAHA,IAAIyjF,GAAUH,EAAO,IAAMV,EAAQn8E,EAAIk8E,EAAQl8E,GAC3Ck9E,GAAUL,EAAO,IAAMV,EAAQl8E,EAAIi8E,EAAQj8E,GAC3Cm9E,GAAUP,EAAO,IAAMV,EAAQlvD,EAAIivD,EAAQjvD,GACtC9vB,EAAI,EAAG+sC,EAAWxgB,EAAMlwB,OAAQ2D,EAAI+sC,EAAU/sC,IAAK,CAC1D,IAAIyW,EAAO8V,EAAMvsB,GACbQ,EAASiW,EAAKjW,OAASsmF,EACvBE,GAAMvwE,EAAK+nE,MAAM37E,EAAIrC,EAASu+E,EAAQl8E,GAAKg9E,EAC3CoH,GAAMxwE,EAAK+nE,MAAM17E,EAAItC,EAASu+E,EAAQj8E,GAAKi9E,EAC3CmH,GAAMzwE,EAAK+nE,MAAM1uD,EAAItvB,EAASu+E,EAAQjvD,GAAKmwD,EAC3CkH,EAAU/kF,KAAKoyC,MAAMwyC,GACrBI,EAAUhlF,KAAKoyC,MAAMyyC,GACrBI,EAAUjlF,KAAKoyC,MAAM0yC,GACrBI,EAAUllF,KAAKoyC,OAAO/9B,EAAK+nE,MAAM37E,EAAIrC,EAASu+E,EAAQl8E,GAAKg9E,GAC3D0H,EAAUnlF,KAAKoyC,OAAO/9B,EAAK+nE,MAAM17E,EAAItC,EAASu+E,EAAQj8E,GAAKi9E,GAC3DyH,EAAUplF,KAAKoyC,OAAO/9B,EAAK+nE,MAAM1uD,EAAItvB,EAASu+E,EAAQjvD,GAAKmwD,GAI/DqH,IAHAA,GAGqB5H,EAAO,EAAI4H,EAAU5H,EAAO,EACjD6H,IAHAA,GAGqB7H,EAAO,EAAI6H,EAAU7H,EAAO,EACjD8H,IAHAA,GAGqB9H,EAAO,EAAI8H,EAAU9H,EAAO,EACjD,IAAK,IAAI58E,EAAIskF,EAAStkF,GAAKykF,EAASzkF,IAElC,IADA,IAAIijF,EAAOjjF,EAAI68E,EACN7vD,EAAIu3D,EAASv3D,GAAK03D,EAAS13D,IAElC,IADA,IAAIk2D,EAAOl2D,EAAI4vD,EACN78E,EAAIskF,EAAStkF,GAAKykF,EAASzkF,IAAK,CACvC,IAAI0uE,EAAMwU,EAAOC,EAAOnjF,EACxBzC,KAAK6lF,eAAelH,EAASC,EAASn8E,EAAGC,EAAGgtB,EAAG4vD,EAAMmG,GACrDkB,EAAKlkF,EAAIgjF,EAAQhjF,EAAI4T,EAAK+nE,MAAM37E,EAChCkkF,EAAKjkF,EAAI+iF,EAAQ/iF,EAAI2T,EAAK+nE,MAAM17E,EAChCikF,EAAKj3D,EAAI+1D,EAAQ/1D,EAAIrZ,EAAK+nE,MAAM1uD,EAChC,IACI6f,EADevtC,KAAK0mC,KAAKi+C,EAAKlkF,EAAIkkF,EAAKlkF,EAAIkkF,EAAKjkF,EAAIikF,EAAKjkF,EAAIikF,EAAKj3D,EAAIi3D,EAAKj3D,GACtDtvB,EACrBmvC,EAAMjvC,EAAQ6wE,KAChB7wE,EAAQ6wE,GAAO5hC,EAEnB,CAGN,CACF,GACC,CACD/yC,IAAK,mBACLe,MAAO,SAA0BilF,EAAgBC,GAE/C,GADAziF,KAAKujF,UAAYh0E,EAAMiC,cAAc85B,WAAY+7C,OAC1B,OAAnBrnF,KAAKujF,UACP,OAAO,EAET,IAAK,IAAIvnF,EAAI,EAAGyY,EAAI,EAAGzY,EA1Xb,MA0X4BA,IACpCgE,KAAKujF,UAAU9uE,KAAO,EACtBzU,KAAKujF,UAAU9uE,MAAO,EAMxB,GAJAzU,KAAKwiF,eAAiBA,EACtBxiF,KAAKyiF,gBAAkBA,EACvBziF,KAAKsnF,uBAAyB9E,EAC9BxiF,KAAKwjF,YAAcj0E,EAAMiC,cAAc85B,WAAY,EAAItrC,KAAKsnF,wBACnC,OAArBtnF,KAAKwjF,YACP,OAAO,EAET,IAAK,IAAIhnC,EAAM,EAAGF,EAAM,EAAGE,EAAMx8C,KAAKsnF,uBAAwB9qC,IAC5Dx8C,KAAKwjF,YAAYlnC,MAAS,EAC1Bt8C,KAAKwjF,YAAYlnC,MAAS,EAG5B,OADAt8C,KAAKunF,kBAAoB,EAClB,CACT,GACC,CACD/qF,IAAK,kBACLe,MAAO,WACL,GAAIyC,KAAKunF,kBAAoBvnF,KAAKsnF,uBAAwB,CACxD,IAAItrF,EAAIgE,KAAKunF,kBAEb,OADAvnF,KAAKunF,oBACEvrF,CACT,CACA,OAAO,CACT,GACC,CACDQ,IAAK,iBACLe,MAAO,SAAwB0lF,EAAQuE,GACrC,IAAI7jE,EACA8jE,EAAc,IAKdC,EAAiB1nF,KAAK2nF,mBAAqB,EAC3CrlE,EAAI,IAAI,MACRm6D,EAAKz6E,KAAKoyC,MAAMszC,GAAkBF,EAAK/kF,EAAIzC,KAAK2+E,QAAQl8E,IAAMzC,KAAK4+E,QAAQn8E,EAAIglF,EAAcznF,KAAK2+E,QAAQl8E,IAC1G65E,EAAKt6E,KAAKoyC,MAAMszC,GAAkBF,EAAK9kF,EAAI1C,KAAK2+E,QAAQj8E,IAAM1C,KAAK4+E,QAAQl8E,EAAI+kF,EAAcznF,KAAK2+E,QAAQj8E,IAE1GklF,EATU,OASFnL,EARC,MAOJz6E,KAAKoyC,MAAMszC,GAAkBF,EAAK93D,EAAI1vB,KAAK2+E,QAAQjvD,IAAM1vB,KAAK4+E,QAAQlvD,EAAI+3D,EAAcznF,KAAK2+E,QAAQjvD,IAN/F,QAO0B4sD,EAErCuL,GADJD,GAASP,OACgBO,EACzB,GAAqB,OAAjB5nF,KAAK2+E,SAAqC,OAAjB3+E,KAAK4+E,QAChC,IAAKj7D,EAAQ3jB,KAAKujF,UAAUsE,EAAa,GAAIlkE,GAAS,EAAGA,EAAQ3jB,KAAKwjF,YAAoB,EAAR7/D,EAAY,GAAI,CAChG,IAAIwtD,EAAMnxE,KAAKwjF,YAAoB,EAAR7/D,EAAY,GAMvC,GALArB,EAAEjR,KAAK4xE,EAAOlC,UAAU5P,IACxB7uD,EAAE7f,GAAK+kF,EAAK/kF,EACZ6f,EAAE5f,GAAK8kF,EAAK9kF,EACZ4f,EAAEoN,GAAK83D,EAAK93D,EACDpN,EAAE7f,EAAI6f,EAAE7f,EAAI6f,EAAE5f,EAAI4f,EAAE5f,EAAI4f,EAAEoN,EAAIpN,EAAEoN,EAhBpC,KAkBL,OAAOyhD,CAEX,CAEF,GAAI8R,EAAOhZ,cAAgBjqE,KAAKwiF,eAC9B,OAAO,EAET,IAAIsF,EAAW7E,EAAOhZ,aAEtB,GADAgZ,EAAOlC,UAAU+G,GAAUz2E,KAAKm2E,GACX,OAAjBxnF,KAAK2+E,SAAqC,OAAjB3+E,KAAK4+E,QAAkB,CAElD,IADAj7D,EAAQ3jB,KAAK+nF,mBACD,EACV,OAAO,EAET,IAAIC,EAAahoF,KAAKujF,UAAUsE,EAAa,GAC7C7nF,KAAKujF,UAAUsE,EAAa,GAAKlkE,EACjC3jB,KAAKwjF,YAAoB,EAAR7/D,EAAY,GAAKmkE,EAClC9nF,KAAKwjF,YAAoB,EAAR7/D,EAAY,GAAKqkE,EAClChoF,KAAKujF,UAAUsE,EAAa,IAC9B,CAEA,OADA5E,EAAOhZ,eACA6d,CACT,GACC,CACDtrF,IAAK,wBACLe,MAAO,SAA+B+hF,EAAM2I,EAAmBtJ,EAASC,EAASqE,EAAQ3iF,GAuBvF,IAtBA,IAAI6wE,EAEA+W,EAcA3I,EAAQD,EAAOA,EACfG,GAAUH,EAAO,IAAMV,EAAQn8E,EAAIk8E,EAAQl8E,GAC3Ck9E,GAAUL,EAAO,IAAMV,EAAQl8E,EAAIi8E,EAAQj8E,GAC3Cm9E,GAAUP,EAAO,IAAMV,EAAQlvD,EAAIivD,EAAQjvD,GAC3Cy4D,EAAkC,EAApBF,GAA6C,EAApBA,GACvCG,EAAU,GAAO9I,EAAO,GACnBtjF,EAAI,EAAGA,EAAIinF,EAAOhZ,aAAcjuE,IAAK,CAC5C,IAAIo6C,EAAU6sC,EAAOlC,UAAU/kF,GAC3BqsF,EArBI,IAqBKJ,EACTlB,EAAU/kF,KAAKoyC,OAAOgC,EAAQ3zC,EAAI4lF,EAAS1J,EAAQl8E,GAAKg9E,GACxDuH,EAAUhlF,KAAKoyC,OAAOgC,EAAQ1zC,EAAI2lF,EAAS1J,EAAQj8E,GAAKi9E,GACxDsH,EAAUjlF,KAAKoyC,OAAOgC,EAAQ1mB,EAAI24D,EAAS1J,EAAQjvD,GAAKmwD,GACxDqH,EAAUllF,KAAKoyC,OAAOgC,EAAQ3zC,EAAI4lF,EAAS1J,EAAQl8E,GAAKg9E,GACxD0H,EAAUnlF,KAAKoyC,OAAOgC,EAAQ1zC,EAAI2lF,EAAS1J,EAAQj8E,GAAKi9E,GACxDyH,EAAUplF,KAAKoyC,OAAOgC,EAAQ1mB,EAAI24D,EAAS1J,EAAQjvD,GAAKmwD,GAC5DkH,EAAUA,GAAW,EAAIA,EAAU,EAEnCE,EAAUA,GAAW,EAAIA,EAAU,EACnCC,EAAUA,GAAW5H,EAAO,EAAI4H,EAAU5H,EAAO,EACjD6H,EAAUA,GAAW7H,EAAO,EAAI6H,EAAU7H,EAAO,EACjD8H,EAAUA,GAAW9H,EAAO,EAAI8H,EAAU9H,EAAO,EACjD,IAAK,IAAIhD,EALT0K,EAAUA,GAAW,EAAIA,EAAU,EAKZ1K,GAAM6K,EAAS7K,IAEpC,IADA,IAAIqJ,EAAOrJ,EAAKiD,EACPlD,EAAK4K,EAAS5K,GAAM+K,EAAS/K,IAEpC,IADA,IAAIuJ,EAAOvJ,EAAKiD,EACP7C,EAAKsK,EAAStK,GAAMyK,EAASzK,IAAM,CAC1CtL,EAAMwU,EAAOC,EAAOnJ,EACpB,IAAI98E,EAAI88E,EAAK2L,EACTE,EAAU3J,EAAQl8E,GAAK,EAAM9C,GAAKi/E,EAAQn8E,EAAI9C,EAClDA,EAAI28E,EAAK8L,EACT,IAAIG,EAAU5J,EAAQj8E,GAAK,EAAM/C,GAAKi/E,EAAQl8E,EAAI/C,EAClDA,EAAI08E,EAAK+L,EACT,IAAII,EAAU7J,EAAQjvD,GAAK,EAAM/vB,GAAKi/E,EAAQlvD,EAAI/vB,EAC9CsZ,EAAKqvE,EAAUlyC,EAAQ3zC,EACvByW,EAAKqvE,EAAUnyC,EAAQ1zC,EACvByW,EAAKqvE,EAAUpyC,EAAQ1mB,EACvBme,EAAQ50B,EAAKA,EAAKC,EAAKA,EAAKC,EAAKA,EACjC00B,EAAQs6C,KAEVD,IADelmF,KAAK0mC,KAAKmF,GACOo6C,IAlDrB,GACb3nF,EAAQ6wE,GAAO,IACjB7wE,EAAQ6wE,GAAO+W,GAEbA,EAAe5nF,EAAQ6wE,KACzB7wE,EAAQ6wE,GAAO+W,IAERA,EAAe5nF,EAAQ6wE,KAChC7wE,EAAQ6wE,GAAO+W,GA6Cb,CAGN,CACA,OAAO,CACT,GACC,CACD1rF,IAAK,cACLe,MAAO,WACL,IAAIkrF,EACAC,EAAe,IACf9U,EAAe,CACjB5K,OAAQhpE,KAAK+oE,QACb5N,OAAQn7D,KAAKk6D,QACb/tC,MAAOnsB,KAAK8oE,MAAM38C,OAEpBnsB,KAAKi0B,QAAUj0B,KAAK8oE,MAAMja,OAC1B7uD,KAAKmsB,MAAQynD,EAAaznD,MAC1BnsB,KAAK2oF,eAAiB3oF,KAAK8oE,MAAM9wD,YACjChY,KAAK2jF,gBAAkB3jF,KAAK8oE,MAAMoK,SAClClzE,KAAK4oF,UAAY5oF,KAAK8oE,MAAM8f,UAC5B5oF,KAAKyX,YAAczX,KAAK8oE,MAAMrxD,YAC9BzX,KAAK6oF,iBAAkB,EACvB7oF,KAAK8oF,aAAe9oF,KAAK8oE,MAAMggB,aAC/B9oF,KAAKyvE,mBAAqBzvE,KAAK8oE,MAAM2G,mBACrCzvE,KAAKijF,OAAS,KACdjjF,KAAKujF,UAAY,KACjBvjF,KAAKwjF,YAAc,KACnBxjF,KAAKsnF,uBAAyB,EAC9BtnF,KAAKunF,kBAAoB,EACzBvnF,KAAKwiF,eAAiB,EACtBxiF,KAAKyiF,gBAAkB,EACvB,IAAIY,EAAe,IAAIplF,MAAM+B,KAAKmsB,MAAMlwB,QACxC+D,KAAK+oF,sBAAsBnV,EAAcyP,GACzC,IAAI1E,EAAU3+E,KAAK2+E,QAAU,IAAI,MAC7BC,EAAU5+E,KAAK4+E,QAAU,IAAI,MACjC5+E,KAAKgpF,eAAe3F,EAAc1E,EAASC,GAC3C,IAAI+I,EAAoB3nF,KAAK2nF,kBAA0C,EAAtB3nF,KAAK2oF,eAClDrJ,EAAOqI,EAEPnI,EADQF,EAAOA,EACCA,EAChBh/E,EAAUiP,EAAMiC,cAAci5C,aAAc+0B,GAC5CyJ,EAAejpF,KAAKyX,YAAczX,KAAK2jF,gBAC3C3jF,KAAKkpF,qBAAqB5oF,EAASg/E,EAAMX,EAASC,EAASyE,EAAc4F,GACzE,IAAI9J,EAAWwI,EAAoB,EAC/BtD,EAAO,IAAIpb,GAEf,IADAwf,EAAKpE,EAAK7mF,OAAO2hF,IACR,EACP,OAAOsJ,EAET,IAAIlD,EAAY,IAAI,MACpBA,EAAU9iF,GAAKm8E,EAAQn8E,EAAIk8E,EAAQl8E,GAAK08E,EACxCoG,EAAU7iF,GAAKk8E,EAAQl8E,EAAIi8E,EAAQj8E,GAAKy8E,EACxCoG,EAAU71D,GAAKkvD,EAAQlvD,EAAIivD,EAAQjvD,GAAKyvD,EACxC,IAAIgK,EAA2BnpF,KAAKopF,uBAAuB9J,EAAMH,EAAU7+E,EAAS+jF,GAChF7B,EAAiBxgF,KAAKoyC,MAAM+0C,EAA2BT,GACvDjG,EAAkBzgF,KAAKoyC,MAAM+0C,EAA2BT,EAAe,GAG3E,GAFA1oF,KAAKijF,OAAS,IAAIV,GAAcC,EAAgBC,EAAiBziF,KAAK6oF,kBACtEJ,EAAKzoF,KAAKqpF,iBAAiB7G,EAAgBC,IAClC,EACP,OAAOgG,EAET,IAAIa,EAA2BL,EAO/B,GANIjpF,KAAK8oF,eACPQ,EAA2B,KAE7BtpF,KAAK4kF,WAAa,IAAIlG,GAAuB2E,EAAapnF,OAAQonF,EAAc1E,EAASC,EAAS0K,GAClGtpF,KAAK4kF,WAAW2E,eAChBd,EAAKzoF,KAAKwpF,oBAAoB7B,EAAmBhJ,EAASC,EAASt+E,EAASilF,EAAWlB,GACnFrkF,KAAK8oF,aAAc,CAcrB,GAbA9oF,KAAKypF,sBAAsBnK,EAAM2J,EAActK,EAASC,EAAS5+E,KAAKijF,OAAQ3iF,GAC9EN,KAAKijF,OAAOlC,UAAY,KACxB/gF,KAAKijF,OAAO/oB,QAAU,KACtBl6D,KAAKijF,OAAOvrB,SAAW,KACvB13D,KAAKijF,OAAOrnB,SAAW,KACvB57D,KAAKijF,OAAOhZ,aAAe,EAC3BjqE,KAAKijF,OAAOjZ,cAAgB,EAC5BhqE,KAAKijF,OAAS,KACdkG,EAA2BnpF,KAAKopF,uBAAuB9J,EAAMH,EAAU7+E,EAAS+jF,GAChF7B,EAAiBxgF,KAAKoyC,MAAM+0C,EAA2BT,GACvDjG,EAAkBzgF,KAAKoyC,MAAM+0C,EAA2BT,EAAe,GACvE1oF,KAAKijF,OAAS,IAAIV,GAAcC,EAAgBC,EAAiBziF,KAAK6oF,kBACtEJ,EAAKzoF,KAAKqpF,iBAAiB7G,EAAgBC,IAClC,EACP,OAAOgG,EAETA,EAAKzoF,KAAKwpF,oBAAoBlK,EAAMX,EAASC,EAASt+E,EAASilF,EAAWlB,EAC5E,CACArkF,KAAK4kF,WAAW8E,aAAa1pF,KAAKijF,OAAOlC,UAAU9kF,OAAQ+D,KAAKijF,OAAOlC,UAAW/gF,KAAKijF,OAAOrnB,UAC9F,IAAIsmB,EAAwB,IAU5B,OATIliF,KAAK8oF,eACP5G,GAAyB,KAEvBliF,KAAK6oF,iBACP7oF,KAAK4kF,WAAW+E,YAAY3pF,KAAKijF,OAAOlC,UAAU9kF,OAAQ+D,KAAKijF,OAAOlC,UAAW/gF,KAAKijF,OAAO/oB,QAASgoB,GAExGliF,KAAK4kF,WAAWgF,gBAChB5pF,KAAK4kF,WAAa,KAClBP,EAAKr1C,UACEy5C,CACT,KAEK3F,CACT,CAzmB2B,CAymBzBla,IA2BF,IAAIihB,GAAiB,SAAU/zE,GAC7B1Y,EAAUysF,EAAgB/zE,GAC1B,IA3BuBvI,EAAeC,EA2BlCC,GA3BmBF,EA2BMs8E,EA3BSr8E,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQmiF,GAAuC,WAAkC,IAAsCz9E,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GA4Bza,SAASw9E,EAAe32B,EAAe9xD,GACrC,IAAIuJ,EACJlP,EAAgBuE,KAAM6pF,IACtBl/E,EAAQ8C,EAAO/P,KAAKsC,OACd8oE,MAAQ1nE,EACduJ,EAAMo/E,MAAQ,GACdp/E,EAAMyhD,aAAc,EACpB,IAAI49B,GAAgB,GAChBC,GAAgB,GACpB,OAAQ7oF,EAAK2X,iBACX,IAAK,OACHixE,EAAe,EACf,MACF,IAAK,QACHA,GAAgB,IAGpB,OAAQ5oF,EAAK4X,eACX,IAAK,MACHixE,GAAgB,IAChB,MACF,IAAK,SACHA,EAAe,EAGnB,IAAIC,EAAW,IAAI,MAAQ9oF,EAAK6X,IAAM,EAAG7X,EAAK8X,IAAM,EAAG9X,EAAK+X,IAAM,GAKlE,OAJAxO,EAAMw/E,SAAW,CACfC,YAAa,aAAa/+E,OAAO2+E,EAAc,OAAO3+E,OAAO4+E,EAAc,MAC3EpqD,OAAQqqD,GAEHv/E,CACT,CAkDA,OAjDAlO,EAAaotF,EAAgB,CAAC,CAC5BrtF,IAAK,UACLe,MAAO,SAAiBq8D,EAASC,EAASwwB,GACxC,IAAIjpF,EAAOpB,KAAK8oE,MACZl9D,EAAO5L,KAAK+pF,MAAMnwB,IA9D5B,SAAqBywB,EAAUvpF,GAC7B,IAAI8K,EAAOpK,SAASC,cAAc,OAElC,GADAmK,EAAK9K,UA4DuD,QA3DpC,iBAAbupF,EAAuB,CAChC,IAAIC,EAAW9oF,SAASC,cAAc,QACtC6oF,EAASnmF,MAAMomF,SAAW,OAE1B,IADA,IAAIC,EAAUH,EAAS/nF,MAAM,MACpBtG,EAAI,EAAGoC,EAAIosF,EAAQvuF,OAAQD,EAAIoC,IAAKpC,EAAG,CAC9C,IAAIyuF,EAAYjpF,SAASC,cAAc,QACnCipF,EAAelpF,SAASmP,eAAe65E,EAAQxuF,IACnDyuF,EAAUhnF,YAAYinF,GACtBJ,EAAS7mF,YAAYgnF,GACjBzuF,EAAIoC,EAAI,GACVksF,EAAS7mF,YAAYjC,SAASC,cAAc,MAEhD,CACAmK,EAAKnI,YAAY6mF,EACnB,MACE1+E,EAAKnI,YAAY4mF,GAGnB,OADAz+E,EAAKkJ,SAAW,IAAI,MACblJ,CACT,CAwCwC++E,CAAYN,GAC9Cz+E,EAAKkJ,SAASzD,KAAKwoD,GACnBjuD,EAAKzH,MAAMymF,UAAYxpF,EAAK2X,gBAC5BnN,EAAKzH,MAAM6U,cAAgB5X,EAAK4X,cAChChZ,KAAK+pF,MAAMnwB,GAAWhuD,CACxB,GACC,CACDpP,IAAK,WACLe,MAAO,SAAkBq8D,EAASixB,EAAQC,GAC7B9qF,KAAK+pF,MAAMnwB,GACjBx4D,KAAO,CACVb,MAAOsqF,EACP1nF,WAAY2nF,EAEhB,GACC,CACDtuF,IAAK,cACLe,MAAO,WACL,OAAO,CACT,GACC,CACDf,IAAK,eACLe,MAAO,WACLyC,KAAKosD,aAAc,EACnBpsD,KAAK2J,cAAc,CACjBd,KAAM,UAEV,GACC,CACDrM,IAAK,WACLe,MAAO,WACLyC,KAAKm6D,cACP,GACC,CACD39D,IAAK,UACLe,MAAO,WAAoB,GAC1B,CACDf,IAAK,aACLe,MAAO,WAAuB,GAC7B,CACDf,IAAK,YACLe,MAAO,WACL,MAAO,EACT,KAEKssF,CACT,CArFqB,CAqFnBnhF,GAEEqiF,GAAa,CACf3xB,yBAA0BA,GAC1B2D,sBAAuBA,GACvBa,0BAA2BA,GAC3B+D,6BAA8BA,GAC9BiC,wBAAyBA,GACzBwD,qBAAsBA,GACtBY,sBAAuBA,GACvBQ,cAAeA,GACfyL,kBAAmBA,GACnB8J,uBAAwBA,GACxB+E,qBAAsBA,GACtB+G,eAAgBA,IAOdmB,GAAe,CACjBC,UAAW,UACX11D,KAAM,SAAc21D,GAClBlrF,KAAKirF,UAAYC,EAASF,aAAaG,gBAAgB,QACzD,GAKEC,GAAa,IAAIp9E,WAAW,CAAC,GAAI,GAAI,EAAG,IAAK,IAAK,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,EAAG,GAAI,IAAK,EAAG,IAAK,EAAG,EAAG,GAAI,IAAK,EAAG,IAAK,EAAG,EAAG,IAAK,GAAI,EAAG,IAAK,IAAK,EAAG,EAAG,IAAK,EAAG,IAAK,IAAK,EAAG,GAAI,IAAK,EAAG,IAAK,IAAK,EAAG,EAAG,IAAK,EAAG,IAAK,IAAK,IACxNq9E,GAAc,MACdC,GAAc,MACdC,GAAkB,MAClBC,GAAkB,MAClBC,GAAgB,MAChBC,GAAe,IAAI,MAAYN,GARlB,EACC,EAOsD,MAAW,MAAkBK,GAAeJ,GAAaC,GAAaE,GAAiBD,GAAiB,GAChLG,GAAat/B,aAAc,EAC3B,IAAIu/B,GAAQ,CACVC,WAXe,EAYfC,YAXgB,EAYhBH,aAAcA,IAGhB,SAASI,GAAQh5E,EAAQi5E,GAAkB,IAAIhhF,EAAOzO,OAAOyO,KAAK+H,GAAS,GAAIxW,OAAO0vF,sBAAuB,CAAE,IAAIC,EAAU3vF,OAAO0vF,sBAAsBl5E,GAASi5E,IAAmBE,EAAUA,EAAQnsE,QAAO,SAAUosE,GAAO,OAAO5vF,OAAO07B,yBAAyBllB,EAAQo5E,GAAK/vF,UAAY,KAAK4O,EAAK1L,KAAKU,MAAMgL,EAAMkhF,EAAU,CAAE,OAAOlhF,CAAM,CACpV,SAASohF,GAAcrwF,GAAU,IAAK,IAAIE,EAAI,EAAGA,EAAI6D,UAAU5D,OAAQD,IAAK,CAAE,IAAIi3D,EAAS,MAAQpzD,UAAU7D,GAAK6D,UAAU7D,GAAK,CAAC,EAAGA,EAAI,EAAI8vF,GAAQxvF,OAAO22D,IAAS,GAAI5pD,SAAQ,SAAU7M,GAAOupB,GAAgBjqB,EAAQU,EAAKy2D,EAAOz2D,GAAO,IAAKF,OAAO8vF,0BAA4B9vF,OAAO67D,iBAAiBr8D,EAAQQ,OAAO8vF,0BAA0Bn5B,IAAW64B,GAAQxvF,OAAO22D,IAAS5pD,SAAQ,SAAU7M,GAAOF,OAAOC,eAAeT,EAAQU,EAAKF,OAAO07B,yBAAyBi7B,EAAQz2D,GAAO,GAAI,CAAE,OAAOV,CAAQ,CAGzf,IAAIuwF,GAAmB,CAAC,IAAI,OAAS,QAAU,SAAW,IAAI,MAAQ,SAAW,SAAW,IAAI,MAAQ,QAAU,SAAW,IAAI,OAAS,QAAU,UAChJC,GAAkB,MAAchtE,MAAM,CAAC,MAAYtC,IAAK,MAAYg5C,OAAQ,CAC9Eu2B,QAAS,CACPhvF,MAAO,IAAI,MAAM,WAEnB0vD,QAAS,CACP1vD,MAAO,GAETivF,SAAU,CACR3jF,KAAM,IACNtL,MAAO,IAAI,MAAM,UAEnBkvF,UAAW,CACT5jF,KAAM,IACNtL,MAAO,IAET44D,WAAY,CACVttD,KAAM,IACNtL,MAAO,IAAI,MAAM,WAEnB64D,QAAS,CACPvtD,KAAM,IACNtL,MAAO,GAETmvF,WAAY,CACV7jF,KAAM,IACNtL,MAAO,GAETovF,eAAgB,CACd9jF,KAAM,IACNtL,MAAO,GAETqvF,eAAgB,CACd/jF,KAAM,IACNtL,OAAQ,IAEVsvF,mBAAoB,CAClBhkF,KAAM,MACNtL,MAAO,IAAI,OAEbuvF,kBAAmB,CACjBjkF,KAAM,MACNtL,MAAO,IAAI,OAEbwvF,eAAgB,CACdlkF,KAAM,IACNtL,MAAO,IAETyvF,iBAAkB,CAChBnkF,KAAM,IACNtL,MAAO,IAET0vF,cAAe,CACbpkF,KAAM,MACNtL,MAAO,IAAI,OAEb2vF,SAAU,CACRrkF,KAAM,KACNtL,MAAO,IAAI,OAEb8Z,UAAW,CACTxO,KAAM,IACNtL,MAAO,GAET6d,SAAU,CACRvS,KAAM,IACNtL,MAAO,GAET4vF,cAAe,CACbtkF,KAAM,MACNtL,MAAO,MAET6vF,SAAU,CACRvkF,KAAM,IACNtL,MAAO,MAET8vF,eAAgB,CACdxkF,KAAM,KACNtL,MAAO,MAET+vF,aAAc,CACZzkF,KAAM,KACNtL,MAAO,SAGPgwF,GAAkB,CAAC,YAAa,UAAW,UAAW,UAAW,WAAY,aAAc,YAAa,aAAc,iBAAkB,oBAAqB,iBAAkB,mBAAoB,gBAAiB,WAAY,YAAa,WAAY,gBAAiB,WAAY,iBAAkB,gBACxSC,GAAc,CAChBjB,QAAS,IAAI,MAAM,UACnBC,SAAU,IAAI,MAAM,SACpBC,UAAW,GACXx/B,QAAS,EACTkJ,WAAY,IAAI,MAAM,UACtBC,QAAS,EACTq3B,UAAW,EACXf,WAAY,EACZC,eAAgB,EAChBG,kBAAmB,IAAI,MACvBC,eAAgB,GAChBC,iBAAkB,GAClBC,cAAe,IAAI,MACnBC,SAAU,IAAI,MAAQ,IAAK,KAC3B71E,UAAW,EACX+D,SAAU,EACV+xE,cAAed,GACfe,SAAUzB,GAAMD,aAChB2B,eAAgB,IAAI,MAAQ,EAAM1B,GAAMC,WAAY,EAAMD,GAAME,aAChEyB,aAAc,IAAI,MAAQ,EAAM,IAAO,EAAM,KAC7Cj8E,KAAM,SAAc4hD,GAClBjzD,KAAKusF,QAAQl7E,KAAK4hD,EAAOs5B,SACzBvsF,KAAKwsF,SAASn7E,KAAK4hD,EAAOu5B,UAC1BxsF,KAAKysF,UAAYx5B,EAAOw5B,UACxBzsF,KAAKitD,QAAUgG,EAAOhG,QACtBjtD,KAAKm2D,WAAW9kD,KAAK4hD,EAAOkD,YAC5Bn2D,KAAKo2D,QAAUnD,EAAOmD,QACtBp2D,KAAKytF,UAAYx6B,EAAOw6B,UACxBztF,KAAK0sF,WAAaz5B,EAAOy5B,WACzB1sF,KAAK2sF,eAAiB15B,EAAO05B,eAC7B3sF,KAAK8sF,kBAAkBz7E,KAAK4hD,EAAO65B,mBACnC9sF,KAAK+sF,eAAiB95B,EAAO85B,eAC7B/sF,KAAKgtF,iBAAmB/5B,EAAO+5B,iBAC/BhtF,KAAKitF,cAAgBh6B,EAAOg6B,cAC5BjtF,KAAKktF,SAAWj6B,EAAOi6B,SACvBltF,KAAKqX,UAAY47C,EAAO57C,UACxBrX,KAAK0tF,YAAcz6B,EAAOy6B,YAC1B1tF,KAAKob,SAAW63C,EAAO73C,SACvBpb,KAAKmtF,cAAgBl6B,EAAOk6B,cAC5BntF,KAAKotF,SAAWn6B,EAAOm6B,SACvBptF,KAAKqtF,eAAiBp6B,EAAOo6B,eAC7BrtF,KAAKstF,aAAer6B,EAAOq6B,YAC7B,GAEEK,GAAe,SAAUv9B,GAC3BhzD,EAAUuwF,EAAcv9B,GACxB,IAvIuB7iD,EAAeC,EAuIlCC,GAvImBF,EAuIMogF,EAvISngF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQimF,GAAuC,WAAkC,IAAsCvhF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAwIza,SAASshF,EAAa1kF,GACpB,IAAI0B,EAoCJ,OAnCAlP,EAAgBuE,KAAM2tF,IACtBhjF,EAAQ8C,EAAO/P,KAAKsC,KAAMiJ,IACpB+T,KAAM,EACZrS,EAAMkjF,cAAe,EACrBljF,EAAMmjF,iBAAkB,EACxBnjF,EAAMojF,WAAY,EAClBpjF,EAAMqjF,YAAa,EACnBrjF,EAAMsjF,gBAAiB,EACvBtjF,EAAMorD,eAAgB,EACtBprD,EAAMujF,cAAe,EACrBvjF,EAAMwjF,gBAAiB,EACvBxjF,EAAM6M,OAAQ,EACd7M,EAAMgS,WAAY,EAClBhS,EAAMyjF,aAAc,EACpBzjF,EAAM0jF,qBAAsB,EAC5B1jF,EAAM2jF,cAAe,EACrB3jF,EAAMsrD,WAAY,EAClBtrD,EAAM4jF,cAAgB,SACtB5jF,EAAM6jF,gBAAiB,EACvB7jF,EAAM8jF,UAAW,EACjB9jF,EAAM+jF,YAAa,EACnB/jF,EAAM8R,aAAc,EACpB9R,EAAMgkF,WAAY,EAClBhkF,EAAMikF,gBAAiB,EACvBjkF,EAAMkkF,kBAAmB,EACzBlkF,EAAM+iF,aAAc,EACpB/iF,EAAM6iF,YAAcA,GACpB7iF,EAAMkrD,UAAUs2B,GAAc,CAC5B77B,SAAU,MAAc9lC,MAAM8hE,IAC9B97B,aAAc7lD,EAAMmkF,kBApMP,mmPAqMb99B,eAAgBrmD,EAAMmkF,kBAnML,yv0BAoMjB94B,QAAQ,EACRh5C,KAAK,EACLsiE,KAAM,OACLr2E,IACI0B,CACT,CAsLA,OArLAlO,EAAakxF,EAAc,CAAC,CAC1BnxF,IAAK,kBACLe,MAAO,WACL,IAAI0tF,EAAYD,GAAaC,UAE7B,MADU,aAAa5/E,OAAO4/E,EAAW,aAAe,aAAa5/E,OAAO4/E,EAAW,YAEzF,GACC,CACDzuF,IAAK,OACLe,MAAO,SAAc01D,GA+BnB,OA9BAt7B,GAAKh6B,EAAgBgwF,EAAanyF,WAAY,OAAQwE,MAAMtC,KAAKsC,KAAMizD,GACvEjzD,KAAKgxD,eAAiBiC,EAAOjC,eAC7BhxD,KAAKwwD,aAAeyC,EAAOzC,aAC3BxwD,KAAKswD,SAAW,MAAc9lC,MAAMyoC,EAAO3C,UAC3CtwD,KAAK+uF,QAAU5C,GAAc,CAAC,EAAGl5B,EAAO87B,SACxC/uF,KAAKgvF,WAAa/7B,EAAO+7B,WACzBhvF,KAAKgd,IAAMi2C,EAAOj2C,IAClBhd,KAAK6tF,aAAe56B,EAAO46B,aAC3B7tF,KAAK8tF,gBAAkB76B,EAAO66B,gBAC9B9tF,KAAK+tF,UAAY96B,EAAO86B,UACxB/tF,KAAKguF,WAAa/6B,EAAO+6B,WACzBhuF,KAAKiuF,eAAiBh7B,EAAOg7B,eAC7BjuF,KAAK+1D,cAAgB9C,EAAO8C,cAC5B/1D,KAAKkuF,aAAej7B,EAAOi7B,aAC3BluF,KAAKmuF,eAAiBl7B,EAAOk7B,eAC7BnuF,KAAKwX,MAAQy7C,EAAOz7C,MACpBxX,KAAK2c,UAAYs2C,EAAOt2C,UACxB3c,KAAKouF,YAAcn7B,EAAOm7B,YAC1BpuF,KAAKsuF,aAAer7B,EAAOq7B,aAC3BtuF,KAAKi2D,UAAYhD,EAAOgD,UACxBj2D,KAAKuuF,cAAgBt7B,EAAOs7B,cAC5BvuF,KAAKwuF,eAAiBv7B,EAAOu7B,eAC7BxuF,KAAKyuF,SAAWx7B,EAAOw7B,SACvBzuF,KAAKquF,oBAAsBp7B,EAAOo7B,oBAClCruF,KAAK0uF,WAAaz7B,EAAOy7B,WACzB1uF,KAAK2uF,UAAY17B,EAAO07B,UACxB3uF,KAAK4uF,eAAiB37B,EAAO27B,eAC7B5uF,KAAK6uF,iBAAmB57B,EAAO47B,iBAC/B7uF,KAAK0tF,YAAcz6B,EAAOy6B,YAC1B1tF,KAAKwtF,YAAYn8E,KAAK4hD,EAAOu6B,aACtBxtF,IACT,GACC,CACDxD,IAAK,iBACLe,MAAO,WACL,IAAI0xF,EAAO,IAAItB,EAGf,OAFAsB,EAAK59E,KAAKrR,MACVivF,EAAKzB,YAAclxF,OAAOkB,OAAOwC,KAAKwtF,aAC/ByB,CACT,GACC,CACDzyF,IAAK,YACLe,MAAO,SAAmBkM,GACxB,QAAsB,IAAXA,EAAX,CAGAkuB,GAAKh6B,EAAgBgwF,EAAanyF,WAAY,YAAawE,MAAMtC,KAAKsC,KAAMyJ,GAC5E,IAAIslF,EAAU,CAAC,EACXC,EAAa,CAAC,EACdhvF,KAAKgd,MACP+xE,EAAQG,QAAU,GAEhBlvF,KAAK6tF,eACPkB,EAAQI,cAAgB,GAEtBnvF,KAAK8tF,kBACPiB,EAAQK,iBAAmB,GAEzBpvF,KAAK+tF,YACPgB,EAAQM,WAAa,GAEnBrvF,KAAKguF,aACPe,EAAQO,YAAc,GAEpBtvF,KAAKiuF,iBACPc,EAAQQ,iBAAmB,GAEzBvvF,KAAK+1D,gBACPg5B,EAAQS,eAAiB,GAEvBxvF,KAAKkuF,eACPa,EAAQU,cAAgB,EACxBT,EAAWU,UAAY,GAErB1vF,KAAKmuF,iBACPY,EAAQY,gBAAkB,EAC1BX,EAAWU,UAAY,GAErB1vF,KAAKwX,QACPu3E,EAAQa,MAAQ,GAEd5vF,KAAK2c,YACPoyE,EAAQc,WAAa,GAEnB7vF,KAAKouF,cACPW,EAAQe,aAAe,GAErB9vF,KAAKg2D,SACP+4B,EAAQgB,WAAa,GAEnB/vF,KAAKsuF,eACPS,EAAQiB,eAAiB,GAEvBhwF,KAAKi2D,YACP84B,EAAQvgC,UAAY,EACO,QAAvBxuD,KAAKuuF,cACPQ,EAAQkB,oBAAsB,EACE,WAAvBjwF,KAAKuuF,cACdQ,EAAQmB,mBAAqB,EAE7BnB,EAAQoB,gBAAkB,GAG1BnwF,KAAKwuF,iBACPO,EAAQqB,iBAAmB,GAEzBpwF,KAAKyuF,WACPM,EAAQsB,oBAAsB,GAE5BrwF,KAAKquF,sBACPU,EAAQuB,eAAiB,GAEvBtwF,KAAK0uF,aACPK,EAAQwB,YAAc,GAEpBvwF,KAAK2uF,YACPI,EAAQyB,WAAa,GAEnBxwF,KAAK4uF,iBACPG,EAAQ0B,gBAAkB,GAExBzwF,KAAK6uF,mBACPG,EAAW0B,YAAc,EACzB3B,EAAQ4B,oBAAsB,GAE5B3wF,KAAK0tF,cACPqB,EAAQ6B,aAAe,GAEzB5wF,KAAK+uF,QAAUA,EACf/uF,KAAKgvF,WAAaA,CApFlB,CAqFF,GACC,CACDxyF,IAAK,iBACLe,MAAO,SAAwBkM,GAC7B,QAAsB,IAAXA,EAGX,IAAK,IAAIjN,KAAOiN,EACTA,EAAO3J,eAAetD,KAGvBwD,KAAKwtF,YAAYhxF,aAAgB,MACnCwD,KAAKwtF,YAAYhxF,GAAOiN,EAAOjN,GAAKguB,QAEpCxqB,KAAKwtF,YAAYhxF,GAAOiN,EAAOjN,GAGrC,GACC,CACDA,IAAK,QACLe,MAAO,SAAeszF,GACpB,OAAKA,EAGE7wF,KAAK8wF,iBAFH,MAASt1F,UAAUgvB,MAAM9sB,KAAKsC,KAGzC,GACC,CACDxD,IAAK,iBACLe,MAAO,WACL,IAAIV,EAAOmD,KACXutF,GAAgBlkF,SAAQ,SAAUpM,GAC5BJ,EAAKyzD,SAASxwD,eAAe7C,KAC3BJ,EAAK2wF,YAAYvwF,aAAc,OAASJ,EAAK2wF,YAAYvwF,aAAc,MACzEJ,EAAKyzD,SAASrzD,GAAGM,MAAQV,EAAK2wF,YAAYvwF,GAAGutB,QAE7C3tB,EAAKyzD,SAASrzD,GAAGM,MAAQV,EAAK2wF,YAAYvwF,GAGhD,GACF,KAEK0wF,CACT,CAhOmB,CAgOjB,OAIF,SAASoD,GAAYC,GACnB,IAAIC,EAAgB,SAAUC,GAC5B9zF,EAAU6zF,EAAeC,GACzB,IALqB3jF,EAAeC,EAKhCC,GALiBF,EAKQ0jF,EALOzjF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQwpF,GAAuC,WAAkC,IAAsC9kF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMva,SAAS4kF,IACP,IAAItmF,EACJlP,EAAgBuE,KAAMixF,GACtB,IAAK,IAAI/jF,EAAOrN,UAAU5D,OAAQm1F,EAAO,IAAInzF,MAAMiP,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EikF,EAAKjkF,GAAQtN,UAAUsN,GAIzB,OAFAxC,EAAQ8C,EAAO/P,KAAKqC,MAAM0N,EAAQ,CAACzN,MAAMqL,OAAO+lF,KAC1CC,eAAiBJ,EAAcz1F,UAAU61F,eACxC1mF,CACT,CAsBA,OArBAlO,EAAaw0F,EAAe,CAAC,CAC3Bz0F,IAAK,iBACLe,MAAO,SAAwB2tF,EAAUoG,EAAO1/B,EAAQhB,EAAU30C,EAAUo4C,GAC1Er0D,KAAKuxF,gBAAgBrG,EAAUoG,EAAO1/B,EAAQhB,EAAU30C,EAAUo4C,GAClEr0D,KAAKwxF,SACP,GACC,CACDh1F,IAAK,kBACLe,MAAO,WAA4B,GAClC,CACDf,IAAK,UACLe,MAAO,WACL,IAAI0e,EAAWjc,KAAKic,SACfA,GAGDA,aAAoB0xE,IACtB1xE,EAASw1E,gBAEb,KAEKR,CACT,CAnCoB,CAmClBD,GACF,OAAOC,CACT,CAIA,IAAIS,GAAYX,GAAW,OACvBY,GAAc,SAAUC,GAC1Bx0F,EAAUu0F,EAAaC,GACvB,IALuBrkF,EAAeC,EAKlCC,GALmBF,EAKMokF,EALSnkF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQkqF,GAAuC,WAAkC,IAAsCxlF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMza,SAASslF,IACP,IAAIhnF,EACJlP,EAAgBuE,KAAM2xF,GACtB,IAAK,IAAIzkF,EAAOrN,UAAU5D,OAAQm1F,EAAO,IAAInzF,MAAMiP,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EikF,EAAKjkF,GAAQtN,UAAUsN,GAKzB,OAHAxC,EAAQ8C,EAAO/P,KAAKqC,MAAM0N,EAAQ,CAACzN,MAAMqL,OAAO+lF,KAC1CU,YAAa,EACnBnnF,EAAMonF,eAAgB,EACfpnF,CACT,CAiBA,OAhBAlO,EAAak1F,EAAa,CAAC,CACzBn1F,IAAK,kBACLe,MAAO,SAAyB2tF,EAAUoG,EAAO1/B,EAAQogC,EAAW3iC,EAAW4iC,GAC7EP,GAAUl2F,UAAU+1F,gBAAgB7zF,KAAKsC,KAAMkrF,EAAUoG,EAAO1/B,GAChE,IAAI31C,EAAWjc,KAAKic,SACfA,GAGDA,EAASq0C,SAASu8B,qBACpB7sF,KAAKkyF,gBAAgBC,iBAAiBvgC,EAAOW,mBAAoBvyD,KAAKgvD,aACtE/yC,EAASq0C,SAASu8B,mBAAmBtvF,MAAM8T,KAAKrR,KAAKkyF,iBAAiBjjC,SACtEhzC,EAASq0C,SAASs8B,eAAervF,MAAQq0D,EAAOU,KAChDr2C,EAASm2E,oBAAqB,EAElC,KAEKT,CACT,CA/BkB,CA+BhBD,IAIF,IAAIW,GAAYtB,GAAW,OACvBuB,GAAe,SAAUV,GAC3Bx0F,EAAUk1F,EAAcV,GACxB,IALuBrkF,EAAeC,EAKlCC,GALmBF,EAKM+kF,EALS9kF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ4qF,GAAuC,WAAkC,IAAsClmF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMza,SAASimF,EAAa1hC,EAAU30C,GAC9B,IAAItR,EAKJ,OAJAlP,EAAgBuE,KAAMsyF,IACtB3nF,EAAQ8C,EAAO/P,KAAKsC,KAAM4wD,EAAU30C,IAC9B61E,YAAa,EACnBnnF,EAAMonF,eAAgB,EACfpnF,CACT,CAqBA,OApBAlO,EAAa61F,EAAc,CAAC,CAC1B91F,IAAK,kBACLe,MAAO,SAAyB2tF,EAAUoG,EAAO1/B,GAC/CygC,GAAU72F,UAAU+1F,gBAAgB7zF,KAAKsC,KAAMkrF,EAAUoG,EAAO1/B,GAChE,IAAIkD,EAAM90D,KAAK4wD,SACX30C,EAAWjc,KAAKic,SACpB,GAAK64C,EAAIt9C,OAAUyE,EAASuxE,YAA5B,CAGA,IACIgF,EAAYF,EAAaG,WACzBC,EAAWJ,EAAaK,UACxBrqD,EAASgqD,EAAah5D,QAC1Bk5D,EAAUL,iBAAiBnyF,KAAKgvD,YAAa4C,EAAOW,oBACpD,IAAI3yD,EAAI8yF,EAASE,oBAAoBJ,EAAW,GAAGv2F,SACnDqsC,EAAOj3B,KAAKyjD,EAAI/sB,eAAeO,QAC/BtoC,KAAK6yF,aAAavqD,GAClBrsB,EAASuxE,YAAYd,WAAa96B,EAAO1wD,SAASwuB,EAAI4Y,EAAO5Y,EAAI9vB,GARjD,GAQkEk1D,EAAI/sB,eAAe3nC,OATrG,CAUF,KAEKkyF,CACT,CAhCmB,CAgCjBD,IACFtsE,GAAgBusE,GAAc,YAAa,IAAI,OAC/CvsE,GAAgBusE,GAAc,UAAW,IAAI,OAC7CvsE,GAAgBusE,GAAc,aAAc,IAAI,OAIhD,IAAIQ,GAAW,SAAU3lC,GACvB/vD,EAAU01F,EAAU3lC,GACpB,IAJuB5/C,EAAeC,EAIlCC,GAJmBF,EAIMulF,EAJStlF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQorF,GAAuC,WAAkC,IAAsC1mF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASymF,EAASliC,EAAUvB,GAC1B,IAAI1kD,EACJlP,EAAgBuE,KAAM8yF,IACtBnoF,EAAQ8C,EAAO/P,KAAKsC,OACd4wD,SAAWA,EACjB,IAAI/zD,EAAOD,EAAuB+N,GAKlC,OAJA9N,EAAKm2F,aAAc,EACnBroF,EAAMimD,SAAShoD,iBAAiB,UAAU,WACxC/L,EAAKwI,QACP,IACOsF,CACT,CA8CA,OA7CAlO,EAAaq2F,EAAU,CAAC,CACtBt2F,IAAK,OACLe,MAAO,WAEL,IADA,IAAIiwD,EAAWxtD,KAAKwtD,SACXxxD,EAAIwxD,EAASvxD,OAAS,EAAGD,GAAK,IAAKA,EAC1CgE,KAAKwJ,OAAOgkD,EAASxxD,IAKvB,IAHA,IAAIi3F,EAAiBjzF,KAAK4wD,SACtBm5B,EAAQkJ,EAAelJ,MACvBI,EAAW8I,EAAe9I,SACrBtrF,EAAK,EAAGT,EAAI2rF,EAAM9tF,OAAQ4C,EAAKT,IAAKS,EAAI,CAC/C,IAAIq0F,EAAUnJ,EAAMlrF,GACpB,GAAKq0F,EAAL,CAGA,IAAIvqC,EAAOp5C,EAAMmF,iBAAiBw+E,GAC9BC,EAAQ,IAAI1mC,GAAY9D,GAC5BwqC,EAAMhJ,UAAW,IAAA3/D,OAAM2/D,GACdgJ,EAAMrmC,aACZ3oD,MAAMivF,WAAa,UACtBD,EAAMlgC,OAASigC,EACflzF,KAAK6vC,IAAIsjD,EAPT,CAQF,CACAnzF,KAAKgzF,aAAc,CACrB,GACC,CACDx2F,IAAK,SACLe,MAAO,WAEL,GADUyC,KAAK4wD,SACNxE,YAAT,CAGA,IAAIoB,EAAWxtD,KAAKwtD,SACfxtD,KAAKgzF,aACRhzF,KAAKu1B,OAEP,IAAK,IAAIv5B,EAAI,EAAGoC,EAAIovD,EAASvxD,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAI0U,EAAQ88C,EAASxxD,GACjB2sD,EAAOj4C,EAAMuiD,OACjBviD,EAAMxP,SAASmQ,KAAKs3C,EAAK7zC,UACzBpE,EAAMy5E,SAAS5pF,MAAQooD,EAAKvnD,KAAKb,MACjCmQ,EAAMy5E,SAAShnF,WAAawlD,EAAKvnD,KAAK+B,UACxC,CAXA,CAYF,KAEK2vF,CACT,CA7De,CA6Db,OAIF,IACIO,GAAa,SAAUzB,GACzBx0F,EAAUi2F,EAAYzB,GACtB,IALuBrkF,EAAeC,EAKlCC,GALmBF,EAKM8lF,EALS7lF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ2rF,GAAuC,WAAkC,IAAsCjnF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMza,SAASgnF,EAAWziC,EAAU30C,GAC5B,IAAItR,EAKJ,OAJAlP,EAAgBuE,KAAMqzF,IACtB1oF,EAAQ8C,EAAO/P,KAAKsC,KAAM4wD,EAAU30C,IAC9B61E,YAAa,EACnBnnF,EAAMonF,eAAgB,EACfpnF,CACT,CACA,OAAOlO,EAAa42F,EACtB,CAZiB,CADDtC,GAAW,QAiB3B,IAAIwC,GAAYxC,GAAW,OACvByC,GAAY,IAAI,MAChBC,GAAgB,SAAU7B,GAC5Bx0F,EAAUq2F,EAAe7B,GACzB,IANuBrkF,EAAeC,EAMlCC,GANmBF,EAMMkmF,EANSjmF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ+rF,GAAuC,WAAkC,IAAsCrnF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAOza,SAASonF,IAEP,OADAh4F,EAAgBuE,KAAMyzF,GACfhmF,EAAO1N,MAAMC,KAAMH,UAC5B,CAaA,OAZApD,EAAag3F,EAAe,CAAC,CAC3Bj3F,IAAK,kBACLe,MAAO,SAAyB2tF,EAAUoG,EAAO1/B,EAAQogC,EAAW3iC,EAAW4iC,GAC7E,IAAIh2E,EAAWjc,KAAKic,SACfA,EAASuxE,cAGdvxE,EAASuxE,YAAYP,cAAc57E,KAAKugD,EAAO+hC,kBAAkB1kC,SACjEi8B,EAASh3C,QAAQs/C,IACjBv3E,EAASuxE,YAAYN,SAAS5kF,IAAIkrF,GAAUrzF,MAAOqzF,GAAUtwF,QAC/D,KAEKuwF,CACT,CApBoB,CAoBlBF,IAIF,IACIK,GAAgB,SAAUhC,GAC5Bx0F,EAAUw2F,EAAehC,GACzB,IALuBrkF,EAAeC,EAKlCC,GALmBF,EAKMqmF,EALSpmF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQksF,GAAuC,WAAkC,IAAsCxnF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMza,SAASunF,IACP,IAAIjpF,EACJlP,EAAgBuE,KAAM4zF,GACtB,IAAK,IAAI1mF,EAAOrN,UAAU5D,OAAQm1F,EAAO,IAAInzF,MAAMiP,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAC/EikF,EAAKjkF,GAAQtN,UAAUsN,GAKzB,OAHAxC,EAAQ8C,EAAO/P,KAAKqC,MAAM0N,EAAQ,CAACzN,MAAMqL,OAAO+lF,KAC1CU,YAAa,EACnBnnF,EAAMonF,eAAgB,EACfpnF,CACT,CACA,OAAOlO,EAAam3F,EACtB,CAfoB,CADN7C,GAAW,QAkBrB+C,GAAS,CACXC,SAAUzB,GACV0B,QAASrC,GACTsC,KAAMnB,GACNoB,KAAMnD,GAAW,OACjBoD,aAAcpD,GAAW,OACzBqD,KAAMf,GACNI,cAAeA,GACfY,UAAWT,IAGb,SAASU,GAAarrF,EAAQqnD,GAC5B,OAAO,SAAUr0C,GACfA,EAAS45C,UAAU5sD,GACnBgT,EAASi6C,eAAe5F,EAC1B,CACF,CACA,SAASikC,GAA0B96B,EAAa6F,GAC9C,MAAO,CACLk1B,SAAU,SAAkB3sF,EAAGo2C,GAC7B,OAAO,IAAI8sC,GAAWppB,6BAA6B95D,EAAGo2C,EAAGwb,EAAa6F,EACxE,EACAhjE,OAAQm9D,EAAcq6B,GAAOE,QAAUF,GAAOO,UAC9CI,aAAcH,GAAa,CACzBxG,iBAAiB,EACjBC,WAAW,EACXC,YAAY,EACZC,gBAAgB,EAChBE,eAAgB10B,IAGtB,CACA,SAASi7B,GAA8B5/B,EAAK6/B,GAC1C,IAAIC,EAAa9/B,EAAIt5D,qBAAqBkqE,GACtCruD,EAAYs9E,EAAat9E,WAAa,EAC1C,MAAO,CACLm9E,SAAU1/B,EACVx4D,OAAQs4F,EAAad,GAAOL,cAAgBK,GAAOK,aACnDM,aAAcH,GAAa,CACzBt+B,QAAQ,EACR+3B,WAAW,EACXE,gBAAgB,EAChBU,UAAWiG,GACV,CACDv9E,UAAWA,IAGjB,CAWA,SAASw9E,GAA4BC,EAAUC,EAAM1vE,EAAUsvE,GAC7D,IAAIK,EAAc,CAChBr9E,YAAag9E,EAAah9E,UAC1By2E,YAAa/oE,EAASlgB,IAAI+X,sBAC1B1F,MAAOm9E,EAAan9E,OAEtB,MAAO,CACLg9E,SAAUM,EACVx4F,OAAQw3F,GAAOC,SACfU,aAAcH,GAAa,CACzBvG,WAAW,EACXE,gBAAgB,EAChBt2E,UAAWq9E,EAAYr9E,UACvBy2E,YAAa4G,EAAY5G,YACzB52E,MAAOw9E,EAAYx9E,QAGzB,CACA,IAAIy9E,GAAc,WAChB,SAASA,IACPx5F,EAAgBuE,KAAMi1F,EACxB,CAyEA,OAxEAx4F,EAAaw4F,EAAa,KAAM,CAAC,CAC/Bz4F,IAAK,gBACLe,MAAO,SAAuBw3F,EAAM1vE,GAClC,IAAIo0C,EAAcp0C,EAASlgB,IAAI8X,SAC/B,MAAO,CACLu3E,SAAU,SAAkB3sF,EAAGo2C,GAC7B,OAAO,IAAI8sC,GAAW3xB,yBAAyBvxD,EAAGo2C,EAAGwb,EACvD,EACAn9D,OAAQm9D,EAAcq6B,GAAOE,QAAUF,GAAOO,UAC9CI,aAAcH,GAAa,CACzBzG,cAAc,EACdE,WAAW,EACXE,gBAAgB,EAChBC,aAAcz0B,IAGpB,GACC,CACDj9D,IAAK,0BACLe,MAAO,SAAiC23F,EAAOC,GAC7C,OAAOZ,IAA0B,GAAO,EAC1C,GACC,CACD/3F,IAAK,oBACLe,MAAO,SAA2Bw3F,EAAM1vE,GACtC,OAAOkvE,GAA0BlvE,EAASlgB,IAAI8X,UAAU,EAC1D,GACC,CACDzgB,IAAK,gBACLe,MAAO,SAAuB23F,EAAOC,EAAWR,GAC9C,OAAOD,GAA8B3J,GAAW/iB,sBAAuB2sB,EACzE,GACC,CACDn4F,IAAK,gBACLe,MAAO,SAAuB23F,EAAOC,EAAWR,GAC9C,OAAOD,GAA8B3J,GAAWviB,cAAemsB,EACjE,GACC,CACDn4F,IAAK,uBACLe,MAAO,SAA8B23F,EAAOC,GAC1C,MAvEG,CACLX,SAsEiCzJ,GAAWnnB,wBArE5CtnE,OAAQw3F,GAAOM,KACfK,aAAcH,GAAa,CACzBvG,WAAW,EACXE,gBAAgB,IAmElB,GACC,CACDzxF,IAAK,qBACLe,MAAO,SAA4B23F,EAAOC,EAAWR,GACnD,OAAOD,GAA8B3J,GAAW3jB,qBAAsButB,EACxE,GACC,CACDn4F,IAAK,qBACLe,MAAO,SAA4Bw3F,EAAM1vE,EAAUsvE,GACjD,OAAOE,GAA4B9J,GAAW9W,kBAAmB8gB,EAAM1vE,EAAUsvE,EACnF,GACC,CACDn4F,IAAK,uBACLe,MAAO,SAA8Bw3F,EAAM1vE,EAAUsvE,GACnD,OAAOE,GAA4B9J,GAAWhN,uBAAwBgX,EAAM1vE,EAAUsvE,EACxF,GACC,CACDn4F,IAAK,eACLe,MAAO,SAAsBw3F,EAAM1vE,EAAUsvE,GAC3C,OAAOE,GAA4B9J,GAAWjI,qBAAsBiS,EAAM1vE,EAAUsvE,EACtF,GACC,CACDn4F,IAAK,eACLe,MAAO,SAAsB23F,EAAOC,GAClC,MAAO,CACLX,SAAUzJ,GAAWlB,eACrBvtF,OAAQw3F,GAAOG,KACfQ,aAAc,WAAyB,EAE3C,KAEKQ,CACT,CA7EkB,GAiFlB,IAAIG,GAAiB,SAAU1oC,GAC7BtvD,EAAUg4F,EAAgB1oC,GAC1B,IAJuBn/C,EAAeC,EAIlCC,GAJmBF,EAIM6nF,EAJS5nF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ0tF,GAAuC,WAAkC,IAAsChpF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAAS+oF,EAAexkC,EAAU0kC,EAAWr5E,EAAUs5E,GACrD,IAAI5qF,EACJlP,EAAgBuE,KAAMo1F,IACtBzqF,EAAQ8C,EAAO/P,KAAKsC,OACdgyF,UAAYphC,EAClBjmD,EAAM6qF,WAAaF,EACnB,IAAIG,EAAMx5E,EAAS60E,iBACnBwE,EAAUb,aAAagB,GACvB9qF,EAAM0kD,UAAYomC,EAClB9qF,EAAM+qF,YAAcH,EAAWt5F,OAAS,EAAIs5F,EAAa,CAAC,IAAI,OAE9D,IADA,IAAIzB,EAASnpF,EAAMgrF,cAAc/kC,GACxB50D,EAAI,EAAGoC,EAAI01F,EAAO73F,OAAQD,EAAIoC,IAAKpC,EAC1C2O,EAAMklC,IAAIikD,EAAO93F,IAEnB,OAAO2O,CACT,CA4DA,OA3DAlO,EAAa24F,EAAgB,CAAC,CAC5B54F,IAAK,UACLe,MAAO,SAAiB8vD,EAAWC,GACjC,IAAIkL,EAAM48B,EAAeQ,KACrBC,EAAgBT,EAAeU,eAC/BtoC,EAAWxtD,KAAKwtD,SACpBgL,EAAInnD,KAAKg8C,EAAUmL,KACnB,IAAK,IAAIx8D,EAAI,EAAGoC,EAAIovD,EAASvxD,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAI0U,EAAQ88C,EAASxxD,GACrB,GAAKm3D,GAASkC,qBAAqB3kD,GAAnC,CAGAA,EAAMo+C,oBACN,IAAIgW,EAAMp0D,EAAMs+C,YAChB6mC,EAAcxkF,KAAKyzD,GAAK7V,SACxB5B,EAAUmL,IAAInnD,KAAKmnD,GAAKrvB,aAAa0sD,GACrC,IAAIE,EAAkB,GACtB/1F,KAAKgyF,UAAUvkC,QAAQJ,EAAW0oC,GAClC,IAAK,IAAIthF,EAAI,EAAGuhF,EAAUD,EAAgB95F,OAAQwY,EAAIuhF,IAAWvhF,EAAG,CAClE,IAAIskD,EAASg9B,EAAgBthF,GACzBskD,EAAOjkB,QACTikB,EAAOjkB,MAAM3L,aAAa27B,GAC1B/L,EAAOL,SAAWF,EAAIG,OAAO7uC,WAAWivC,EAAOjkB,QAEjDikB,EAAOjmD,OAASpC,EAChB48C,EAAWA,EAAWrxD,QAAU88D,CAClC,CAfA,CAgBF,CACA1L,EAAUmL,IAAInnD,KAAKmnD,EACrB,GACC,CACDh8D,IAAK,YACLe,MAAO,SAAmB88D,GAIxB,IAHA,IAAI47B,EAAOj2F,KAAKgyF,UAAUlkC,UAAUuM,GAChC3iD,EAAS,GACTqzB,EAAS,EACJ/uC,EAAI,EAAGoC,EAAI63F,EAAKh6F,OAAQD,EAAIoC,IAAKpC,EAExC,IADA,IAAI83F,EAAS9zF,KAAK21F,cAAcM,EAAKj6F,IAC5ByY,EAAI,EAAGyhF,EAAUpC,EAAO73F,OAAQwY,EAAIyhF,IAAWzhF,EACtDiD,EAAOqzB,KAAY+oD,EAAOr/E,GAG9B,OAAOiD,CACT,GACC,CACDlb,IAAK,gBACLe,MAAO,SAAuBqzD,GAK5B,IAJA,IAAI2kC,EAAav1F,KAAK01F,YAClBtB,EAAOp0F,KAAKw1F,WAAWl5F,OACvB2f,EAAWjc,KAAKqvD,UAChBykC,EAAS,GACJ93F,EAAI,EAAGoC,EAAIm3F,EAAWt5F,OAAQD,EAAIoC,IAAKpC,EAAG,CACjD,IAAIs/D,EAAO,IAAI84B,EAAKxjC,EAAU30C,GAC9Bq/C,EAAKnyB,aAAaosD,EAAWv5F,IAC7B83F,EAAO93F,GAAKs/D,CACd,CACA,OAAOw4B,CACT,KAEKsB,CACT,CA/EqB,CA+EnB,OACFrvE,GAAgBqvE,GAAgB,iBAAkB,IAAI,OACtDrvE,GAAgBqvE,GAAgB,OAAQ,IAAI,OAQ5C,IAAIe,GAAY,SAAUC,GACxBh5F,EAAU+4F,EAAWC,GACrB,IARuB7oF,EAAeC,EAQlCC,GARmBF,EAQM4oF,EARS3oF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ0uF,GAAuC,WAAkC,IAAsChqF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GASza,SAAS8pF,EAAUb,EAAWgB,EAAWv6E,EAASD,EAAMy5E,EAAY5+E,EAAgBsF,GAClF,IAAItR,EARSyxB,EAAMj1B,EACjB8B,EAUF,GAFAxN,EAAgBuE,KAAMm2F,IACtBxrF,EAAQ8C,EAAO/P,KAAKsC,OACVzE,cAAgB46F,EACxB,MAAM,IAAI1rF,MAAM,uCAWlB,OATAE,EAAM4rF,WAAaD,EACnB3rF,EAAM6rF,MAAQ16E,EACdnR,EAAM8rF,SAAW16E,EACjBpR,EAAM+rF,WAAaJ,EAAUK,OAC7BhsF,EAAMisF,gBAAkBjgF,EACxBhM,EAAMksF,KAAO,IAnBAz6D,EAmBak5D,EAAUd,SAnBjBrtF,EAmB2BwD,EAAMmsF,eAlBlD7tF,EAAS,CAACmzB,GAAM/wB,OAAOlE,GACpBi1B,EAAK12B,KAAK3F,MAAMq8B,EAAM46B,GAAmB/tD,KAkB9C0B,EAAMosF,MAAQ,IAAI3B,GAAezqF,EAAMksF,KAAMvB,EAAWr5E,EAAUs5E,GAClE5qF,EAAMklC,IAAIllC,EAAMosF,OAChBpsF,EAAM6sC,SACC7sC,CACT,CAsCA,OArCAlO,EAAa05F,EAAW,CAAC,CACvB35F,IAAK,eACLe,MAAO,WACL,MAAM,IAAIkN,MAAM,yDAClB,GACC,CACDjO,IAAK,YACLe,MAAO,SAAmBkpB,EAAMinC,GAC9BA,OAA0BzpD,IAAdypD,GAA0BA,EACtC,IAAIspC,EAAah3F,KAAKi3F,gBAAgBxwE,EAAMinC,GAC5C,OAA0B,IAAtBspC,EAAW/6F,OACN,GAEF+D,KAAK+2F,MAAMjpC,UAAUkpC,EAC9B,GACC,CACDx6F,IAAK,uBACLe,MAAO,SAA8BkpB,EAAMlpB,EAAOmwD,GAChD,IAAIspC,EAAah3F,KAAKi3F,gBAAgBxwE,EAAMinC,GAClB,IAAtBspC,EAAW/6F,QAGf+D,KAAK62F,KAAKK,WAAWF,EAAYz5F,EACnC,GACC,CACDf,IAAK,eACLe,MAAO,SAAsBkpB,EAAMinC,GACjCA,OAA0BzpD,IAAdypD,GAA0BA,EACtC1tD,KAAKm3F,qBAAqB1wE,EAAM,EAAKinC,EACvC,GACC,CACDlxD,IAAK,gBACLe,MAAO,SAAuBkpB,EAAMinC,GAClCA,OAA0BzpD,IAAdypD,GAA0BA,EACtC1tD,KAAKm3F,qBAAqB1wE,EAAM,EAAKinC,EACvC,KAEKyoC,CACT,CA3DgB,CA2DdjpC,IAIF,IAAIkqC,GAAa,SAAUC,GACzBj6F,EAAUg6F,EAAYC,GACtB,IAJuB9pF,EAAeC,EAIlCC,GAJmBF,EAIM6pF,EAJS5pF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ2vF,GAAuC,WAAkC,IAAsCjrF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAAS+qF,IAEP,OADA37F,EAAgBuE,KAAMo3F,GACf3pF,EAAO1N,MAAMC,KAAMH,UAC5B,CAkCA,OAjCApD,EAAa26F,EAAY,CAAC,CACxB56F,IAAK,UACLe,MAAO,SAAiB8vD,EAAWC,GACjC,IAAInhC,EAAQnsB,KAAKu2F,WAAWpqE,MACxB4sC,EAAS,GACb/4D,KAAK+2F,MAAMtpC,QAAQJ,EAAW0L,GAE9B,IADA,IAAIw+B,EAAWv3F,KAAK02F,WACX16F,EAAI,EAAGoC,EAAI26D,EAAO98D,OAAQD,EAAIoC,IAAKpC,EAC1C,GAAK+8D,EAAO/8D,GAAG8D,eAAe,YAA9B,CAGA,IAAI2xE,EAAU8lB,EAASx+B,EAAO/8D,GAAGg9D,UAC7ByY,EAAUtlD,EAAMlwB,SAClB88D,EAAO/8D,GAAGqa,KAAO8V,EAAMslD,GACvBnkB,EAAWjuD,KAAK05D,EAAO/8D,IAJzB,CAOJ,GACC,CACDQ,IAAK,kBACLe,MAAO,SAAyBkpB,GAI9B,IAHA,IAAIuwE,EAAa,GACb7qE,EAAQnsB,KAAKu2F,WAAWpqE,MACxBorE,EAAWv3F,KAAK02F,WACX16F,EAAI,EAAGoC,EAAIm5F,EAASt7F,OAAQD,EAAIoC,IAAKpC,EAEjB,IADhBmwB,EAAMorE,EAASv7F,IAChByqB,KAAOA,IACfuwE,EAAW33F,KAAKrD,GAGpB,OAAOg7F,CACT,KAEKI,CACT,CAzCiB,CAyCfjB,IAIF,IAAIqB,GAAmB,SAAUC,GAC/Br6F,EAAUo6F,EAAkBC,GAC5B,IAJuBlqF,EAAeC,EAIlCC,GAJmBF,EAIMiqF,EAJShqF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ+vF,GAAuC,WAAkC,IAAsCrrF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASmrF,IAEP,OADA/7F,EAAgBuE,KAAMw3F,GACf/pF,EAAO1N,MAAMC,KAAMH,UAC5B,CA0CA,OAzCApD,EAAa+6F,EAAkB,CAAC,CAC9Bh7F,IAAK,eACLe,MAAO,WACL,MAAO,CAACyC,KAAKu2F,WAAWI,OAAO16F,OAAQ+D,KAAK42F,gBAC9C,GACC,CACDp6F,IAAK,SACLe,MAAO,WAQL,IAPA,IAAIg6F,EAAWv3F,KAAKu2F,WAAWI,OAC3BgB,EAAmB33F,KAAKu2F,WACxBpqE,EAAQwrE,EAAiBxrE,MACzB0iC,EAAS8oC,EAAiB9oC,OAC1B/yC,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACN76F,EAAI,EAAGoC,EAAIm5F,EAASt7F,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIqa,EAAO8V,EAAMorE,EAASv7F,IAC1B84D,EAAIqN,QAAQnmE,EAAGqa,EAAKnV,SAAU4a,EAAK87E,eAAevhF,IAClDy+C,EAAI+iC,SAAS77F,EAAG+f,EAAQ+7E,aAAazhF,EAAMw4C,GAC7C,CACAiG,EAAIvP,UACN,GACC,CACD/oD,IAAK,gBACLe,MAAO,SAAuBw3B,GAO5B,IANA,IAAIwiE,EAAWv3F,KAAKu2F,WAAWI,OAC3BxqE,EAAQnsB,KAAKu2F,WAAWpqE,MACxBrQ,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACfsB,EAAchjE,EAAUijE,iBAAiBj8E,GACzC+4C,EAAM90D,KAAK62F,KACN76F,EAAI,EAAGoC,EAAIm5F,EAASt7F,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIqa,EAAO8V,EAAMorE,EAASv7F,IAC1B84D,EAAIqN,QAAQnmE,EAAG+4B,EAAU5L,WAAWouE,EAASv7F,IAAK8f,EAAK87E,eAAevhF,IAClE0hF,GACFjjC,EAAI+iC,SAAS77F,EAAG+4B,EAAU+iE,aAAa/7E,EAAS1F,GAEpD,CACAy+C,EAAIvP,UACN,KAEKiyC,CACT,CAjDuB,CAiDrBJ,IAIF,IAAIa,GAAoB,SAAUC,GAChC96F,EAAU66F,EAAmBC,GAC7B,IAJuB3qF,EAAeC,EAIlCC,GAJmBF,EAIM0qF,EAJSzqF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQwwF,GAAuC,WAAkC,IAAsC9rF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAAS4rF,IAEP,OADAx8F,EAAgBuE,KAAMi4F,GACfxqF,EAAO1N,MAAMC,KAAMH,UAC5B,CAiBA,OAhBApD,EAAaw7F,EAAmB,CAAC,CAC/Bz7F,IAAK,eACLe,MAAO,WAML,IALA,IAAI66F,EAAgB,GAChBT,EAAmB33F,KAAKu2F,WACxBpqE,EAAQwrE,EAAiBxrE,MACzBwqE,EAASgB,EAAiBhB,OAC1Bv4F,EAAIu4F,EAAO16F,OACND,EAAI,EAAGA,EAAIoC,IAAKpC,EACvBo8F,EAAcp8F,GAAKmwB,EAAMwqE,EAAO36F,IAElC,IAAIoF,EAAOpB,KAAKw2F,MAAM6B,iBAEtB,OADAj3F,EAAK+qB,MAAQisE,EACN,CAACh6F,EAAGgD,EACb,KAEK62F,CACT,CAxBwB,CAwBtBT,IAIF,IAAIc,GAAuB,SAAUJ,GACnC96F,EAAUk7F,EAAsBJ,GAChC,IAJuB3qF,EAAeC,EAIlCC,GAJmBF,EAIM+qF,EAJS9qF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ4wF,GAAuC,WAAkC,IAAsClsF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASisF,IAEP,OADA78F,EAAgBuE,KAAMs4F,GACf7qF,EAAO1N,MAAMC,KAAMH,UAC5B,CAmBA,OAlBApD,EAAa67F,EAAsB,CAAC,CAClC97F,IAAK,eACLe,MAAO,WAML,IALA,IAAI66F,EAAgB,GAChBT,EAAmB33F,KAAKu2F,WACxBpqE,EAAQwrE,EAAiBxrE,MACzBwqE,EAASgB,EAAiBhB,OAC1Bv4F,EAAIu4F,EAAO16F,OACND,EAAI,EAAGA,EAAIoC,IAAKpC,EACvBo8F,EAAcp8F,GAAKmwB,EAAMwqE,EAAO36F,IAElC,IAAIoF,EAAOpB,KAAKw2F,MAAM6B,iBAItB,OAHAj3F,EAAK+qB,MAAQisE,EACbh3F,EAAKk1F,UAAYt2F,KAAKu2F,WACtBn1F,EAAKwnF,UAAY5oF,KAAKy2F,SACf,CAACr4F,EAAGgD,EACb,KAEKk3F,CACT,CA1B2B,CA0BzBd,IAyBF,SAASgB,GAAYniF,GACnB,OAA4B,OAAxBA,EAAK9X,KAAKk6F,UACLpiF,EAAK9X,KAAKk6F,UAEZpiF,EAAKqiF,eACd,CACA,IAAIC,GAAgB,CAClB50D,KAAM,SAAc3gB,GAClB,OAAOA,CACT,EACAw1E,OA/BF,SAAqBr4F,GACnB,IAAI0iB,EAAI1iB,GAAS,GAAK,IAClBw5B,EAAIx5B,GAAS,EAAI,IACjB09C,EAAY,IAAR19C,EAUR,MATI,MAAS0iB,EAAI,MAAS8W,EAAI,MAASkkB,EAAI,KACzCh7B,EAAQ,EAAJA,EAAQ,GACZ8W,EAAQ,EAAJA,EAAQ,GACZkkB,EAAQ,EAAJA,EAAQ,KAEZh7B,EAAI,IAAkB,GAAX,IAAMA,GAAS,GAC1B8W,EAAI,IAAkB,GAAX,IAAMA,GAAS,GAC1BkkB,EAAI,IAAkB,GAAX,IAAMA,GAAS,IAErBh7B,GAAK,GAAK8W,GAAK,EAAIkkB,CAC5B,EAkBE46C,QAjBF,SAAsBt4F,GAIpB,OAAO,KAHCA,GAAS,GAAK,MAGJ,GAAK,KAFfA,GAAS,EAAI,MAEa,EAAI,KADtB,IAARA,EAEV,GAcA,SAASu4F,GAAev4F,EAAOw4F,GAC7B,IAAI1sF,EACJ,GAAIssF,GAAc74F,eAAei5F,GAC/B1sF,EAASkD,EAAM+B,SAASqnF,GAAcI,GAAMx4F,QACvC,CACL,IAAIgvC,EAAM3/B,SAASmpF,EAAM,IAEvB1sF,GADGuU,OAAO6X,MAAM8W,IAAQwpD,EAAKt4E,cAAcu4E,WAAW,MAC7CzpF,EAAM+B,SAASi+B,GAEf,SAEb,CACA,OAAOljC,CACT,CACA,IAAI4sF,GAAmB,CACrB5yE,OAAQ,SAAgBxe,GACtB,OAAOA,EAAEwe,MACX,EACA9nB,KAAM,SAAcsJ,GAClB,OAAOA,EAAE6wF,eACX,EACAhxC,KAAM,SAAc7/C,GAClB,OAAOA,EAAE9B,QAAQxH,IACnB,EACA2nB,QAAS,SAAiBre,GACxB,OAAOA,EAAEqe,QAAQ8xB,UAAU5wB,SAC7B,EACAmF,SAAU,SAAkB1kB,GAC1B,OAAOA,EAAEqe,QAAQs/B,aACnB,EACAl5B,MAAO,SAAezkB,GACpB,OAAOA,EAAEqe,QAAQy4B,WAAWv3B,SAC9B,EACA8xE,OAAQ,SAAgBrxF,GACtB,OAAOA,EAAEmmC,OACX,EACAmrD,MAAO,SAAetxF,GACpB,MAAyC,QAAlCA,EAAEqe,QAAQ8xB,UAAU5wB,WAAyD,QAAlCvf,EAAEqe,QAAQ8xB,UAAU5wB,SACxE,GAEEgyE,GAAgB,SAAuB/iF,EAAM/H,GAC/C,OAAOA,EAAIxC,QAAQ,wBAAwB,SAAUqX,GACnD,IAAI3mB,EAAM2mB,EAAErX,QAAQ,OAAQ,IAE5B,OADAtP,EAAMA,EAAI4P,UAAU,EAAG5P,EAAIP,OAAS,GAAGwkB,cACnCw4E,GAAiBn5F,eAAetD,GAC3By8F,GAAiBz8F,GAAK6Z,GAExB,MACT,GACF,EACIgjF,GAAiB,SAAU5B,GAC7Br6F,EAAUi8F,EAAgB5B,GAC1B,IAxFuBlqF,EAAeC,EAwFlCC,GAxFmBF,EAwFM8rF,EAxFS7rF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ2xF,GAAuC,WAAkC,IAAsCjtF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAyFza,SAASgtF,IAEP,OADA59F,EAAgBuE,KAAMq5F,GACf5rF,EAAO1N,MAAMC,KAAMH,UAC5B,CAyDA,OAxDApD,EAAa48F,EAAgB,CAAC,CAC5B78F,IAAK,eACLe,MAAO,WACL,IAAI6D,EAAOpB,KAAKw2F,MAAM+C,eACtB,MAAO,CAACv5F,KAAKu2F,WAAWI,OAAO16F,OAAQmF,EACzC,GACC,CACD5E,IAAK,SACLe,MAAO,WAQL,IAPA,IAAI6D,EAAOpB,KAAKw2F,MAAM+C,eAClBhC,EAAWv3F,KAAKu2F,WAAWI,OAC3BgB,EAAmB33F,KAAKu2F,WACxBpqE,EAAQwrE,EAAiBxrE,MACzB0iC,EAAS8oC,EAAiB9oC,OAC1B9yC,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACN76F,EAAI,EAAGoC,EAAIm5F,EAASt7F,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIqa,EAAO8V,EAAMorE,EAASv7F,IACtB4P,EAAOxK,EAAK0X,SAAWsgF,GAAc/iF,EAAMjV,EAAK0X,UAAY0/E,GAAYniF,GAC5E,GAAKzK,EAAL,CAGA,IAAIrL,EAAQwb,EAAQ+7E,aAAazhF,EAAMw4C,GACnC2qC,EAAU5pF,SAASkpF,GAAev4F,EAAOa,EAAKgY,IAAIhN,UAAU,GAAI,IAChEqtF,EAAUr4F,EAAKkY,OAAS1J,SAASkpF,GAAev4F,EAAOa,EAAKiY,IAAIjN,UAAU,GAAI,IAAM,cACxF0oD,EAAIqN,QAAQnmE,EAAGqa,EAAKnV,SAAU0K,GAC9BkpD,EAAI+iC,SAAS77F,EAAGw9F,EAASC,EALzB,CAMF,CACA3kC,EAAIvP,UACN,GACC,CACD/oD,IAAK,gBACLe,MAAO,SAAuBw3B,GAO5B,IANA,IAAI3zB,EAAOpB,KAAKw2F,MAAM+C,eAClBhC,EAAWv3F,KAAKu2F,WAAWI,OAC3BxqE,EAAQnsB,KAAKu2F,WAAWpqE,MACxBpQ,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACXkB,EAAchjE,EAAUijE,iBAAiBj8E,GACpC/f,EAAI,EAAGoC,EAAIm5F,EAASt7F,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIqa,EAAO8V,EAAMorE,EAASv7F,IACtB4P,EAAOxK,EAAK0X,SAAWsgF,GAAc/iF,EAAMjV,EAAK0X,UAAY0/E,GAAYniF,GAC5E,GAAKzK,EAAL,CAGA,IAAIrL,EAAQw0B,EAAU+iE,aAAa/7E,EAAS1F,GACxCmjF,EAAU5pF,SAASkpF,GAAev4F,EAAOa,EAAKgY,IAAIhN,UAAU,GAAI,IAChEqtF,EAAUr4F,EAAKkY,OAAS1J,SAASkpF,GAAev4F,EAAOa,EAAKiY,IAAIjN,UAAU,GAAI,IAAM,cACxF0oD,EAAIqN,QAAQnmE,EAAG+4B,EAAU5L,WAAWouE,EAASv7F,IAAK4P,GAC9CmsF,GACFjjC,EAAI+iC,SAAS77F,EAAGw9F,EAASC,EAN3B,CAQF,CACA3kC,EAAIvP,UACN,KAEK8zC,CACT,CAhEqB,CAgEnBjC,IAIF,SAASsC,GAAOC,EAAOvqD,EAAIC,EAAI1vC,GAC7B,IAAIi6F,EAAO53F,KAAK4C,IAAI+0F,GACpB,OAAOvqD,EAAG5kB,QAAQS,eAAejpB,KAAK4C,KAAK,EAAIjF,GAAKg6F,GAASC,GAAMnjC,gBAAgBpnB,EAAIrtC,KAAK4C,IAAIjF,EAAIg6F,GAASC,EAC/G,CACA,IAAIC,GAAgB,SAAUpC,GAC5Br6F,EAAUy8F,EAAepC,GACzB,IARuBlqF,EAAeC,EAQlCC,GARmBF,EAQMssF,EARSrsF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQmyF,GAAuC,WAAkC,IAAsCztF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GASza,SAASwtF,IAEP,OADAp+F,EAAgBuE,KAAM65F,GACfpsF,EAAO1N,MAAMC,KAAMH,UAC5B,CAqDA,OApDApD,EAAao9F,EAAe,CAAC,CAC3Br9F,IAAK,cACLe,MAAO,SAAqBw8F,EAAWC,GAYrC,IAXA,IAAIC,EAAcj6F,KAAKu2F,WAAWI,OAC9BuD,EAAa,IAAI,MACjBC,EAAa,IAAI,MACjBC,EAAiBp6F,KAAKq6F,gBACtBC,EAAW,EAAMF,EACjBr+E,EAAU/b,KAAKy2F,SACfkB,EAAmB33F,KAAKu2F,WACxBhsD,EAASotD,EAAiBptD,OAC1BskB,EAAS8oC,EAAiB9oC,OAC1BmK,EAAW,EACXuhC,EAAcN,EAAYjhC,GACrBokB,EAAO,EAAGod,EAASjwD,EAAOtuC,OAAQmhF,EAAOod,IAAUpd,EAAM,CAChE,IAAI/yC,EAAQE,EAAO6yC,GACfqd,EAAWpwD,EAAMle,MACjBuuE,EAAc,GACdC,EAAS,GACTryD,EAAS+B,EAAM/B,OACfsyD,EAAWvwD,EAAMjqC,OAAS25F,EAC1B37F,EAAIq8F,EAASx+F,OACbD,EAAI,EACJ6+F,EAAUJ,EAASr8F,EAAI,GAAG8C,SAC1B45F,EAAUL,EAASz+F,GAAGkF,SAC1Bg5F,EAAW/0B,WAAW01B,EAASvyD,GAC/B6xD,EAAWh1B,WAAW21B,EAASxyD,GAE/B,IADA,IAAIyyD,EAAQZ,EAAW3vE,QAAQ6nB,MAAM6nD,GAAYxuE,YAC1C1vB,EAAIoC,IAAKpC,EAAG,CACjB,IAAI29F,EAAQO,EAAWhrE,QAAQirE,GAC/BQ,EAAO3+F,GAAK09F,GAAOC,EAAOO,EAAYC,EAAY,IAAKzuE,YACvDovE,EAAUL,GAAUz+F,EAAI,GAAKoC,GAAG8C,SAChCg5F,EAAW7oF,KAAK8oF,GAChBA,EAAWh1B,WAAW21B,EAASxyD,EACjC,CACA,IAAKtsC,EAAI,EAAGA,EAAIoC,IAAKpC,EACnB,GAAIy+F,EAASz+F,GAAGsoB,QAAUi2E,EAA1B,CAOA,IAJA,IAAI5kF,EAAQglF,EAAO3+F,GACf8G,EAAM63F,GAAQ3+F,EAAI,GAAKoC,GACvBmC,EAAQwb,EAAQ+7E,aAAa2C,EAASz+F,GAAI6yD,GAC1CmsC,EAAYrlF,EAAMuZ,QAAQpsB,GACrB2R,EAAI,EAAGA,GAAK2lF,IAAkB3lF,EACrCimF,EAAYjmF,GAAKilF,GAAOsB,EAAWrlF,EAAO7S,EAAK2R,EAAI6lF,GAAUrvE,eAAe2vE,GAAU/qD,IAAIvH,GAE5F0xD,EAAShhC,IAAYz4D,EAAOm6F,EAAapyD,EAAQyyD,GACjDR,EAAcN,EAAYjhC,EAT1B,CAWJ,CACF,KAEK6gC,CACT,CA5DoB,CA4DlBzC,IAIF,SAAS6D,GAAe9mC,EAAKjlD,GAE3B,IADA,IAAIgsF,EAAM,GACDl/F,EAAI,EAAGA,EAAIkT,IAASlT,EAAG,CAC9B,IAAI6L,GAAK,EAAI7L,EAAIkT,EAAQlN,KAAK2C,GAC9Bu2F,EAAI77F,KAAK,IAAI,MAAQ2C,KAAK6C,IAAIgD,GAAKssD,EAAKnyD,KAAK4C,IAAIiD,GAAKssD,EAAK,GAC7D,CACA,OAAO+mC,CACT,CACA,IAAIlnC,GAAkBb,GAASa,gBAC3BmnC,GAAqB,SAAUC,GACjCh+F,EAAU+9F,EAAoBC,GAC9B,IAbuB7tF,EAAeC,EAalCC,GAbmBF,EAaM4tF,EAbS3tF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ0zF,GAAuC,WAAkC,IAAsChvF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAcza,SAAS8uF,IAEP,OADA1/F,EAAgBuE,KAAMm7F,GACf1tF,EAAO1N,MAAMC,KAAMH,UAC5B,CA8BA,OA7BApD,EAAa0+F,EAAoB,CAAC,CAChC3+F,IAAK,SACLe,MAAO,WACL,IAAI68F,EAAiBp6F,KAAKq6F,gBACtBiB,EAAWt7F,KAAKw2F,MAAM+E,gBACtBC,EAAU,IAAI,MAAQF,EAAUA,GAChCvB,EAAY/5F,KAAKw2F,MAAMiF,kBAAoB,EAAIH,EAC/CI,EAAe,IAAI,MACnBC,EAAM,GACN7mC,EAAM90D,KAAK62F,KACf72F,KAAKyuC,YAAYsrD,GAAW,SAAU/gC,EAAUz4D,EAAOq7F,EAAQtzD,EAAQyyD,GACrE,IAAK,IAAItmF,EAAI,EAAGA,GAAK2lF,IAAkB3lF,EAAG,CACxC,IAAIonF,EAAYD,EAAOnnF,GACnB0V,EAAU0xE,EAAUrxE,QAAQE,IAAI4d,GAAQ+J,MAAM0oD,GAClDW,EAAa9hE,WAAWiiE,EAAW1xE,GACnCwxE,EAAIlnF,GAAKu/C,GAAgB6nC,EAAWH,EAAcX,EAAOS,EAC3D,CACA1mC,EAAIqN,QAAQnJ,EAAU2iC,GACtB7mC,EAAI+iC,SAAS7+B,EAAUz4D,EACzB,IACAu0D,EAAIvP,UACN,GACC,CACD/oD,IAAK,eACLe,MAAO,WAEL,OADAyC,KAAKq6F,gBAAkBr6F,KAAK42F,gBACrB,CAACqE,GAAe,EAAKj7F,KAAK42F,iBAAkB52F,KAAKq6F,gBAAkB,EAAGr6F,KAAKu2F,WAAWI,OAAO16F,OACtG,KAEKk/F,CACT,CArCyB,CAqCvBtB,IAIF,IAAIiC,GAAqB,SAAUV,GACjCh+F,EAAU0+F,EAAoBV,GAC9B,IAJuB7tF,EAAeC,EAIlCC,GAJmBF,EAIMuuF,EAJStuF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQo0F,GAAuC,WAAkC,IAAsC1vF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASyvF,IAEP,OADArgG,EAAgBuE,KAAM87F,GACfruF,EAAO1N,MAAMC,KAAMH,UAC5B,CAyBA,OAxBApD,EAAaq/F,EAAoB,CAAC,CAChCt/F,IAAK,SACLe,MAAO,WACL,IAAIoN,EAAQ3K,KACR80D,EAAM90D,KAAK62F,KACXkD,EAAY/5F,KAAKw2F,MAAMwF,oBAC3Bh8F,KAAKyuC,YAAYsrD,GAAW,SAAU/gC,EAAUz4D,EAAOq7F,GAErD,IADA,IAAIK,EAASL,EAAO,GACXnnF,EAAI,EAAGA,GAAK9J,EAAM0vF,kBAAmB5lF,EAAG,CAC/C,IAAIonF,EAAYD,EAAOnnF,GACvBqgD,EAAI4T,WAAW1P,EAAUvkD,EAAI,EAAGwnF,EAAQJ,GACxCI,EAASJ,CACX,CACA/mC,EAAI+iC,SAAS7+B,EAAUz4D,EACzB,IACAu0D,EAAIvP,UACN,GACC,CACD/oD,IAAK,eACLe,MAAO,WAEL,OADAyC,KAAKq6F,gBAAkBr6F,KAAKw2F,MAAM0F,uBAC3B,CAACl8F,KAAKu2F,WAAWI,OAAO16F,OAAQ+D,KAAKq6F,iBAAiB,EAC/D,KAEKyB,CACT,CAhCyB,CAgCvBjC,IAIF,IAAIsC,GAAgB,SAAU9E,GAC5Bj6F,EAAU++F,EAAe9E,GACzB,IAJuB9pF,EAAeC,EAIlCC,GAJmBF,EAIM4uF,EAJS3uF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQy0F,GAAuC,WAAkC,IAAsC/vF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAAS8vF,IAEP,OADA1gG,EAAgBuE,KAAMm8F,GACf1uF,EAAO1N,MAAMC,KAAMH,UAC5B,CAkCA,OAjCApD,EAAa0/F,EAAe,CAAC,CAC3B3/F,IAAK,UACLe,MAAO,SAAiB8vD,EAAWC,GACjC,IAAI94B,EAAWx0B,KAAKu2F,WAAW/hE,SAC3BukC,EAAS,GACb/4D,KAAK+2F,MAAMtpC,QAAQJ,EAAW0L,GAE9B,IADA,IAAIsjC,EAAYr8F,KAAK02F,WACZ16F,EAAI,EAAGoC,EAAI26D,EAAO98D,OAAQD,EAAIoC,IAAKpC,EAC1C,GAAK+8D,EAAO/8D,GAAG8D,eAAe,YAA9B,CAGA,IAAIw8F,EAASD,EAAUtjC,EAAO/8D,GAAGg9D,UAC7BsjC,EAAS9nE,EAASv4B,SACpB88D,EAAO/8D,GAAGkqB,QAAUsO,EAAS8nE,GAC7BhvC,EAAWjuD,KAAK05D,EAAO/8D,IAJzB,CAOJ,GACC,CACDQ,IAAK,kBACLe,MAAO,SAAyBkpB,GAI9B,IAHA,IAAIuwE,EAAa,GACbxiE,EAAWx0B,KAAKu2F,WAAW/hE,SAC3BqV,EAAS7pC,KAAK02F,WACT16F,EAAI,EAAGoC,EAAIyrC,EAAO5tC,OAAQD,EAAIoC,IAAKpC,EAEf,IADjBw4B,EAASqV,EAAO7tC,IACjB2wB,MAAQlG,IACfuwE,EAAW33F,KAAKrD,GAGpB,OAAOg7F,CACT,KAEKmF,CACT,CAzCoB,CAyClBhG,IAIF,IAAIoG,GAAmB,SAAUC,GAC/Bp/F,EAAUm/F,EAAkBC,GAC5B,IAJuBjvF,EAAeC,EAIlCC,GAJmBF,EAIMgvF,EAJS/uF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ80F,GAAuC,WAAkC,IAAsCpwF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASkwF,IAEP,OADA9gG,EAAgBuE,KAAMu8F,GACf9uF,EAAO1N,MAAMC,KAAMH,UAC5B,CAuEA,OAtEApD,EAAa8/F,EAAkB,CAAC,CAC9B//F,IAAK,UACLe,MAAO,SAAiB8vD,EAAWC,GACjC,IAAI94B,EAAWx0B,KAAKu2F,WAAW/hE,SAC3BukC,EAAS,GACb/4D,KAAK+2F,MAAMtpC,QAAQJ,EAAW0L,GAE9B,IADA,IAAIsjC,EAAYr8F,KAAK02F,WACZ16F,EAAI,EAAGoC,EAAI26D,EAAO98D,OAAQD,EAAIoC,IAAKpC,EAC1C,GAAK+8D,EAAO/8D,GAAG8D,eAAe,YAA9B,CAGA,IAAIw8F,EAASD,EAAUr6F,KAAKoyC,MAAM2kB,EAAO/8D,GAAGg9D,SAAW,IACnDsjC,EAAS9nE,EAASv4B,SACpB88D,EAAO/8D,GAAGkqB,QAAUsO,EAAS8nE,GAC7BhvC,EAAWjuD,KAAK05D,EAAO/8D,IAJzB,CAOJ,GACC,CACDQ,IAAK,SACLe,MAAO,WASL,IARA,IAAIo6F,EAAmB33F,KAAKu2F,WACxB/hE,EAAWmjE,EAAiBnjE,SAC5Bq6B,EAAS8oC,EAAiB9oC,OAC1B9yC,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACX6F,EAAW18F,KAAKw2F,MAAMiF,kBACtBziC,EAAW,EACXnvB,EAAS7pC,KAAKu2F,WAAWI,OACpB36F,EAAI,EAAGoC,EAAIyrC,EAAO5tC,OAAQD,EAAIoC,IAAKpC,EAAG,CAC7C,IAAIoV,EAAMojB,EAASqV,EAAO7tC,IACtBuE,EAAQwb,EAAQ4gF,gBAAgBvrF,EAAKy9C,GACzC7uD,KAAK48F,aAAa5jC,IAAY5nD,EAAIic,WAAW,GAAIjc,EAAIic,WAAW,GAAIqvE,EAAUn8F,EAChF,CACAu0D,EAAIvP,UACN,GACC,CACD/oD,IAAK,kBACLe,MAAO,SAAyBkpB,GAK9B,IAJA,IAAIuwE,EAAa,GACbh+B,EAAW,EACXxkC,EAAWx0B,KAAKu2F,WAAW/hE,SAC3BqV,EAAS7pC,KAAK02F,WACT16F,EAAI,EAAGoC,EAAIyrC,EAAO5tC,OAAQD,EAAIoC,IAAKpC,EAEf,IADjBw4B,EAASqV,EAAO7tC,IACjB2wB,MAAQlG,KACfuwE,EAAWh+B,KAAc,EAAIh9D,EAC7Bg7F,EAAWh+B,KAAc,EAAIh9D,EAAI,GAGrC,OAAOg7F,CACT,GACC,CACDx6F,IAAK,gBACLe,MAAO,SAAuBw3B,GAQ5B,IAPA,IAAIP,EAAWO,EAAUomB,cACrB0T,EAAS7uD,KAAKu2F,WAAW1nC,OACzB9yC,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACX6F,EAAW18F,KAAKw2F,MAAMiF,kBACtBziC,EAAW,EACXnvB,EAAS7pC,KAAKu2F,WAAWI,OACpB36F,EAAI,EAAGoC,EAAIyrC,EAAO5tC,OAAQD,EAAIoC,IAAKpC,EAAG,CAC7C,IAAIoV,EAAMojB,EAASqV,EAAO7tC,IACtBuE,EAAQwb,EAAQ4gF,gBAAgBvrF,EAAKy9C,GACzC7uD,KAAK48F,aAAa5jC,IAAY5nD,EAAIic,WAAW,GAAIjc,EAAIic,WAAW,GAAIqvE,EAAUn8F,EAChF,CACAu0D,EAAIqF,cACN,KAEKoiC,CACT,CA9EuB,CA8ErBJ,IAIF,IAAIU,GAAwB,SAAUC,GACpC1/F,EAAUy/F,EAAuBC,GACjC,IAJuBvvF,EAAeC,EAIlCC,GAJmBF,EAIMsvF,EAJSrvF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQo1F,GAAuC,WAAkC,IAAsC1wF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASwwF,IAEP,OADAphG,EAAgBuE,KAAM68F,GACfpvF,EAAO1N,MAAMC,KAAMH,UAC5B,CAcA,OAbApD,EAAaogG,EAAuB,CAAC,CACnCrgG,IAAK,eACLe,MAAO,WACL,MAAO,CAACyC,KAAKu2F,WAAWI,OAAO16F,OAAQ+D,KAAK42F,gBAC9C,GACC,CACDp6F,IAAK,eACLe,MAAO,SAAsBy7D,EAAUgkC,EAAMC,EAAMP,EAAUn8F,GAC3D,IAAIu0D,EAAM90D,KAAK62F,KACf/hC,EAAIqN,QAAQnJ,EAAUgkC,EAAMC,EAAMP,GAClC5nC,EAAI+iC,SAAS7+B,EAAUz4D,EAAOA,EAChC,KAEKs8F,CACT,CArB4B,CAqB1BN,IAIF,IA6BWW,GA7BPC,GAAsB,SAAUL,GAClC1/F,EAAU+/F,EAAqBL,GAC/B,IAJuBvvF,EAAeC,EAIlCC,GAJmBF,EAIM4vF,EAJS3vF,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQy1F,GAAuC,WAAkC,IAAsC/wF,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAAS8wF,IAEP,OADA1hG,EAAgBuE,KAAMm9F,GACf1vF,EAAO1N,MAAMC,KAAMH,UAC5B,CAkBA,OAjBApD,EAAa0gG,EAAqB,CAAC,CACjC3gG,IAAK,eACLe,MAAO,WACL,MAAO,CAAiC,EAAhCyC,KAAKu2F,WAAWI,OAAO16F,OAAY+D,KAAK42F,gBAClD,GACC,CACDp6F,IAAK,eACLe,MAAO,SAAsBy7D,EAAUgkC,EAAMC,EAAMP,EAAUn8F,GAC3D,IAAIu0D,EAAM90D,KAAK62F,KACXzyF,EAAiB,EAAX40D,EACVlE,EAAIqN,QAAQ/9D,EAAK44F,EAAMN,GACvB5nC,EAAI+iC,SAASzzF,EAAK7D,GAClB6D,IACA0wD,EAAIqN,QAAQ/9D,EAAK64F,EAAMP,GACvB5nC,EAAI+iC,SAASzzF,EAAK7D,EACpB,KAEK48F,CACT,CAzB0B,CAyBxBZ,IAEEc,GAAS,CAAC,EAEHH,GAyWRG,GAxWD,WACE,IAAIC,EACAC,EACAC,EACAC,EACAC,EACA/4F,EACAg5F,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAjmD,EACAkmD,EACAjkE,EACAkkE,EACAC,EACAC,EACAC,EACAC,EACA35F,EACA45F,EACAl8E,EACAm8E,EACAC,EACAC,EAAYriG,OAAOd,UAAUsE,eAC7B8+F,EAAY,SAAmBluF,EAAOm+C,GACxC,IAAK,IAAIryD,KAAOqyD,EACV8vC,EAAUjhG,KAAKmxD,EAAQryD,KAAMkU,EAAMlU,GAAOqyD,EAAOryD,IAEvD,SAASqiG,IACP7+F,KAAKzE,YAAcmV,CACrB,CAIA,OAHAmuF,EAAKrjG,UAAYqzD,EAAOrzD,UACxBkV,EAAMlV,UAAY,IAAIqjG,EACtBnuF,EAAMouF,UAAYjwC,EAAOrzD,UAClBkV,CACT,EAyTA,IAAKupB,KA3SL+jE,EAAgB,CACd5wF,QAdFowF,EAAO,CACLuB,eAAgB,UAChBC,cAAe,SACfC,aAAc,QACdC,eAAgB,UAChBC,YAAa,OACbC,WAAY,QACZC,UAAW,OACXC,cAAe,WACfC,YAAa,SACbC,sBAAuB,EACvBC,0BAA2B,IAGdR,aACbS,aAAclC,EAAKgC,sBACnBG,KAAMnC,EAAK4B,WACXQ,QAAS,EACTC,eAAgB,EAChBC,gBAAY,GAEdjC,EAAY,SAAmB7hG,EAAGoC,GAChC,OAAO4D,KAAK8M,IAAI,EAAG9M,KAAKwY,IAAIxe,EAAGoC,EAAI,GACrC,EACA2/F,EAAe,SAAsB/hG,EAAGoC,GAGtC,OAFApC,GAAQoC,GACA,IAAGpC,GAAKoC,GACTpC,CACT,EACA8hG,EAAa,SAAoB9hG,EAAGoC,GAClC,IAAI2hG,EAIJ,OAFA/jG,EAAI+hG,EAAa/hG,EADjB+jG,EAAS,GAAK3hG,EAAI,KAEVA,EAAI,IAAGpC,EAAI+jG,EAAS/jG,GACrBA,CACT,EACAshG,EAAuB,WACrB,SAASA,EAAqBvrF,EAAOiuF,GAGnC,GAFAhgG,KAAK+R,MAAQA,EAAMzT,MAAM,GACzB0B,KAAK/D,OAAS+D,KAAK+R,MAAM9V,SACnB+D,KAAKigG,WAAa,CACtB9tD,MAAOnyC,KAAKkgG,gBACZnrD,KAAM/0C,KAAKmgG,eACXC,SAAUpgG,KAAKqgG,mBACfC,OAAQtgG,KAAKugG,kBACbP,EAAOL,OACP,KAAM,iBAAmBK,EAAOL,IAEpC,CAuBA,OAtBArC,EAAqB9hG,UAAUglG,gBAAkB,SAAUxkG,GACzD,OAAI,GAAKA,GAAKA,EAAIgE,KAAK/D,OACd+D,KAAK+R,MAAM/V,GAEXgE,KAAKigG,WAAWjkG,EAE3B,EACAshG,EAAqB9hG,UAAU0kG,gBAAkB,SAAUlkG,GACzD,OAAOgE,KAAK+R,MAAM8rF,EAAU7hG,EAAGgE,KAAK/D,QACtC,EACAqhG,EAAqB9hG,UAAU2kG,eAAiB,SAAUnkG,GACxD,OAAO,CACT,EACAshG,EAAqB9hG,UAAU6kG,mBAAqB,SAAUrkG,GAC5D,OAAOgE,KAAK+R,MAAMgsF,EAAa/hG,EAAGgE,KAAK/D,QACzC,EACAqhG,EAAqB9hG,UAAU+kG,iBAAmB,SAAUvkG,GAC1D,OAAOgE,KAAK+R,MAAM+rF,EAAW9hG,EAAGgE,KAAK/D,QACvC,EACAqhG,EAAqB9hG,UAAUilG,YAAc,SAAU9gG,GACrD,KAAM,4EACR,EACO29F,CACT,CApCuB,GAqCvBI,EAAsB,SAAUjwF,GAE9B,SAASiwF,IACPA,EAAoBoB,UAAUvjG,YAAYwE,MAAMC,KAAMH,UACxD,CAIA,OAPA++F,EAAUlB,EAAqBjwF,GAI/BiwF,EAAoBliG,UAAUilG,YAAc,SAAU9gG,GACpD,OAAOK,KAAKwgG,gBAAgBx+F,KAAKC,MAAMtC,GACzC,EACO+9F,CACT,CATsB,CASpBJ,GACFG,EAAqB,SAAUhwF,GAE7B,SAASgwF,IACPA,EAAmBqB,UAAUvjG,YAAYwE,MAAMC,KAAMH,UACvD,CAOA,OAVA++F,EAAUnB,EAAoBhwF,GAI9BgwF,EAAmBjiG,UAAUilG,YAAc,SAAU9gG,GACnD,IAAIs6B,EAGJ,OAAQ,GADRt6B,GADAs6B,EAAIj4B,KAAKoyC,MAAMz0C,KAEEK,KAAKwgG,gBAAgBvmE,GAAKt6B,EAAIK,KAAKwgG,gBAAgBvmE,EAAI,EAC1E,EACOwjE,CACT,CAZqB,CAYnBH,GACFC,EAAoB,SAAU9vF,GAE5B,SAAS8vF,EAAkBxrF,EAAOiuF,GAChChgG,KAAK0gG,cAAgB,EAAI1+F,KAAK8M,KAAK,EAAG9M,KAAKwY,IAAI,EAAGwlF,EAAON,eACzDnC,EAAkBuB,UAAUvjG,YAAYwE,MAAMC,KAAMH,UACtD,CAcA,OAlBA++F,EAAUrB,EAAmB9vF,GAK7B8vF,EAAkB/hG,UAAUmlG,WAAa,SAAU1mE,GACjD,OAAOj6B,KAAK0gG,eAAiB1gG,KAAKwgG,gBAAgBvmE,EAAI,GAAKj6B,KAAKwgG,gBAAgBvmE,EAAI,IAAM,CAC5F,EACAsjE,EAAkB/hG,UAAUilG,YAAc,SAAU9gG,GAClD,IAAIs6B,EAAG9W,EAAGlmB,EAAG2jG,EAAIC,EAOjB,OANA5mE,EAAIj4B,KAAKoyC,MAAMz0C,GACfwjB,EAAI,CAACnjB,KAAK2gG,WAAW1mE,GAAIj6B,KAAK2gG,WAAW1mE,EAAI,KAKrC,GADR4mE,GAFAlhG,GAAKs6B,IACL2mE,EAAKjhG,EAAIA,IAEQ,EAAIihG,EAAK,IAJ1B3jG,EAAI,CAAC+C,KAAKwgG,gBAAgBvmE,GAAIj6B,KAAKwgG,gBAAgBvmE,EAAI,KAItB,IAAM4mE,EAAK,EAAID,EAAKjhG,GAAKwjB,EAAE,KAAO,EAAI09E,EAAK,EAAID,GAAM3jG,EAAE,IAAM4jG,EAAKD,GAAMz9E,EAAE,EAC7G,EACOo6E,CACT,CApBoB,CAoBlBD,GACF14F,EAAM5C,KAAK4C,IAAKD,EAAK3C,KAAK2C,GAC1B65F,EAAO,SAAc/7F,GACnB,OAAU,IAANA,EACK,EAEAmC,EAAID,EAAKlC,IAAMkC,EAAKlC,EAE/B,EACA07F,EAAoB,SAA2Bt2F,GAC7C,OAAO,SAAUpF,GACf,OAAO+7F,EAAK/7F,EAAIoF,EAClB,CACF,EACAw2F,EAAiB,SAAwB74F,GACvC,OAAO,SAAU/C,GACf,OAAO+7F,EAAK/7F,GAAK+C,EAAO/C,EAC1B,CACF,EACAk7F,EAAyB,SAAUlwF,GAEjC,SAASkwF,EAAuB5rF,EAAOiuF,GAGrC,GAFArC,EAAuBmB,UAAUvjG,YAAYwE,MAAMC,KAAMH,WACzDG,KAAK6H,EAAIm4F,EAAOH,gBACXG,EAAOF,WAAY,KAAM,yBAC9B9/F,KAAK8gG,OAASzC,EAAe2B,EAAOF,WACtC,CAUA,OAhBAlB,EAAUjB,EAAwBlwF,GAOlCkwF,EAAuBniG,UAAUilG,YAAc,SAAU9gG,GACvD,IAAIs6B,EAAG77B,EAAG2iG,EAAKC,EAAMC,EAGrB,IADAF,EAAM,EACD3iG,EAAI4iG,GAFT/mE,EAAIj4B,KAAKoyC,MAAMz0C,IAEKK,KAAK6H,EAAI,EAAGo5F,EAAQhnE,EAAIj6B,KAAK6H,EAAGm5F,GAAQC,EAAQ7iG,GAAK6iG,EAAQ7iG,GAAK6iG,EAAOD,GAAQC,EAAQ7iG,IAAMA,IACjH2iG,GAAO/gG,KAAK8gG,OAAOnhG,EAAIvB,GAAK4B,KAAKwgG,gBAAgBpiG,GAEnD,OAAO2iG,CACT,EACOpD,CACT,CAlByB,CAkBvBL,GACFW,EAAY,SAAmBngG,EAAK9B,GAClC,IAAI+vD,EAAKltD,EAAIqO,EAAMg0F,EAEnB,IADAA,EAAW,GACNriG,EAAK,EAAGqO,EAAOpP,EAAI7B,OAAQ4C,EAAKqO,EAAMrO,IACzCktD,EAAMjuD,EAAIe,GACVqiG,EAAS7hG,KAAK0sD,EAAI/vD,IAEpB,OAAOklG,CACT,EACA9C,EAAqB,SAA4BzkD,EAAGwnD,EAAWC,GAC7D,IAAItoB,EAAasR,EACjB,MAAwB,QAApBgX,EAAW38F,KACNk1C,GAEPm/B,EAAcqoB,GAAaC,EAAW,GAAKA,EAAW,IACtDhX,EAAcgX,EAAW,GAClB,SAAUzhG,GACf,OAAOg6C,EAAEm/B,GAAen5E,EAAIyqF,GAC9B,EAEJ,EACApyC,EAAU,SAAiBv1C,GACzB,OAAOnG,OAAOd,UAAU6C,SAASX,KAAK+E,GAAGnE,MAAM,GAAoB,EACrE,EACAmgG,EAAiB,SAAwBrgG,GACvC,GAAIq6B,MAAMr6B,GAAI,KAAM,wBACpB,GAAmB,WAAf45C,EAAQ55C,GAAiB,KAAM,+BACnC,IAAKijG,SAASjjG,GAAI,KAAM,4BAC1B,EACAsgG,EAAiB,SAAwBp8E,EAAGg/E,GAC1C,IAAIljG,EAAGS,EAAIqO,EACX,GAAmB,UAAf8qC,EAAQ11B,GAAgB,KAAM,+BAClC,GAAIA,EAAErmB,SAAWqlG,EAAW,KAAM,2CAClC,IAAKziG,EAAK,EAAGqO,EAAOoV,EAAErmB,OAAQ4C,EAAKqO,EAAMrO,IACvCT,EAAIkkB,EAAEzjB,GACN4/F,EAAergG,EAEnB,EACA8/F,EAAgB,SAAuB9/F,GACrC,MAAsB,WAAf45C,EAAQ55C,IAAmBijG,SAASjjG,KAAOq6B,MAAMr6B,EAC1D,EACAkgG,EAAmB,SAA0B1+F,GAC3C,IAAI2hG,EAEJ,OADAA,EAAa,uDACLvpD,EAAQp4C,IACd,IAAK,SACH,IAAKs+F,EAAct+F,GAAI,MAAM2hG,EAC7B3hG,EAAI,CAAC,EAAGA,GACR,MACF,IAAK,QACH,GAAiB,IAAbA,EAAE3D,OAAc,MAAMslG,EAC1B,IAAMrD,EAAct+F,EAAE,MAAOs+F,EAAct+F,EAAE,IAAM,MAAM2hG,EACzD,MACF,QACE,MAAMA,EAEV,OAAO3hG,CACT,EACA2+F,EAAc,SAAqBnjG,GACjC,IAAIiW,EAAM4oB,EAAG3X,EAEb,IAAK2X,KADL5oB,EAAO,CAAC,EACEjW,EACHujG,EAAUjhG,KAAKtC,EAAK6+B,KACzB3X,EAAIlnB,EAAI6+B,GACR5oB,EAAK4oB,GAAK3X,GAEZ,OAAOjR,CACT,EACAusF,EAAU,SAAgB9/F,EAAKkiG,GAC7B,IAAIwB,EAAeF,EAAWtlG,EAAGylG,EAAcC,EAAmBC,EAAe1nE,EAAG77B,EAAGwjG,EAAYC,EAAYv/E,EAS/G,IAAK2X,KARS,MAAV+lE,IAAgBA,EAAS,CAAC,GAC9B4B,EAAa,CAAC,EACd5B,EAASzB,EAAYyB,GACrB4B,EAAW5B,OAASzB,EAAYyB,GACV,MAAlBA,EAAOJ,UAAiBI,EAAOJ,QAAUI,EAAOD,QACvB,MAAzBC,EAAOH,iBACTG,EAAOH,eAAiBG,EAAO8B,mBAEvB9D,EACHW,EAAUjhG,KAAKsgG,EAAe/jE,KACnC3X,EAAI07E,EAAc/jE,GACD,MAAb+lE,EAAO/lE,KAAY+lE,EAAO/lE,GAAK3X,IAErC,KAAMo/E,EAAoB,CACxBK,QAASrE,EACTsE,OAAQvE,EACRwE,MAAO1E,EACP2E,QAASvE,EACTa,KAAMb,GACNqC,EAAO5yF,SACP,KAAM,mBAAqB4yF,EAAO5yF,OAKpC,GAHsB,YAAlB4yF,EAAO5yF,SACT4yF,EAAOF,WAAa3B,EAAkB6B,EAAOH,iBAE3C/hG,EAAI7B,OAAS,EAAG,KAAM,wCAwD1B,IAAKg+B,KAvDL2nE,EAAWhsF,MAAQ9X,EAAI7B,OACvB4lG,EAAa,WACX,IAAIhjG,EAAIu9C,EAAIlvC,EAAMi1F,EAClB,OAAQnqD,EAAQl6C,EAAI,KAClB,IAAK,SAEH,GADA8jG,EAAWN,UAAY,SACnB1D,EAAQwE,eACV,IAAKvjG,EAAK,EAAGqO,EAAOpP,EAAI7B,OAAQ4C,EAAKqO,EAAMrO,IACzCT,EAAIN,EAAIe,GACR4/F,EAAergG,GAInB,OADAqjG,EAAe,IAAIC,EAAkB5jG,EAAKkiG,GACnC,SAAUrgG,GACf,OAAO8hG,EAAahB,YAAY9gG,EAClC,EACF,IAAK,QAEH,GADAiiG,EAAWN,UAAYA,EAAYxjG,EAAI,GAAG7B,QACrCqlG,EAAW,KAAM,4BACtB,GAAI1D,EAAQwE,eACV,IAAKhmD,EAAK,EAAG+lD,EAAQrkG,EAAI7B,OAAQmgD,EAAK+lD,EAAO/lD,IAC3C95B,EAAIxkB,EAAIs+C,GACRsiD,EAAep8E,EAAGg/E,GAWtB,OARAK,EAAgB,WACd,IAAIT,EAEJ,IADAA,EAAW,GACNllG,EAAI,EAAG,GAAKslG,EAAYtlG,EAAIslG,EAAYtlG,EAAIslG,EAAW,GAAKA,EAAYtlG,IAAMA,IACjFklG,EAAS7hG,KAAK,IAAIqiG,EAAkBzD,EAAUngG,EAAK9B,GAAIgkG,IAEzD,OAAOkB,CACT,CAPgB,GAQT,SAAUvhG,GACf,IAAI8hG,EAAcvgD,EAAImhD,EAAOnB,EAE7B,IADAA,EAAW,GACNhgD,EAAK,EAAGmhD,EAAQV,EAAc1lG,OAAQilD,EAAKmhD,EAAOnhD,IACrDugD,EAAeE,EAAczgD,GAC7BggD,EAAS7hG,KAAKoiG,EAAahB,YAAY9gG,IAEzC,OAAOuhG,CACT,EACF,QACE,KAAM,yBAA2BlpD,EAAQl6C,EAAI,IAEnD,CA5Ca,GA8CX0jG,EADkB,aAAhBxB,EAAOL,KACO7hG,EAAI7B,OAEJ6B,EAAI7B,OAAS,EAE/B+jG,EAAOJ,UAAYI,EAAOJ,QAAU4B,GACpCI,EAAWU,OAAShE,EAAiB0B,EAAOJ,SAC5CiC,EAAazD,EAAmByD,EAAYL,EAAeI,EAAWU,QACtEV,EAAWU,OAAOzjD,OACR+iD,EACHjD,EAAUjhG,KAAKkkG,EAAY3nE,KAChC3X,EAAIs/E,EAAW3nE,GACf4nE,EAAW5nE,GAAK3X,GAElB,OAAOu/E,CACT,EACUrE,EACHmB,EAAUjhG,KAAK8/F,EAAMvjE,KAC1B3X,EAAIk7E,EAAKvjE,GACT2jE,EAAQ3jE,GAAK3X,GAEfs7E,EAAQwE,gBAAiB,GACZ,OAAZlF,GAAmBA,GAAU13F,QAAQ63F,OAASO,CAChD,EAAElgG,KAAKm8B,IAGV,IAAIxJ,GAAck8B,GAAKl8B,YACnBkyE,GAAapvC,GAASa,gBAC1B,SAASwuC,GAA4B5G,EAAQtjF,GAC3C,IAAI8G,EAAOi+E,GAAOA,OAAOzB,EAAQ,CAC/BxuF,OAAQiwF,GAAOA,OAAO4B,aACtBU,KAAMtC,GAAOA,OAAO+B,WACpBM,aAAcpnF,EACdsnF,QAAS,IAEX,OAAO,SAAUjgG,EAAG8iG,GAClB,IAAIC,EAAaD,EACE,OAAfC,IACFA,EAAa,SAAoBC,GAC/B,OAAQA,GAAM/G,EAAO3/F,OAAS,EAAI,GAAK,IAAM2/F,EAAO3/F,OAAS,EAC/D,GAEF,IAAI2mG,EAAOF,EAAW/iG,GAClBkjG,EAAMzjF,EAAKwjF,GACf,OAAO,IAAI,MAAQC,EAAI,GAAIA,EAAI,GAAIA,EAAI,GACzC,CACF,CACA,SAASC,GAAWC,EAAcC,EAAW5+F,EAAK8hB,GAChD,IAAKA,EAAQoH,SAGX,OAFAy1E,EAAa3+F,GAAO2+F,EAAa3+F,EAAM,QACvC4+F,EAAU5+F,GAAO4+F,EAAU5+F,EAAM,IAGnC,IAAI8nC,EAAKhmB,EAAQgH,cACjB61E,EAAa3+F,GAAO,CAAC8nC,EAAGzpC,EAAGypC,EAAGxpC,EAAGwpC,EAAGxc,GACpC,IAAIuzE,EAAK/2D,EAAG1hB,QAAQqlB,IAAI3pB,EAAQkH,aAChC41E,EAAU5+F,GAAO,CAAC6+F,EAAGxgG,EAAGwgG,EAAGvgG,EAAGugG,EAAGvzE,EACnC,CA6FA,IAAIwzE,GAAgB,WAClB,SAASA,EAAc1uE,EAAU2uE,EAAUC,EAAQ59B,EAAeltD,EAAS0yB,GACzEvvC,EAAgBuE,KAAMkjG,GACtB,IAAIG,EApDR,SAAqB7uE,EAAU8uE,EAAU5iC,EAAS11B,GAChD,IAAIhqC,EAAOgqC,EAAWr1B,MAClB2T,EAAQ0hB,EAAWloC,IACvB,SAASygG,EAASn/F,GAChB,OAAOA,EAAMpD,GAAQwzB,EAASpwB,EAAM,GAAGkpB,SAAWlpB,EAAM,EAAIA,CAC9D,CACA,SAASo/F,EAASp/F,GAChB,OAAOA,EAAMklB,GAASkL,EAASpwB,EAAM,GAAGkpB,SAAWlpB,EAAM,EAAIA,CAC/D,CACA,IAAI4+F,EAAY,GACZD,EAAe,GACfU,EAAS,EACb,SAASC,EAAc74D,EAAS84D,GAC9B,IAAIz3D,EAAK1X,EAASqW,GAAS3d,cAAc1C,QAAQoF,KAAK4E,EAASmvE,GAAUz2E,eAAgB,KACrF+1E,EAAK/2D,EAAG1hB,QAAQqlB,IAAIrb,EAASqW,GAASzd,aAC1C21E,EAAaU,GAAU,CAACv3D,EAAGzpC,EAAGypC,EAAGxpC,EAAGwpC,EAAGxc,GACvCszE,EAAUS,KAAY,CAACR,EAAGxgG,EAAGwgG,EAAGvgG,EAAGugG,EAAGvzE,GACtCqzE,EAAaU,GAAU,CAACv3D,EAAGzpC,EAAGypC,EAAGxpC,EAAGwpC,EAAGxc,GACvCszE,EAAUS,KAAY,CAACR,EAAGxgG,EAAGwgG,EAAGvgG,EAAGugG,EAAGvzE,EACxC,CACA,IAAIk0E,EAAUL,EAASD,GACnBO,EAAUL,EAAS9iC,GACvB,GAAIkjC,IAAYC,EAEd,OAnEJ,SAAkCd,EAAcC,EAAW5+F,EAAK8hB,GAC9D,IAGI49E,EACAC,EAJAC,EAAgE,IAArD99E,EAAQ2D,MAAM/C,MAAQuJ,GAAYtJ,MAAMwM,SACnD0wE,EAAWD,EAAU,MAAQ,IAC7BE,EAASF,EAAU,MAAQ,IAe/B,GAZA99E,EAAQ4H,aAAY,SAAUzX,GAC5B,IAAI9X,EAAO8X,EAAKqiF,gBACXoL,GAAWvlG,IAAS0lG,EAEbF,GAASxlG,IAAS2lG,IAC5BH,EAAQ1tF,EAAKnV,UAFb4iG,EAAUztF,EAAKnV,QAInB,IACM4iG,GAAWC,IACfD,EAAU59E,EAAQ4G,WAAW5rB,SAC7B6iG,EAAQ79E,EAAQ+G,UAAU/rB,UAExB4iG,GAAWC,EAAO,CACpB,IAAII,EAAQJ,EAAMv5E,QAAQE,IAAIo5E,GAC1BM,EAAOl+E,EAAQkH,YACf8e,EAAKhmB,EAAQgH,cACb+1E,EAAK/2D,EAAG1hB,QAAQqlB,IAAIu0D,GACpBC,EAASn4D,EAAG1hB,QAAQE,IAAIy5E,GACxBG,EAASD,EAAO75E,QAAQqlB,IAAIu0D,GAChCrB,EAAa3+F,GAAO,CAACigG,EAAO5hG,EAAG4hG,EAAO3hG,EAAG2hG,EAAO30E,GAChDszE,EAAU5+F,GAAO,CAACkgG,EAAO7hG,EAAG6hG,EAAO5hG,EAAG4hG,EAAO50E,GAE7CqzE,IADE3+F,GACkB,CAACigG,EAAO5hG,EAAG4hG,EAAO3hG,EAAG2hG,EAAO30E,GAChDszE,EAAU5+F,GAAO,CAACkgG,EAAO7hG,EAAG6hG,EAAO5hG,EAAG4hG,EAAO50E,GAE7CqzE,IADE3+F,GACkB,CAAC8nC,EAAGzpC,EAAGypC,EAAGxpC,EAAGwpC,EAAGxc,GACpCszE,EAAU5+F,GAAO,CAAC6+F,EAAGxgG,EAAGwgG,EAAGvgG,EAAGugG,EAAGvzE,KAC/BtrB,EACF,IAAImgG,EAASr4D,EAAG1hB,QAAQqlB,IAAIs0D,GACxBK,EAASD,EAAO/5E,QAAQqlB,IAAIu0D,GAChCrB,EAAa3+F,GAAO,CAACmgG,EAAO9hG,EAAG8hG,EAAO7hG,EAAG6hG,EAAO70E,GAChDszE,EAAU5+F,GAAO,CAACogG,EAAO/hG,EAAG+hG,EAAO9hG,EAAG8hG,EAAO90E,GAE7CqzE,IADE3+F,GACkB,CAACmgG,EAAO9hG,EAAG8hG,EAAO7hG,EAAG6hG,EAAO70E,GAChDszE,EAAU5+F,GAAO,CAACogG,EAAO/hG,EAAG+hG,EAAO9hG,EAAG8hG,EAAO90E,EAC/C,CACF,CAwBI+0E,CAAyB1B,EAAcC,EAAWS,EAAQjvE,EAAS8uE,IAC5D,CACLP,aAAcA,EACdC,UAAWA,GAGXM,IAAaM,EACfF,EAAcJ,EAAUE,EAASF,KAEjCR,GAAWC,EAAcC,EAAWS,IAAUjvE,EAAS+uE,EAASK,KAChEd,GAAWC,EAAcC,EAAWS,IAAUjvE,EAASovE,KAEzD,IAAK,IAAIx/F,EAAMk/F,EAAUl/F,GAAOs8D,IAAWt8D,EACzC0+F,GAAWC,EAAcC,EAAWS,IAAUjvE,EAASpwB,IAQzD,OANIy/F,IAAYL,EAASK,GACvBH,EAAchjC,EAAS6iC,EAAS7iC,KAEhCoiC,GAAWC,EAAcC,EAAWS,IAAUjvE,EAASqvE,IACvDf,GAAWC,EAAcC,EAAWS,EAAQjvE,EAASgvE,EAASK,MAEzD,CACLd,aAAcA,EACdC,UAAWA,EAEf,CAIuB0B,CAAYlwE,EAAU2uE,EAAUC,EAAQp4D,GAC3DhrC,KAAK2kG,WAAanC,GAA4Ba,EAAaL,UAAW1qF,GACtEtY,KAAK4kG,cAAgBpC,GAA4Ba,EAAaN,aAAczqF,GAC5EtY,KAAK6kG,OAAS,IAAOzB,EAASD,EAAW,GACzCnjG,KAAK8kG,YAAc,EAAM,EAAI9kG,KAAK6kG,SAAW,GAAKzB,EAASD,EAAW,IAAM39B,EAAgB,IAC5FxlE,KAAK+kG,eAAiBv/B,CACxB,CAsBA,OArBA/oE,EAAaymG,EAAe,CAAC,CAC3B1mG,IAAK,kBACLe,MAAO,SAAyB6G,EAAK4gG,EAAUC,GAO7C,IANA,IAAIC,EAAWllG,KAAK+kG,eAChBI,EAAS,IAAIlnG,MAAMinG,GACnBE,EAAU,IAAI,MAAQ,EAAG,GACzBC,EAAYrlG,KAAK2kG,WACjBW,EAAYtlG,KAAK4kG,cACjBW,EAAevlG,KAAK6kG,OAAS7kG,KAAK8kG,YAAcI,EAAW,GAAK9gG,EAC3DohG,EAAS,EAAGA,EAASN,IAAYM,EAAQ,CAChD,IAAIC,EAAUzjG,KAAKwY,IAAI,EAAKgrF,GAAUN,EAAW,IACjDE,EAAQ5mC,YAAYwmC,EAAUC,EAAWQ,GACzC,IAAIC,EAAUL,EAAUE,EAAc,MAClCI,EAAaL,EAAUC,EAAc,MAErCK,EAAaN,EADjBC,GAAgBvlG,KAAK8kG,WACoB,MACzCK,EAAOK,GAAUjD,GAAWoD,EAAWn7E,QAASo7E,EAAWp7E,QAASk7E,EAAQl7E,QAAQE,IAAIi7E,GAAaP,EACvG,CACA,OAAOD,CACT,KAEKjC,CACT,CAhCoB,GAoCpB,SAAS2C,GAAa1xC,EAAKjlD,GAEzB,IADA,IAAIgsF,EAAM,GACDl/F,EAAI,EAAGA,EAAIkT,IAASlT,EAAG,CAC9B,IAAI6L,EAAI7F,KAAK2C,GAAK,EAAM,EAAI3C,KAAK2C,GAAK3I,EAAIkT,EAC1CgsF,EAAI77F,KAAK,IAAI,MAAQ2C,KAAK6C,IAAIgD,GAAKssD,EAAKnyD,KAAK4C,IAAIiD,GAAKssD,EAAK,GAC7D,CACA,OAAO+mC,CACT,CACA,SAAS4K,GAAaC,EAAQvxE,EAAU4lE,EAAgB9hF,EAASwD,EAAMhT,GACrE,IAAK,IAAIk9F,EAAU,EAAGC,EAAUF,EAAO9pG,OAAQ+pG,EAAUC,IAAWD,EAGlE,IAFA,IAAIx7D,EAAOu7D,EAAOC,GAASloG,IACvBktC,EAAa+6D,EAAOC,GAASh7D,WACxBhvC,EAAI,EAAGoC,EAAIosC,EAAKvuC,OAAQD,EAAIoC,IAAKpC,EAOxC,IANA,IAAIkqG,EAAM,CAAC17D,EAAKxuC,GAAG2Z,MAAO60B,EAAKxuC,GAAG8G,KAC9BqjG,EAAe,IAAIjD,GAAc1uE,EAAU0xE,EAAI,GAAIA,EAAI,GAAI9L,EAAgB9hF,EAAS0yB,GACpFo7D,EAAW,KACXjD,EAA2B,EAAhB34D,EAAKxuC,GAAG2Z,MACnBytF,EAAuB,EAAd54D,EAAKxuC,GAAG8G,IAAU,EAC3BujG,EAAgBvqF,EAAKwqF,iBAAiB9xE,EAAS,GAAI,GAC9CpwB,EAAM++F,EAAU/+F,GAAOg/F,IAAUh/F,EAAK,CAC7C,IACIqmC,EAAUjW,EADDpwB,EAAM,EAAI,GAEnB4gG,EAAWlpF,EAAKwqF,iBAAiB77D,EAASrmC,EAAM,GAChD6gG,EAAYnpF,EAAKwqF,iBAAiB77D,EAAS,EAAIrmC,EAAM,GACrDu3F,EAAMwK,EAAaI,gBAAgBniG,EAAe,EAAT8hG,EAAI,GAAQlB,EAAUC,GACnEtJ,EAAIl9C,QAAqB,OAAb2nD,EAAoBzK,EAAI,GAAKyK,GAGzCt9F,EAAS2hC,EAASkxD,EAFHqJ,EAASviG,IAAMwiG,EAAUxiG,GAAKuiG,EAAStiG,IAAMuiG,EAAUviG,EACzDsiG,EAASviG,IAAM4jG,EAAc5jG,GAAKuiG,EAAStiG,IAAM2jG,EAAc3jG,GAE5E0jG,EAAWzK,EAAIvB,GACfiM,EAAgBpB,CAClB,CAGN,CACA,IAAIuB,GAAsB,SAAUhK,GAClCp/F,EAAUopG,EAAqBhK,GAC/B,IAvCuBjvF,EAAeC,EAuClCC,GAvCmBF,EAuCMi5F,EAvCSh5F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ8+F,GAAuC,WAAkC,IAAsCp6F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAwCza,SAASm6F,IAEP,OADA/qG,EAAgBuE,KAAMwmG,GACf/4F,EAAO1N,MAAMC,KAAMH,UAC5B,CAoDA,OAnDApD,EAAa+pG,EAAqB,CAAC,CACjChqG,IAAK,eACLe,MAAO,WACL,IAAImpG,EAAgB1mG,KAAKw2F,MAAMmQ,yBAE/B,OADA3mG,KAAKq6F,gBAAkBr6F,KAAK42F,gBAAkB8P,EAAgB,EACvD,CAACb,GAAa,EAAK7lG,KAAK42F,iBAAkB52F,KAAKq6F,gBAAkB,EAAmC,EAAhCr6F,KAAKu2F,WAAWI,OAAO16F,OACpG,GACC,CACDO,IAAK,SACLe,MAAO,WACL,IAAIo6F,EAAmB33F,KAAKu2F,WACxB/hE,EAAWmjE,EAAiBnjE,SAC5Bq6B,EAAS8oC,EAAiB9oC,OAC1B/yC,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACfn+E,EAAUwD,EAAK8qF,aACf9xC,EAAM90D,KAAK62F,KACX79B,EAAW,EACX6tC,EAAW,GACff,GAAa9lG,KAAKu2F,WAAWuQ,QAAStyE,EAAUx0B,KAAKq6F,gBAAiB/hF,EAASwD,GAAM,SAAU2uB,EAASkxD,GACtG,IAAIr3B,EAAWzkE,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,IAAmBA,UAAU,GAC1E0kE,EAAS1kE,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,IAAmBA,UAAU,GACxEU,EAAQwb,EAAQ4gF,gBAAgBlyD,EAASokB,GAC7Cg4C,EAAS7tC,GAAYvuB,EAAQlkC,OAC7BuuD,EAAIqN,QAAQnJ,EAAU2iC,EAAKr3B,EAAUC,GACrCzP,EAAI+iC,SAAS7+B,IAAYz4D,EAC3B,IACAP,KAAK02F,WAAamQ,EAClB/xC,EAAIvP,UACN,GACC,CACD/oD,IAAK,gBACLe,MAAO,SAAuBw3B,GAC5B,IAAI85B,EAAS7uD,KAAKu2F,WAAW1nC,OACzB/yC,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACfn+E,EAAUwD,EAAK8qF,aACf9xC,EAAM90D,KAAK62F,KACX5hE,EAAWF,EAAUomB,cACrB6d,EAAW,EACX++B,EAAchjE,EAAUijE,iBAAiBj8E,GAC7C+pF,GAAa9lG,KAAKu2F,WAAWuQ,QAAS7xE,EAAUj1B,KAAKq6F,gBAAiB/hF,EAASwD,GAAM,SAAU2uB,EAASkxD,GACtG7mC,EAAIqN,QAAQnJ,EAAU2iC,GAClB5D,GACFjjC,EAAI+iC,SAAS7+B,EAAUj9C,EAAQ4gF,gBAAgBlyD,EAASokB,IAE1DmK,GACF,IACAlE,EAAIvP,UACN,KAEKihD,CACT,CA3D0B,CA2DxBrK,IAIF,IAAI4K,GAAqB,SAAU1P,GACjCj6F,EAAU2pG,EAAoB1P,GAC9B,IAJuB9pF,EAAeC,EAIlCC,GAJmBF,EAIMw5F,EAJSv5F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQq/F,GAAuC,WAAkC,IAAsC36F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAAS06F,IAEP,OADAtrG,EAAgBuE,KAAM+mG,GACft5F,EAAO1N,MAAMC,KAAMH,UAC5B,CAsHA,OArHApD,EAAasqG,EAAoB,CAAC,CAChCvqG,IAAK,eACLe,MAAO,WAGL,IAFA,IAAIwoG,EAAS/lG,KAAKu2F,WAAWuQ,QACzB7rC,EAAc,EACT+qC,EAAU,EAAGC,EAAUF,EAAO9pG,OAAQ+pG,EAAUC,IAAWD,EAElE,IADA,IAAIx7D,EAAOu7D,EAAOC,GAASloG,IAClB9B,EAAI,EAAGoC,EAAIosC,EAAKvuC,OAAQD,EAAIoC,IAAKpC,EACxCi/D,GAAezwB,EAAKxuC,GAAG8G,IAAM0nC,EAAKxuC,GAAG2Z,MAGzC,MAAO,CAACslD,EAAaj7D,KAAK42F,gBAC5B,GACC,CACDp6F,IAAK,SACLe,MAAO,WAWL,IAVA,IAAIo6F,EAAmB33F,KAAKu2F,WACxB/hE,EAAWmjE,EAAiBnjE,SAC5Bq6B,EAAS8oC,EAAiB9oC,OAC1B/yC,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACX79B,EAAW,EACX6tC,EAAW,GACXd,EAAS/lG,KAAKu2F,WAAWuQ,QACzBpK,EAAW5gF,EAAK2/E,kBACXuK,EAAU,EAAGC,EAAUF,EAAO9pG,OAAQ+pG,EAAUC,IAAWD,EAElE,IADA,IAAIx7D,EAAOu7D,EAAOC,GAASloG,IAClB9B,EAAI,EAAGoC,EAAIosC,EAAKvuC,OAAQD,EAAIoC,IAAKpC,EAIxC,IAHA,IAAImnG,EAAW34D,EAAKxuC,GAAG2Z,MACnBytF,EAAS54D,EAAKxuC,GAAG8G,IACjBssB,EAAUoF,EAAS2uE,GACd/+F,EAAM++F,EAAW,EAAG/+F,GAAOg/F,IAAUh/F,EAAK,CACjD,IAAIqmC,EAAUjW,EAASpwB,GACvByiG,EAAS7tC,GAAY,CACnB3jD,MAAO+Z,EAAQ7oB,OACf+O,OAAQm1B,EAAQlkC,QAElBuuD,EAAIqN,QAAQnJ,EAAU5pC,EAAQlC,cAAeud,EAAQvd,cAAewvE,GACpE5nC,EAAI+iC,SAAS7+B,EAAUj9C,EAAQ4gF,gBAAgBvtE,EAASy/B,GAAS9yC,EAAQ4gF,gBAAgBlyD,EAASokB,IAClGmK,IACA5pC,EAAUqb,CACZ,CAGJzqC,KAAK02F,WAAamQ,EAClB/xC,EAAIvP,UACN,GACC,CACD/oD,IAAK,gBACLe,MAAO,SAAuBw3B,GAU5B,IATA,IAAIP,EAAWO,EAAUomB,cACrB0T,EAAS7uD,KAAKu2F,WAAW1nC,OACzB/yC,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACX79B,EAAW,EACX+sC,EAAS/lG,KAAKu2F,WAAWuQ,QACzBpK,EAAW5gF,EAAK2/E,kBAChB1D,EAAchjE,EAAUijE,iBAAiBj8E,GACpCiqF,EAAU,EAAGC,EAAUF,EAAO9pG,OAAQ+pG,EAAUC,IAAWD,EAElE,IADA,IAAIx7D,EAAOu7D,EAAOC,GAASloG,IAClB9B,EAAI,EAAGoC,EAAIosC,EAAKvuC,OAAQD,EAAIoC,IAAKpC,EAIxC,IAHA,IAAImnG,EAAW34D,EAAKxuC,GAAG2Z,MACnBytF,EAAS54D,EAAKxuC,GAAG8G,IACjBssB,EAAUoF,EAAS2uE,GACd/+F,EAAM++F,EAAW,EAAG/+F,GAAOg/F,IAAUh/F,EAAK,CACjD,IAAIqmC,EAAUjW,EAASpwB,GACvB0wD,EAAIqN,QAAQnJ,EAAU5pC,EAAQlC,cAAeud,EAAQvd,cAAewvE,GAChE3E,GACFjjC,EAAI+iC,SAAS7+B,EAAUj9C,EAAQ4gF,gBAAgBvtE,EAASy/B,GAAS9yC,EAAQ4gF,gBAAgBlyD,EAASokB,IAEpGmK,IACA5pC,EAAUqb,CACZ,CAGJqqB,EAAIvP,UACN,GACC,CACD/oD,IAAK,UACLe,MAAO,SAAiB8vD,EAAWC,GACjC,IAAIyL,EAAS,GACTvkC,EAAWx0B,KAAKu2F,WAAW/hE,SAC/Bx0B,KAAK+2F,MAAMtpC,QAAQJ,EAAW0L,GAE9B,IADA,IAAIkhC,EAAcj6F,KAAK02F,WACd16F,EAAI,EAAGoC,EAAI26D,EAAO98D,OAAQD,EAAIoC,IAAKpC,EAC1C,GAAK+8D,EAAO/8D,GAAG8D,eAAe,YAA9B,CAGA,IAAIk5D,EAAWD,EAAO/8D,GAAGg9D,SACrBiuC,EAAQhN,EAAYj4F,KAAKoyC,MAAM4kB,EAAW,IAC1CsjC,EAAStjC,EAAW,GAAM,EAAIiuC,EAAM5xF,MAAQ4xF,EAAM3xF,OAClDgnF,EAAS9nE,EAASv4B,SACpB88D,EAAO/8D,GAAGkqB,QAAUsO,EAAS8nE,GAC7BhvC,EAAWjuD,KAAK05D,EAAO/8D,IANzB,CASJ,GACC,CACDQ,IAAK,kBACLe,MAAO,SAAyBkpB,GAI9B,IAHA,IAAIuwE,EAAa,GACbiD,EAAcj6F,KAAK02F,WACnBliE,EAAWx0B,KAAKu2F,WAAW/hE,SACtBx4B,EAAI,EAAGoC,EAAI67F,EAAYh+F,OAAQD,EAAIoC,IAAKpC,EAAG,CAClD,IAAIirG,EAAQhN,EAAYj+F,GACpBw4B,EAASyyE,EAAM5xF,OAAOsX,MAAQlG,GAChCuwE,EAAW33F,KAAS,EAAJrD,GAEdw4B,EAASyyE,EAAM3xF,QAAQqX,MAAQlG,GACjCuwE,EAAW33F,KAAS,EAAJrD,EAAQ,EAE5B,CACA,OAAOg7F,CACT,KAEK+P,CACT,CA7HyB,CA6HvB5Q,IAOF,IAAI+Q,GAAa,SAAU7P,GACzBj6F,EAAU8pG,EAAY7P,GACtB,IAPuB9pF,EAAeC,EAOlCC,GAPmBF,EAOM25F,EAPS15F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQw/F,GAAuC,WAAkC,IAAsC96F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAQza,SAAS66F,IAEP,OADAzrG,EAAgBuE,KAAMknG,GACfz5F,EAAO1N,MAAMC,KAAMH,UAC5B,CA6DA,OA5DApD,EAAayqG,EAAY,CAAC,CACxB1qG,IAAK,eACLe,MAAO,WAML,IALA,IAAI6pG,EAAepnG,KAAKw2F,MAAM6Q,sBAC1BC,EAAetnG,KAAKw2F,MAAM+Q,oBAC1BC,EAAWxnG,KAAKu2F,WAAWI,OAC3B9vE,EAAQ7mB,KAAKu2F,WAAW1vE,MACxB4gF,EAAa,EACRzrG,EAAI,EAAGoC,EAAIopG,EAASvrG,OAAQD,EAAIoC,IAAKpC,EAC5CyrG,GAAcznG,KAAK0nG,aAAa7gF,EAAM2gF,EAASxrG,IAAKorG,EAAcE,GAEpE,MAAO,CAACG,EAAYznG,KAAK42F,gBAC3B,GACC,CACDp6F,IAAK,eACLe,MAAO,SAAsB+Y,EAAM8wF,EAAcE,GAC/C,IAAIK,EAAY,EAIhB,OAHIP,GAAkBE,GAAgBhxF,EAAKuT,QAAUT,GAAOwC,SAAS1C,WACnEy+E,EA5BR,SAA0BA,GACxB,OAAOA,EAAY,EAAI,EAAIA,CAC7B,CA0BoBC,CAAiBtxF,EAAKsT,SAE7B+9E,CACT,GACC,CACDnrG,IAAK,UACLe,MAAO,SAAiB8vD,EAAWC,GACjC,IAAIzmC,EAAQ7mB,KAAKu2F,WAAW1vE,MACxBkyC,EAAS,GACb/4D,KAAK+2F,MAAMtpC,QAAQJ,EAAW0L,GAE9B,IADA,IAAIyuC,EAAWxnG,KAAK02F,WACX16F,EAAI,EAAGoC,EAAI26D,EAAO98D,OAAQD,EAAIoC,IAAKpC,EAC1C,GAAK+8D,EAAO/8D,GAAG8D,eAAe,YAA9B,CAGA,IAAIk5D,EAAWD,EAAO/8D,GAAGg9D,SACrB6uC,EAAUL,EAASxlG,KAAKoyC,MAAM4kB,EAAW,IAC7C,GAAI6uC,EAAUhhF,EAAM5qB,OAAQ,CAC1B,IAAIqa,EAAOuQ,EAAMghF,GACjB9uC,EAAO/8D,GAAGqa,KAAO2iD,EAAW,GAAM,EAAI1iD,EAAKmT,MAAQnT,EAAKoT,OACxD4jC,EAAWjuD,KAAK05D,EAAO/8D,GACzB,CAPA,CASJ,GACC,CACDQ,IAAK,kBACLe,MAAO,SAAyBkpB,EAAMinC,GAIpC,IAHA,IAAIspC,EAAa,GACbnwE,EAAQ7mB,KAAKu2F,WAAW1vE,MACxBozE,EAAcj6F,KAAK02F,WACd16F,EAAI,EAAGoC,EAAI67F,EAAYh+F,OAAQD,EAAIoC,IAAKpC,EAAG,CAClD,IAAIsa,EAAOuQ,EAAMozE,EAAYj+F,IACzBsa,EAAKmT,MAAMhD,KAAOA,KAAUinC,GAAap3C,EAAKoT,OAAOjD,KAAOA,IAC9DuwE,EAAW33F,KAAK,EAAIrD,GAElBsa,EAAKoT,OAAOjD,KAAOA,KAAUinC,GAAap3C,EAAKmT,MAAMhD,KAAOA,IAC9DuwE,EAAW33F,KAAK,EAAIrD,EAAI,EAE5B,CACA,OAAOg7F,CACT,KAEKkQ,CACT,CApEiB,CAoEf/Q,IAIF,IAAI2R,GAAqB,SAAUC,GACjC3qG,EAAU0qG,EAAoBC,GAC9B,IAJuBx6F,EAAeC,EAIlCC,GAJmBF,EAIMu6F,EAJSt6F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQqgG,GAAuC,WAAkC,IAAsC37F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASy7F,IAEP,OADArsG,EAAgBuE,KAAM8nG,GACfr6F,EAAO1N,MAAMC,KAAMH,UAC5B,CAyFA,OAxFApD,EAAaqrG,EAAoB,CAAC,CAChCtrG,IAAK,SACLe,MAAO,WAiBL,IAhBA,IAWI0qG,EAXAT,EAAWxnG,KAAKu2F,WAAWI,OAC3BgB,EAAmB33F,KAAKu2F,WACxB1vE,EAAQ8wE,EAAiB9wE,MACzBgoC,EAAS8oC,EAAiB9oC,OAC1B/yC,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACXuQ,EAAetrF,EAAKurF,sBACpBC,EAAexrF,EAAKyrF,oBACpB7K,EAAW5gF,EAAK2/E,kBAChByM,EAAcpsF,EAAKqsF,oBAEnBC,EAAU,IAAI,MACdC,EAAW,IAAI,MACfC,EAAc,EACdrO,EAAc,GACTj+F,EAAI,EAAGoC,EAAIopG,EAASvrG,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIsa,EAAOuQ,EAAM2gF,EAASxrG,IACtBusG,EAAQjyF,EAAKmT,MACb++E,EAAQlyF,EAAKoT,OACb++E,EAAQF,EAAMrnG,SACdwnG,EAAQF,EAAMtnG,SAClB+mG,EAAU3xF,EAAKqyF,gBAKf,IAJA,IAAIp/E,EAAQvpB,KAAK0nG,aAAapxF,EAAM8wF,EAAcE,GAE9CzwD,EAAO,EADE70C,KAAKwY,IAAIsB,EAAK87E,eAAe2Q,GAAQzsF,EAAK87E,eAAe4Q,IAC9Cj/E,EACpBq/E,EAAexB,EAAeplG,KAAKwY,IAAIkiF,EAAiB,GAAP7lD,GAAc,EAAMqxD,IAAgBxL,EAChFjoF,EAAI,EAAGA,EAAI8U,IAAS9U,EAAG,CAC9B,IAAIpU,EAAQw2C,GAAQttB,EAAQ,GAAM,GAAmB,IAAb9U,EAAI,EAAI,KAAa,EAASA,EAAI,EAAT,KAAiBA,EAAI,GAAK,EAAI,IAAgBA,EAAI,EAAT,EAAJ,IACtGwlF,EAAYqO,GAAehyF,EAAK/P,OAChC6hG,EAAQ/2F,KAAKo3F,GACbL,EAAQ3xC,gBAAgBwxC,EAAS5nG,GACjCgoG,EAASh3F,KAAKq3F,GACdL,EAAS5xC,gBAAgBwxC,EAAS5nG,GAClCy0D,EAAIqN,QAAQmmC,EAAaF,EAASC,EAAUO,GAC5C9zC,EAAI+iC,SAASyQ,IAAevsF,EAAQ+7E,aAAayQ,EAAO15C,GAAS9yC,EAAQ+7E,aAAa0Q,EAAO35C,GAC/F,CACF,CACAiG,EAAIvP,WACJvlD,KAAK02F,WAAauD,CACpB,GACC,CACDz9F,IAAK,gBACLe,MAAO,SAAuBw3B,GAe5B,IAdA,IASIkzE,EATAT,EAAWxnG,KAAKu2F,WAAWI,OAC3B9vE,EAAQ7mB,KAAKu2F,WAAW1vE,MACxB/K,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACXuQ,EAAetrF,EAAKurF,sBACpBC,EAAexrF,EAAKyrF,oBACpB7K,EAAW5gF,EAAK2/E,kBAChByM,EAAcpsF,EAAKqsF,oBAEnBC,EAAU,IAAI,MACdC,EAAW,IAAI,MACfC,EAAc,EACdvQ,EAAchjE,EAAUijE,iBAAiBj8E,GACpC/f,EAAI,EAAGoC,EAAIopG,EAASvrG,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIsa,EAAOuQ,EAAM2gF,EAASxrG,IACtBusG,EAAQjyF,EAAKmT,MACb++E,EAAQlyF,EAAKoT,OACb++E,EAAQ1zE,EAAU5L,WAAWo/E,EAAMjkF,OAAOkG,QAC1Ck+E,EAAQ3zE,EAAU5L,WAAWq/E,EAAMlkF,OACvC2jF,EAAU3xF,EAAKqyF,gBAKf,IAJA,IAAIp/E,EAAQvpB,KAAK0nG,aAAapxF,EAAM8wF,EAAcE,GAE9CzwD,EAAO,EADE70C,KAAKwY,IAAIsB,EAAK87E,eAAe2Q,GAAQzsF,EAAK87E,eAAe4Q,IAC9Cj/E,EACpBq/E,EAAexB,EAAeplG,KAAKwY,IAAIkiF,EAAiB,GAAP7lD,GAAc,EAAMqxD,IAAgBxL,EAChFjoF,EAAI,EAAGA,EAAI8U,IAAS9U,EAAG,CAC9B,IAAIpU,EAAQw2C,GAAQttB,EAAQ,GAAM,GAAmB,IAAb9U,EAAI,EAAI,KAAa,EAASA,EAAI,EAAT,KAAiBA,EAAI,GAAK,EAAI,IAAgBA,EAAI,EAAT,EAAJ,IACtG2zF,EAAQ/2F,KAAKo3F,GACbL,EAAQ3xC,gBAAgBwxC,EAAS5nG,GACjCgoG,EAASh3F,KAAKq3F,GACdL,EAAS5xC,gBAAgBwxC,EAAS5nG,GAClCy0D,EAAIqN,QAAQmmC,EAAaF,EAASC,EAAUO,GACxC7Q,GACFjjC,EAAI+iC,SAASyQ,EAAavzE,EAAU+iE,aAAa/7E,EAASwsF,GAAQxzE,EAAU+iE,aAAa/7E,EAASysF,IAEpGF,GACF,CACF,CACAxzC,EAAIvP,UACN,KAEKuiD,CACT,CAhGyB,CAgGvBZ,IAIF,IAAI2B,GAAY,IACZC,GAAkB,SAAUf,GAC9B3qG,EAAU0rG,EAAiBf,GAC3B,IALuBx6F,EAAeC,EAKlCC,GALmBF,EAKMu7F,EALSt7F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQohG,GAAuC,WAAkC,IAAsC18F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMza,SAASy8F,IAEP,OADArtG,EAAgBuE,KAAM8oG,GACfr7F,EAAO1N,MAAMC,KAAMH,UAC5B,CAyGA,OAxGApD,EAAaqsG,EAAiB,CAAC,CAC7BtsG,IAAK,SACLe,MAAO,WAeL,IAdA,IAAIiqG,EAAWxnG,KAAKu2F,WAAWI,OAC3BgB,EAAmB33F,KAAKu2F,WACxB1vE,EAAQ8wE,EAAiB9wE,MACzBgoC,EAAS8oC,EAAiB9oC,OAC1B/yC,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACXuQ,EAAetrF,EAAKurF,sBACpBC,EAAexrF,EAAKyrF,oBACpByB,EAAU,IAAI,MACdZ,EAAU,IAAI,MACdC,EAAW,IAAI,MACfC,EAAc,EACdrO,EAAc,GACTj+F,EAAI,EAAGoC,EAAIopG,EAASvrG,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIsa,EAAOuQ,EAAM2gF,EAASxrG,IACtBusG,EAAQjyF,EAAKmT,MACb++E,EAAQlyF,EAAKoT,OACb++E,EAAQF,EAAMrnG,SACdwnG,EAAQF,EAAMtnG,SACd+nG,EAAiC,IAAvBV,EAAM1hF,MAAM5qB,OACtBitG,EAAiC,IAAvBV,EAAM3hF,MAAM5qB,OAC1B+sG,EAAQ7jC,WAAWujC,EAAOD,GAI1B,IAHA,IAAI1qG,EAAMirG,EAAQ/sG,SACdgsG,EAAU3xF,EAAKqyF,gBACfp/E,EAAQvpB,KAAK0nG,aAAapxF,EAAM8wF,EAAcE,GACzC7yF,EAAI,EAAGA,EAAI8U,IAAS9U,EAAG,CAC9B2zF,EAAQ/2F,KAAKo3F,GACbJ,EAASh3F,KAAKq3F,GACd,IAAIroG,EAAQkpB,EAAQ,GAAM,GAAmB,IAAb9U,EAAI,EAAI,KAAa,EAASA,EAAI,EAAT,KAAiBA,EAAI,GAAK,EAAI,IAAgBA,EAAI,EAAT,EAAJ,GAC9FwlF,EAAYqO,GAAehyF,EAAK/P,OAClB,IAAVgjB,GAAgB0/E,GAAYC,IAC9B7oG,GAAS,GACTA,IAAU,IAEP4oG,IAAYC,GAAW3/E,EAAQ,GAAe,IAAVlpB,IACvC+nG,EAAQ5pC,YAAYiqC,EAAOC,EAAOG,GAAY9qG,GAC9CsqG,EAAS7pC,YAAYiqC,EAAOC,EAAO,EAAMG,GAAY9qG,IAEvDsC,GAASwoG,GACTT,EAAQ3xC,gBAAgBwxC,EAAS5nG,GACjCgoG,EAAS5xC,gBAAgBwxC,EAAS5nG,GAClCy0D,EAAIqN,QAAQmmC,EAAaF,EAASC,GAClCvzC,EAAI+iC,SAASyQ,IAAevsF,EAAQ+7E,aAAayQ,EAAO15C,GAAS9yC,EAAQ+7E,aAAa0Q,EAAO35C,GAC/F,CACF,CACAiG,EAAIvP,WACJvlD,KAAK02F,WAAauD,CACpB,GACC,CACDz9F,IAAK,gBACLe,MAAO,SAAuBw3B,GAa5B,IAZA,IAAIyyE,EAAWxnG,KAAKu2F,WAAWI,OAC3B9vE,EAAQ7mB,KAAKu2F,WAAW1vE,MACxB/K,EAAO9b,KAAKw2F,MACZz6E,EAAU/b,KAAKy2F,SACf3hC,EAAM90D,KAAK62F,KACXuQ,EAAetrF,EAAKurF,sBACpBC,EAAexrF,EAAKyrF,oBACpByB,EAAU,IAAI,MACdZ,EAAU,IAAI,MACdC,EAAW,IAAI,MACfC,EAAc,EACdvQ,EAAchjE,EAAUijE,iBAAiBj8E,GACpC/f,EAAI,EAAGoC,EAAIopG,EAASvrG,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIsa,EAAOuQ,EAAM2gF,EAASxrG,IACtBusG,EAAQjyF,EAAKmT,MACb++E,EAAQlyF,EAAKoT,OACb++E,EAAQ1zE,EAAU5L,WAAWo/E,EAAMjkF,OAAOkG,QAC1Ck+E,EAAQ3zE,EAAU5L,WAAWq/E,EAAMlkF,OACnC2kF,EAAiC,IAAvBV,EAAM1hF,MAAM5qB,OACtBitG,EAAiC,IAAvBV,EAAM3hF,MAAM5qB,OAC1B+sG,EAAQ7jC,WAAWujC,EAAOD,GAI1B,IAHA,IAAI1qG,EAAMirG,EAAQ/sG,SACdgsG,EAAU3xF,EAAKqyF,gBACfp/E,EAAQvpB,KAAK0nG,aAAapxF,EAAM8wF,EAAcE,GACzC7yF,EAAI,EAAGA,EAAI8U,IAAS9U,EAAG,CAC9B2zF,EAAQ/2F,KAAKo3F,GACbJ,EAASh3F,KAAKq3F,GACd,IAAIroG,EAAQkpB,EAAQ,GAAM,GAAmB,IAAb9U,EAAI,EAAI,KAAa,EAASA,EAAI,EAAT,KAAiBA,EAAI,GAAK,EAAI,IAAgBA,EAAI,EAAT,EAAJ,GAChF,IAAV8U,GAAgB0/E,GAAYC,IAC9B7oG,GAAS,GACTA,IAAU,IAEP4oG,IAAYC,GAAW3/E,EAAQ,GAAe,IAAVlpB,IACvC+nG,EAAQ5pC,YAAYiqC,EAAOC,EAAOG,GAAY9qG,GAC9CsqG,EAAS7pC,YAAYiqC,EAAOC,EAAO,EAAMG,GAAY9qG,IAEvDsC,GAASwoG,GACTT,EAAQ3xC,gBAAgBwxC,EAAS5nG,GACjCgoG,EAAS5xC,gBAAgBwxC,EAAS5nG,GAClCy0D,EAAIqN,QAAQmmC,EAAaF,EAASC,GAC9BtQ,GACFjjC,EAAI+iC,SAASyQ,EAAavzE,EAAU+iE,aAAa/7E,EAASwsF,GAAQxzE,EAAU+iE,aAAa/7E,EAASysF,IAEpGF,GACF,CACF,CACAxzC,EAAIvP,UACN,KAEKujD,CACT,CAhHsB,CAgHpB5B,IAEExjD,GAAS,CACX8zC,iBAAkBA,GAClBS,kBAAmBA,GACnBK,qBAAsBA,GACtBe,eAAgBA,GAChB8B,mBAAoBA,GACpBW,mBAAoBA,GACpBe,sBAAuBA,GACvBM,oBAAqBA,GACrBqJ,oBAAqBA,GACrBO,mBAAoBA,GACpBe,mBAAoBA,GACpBgB,gBAAiBA,IAKnB,IAAIK,GAAiB,SAAU/S,GAC7Bh5F,EAAU+rG,EAAgB/S,GAC1B,IAJuB7oF,EAAeC,EAIlCC,GAJmBF,EAIM47F,EAJS37F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQyhG,GAAuC,WAAkC,IAAsC/8F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAAS88F,EAAe/R,EAAY9B,EAAWrhE,EAASlY,EAASD,EAAMnF,EAAgB8P,EAAMxK,GAC3F,IAAItR,EACJlP,EAAgBuE,KAAMmpG,GAEtB,IAAItsG,EAAOD,EADX+N,EAAQ8C,EAAO/P,KAAKsC,OAEpB2K,EAAMupB,SAAWD,EACjBtpB,EAAM6rF,MAAQ16E,EACd,IAAIqQ,EAAQ8H,EAAQyY,WAChB6oD,EAAathE,EAAQ2wB,gBAqBzB,OApBA3wB,EAAQye,kBAAiB,SAAUC,GACjC,IAAI4kD,EAAW,GACX8R,EAAY,EAOhB,GANA12D,EAAU7kB,aAAY,SAAUzX,GACzBxZ,EAAKysG,WAAWjzF,EAAMoQ,KAG3B8wE,EAAS8R,KAAehzF,EAAKiO,MAC/B,IACkB,IAAd+kF,EAAJ,CAGA,IAAIE,EAAa,IAAInS,EAAW9B,EAAW,CACzCnpE,MAAOA,EACPwqE,OAAQY,EACR1oC,OAAQ56B,GACPlY,EAASD,EAAMy5E,EAAY5+E,EAAgBsF,GAC9CstF,EAAW98E,WAAakmB,EACxB91C,EAAKgzC,IAAI05D,EAPT,CAQF,IACO5+F,CACT,CAyBA,OAxBAlO,EAAa0sG,EAAgB,CAAC,CAC5B3sG,IAAK,aACLe,MAAO,SAAoB8Y,EAAMoQ,GAC/B,OAAOpQ,EAAKoQ,KAAOA,CACrB,GACC,CACDjqB,IAAK,YACLe,MAAO,SAAmBkpB,EAAMinC,GAI9B,IAHA,IAAIG,EAAc,GACdL,EAAWxtD,KAAKwtD,SAChBg8C,EAAU,EACLxtG,EAAI,EAAGoC,EAAIovD,EAASvxD,OAAQD,EAAIoC,IAAKpC,EAC5C,GAAIwxD,EAASxxD,GAAG8xD,UAEd,IADA,IAAI27C,EAAWj8C,EAASxxD,GAAG8xD,UAAUrnC,EAAMinC,GAClCj5C,EAAI,EAAG0O,EAAIsmF,EAASxtG,OAAQwY,EAAI0O,IAAK1O,EAAG,CAC/C,IAAIi1F,EAAWD,EAASh1F,GACxBi1F,EAASj9E,WAAa+gC,EAASxxD,GAAGywB,WAClCohC,EAAY27C,KAAaE,CAC3B,CAGJ,OAAO77C,CACT,KAEKs7C,CACT,CA3DqB,CA2DnBj8C,IAIF,IAAIy8C,GAAuB,SAAUC,GACnCxsG,EAAUusG,EAAsBC,GAChC,IAJuBr8F,EAAeC,EAIlCC,GAJmBF,EAIMo8F,EAJSn8F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQkiG,GAAuC,WAAkC,IAAsCx9F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASs9F,IAEP,OADAluG,EAAgBuE,KAAM2pG,GACfl8F,EAAO1N,MAAMC,KAAMH,UAC5B,CAgBA,OAfApD,EAAaktG,EAAsB,CAAC,CAClCntG,IAAK,aACLe,MAAO,SAAoB8Y,EAAMoQ,GAC/B,KAAMpQ,EAAKoQ,KAAOA,GAChB,OAAO,EAGT,IADA,IAAII,EAAQxQ,EAAKwQ,MACR7qB,EAAI,EAAGoC,EAAIyoB,EAAM5qB,OAAQD,EAAIoC,IAAKpC,EACzC,GAAI6qB,EAAM7qB,GAAGytB,MAAMhD,KAAOA,GAAQI,EAAM7qB,GAAG0tB,OAAOjD,KAAOA,EACvD,OAAO,EAGX,OAAO,CACT,KAEKkjF,CACT,CAvB2B,CAuBzBR,IAIF,IAAIW,GAAoB,SAAU1T,GAChCh5F,EAAU0sG,EAAmB1T,GAC7B,IAJuB7oF,EAAeC,EAIlCC,GAJmBF,EAIMu8F,EAJSt8F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQoiG,GAAuC,WAAkC,IAAsC19F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASy9F,EAAkBE,EAAc1U,EAAWrhE,EAASlY,EAASD,EAAMnF,EAAgB8P,EAAMxK,GAChG,IAAItR,EACJlP,EAAgBuE,KAAM8pG,GAEtB,IAAIjtG,EAAOD,EADX+N,EAAQ8C,EAAO/P,KAAKsC,OAEpB2K,EAAMupB,SAAWD,EACjB,IAAIO,EAAWP,EAAQknB,cACnBo6C,EAAathE,EAAQ2wB,gBAoBzB,OAnBA3wB,EAAQye,kBAAiB,SAAUC,GACjC,IAAIsoB,EAAc,EACdpxB,EAAS,GAMb,GALA8I,EAAUrI,gBAAe,SAAUpkB,GAC7BrpB,EAAKotG,cAAc/jF,EAASO,KAC9BojB,EAAOoxB,KAAiB/0C,EAAQ3f,OAEpC,IACoB,IAAhB00D,EAAJ,CAGA,IAAIivC,EAAgB,IAAIF,EAAa1U,EAAW,CAC9C9gE,SAAUA,EACVmiE,OAAQ9sD,EACRglB,OAAQ56B,GACPlY,EAASD,EAAMy5E,EAAY5+E,EAAgBsF,GAC9CiuF,EAAcz9E,WAAakmB,EAC3B91C,EAAKgzC,IAAIq6D,EAPT,CAQF,IACOv/F,CACT,CAyBA,OAxBAlO,EAAaqtG,EAAmB,CAAC,CAC/BttG,IAAK,eACLe,MAAO,SAAsB2oB,EAASO,GACpC,OAAOP,EAAQyG,MAAQlG,CACzB,GACC,CACDjqB,IAAK,YACLe,MAAO,SAAmBkpB,EAAMinC,GAI9B,IAHA,IAAIG,EAAc,GACdL,EAAWxtD,KAAKwtD,SAChBg8C,EAAU,EACLxtG,EAAI,EAAGoC,EAAIovD,EAASvxD,OAAQD,EAAIoC,IAAKpC,EAC5C,GAAIwxD,EAASxxD,GAAG8xD,UAEd,IADA,IAAI27C,EAAWj8C,EAASxxD,GAAG8xD,UAAUrnC,EAAMinC,GAClCj5C,EAAI,EAAG0O,EAAIsmF,EAASxtG,OAAQwY,EAAI0O,IAAK1O,EAAG,CAC/C,IAAIi1F,EAAWD,EAASh1F,GACxBi1F,EAASj9E,WAAa+gC,EAASxxD,GAAGywB,WAClCohC,EAAY27C,KAAaE,CAC3B,CAGJ,OAAO77C,CACT,KAEKi8C,CACT,CAzDwB,CAyDtB58C,IAIF,IAAIi9C,GAAmB,SAAUC,GAC/BhtG,EAAU+sG,EAAkBC,GAC5B,IAJuB78F,EAAeC,EAIlCC,GAJmBF,EAIM48F,EAJS38F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ0iG,GAAuC,WAAkC,IAAsCh+F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAAS89F,IAEP,OADA1uG,EAAgBuE,KAAMmqG,GACf18F,EAAO1N,MAAMC,KAAMH,UAC5B,CAOA,OANApD,EAAa0tG,EAAkB,CAAC,CAC9B3tG,IAAK,gBACLe,MAAO,SAAuB2oB,EAASO,GACrC,OAAOA,EAAOP,EAAQyG,OAAgC,OAAvBzG,EAAQmH,UACzC,KAEK88E,CACT,CAduB,CAcrBL,IAIF,IAAIQ,GAAmB,SAAUlU,GAC/Bh5F,EAAUktG,EAAkBlU,GAC5B,IAJuB7oF,EAAeC,EAIlCC,GAJmBF,EAIM+8F,EAJS98F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ4iG,GAAuC,WAAkC,IAAsCl+F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASi+F,EAAiBN,EAAc1U,EAAWrhE,EAASlY,EAASD,EAAMnF,EAAgB8P,EAAMxK,GAC/F,IAAItR,EACJlP,EAAgBuE,KAAMsqG,GAEtB,IAAIztG,EAAOD,EADX+N,EAAQ8C,EAAO/P,KAAKsC,OAEpB2K,EAAMupB,SAAWD,EACjB,IAAIO,EAAWP,EAAQknB,cACnBo6C,EAAathE,EAAQ2wB,gBAyBzB,OAxBA3wB,EAAQye,kBAAiB,SAAUC,GAIjC,IAHA,IAAI1I,EAAU0I,EAAU63D,yBAAyB/jF,GAC7Cw0C,EAAc,EACdpxB,EAAS,GACJm8D,EAAU,EAAGC,EAAUh8D,EAAQhuC,OAAQ+pG,EAAUC,IAAWD,EAEnE,IADA,IAAIx7D,EAAOP,EAAQ+7D,GAASloG,IACnB9B,EAAI,EAAGoC,EAAIosC,EAAKvuC,OAAQD,EAAIoC,IAAKpC,EACxC,IAAK,IAAIyY,EAAI+1B,EAAKxuC,GAAG2Z,MAAO80F,EAAOjgE,EAAKxuC,GAAG8G,IAAK2R,GAAKg2F,IAAQh2F,EAC3Do1B,EAAOoxB,KAAiBzmC,EAAS/f,GAAGlO,OAI1C,GAAoB,IAAhB00D,EAAJ,CAGA,IAAIivC,EAAgB,IAAIF,EAAa1U,EAAW,CAC9C9gE,SAAUA,EACVmiE,OAAQ9sD,EACRi9D,QAAS78D,EACT4kB,OAAQ56B,GACPlY,EAASD,EAAMy5E,EAAY5+E,EAAgBsF,GAC9CiuF,EAAcz9E,WAAakmB,EAC3B91C,EAAKgzC,IAAIq6D,EART,CASF,IACOv/F,CACT,CAoBA,OAnBAlO,EAAa6tG,EAAkB,CAAC,CAC9B9tG,IAAK,YACLe,MAAO,SAAmBkpB,EAAMinC,GAI9B,IAHA,IAAIG,EAAc,GACdL,EAAWxtD,KAAKwtD,SAChBg8C,EAAU,EACLxtG,EAAI,EAAGoC,EAAIovD,EAASvxD,OAAQD,EAAIoC,IAAKpC,EAC5C,GAAIwxD,EAASxxD,GAAG8xD,UAEd,IADA,IAAI27C,EAAWj8C,EAASxxD,GAAG8xD,UAAUrnC,EAAMinC,GAClCj5C,EAAI,EAAG0O,EAAIsmF,EAASxtG,OAAQwY,EAAI0O,IAAK1O,EAAG,CAC/C,IAAIi1F,EAAWD,EAASh1F,GACxBi1F,EAASj9E,WAAa+gC,EAASxxD,GAAGywB,WAClCohC,EAAY27C,KAAaE,CAC3B,CAGJ,OAAO77C,CACT,KAEKy8C,CACT,CAzDuB,CAyDrBp9C,IAIF,IAAIw9C,GAAiB,SAAUtU,GAC7Bh5F,EAAUstG,EAAgBtU,GAC1B,IAJuB7oF,EAAeC,EAIlCC,GAJmBF,EAIMm9F,EAJSl9F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQgjG,GAAuC,WAAkC,IAAsCt+F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASq+F,EAAexD,EAAY5R,EAAWrhE,EAASlY,EAASD,EAAMnF,EAAgB8P,EAAMxK,GAC3F,IAAItR,EACJlP,EAAgBuE,KAAM0qG,GAEtB,IAAI7tG,EAAOD,EADX+N,EAAQ8C,EAAO/P,KAAKsC,OAEpB2K,EAAMupB,SAAWD,EACjB,IAAIpN,EAAQoN,EAAQqxB,WAChBiwC,EAAathE,EAAQ2wB,gBAuBzB,OAtBA3wB,EAAQye,kBAAiB,SAAUC,GACjC,IAAI60D,EAAW,GACXC,EAAa,EASjB,GARA90D,EAAU3C,aAAY,SAAU15B,GAC9B,IAAIiyF,EAAQjyF,EAAKmT,MACb++E,EAAQlyF,EAAKoT,OACX6+E,EAAM9hF,KAAOA,GAAW+hF,EAAM/hF,KAAOA,IAG3C+gF,EAASC,KAAgBnxF,EAAK/P,OAChC,IACmB,IAAfkhG,EAAJ,CAGA,IAAImD,EAAa,IAAI1D,EAAW5R,EAAW,CACzCzuE,MAAOA,EACP8vE,OAAQ6Q,EACR34C,OAAQ56B,GACPlY,EAASD,EAAMy5E,EAAY5+E,EAAgBsF,GAC9C2uF,EAAWn+E,WAAakmB,EACxB91C,EAAKgzC,IAAI+6D,EAPT,CAQF,IACOjgG,CACT,CAoBA,OAnBAlO,EAAaiuG,EAAgB,CAAC,CAC5BluG,IAAK,YACLe,MAAO,SAAmBkpB,EAAMinC,GAI9B,IAHA,IAAIG,EAAc,GACdL,EAAWxtD,KAAKwtD,SAChBg8C,EAAU,EACLxtG,EAAI,EAAGoC,EAAIovD,EAASvxD,OAAQD,EAAIoC,IAAKpC,EAC5C,GAAIwxD,EAASxxD,GAAG8xD,UAEd,IADA,IAAI27C,EAAWj8C,EAASxxD,GAAG8xD,UAAUrnC,EAAMinC,GAClCj5C,EAAI,EAAG0O,EAAIsmF,EAASxtG,OAAQwY,EAAI0O,IAAK1O,EAAG,CAC/C,IAAIi1F,EAAWD,EAASh1F,GACxBi1F,EAASj9E,WAAa+gC,EAASxxD,GAAGywB,WAClCohC,EAAY27C,KAAaE,CAC3B,CAGJ,OAAO77C,CACT,KAEK68C,CACT,CAvDqB,CAuDnBx9C,IAIF,IAAI29C,GAAoB,SAAUzU,GAChCh5F,EAAUytG,EAAmBzU,GAC7B,IAJuB7oF,EAAeC,EAIlCC,GAJmBF,EAIMs9F,EAJSr9F,EACxC,WAA0C,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQmjG,GAAuC,WAAkC,IAAsCz+F,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKza,SAASw+F,EAAkBhR,EAAevE,EAAWrhE,EAASlY,EAASD,EAAMnF,EAAgB8P,EAAMxK,GACjG,IAAItR,EACJlP,EAAgBuE,KAAM6qG,GAEtB,IAAIhuG,EAAOD,EADX+N,EAAQ8C,EAAO/P,KAAKsC,OAEpB2K,EAAMupB,SAAWD,EACjB,IAAI9H,EAAQ8H,EAAQyY,WAChB6oD,EAAathE,EAAQ2wB,gBACzB,OAAK9oC,EAAKyrF,qBAGVtzE,EAAQye,kBAAiB,SAAUC,GACjC,IAAI4kD,EAAW,GACXt8B,EAAc,EACd1wB,EAAS,GACTwgE,EAAW,EACfp4D,EAAUvI,cAAa,SAAUC,GAG/B,IAFA,IAAIowD,EAAWpwD,EAAMle,MACjB6+E,EAAW,EACNhvG,EAAI,EAAGoC,EAAIq8F,EAASx+F,OAAQD,EAAIoC,IAAKpC,EACV,IAA7By+F,EAASz+F,GAAGyqB,KAAOA,OACpBukF,EACFzT,EAASt8B,KAAiBw/B,EAASz+F,GAAGsoB,OAGtC0mF,EAAW,IACbzgE,EAAOwgE,KAAc1gE,EAEzB,IACA,IAAIk/D,EAAa,IAAI1P,EAAcvE,EAAW,CAC5C/qD,OAAQA,EACRpe,MAAOA,EACPwqE,OAAQY,EACR1oC,OAAQ56B,GACPlY,EAASD,EAAMy5E,EAAY5+E,EAAgBsF,GAC9CstF,EAAW98E,WAAakmB,EACxB91C,EAAKgzC,IAAI05D,EACX,IACO5+F,GA7BElN,EAA2BkN,EA8BtC,CAoBA,OAnBAlO,EAAaouG,EAAmB,CAAC,CAC/BruG,IAAK,YACLe,MAAO,SAAmBkpB,EAAMinC,GAI9B,IAHA,IAAIG,EAAc,GACdL,EAAWxtD,KAAKwtD,SAChBg8C,EAAU,EACLxtG,EAAI,EAAGoC,EAAIovD,EAASvxD,OAAQD,EAAIoC,IAAKpC,EAC5C,GAAIwxD,EAASxxD,GAAG8xD,UAEd,IADA,IAAI27C,EAAWj8C,EAASxxD,GAAG8xD,UAAUrnC,EAAMinC,GAClCj5C,EAAI,EAAG0O,EAAIsmF,EAASxtG,OAAQwY,EAAI0O,IAAK1O,EAAG,CAC/C,IAAIi1F,EAAWD,EAASh1F,GACxBi1F,EAASj9E,WAAa+gC,EAASxxD,GAAGywB,WAClCohC,EAAY27C,KAAaE,CAC3B,CAGJ,OAAO77C,CACT,KAEKg9C,CACT,CA/DwB,CA+DtB39C,IAEE+9C,GAAa,CACfC,MAAO/B,GACPgC,YAAaxB,GACbyB,SAAUtB,GACVuB,QAASlB,GACTmB,QAAShB,GACTiB,MAAOb,GACPc,SAAUX,IAGZ,SAASY,GAAWC,EAASC,EAAWC,GACtC,OAAO,SAAU33E,EAASlY,EAASD,EAAMnF,EAAgB8P,EAAMxK,GAC7D,OAAO,IAAI0vF,EAAUC,EAAOF,EAASz3E,EAASlY,EAASD,EAAMnF,EAAgB8P,EAAMxK,EACrF,CACF,CACA,IAAI4vF,GAAgB,WAClB,SAASA,IACPpwG,EAAgBuE,KAAM6rG,EACxB,CAsFA,OArFApvG,EAAaovG,EAAe,KAAM,CAAC,CACjCrvG,IAAK,eACLe,MAAO,SAAsBw3F,EAAM1vE,GAEjC,OAAOomF,GADUxW,GAAY6W,cAAc/W,EAAM1vE,GACnB4lF,GAAWC,MAAOxnD,GAAO8zC,iBACzD,GACC,CACDh7F,IAAK,uBACLe,MAAO,SAA8Bw3F,EAAM1vE,EAAUsvE,GAEnD,OAAO8W,GADUxW,GAAY8W,cAAchX,EAAM1vE,EAAUsvE,GAC7BsW,GAAWE,YAAaznD,GAAO8zC,iBAC/D,GACC,CACDh7F,IAAK,iBACLe,MAAO,SAAwBw3F,EAAM1vE,GAEnC,OAAOomF,GADUxW,GAAY+W,kBAAkBjX,EAAM1vE,GACvB4lF,GAAWM,MAAO7nD,GAAOokD,mBACzD,GACC,CACDtrG,IAAK,aACLe,MAAO,SAAoBw3F,EAAM1vE,EAAUsvE,GAEzC,OAAO8W,GADUxW,GAAYgX,cAAclX,EAAM1vE,EAAUsvE,GAC7BsW,GAAWM,MAAO7nD,GAAOolD,gBACzD,GACC,CACDtsG,IAAK,gBACLe,MAAO,SAAuBw3F,EAAM1vE,GAElC,OAAOomF,GADUxW,GAAYiX,qBAAqBnX,EAAM1vE,GAC1B4lF,GAAWK,QAAS5nD,GAAO8iD,oBAC3D,GACC,CACDhqG,IAAK,cACLe,MAAO,SAAqBw3F,EAAM1vE,GAEhC,OAAOomF,GADUxW,GAAYkX,wBAAwBpX,EAAM1vE,GAC7B4lF,GAAWK,QAAS5nD,GAAOqjD,mBAC3D,GACC,CACDvqG,IAAK,iBACLe,MAAO,SAAwBw3F,EAAM1vE,GAEnC,OAAOomF,GADUxW,GAAY6W,cAAc/W,EAAM1vE,GACnB4lF,GAAWI,QAAS3nD,GAAOy5C,oBAC3D,GACC,CACD3gG,IAAK,mBACLe,MAAO,SAA0Bw3F,EAAM1vE,GAErC,OAAOomF,GADUxW,GAAY+W,kBAAkBjX,EAAM1vE,GACvB4lF,GAAWI,QAAS3nD,GAAOm5C,sBAC3D,GACC,CACDrgG,IAAK,cACLe,MAAO,SAAqBw3F,EAAM1vE,GAEhC,OAAOomF,GADUxW,GAAYiX,qBAAqBnX,EAAM1vE,GAC1B4lF,GAAWO,SAAU9nD,GAAOy3C,mBAC5D,GACC,CACD3+F,IAAK,cACLe,MAAO,SAAqBw3F,EAAM1vE,EAAUsvE,GAE1C,OAAO8W,GADUxW,GAAYmX,mBAAmBrX,EAAM1vE,EAAUsvE,GAClCsW,GAAWO,SAAU9nD,GAAOo4C,mBAC5D,GACC,CACDt/F,IAAK,eACLe,MAAO,SAAsBw3F,EAAM1vE,EAAUsvE,GAE3C,OAAO8W,GADUxW,GAAYoX,mBAAmBtX,EAAM1vE,EAAUsvE,GAClCsW,GAAWC,MAAOxnD,GAAOu0C,kBACzD,GACC,CACDz7F,IAAK,oBACLe,MAAO,SAA2Bw3F,EAAM1vE,EAAUsvE,GAEhD,OAAO8W,GADUxW,GAAYqX,qBAAqBvX,EAAM1vE,EAAUsvE,GACpCsW,GAAWC,MAAOxnD,GAAOu0C,kBACzD,GACC,CACDz7F,IAAK,mBACLe,MAAO,SAA0Bw3F,EAAM1vE,EAAUsvE,GAE/C,OAAO8W,GADUxW,GAAYsX,aAAaxX,EAAM1vE,EAAUsvE,GAC5BsW,GAAWC,MAAOxnD,GAAO40C,qBACzD,GACC,CACD97F,IAAK,gBACLe,MAAO,SAAuBw3F,EAAM1vE,GAElC,OAAOomF,GADUxW,GAAYuX,aAAazX,EAAM1vE,GAClB4lF,GAAWC,MAAOxnD,GAAO21C,eACzD,KAEKwS,CACT,CA1FoB,GA4FhBY,GAAO,WACT,SAASA,EAAKrrG,GAEZ,GADA3F,EAAgBuE,KAAMysG,GAClBzsG,KAAKzE,cAAgBkxG,EACvB,MAAM,IAAIhiG,MAAM,uCAElBzK,KAAKoB,MAAO,IAAAke,OAAM/P,EAAM2B,WAAWlR,KAAKqlB,SAASlgB,IAAIgR,MAAMnW,KAAK8F,KAAK,GAAO1E,EAC9E,CAoCA,OAnCA3E,EAAagwG,EAAM,CAAC,CAClBjwG,IAAK,WACLe,MAAO,WACL,IAAI+U,EAAO/C,EAAM4C,YAAYnS,KAAKoB,KAAMpB,KAAKqlB,SAASlgB,IAAIgR,MAAMnW,KAAK8F,KACrE,OAAK,IAAA6M,SAAQL,GAGNtS,KAAK8F,GAFH,CAAC9F,KAAK8F,GAAIwM,EAGrB,GACC,CACD9V,IAAK,gBACLe,MAAO,SAAuB02B,EAASlY,EAAS0K,EAAMxK,GAMpD,IALA,IAAItF,EAAiB3W,KAAKoB,KAAKuV,eAAiB3W,KAAKoB,KAAKuV,eAAe3W,KAAKqlB,SAASlgB,IAAIqW,YAAc,EACrGkxF,EAAY1sG,KAAK2sG,UACjBC,EAAaF,EAAUzwG,OACvBo4D,EAAQ,IAAIlB,GAASjG,QAEhBlxD,EAAI,EAAGA,EAAI4wG,IAAc5wG,EAAG,CACnC,IAAI6wG,EAAYH,EAAU1wG,GACtB24F,EAAe,CAAC,GAChB,IAAAh2F,SAAQkuG,KACVlY,EAAekY,EAAU,GAAGnvG,KAAKsC,MAGjC6sG,EADkBnuG,EADDmuG,EAC4B,GACrB,IAE1B,IACIC,EAAW,IADHjB,GAAcgB,GAAW,KAAM7sG,KAAKqlB,SAAUsvE,GAC3C,CAAU1gE,EAASlY,EAXzB/b,KAWwC2W,EAAgB8P,EAAMxK,GACnE6wF,EAASt/C,SAASvxD,OAAS,GAC7Bo4D,EAAMxkB,IAAIi9D,EAEd,CACA,OAAOz4C,CACT,KAEKo4C,CACT,CA5CW,GAmDX,SAASM,KACP,MAAO,CACL11F,UAAWrX,KAAKoB,KAAKiW,UAEzB,CAVA6gD,GAAqBu0C,GAAKjxG,WAC1BixG,GAAKjxG,UAAUsK,GAAK,KACpB2mG,GAAKjxG,UAAUmxG,UAAY,GAS3B,IAAIK,GAAY,SAAUC,GACxB7vG,EAAU4vG,EAAWC,GACrB,IATsB1/F,EAAeC,EASjCC,GATkBF,EASMy/F,EATSx/F,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQulG,GAAsC,WAAkC,IAAsC7gG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAUva,SAAS2gG,EAAU5rG,GACjB,IAAIuJ,EACJlP,EAAgBuE,KAAMgtG,IACtBriG,EAAQ8C,EAAO/P,KAAKsC,KAAMoB,IACpBurG,UAAYhiG,EAAMgiG,UAAUruG,MAAM,GAExC,IADA,IAAIolD,EAAS/4C,EAAMgiG,UACV3wG,EAAI,EAAGoC,EAAIslD,EAAOznD,OAAQD,EAAIoC,IAAKpC,EAC1C0nD,EAAO1nD,GAAK,CAAC0nD,EAAO1nD,GAAI+wG,IAE1B,OAAOpiG,CACT,CA2BA,OA1BAlO,EAAauwG,EAAW,CAAC,CACvBxwG,IAAK,sBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKoV,SACnB,GACC,CACDha,IAAK,iBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKiV,IACnB,GACC,CACD7Z,IAAK,oBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAK+V,QACnB,GACC,CACD3a,IAAK,uBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKgW,SACnB,GACC,CACD5a,IAAK,oBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKsV,QACnB,KAEKs2F,CACT,CAzCgB,CAyCdP,IACF1mF,GAAgBinF,GAAW,KAAM,MACjCA,GAAUxxG,UAAUsK,GAAK,KACzBknG,GAAUxxG,UAAU+C,KAAO,QAC3ByuG,GAAUxxG,UAAU2xG,UAAY,QAChCH,GAAUxxG,UAAUmxG,UAAY,CAAC,cAAe,aAAc,wBAI9D,IAAIS,GAAe,SAAUH,GAC3B7vG,EAAUgwG,EAAcH,GACxB,IAJsB1/F,EAAeC,EAIjCC,GAJkBF,EAIM6/F,EAJS5/F,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ0lG,GAAsC,WAAkC,IAAsChhG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS+gG,IAEP,OADA3xG,EAAgBuE,KAAMotG,GACf3/F,EAAO1N,MAAMC,KAAMH,UAC5B,CAgCA,OA/BApD,EAAa2wG,EAAc,CAAC,CAC1B5wG,IAAK,iBACLe,MAAO,SAAwBkmC,GAC7B,OAAOzjC,KAAKoB,KAAKkV,IACnB,GACC,CACD9Z,IAAK,kBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKkV,IACnB,GACC,CACD9Z,IAAK,oBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKmV,KACnB,GACC,CACD/Z,IAAK,gBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKqV,OACnB,GACC,CACDja,IAAK,oBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKsV,QACnB,GACC,CACDla,IAAK,sBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKoV,SACnB,KAEK42F,CACT,CAvCmB,CAuCjBX,IACF1mF,GAAgBqnF,GAAc,KAAM,MACpCA,GAAa5xG,UAAUsK,GAAK,KAC5BsnG,GAAa5xG,UAAU+C,KAAO,WAC9B6uG,GAAa5xG,UAAU2xG,UAAY,WACnCC,GAAa5xG,UAAUmxG,UAAY,CAAC,eAAgB,iBAAkB,eAItE,IAAIW,GAAqB,SAAUL,GACjC7vG,EAAUkwG,EAAoBL,GAC9B,IAJsB1/F,EAAeC,EAIjCC,GAJkBF,EAIM+/F,EAJS9/F,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ4lG,GAAsC,WAAkC,IAAsClhG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASihG,IAEP,OADA7xG,EAAgBuE,KAAMstG,GACf7/F,EAAO1N,MAAMC,KAAMH,UAC5B,CAgCA,OA/BApD,EAAa6wG,EAAoB,CAAC,CAChC9wG,IAAK,iBACLe,MAAO,SAAwB8Y,GAC7B,OAAOA,EAAKtQ,QAAQ3F,OAASJ,KAAKoB,KAAKiV,IACzC,GACC,CACD7Z,IAAK,kBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKkV,IACnB,GACC,CACD9Z,IAAK,gBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKqV,OACnB,GACC,CACDja,IAAK,oBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKsV,QACnB,GACC,CACDla,IAAK,oBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKmV,KACnB,GACC,CACD/Z,IAAK,sBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKoV,SACnB,KAEK82F,CACT,CAvCyB,CAuCvBb,IACF1mF,GAAgBunF,GAAoB,KAAM,MAC1CA,GAAmB9xG,UAAUsK,GAAK,KAClCwnG,GAAmB9xG,UAAU+C,KAAO,mBACpC+uG,GAAmB9xG,UAAU2xG,UAAY,QACzCG,GAAmB9xG,UAAUmxG,UAAY,CAAC,eAAgB,iBAAkB,eAI5E,IAAIa,GAAkB,SAAUP,GAC9B7vG,EAAUowG,EAAiBP,GAC3B,IAJsB1/F,EAAeC,EAIjCC,GAJkBF,EAIMigG,EAJShgG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ8lG,GAAsC,WAAkC,IAAsCphG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASmhG,IAEP,OADA/xG,EAAgBuE,KAAMwtG,GACf//F,EAAO1N,MAAMC,KAAMH,UAC5B,CAOA,OANApD,EAAa+wG,EAAiB,CAAC,CAC7BhxG,IAAK,iBACLe,MAAO,SAAwB8Y,GAC7B,OAAOA,EAAKtQ,QAAQ3F,MACtB,KAEKotG,CACT,CAdsB,CAcpBf,IACF1mF,GAAgBynF,GAAiB,KAAM,MACvCA,GAAgBhyG,UAAUsK,GAAK,KAC/B0nG,GAAgBhyG,UAAU+C,KAAO,gBACjCivG,GAAgBhyG,UAAU2xG,UAAY,MACtCK,GAAgBhyG,UAAUmxG,UAAY,CAAC,gBAIvC,IAAIe,GAAY,SAAUT,GACxB7vG,EAAUswG,EAAWT,GACrB,IAJsB1/F,EAAeC,EAIjCC,GAJkBF,EAIMmgG,EAJSlgG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQgmG,GAAsC,WAAkC,IAAsCthG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASqhG,IAEP,OADAjyG,EAAgBuE,KAAM0tG,GACfjgG,EAAO1N,MAAMC,KAAMH,UAC5B,CAOA,OANApD,EAAaixG,EAAW,CAAC,CACvBlxG,IAAK,kBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKhB,MACnB,KAEKstG,CACT,CAdgB,CAcdjB,IACF1mF,GAAgB2nF,GAAW,KAAM,MACjCA,GAAUlyG,UAAUsK,GAAK,KACzB4nG,GAAUlyG,UAAU+C,KAAO,QAC3BmvG,GAAUlyG,UAAU2xG,UAAY,QAChCO,GAAUlyG,UAAUmxG,UAAY,CAAC,eAIjC,IAAIiB,GAAW,SAAUX,GACvB7vG,EAAUwwG,EAAUX,GACpB,IAJsB1/F,EAAeC,EAIjCC,GAJkBF,EAIMqgG,EAJSpgG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQkmG,GAAsC,WAAkC,IAAsCxhG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASuhG,IAEP,OADAnyG,EAAgBuE,KAAM4tG,GACfngG,EAAO1N,MAAMC,KAAMH,UAC5B,CAwBA,OAvBApD,EAAamxG,EAAU,CAAC,CACtBpxG,IAAK,mBACLe,MAAO,SAA0BuwG,GAC/B,OAAO9tG,KAAK+tG,WACd,GACC,CACDvxG,IAAK,yBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKiX,mBACnB,GACC,CACD7b,IAAK,aACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKkX,OACnB,GACC,CACD9b,IAAK,gBACLe,MAAO,SAAuB02B,EAASlY,EAAS0K,EAAMxK,GACpD,IAAIk4C,EAAMn0D,KAAKoB,KAAKhB,OAEpB,OADAJ,KAAK+tG,YAAc,IAAI,MAAQ55C,EAAKA,GAC7Bs4C,GAAKjxG,UAAUwyG,cAActwG,KAAKsC,KAAMi0B,EAASlY,EAAS0K,EAAMxK,EACzE,KAEK2xF,CACT,CA/Be,CA+BbnB,IACF1mF,GAAgB6nF,GAAU,KAAM,MAChCA,GAASpyG,UAAUsK,GAAK,KACxB8nG,GAASpyG,UAAU+C,KAAO,OAC1BqvG,GAASpyG,UAAU2xG,UAAY,OAC/BS,GAASpyG,UAAUmxG,UAAY,CAAC,iBAIhC,IAAIsB,GAAc,SAAUhB,GAC1B7vG,EAAU6wG,EAAahB,GACvB,IAJsB1/F,EAAeC,EAIjCC,GAJkBF,EAIM0gG,EAJSzgG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQumG,GAAsC,WAAkC,IAAsC7hG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS4hG,EAAY7sG,GACnB,IAAIuJ,EAIJ,OAHAlP,EAAgBuE,KAAMiuG,IACtBtjG,EAAQ8C,EAAO/P,KAAKsC,KAAMoB,IACpB+sG,SAAW,CAAC,EACXxjG,CACT,CAgFA,OA/EAlO,EAAawxG,EAAa,CAAC,CACzBzxG,IAAK,wBACLe,MAAO,SAA+B2oB,GACpC,IAAI5Q,EAAS4Q,EAAQkoF,eACrB,IAAK94F,IAAWA,EAAOmgB,QACrB,OAAOz1B,KAAK+tG,YAEd,IAAIM,EAAUruG,KAAKmuG,SAAS74F,EAAOmgB,SACnC,OAAK44E,EAGD/4F,EAAOkgB,OAAStP,EACXmoF,EAAQ14F,MAEV04F,EAAQ/lE,OALNtoC,KAAK+tG,WAMhB,GACC,CACDvxG,IAAK,sBACLe,MAAO,SAA6B2oB,GAClC,IAAI5Q,EAAS4Q,EAAQkoF,eACrB,GAAe,OAAX94F,IAAoBA,EAAOmgB,QAC7B,OAAOz1B,KAAK+tG,YAEd,IAAIM,EAAUruG,KAAKmuG,SAAS74F,EAAOmgB,SACnC,OAAK44E,EAGD/4F,EAAOkgB,OAAStP,EACXlmB,KAAKsuG,UAEPD,EAAQ/lE,OALNtoC,KAAK+tG,WAMhB,GACC,CACDvxG,IAAK,mBACLe,MAAO,SAA0B2oB,EAASqpB,GACxC,IAAIg/D,EAAWvuG,KAAKwuG,sBAAsBtoF,GAC1C,GAAY,IAARqpB,EACF,OAAOg/D,EAET,IAAIE,EAASzuG,KAAK0uG,oBAAoBxoF,GACtC,OAAY,IAARqpB,EACKk/D,EAEFF,EAAS/jF,QAAQoF,KAAK6+E,EAAQl/D,EAAM,EAC7C,GACC,CACD/yC,IAAK,kBACLe,MAAO,SAAyBoxG,GAC9B,OAAO3uG,KAAKoB,KAAKhB,MACnB,GACC,CACD5D,IAAK,yBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKiX,mBACnB,GACC,CACD7b,IAAK,aACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAKkX,OACnB,GACC,CACD9b,IAAK,gBACLe,MAAO,SAAuB02B,EAASlY,EAAS0K,EAAMxK,GACpD,IAAI2yF,EAAU5uG,KAAKoB,KAAKhB,OACpByuG,EAAY7uG,KAAKoB,KAAKoX,MAC1BxY,KAAK+tG,YAAc,IAAI,MAAQa,EAASA,GACxC5uG,KAAKsuG,UAAY,IAAI,MAAQO,EAAWD,GACxC,IAAIT,EAAW,CAAC,EACZW,EAAU9uG,KAAKoB,KAAKqX,GACxB,IAAK,IAAIvU,KAAQ4qG,EACfX,EAASjqG,GAAQ,CACfokC,OAAQ,IAAI,MAAQumE,EAAWC,EAAQ5qG,GAAM/D,OAC7CwV,MAAO,IAAI,MAAQk5F,EAAWC,EAAQ5qG,GAAMyU,QAIhD,OADA3Y,KAAKmuG,SAAWA,EACT1B,GAAKjxG,UAAUwyG,cAActwG,KAAKsC,KAAMi0B,EAASlY,EAAS0K,EAAMxK,EACzE,KAEKgyF,CACT,CA1FkB,CA0FhBxB,IACF1mF,GAAgBkoF,GAAa,KAAM,MACnCA,GAAYzyG,UAAUsK,GAAK,KAC3BmoG,GAAYzyG,UAAU+C,KAAO,UAC7B0vG,GAAYzyG,UAAU2xG,UAAY,UAClCc,GAAYzyG,UAAUmxG,UAAY,CAAC,gBAAiB,iBAAkB,oBAItE,IAAIoC,GAAcxiD,GAAKC,UACvB,SAASwiD,KACP,MAAO,CACLr3F,UAAW3X,KAAKoB,KAAKuW,UACrBH,MAAOxX,KAAKoB,KAAKoW,MAErB,CACA,IAAIy3F,GAAc,SAAUhC,GAC1B7vG,EAAU6xG,EAAahC,GACvB,IAXsB1/F,EAAeC,EAWjCC,GAXkBF,EAWM0hG,EAXSzhG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQunG,GAAsC,WAAkC,IAAsC7iG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAYva,SAAS4iG,EAAY7tG,GACnB,IAAIuJ,EACJlP,EAAgBuE,KAAMivG,IACtBtkG,EAAQ8C,EAAO/P,KAAKsC,KAAMoB,IACpBurG,UAAYhiG,EAAMgiG,UAAUruG,MAAM,GAGxC,IAFA,IAAI6wG,EAAWxkG,EAAMykG,aACjB1rD,EAAS/4C,EAAMgiG,UACV3wG,EAAI,EAAGoC,EAAI+wG,EAASlzG,OAAQD,EAAIoC,IAAKpC,EAC5C0nD,EAAOA,EAAOznD,QAAU,CAACkzG,EAASnzG,GAAIgzG,IAExC,OAAOrkG,CACT,CAmBA,OAlBAlO,EAAawyG,EAAa,CAAC,CACzBzyG,IAAK,iBACLe,MAAO,SAAwB8Y,GAC7B,OAAOA,EAAKtQ,QAAQ3F,MACtB,GACC,CACD5D,IAAK,wBACLe,MAAO,WACL,IAAIkyE,EAAqB,KACzB,GAAyB,KAArBzvE,KAAKoB,KAAKsW,OAAe,CAC3B,IAAItG,EAAM29F,GAAYlxE,MAAM79B,KAAKoB,KAAKsW,QACjCtG,EAAIlH,QACPulE,EAAqBr+D,EAAI4K,SAE7B,CACA,OAAOyzD,CACT,KAEKw/B,CACT,CAlCkB,CAkChBxC,IACFwC,GAAYzzG,UAAU6zG,WAAY,EAClCJ,GAAYzzG,UAAU4zG,aAAe,GAIrC,IAAIE,GAAmB,SAAUC,GAC/BnyG,EAAUkyG,EAAkBC,GAC5B,IAJsBhiG,EAAeC,EAIjCC,GAJkBF,EAIM+hG,EAJS9hG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ6nG,GAAsC,WAAkC,IAAsCnjG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASijG,IAEP,OADA7zG,EAAgBuE,KAAMsvG,GACf7hG,EAAO1N,MAAMC,KAAMH,UAC5B,CAeA,OAdApD,EAAa6yG,EAAkB,CAAC,CAC9B9yG,IAAK,iBACLe,MAAO,WACL,MAAO,CACLkyG,UAAU,EACV33F,SAAU9X,KAAKoB,KAAK0W,SACpBC,SAAU/X,KAAKoB,KAAK2W,SAAS/X,KAAKqlB,SAASlgB,IAAIqW,YAC/C03D,SAAUlzE,KAAKoB,KAAKf,MACpB2X,YAAahY,KAAKoB,KAAK4W,YAAYhY,KAAKqlB,SAASlgB,IAAIqW,YACrDhE,MAAOxX,KAAKoB,KAAKoW,MACjBi4D,mBAAoBzvE,KAAK0vG,wBAE7B,KAEKJ,CACT,CAtBuB,CAsBrBL,IACFlpF,GAAgBupF,GAAkB,KAAM,MACxCA,GAAiB9zG,UAAUsK,GAAK,KAChCwpG,GAAiB9zG,UAAU+C,KAAO,gBAClC+wG,GAAiB9zG,UAAU2xG,UAAY,aACvCmC,GAAiB9zG,UAAU4zG,aAAe,CAAC,gBAI3C,IAAIO,GAAiB,SAAUJ,GAC7BnyG,EAAUuyG,EAAgBJ,GAC1B,IAJsBhiG,EAAeC,EAIjCC,GAJkBF,EAIMoiG,EAJSniG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQioG,GAAsC,WAAkC,IAAsCvjG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASsjG,EAAe7mB,EAAc1nF,GACpC,IAAIuJ,EAIJ,OAHAlP,EAAgBuE,KAAM2vG,IACtBhlG,EAAQ8C,EAAO/P,KAAKsC,KAAMoB,IACpByuG,cAAgB/mB,EACfn+E,CACT,CAmBA,OAlBAlO,EAAakzG,EAAgB,CAAC,CAC5BnzG,IAAK,iBACLe,MAAO,SAAwB8Y,GAC7B,OAAOA,EAAKtQ,QAAQ3F,MACtB,GACC,CACD5D,IAAK,iBACLe,MAAO,WACL,MAAO,CACLya,YAAahY,KAAKoB,KAAKuV,eAAe3W,KAAKqlB,SAASlgB,IAAIqW,YACxD03D,SAAUlzE,KAAK8vG,UACft4F,MAAOxX,KAAKoB,KAAKoW,MACjBi4D,mBAAoBzvE,KAAK0vG,wBACzBj4F,YAAazX,KAAKoB,KAAKqW,YACvBqxE,aAAc9oF,KAAK6vG,cAEvB,KAEKF,CACT,CA7BqB,CA6BnBV,IACFU,GAAen0G,UAAUsK,GAAK,KAC9B6pG,GAAen0G,UAAU+C,KAAO,UAChCoxG,GAAen0G,UAAU2xG,UAAY,UACrCwC,GAAen0G,UAAU4zG,aAAe,CAAC,oBACzCO,GAAen0G,UAAUs0G,UAAY,EACrCH,GAAen0G,UAAUq0G,eAAgB,EAIzC,IAAIE,GAAoB,SAAUC,GAChC5yG,EAAU2yG,EAAmBC,GAC7B,IAJsBziG,EAAeC,EAIjCC,GAJkBF,EAIMwiG,EAJSviG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQsoG,GAAsC,WAAkC,IAAsC5jG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS0jG,EAAkB3uG,GAEzB,OADA3F,EAAgBuE,KAAM+vG,GACftiG,EAAO/P,KAAKsC,MAAM,EAAOoB,EAClC,CACA,OAAO3E,EAAaszG,EACtB,CARwB,CAQtBJ,IACF5pF,GAAgBgqF,GAAmB,KAAM,MACzCA,GAAkBv0G,UAAUsK,GAAK,KACjCiqG,GAAkBv0G,UAAU+C,KAAO,6BACnCwxG,GAAkBv0G,UAAU2xG,UAAY,MAIxC,IAAI+C,GAAoB,SAAUF,GAChC5yG,EAAU8yG,EAAmBF,GAC7B,IAJsBziG,EAAeC,EAIjCC,GAJkBF,EAIM2iG,EAJS1iG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQwoG,GAAsC,WAAkC,IAAsC9jG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS6jG,EAAkB9uG,GAEzB,OADA3F,EAAgBuE,KAAMkwG,GACfziG,EAAO/P,KAAKsC,MAAM,EAAMoB,EACjC,CACA,OAAO3E,EAAayzG,EACtB,CARwB,CAQtBP,IACF5pF,GAAgBmqF,GAAmB,KAAM,MACzCA,GAAkB10G,UAAUsK,GAAK,KACjCoqG,GAAkB10G,UAAU+C,KAAO,2BACnC2xG,GAAkB10G,UAAU2xG,UAAY,MAIxC,IAAIiD,GAAqB,SAAUb,GACjCnyG,EAAUgzG,EAAoBb,GAC9B,IAJsBhiG,EAAeC,EAIjCC,GAJkBF,EAIM6iG,EAJS5iG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ0oG,GAAsC,WAAkC,IAAsChkG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS+jG,IAEP,OADA30G,EAAgBuE,KAAMowG,GACf3iG,EAAO1N,MAAMC,KAAMH,UAC5B,CAgBA,OAfApD,EAAa2zG,EAAoB,CAAC,CAChC5zG,IAAK,iBACLe,MAAO,WACL,MAAO,CACLka,YAAazX,KAAKoB,KAAKqW,YACvBy7D,SAAUlzE,KAAKoB,KAAKuV,eAAe3W,KAAKqlB,SAASlgB,IAAIqW,YACrDs9D,YAAa94E,KAAKoB,KAAKuV,eAAe3W,KAAKqlB,SAASlgB,IAAIqW,YACxDxD,YAAa,EAAMhY,KAAKoB,KAAKuV,eAAe3W,KAAKqlB,SAASlgB,IAAIqW,YAC9D1D,SAAU9X,KAAKoB,KAAK0W,SACpBI,eAAgBlY,KAAKoB,KAAK8W,eAC1BV,MAAOxX,KAAKoB,KAAKoW,MACjBi4D,mBAAoBzvE,KAAK0vG,wBAE7B,KAEKU,CACT,CAvByB,CAuBvBnB,IACFlpF,GAAgBqqF,GAAoB,KAAM,MAC1CA,GAAmB50G,UAAUsK,GAAK,KAClCsqG,GAAmB50G,UAAU+C,KAAO,kBACpC6xG,GAAmB50G,UAAU2xG,UAAY,eACzCiD,GAAmB50G,UAAU6zG,WAAY,EACzCe,GAAmB50G,UAAU4zG,aAAe,CAAC,qBAI7C,IAAIkB,GAAW,SAAUrD,GACvB7vG,EAAUkzG,EAAUrD,GACpB,IAJsB1/F,EAAeC,EAIjCC,GAJkBF,EAIM+iG,EAJS9iG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ4oG,GAAsC,WAAkC,IAAsClkG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASikG,IAEP,OADA70G,EAAgBuE,KAAMswG,GACf7iG,EAAO1N,MAAMC,KAAMH,UAC5B,CAgBA,OAfApD,EAAa6zG,EAAU,CAAC,CACtB9zG,IAAK,qBACLe,MAAO,WACL,OAAOyC,KAAKoB,KAAK0X,QACnB,GACC,CACDtc,IAAK,eACLe,MAAO,WACL,OAAO,IAAA+hB,OAAMtf,KAAKoB,KAAM,CACtB+5D,QAAQ,EACRq1C,aAAa,EACb/zF,aAAa,GAEjB,KAEK6zF,CACT,CAvBe,CAuBb7D,IACF1mF,GAAgBuqF,GAAU,KAAM,MAChCA,GAAS90G,UAAUsK,GAAK,KACxBwqG,GAAS90G,UAAU+C,KAAO,YAC1B+xG,GAAS90G,UAAU2xG,UAAY,OAC/BmD,GAAS90G,UAAUmxG,UAAY,CAAC,iBAEhC,IAAI8D,GAAU,IAAIn5C,GAAW,CAAC01C,GAAWI,GAAcE,GAAoBE,GAAiBE,GAAWE,GAAUK,GAAaqB,GAAkBS,GAAmBG,GAAmBE,GAAoBE,KAE1M,SAASn+D,GAAM1vC,EAAGoF,EAAGo2C,GACnB,OAAOx7C,GAAKw7C,EAAIx7C,EAAI,EAAI,EAAIA,EAAIw7C,CAClC,CAcA,IAAIyyD,GAAU,WACZ,SAASA,EAAQnyG,EAAMuH,GACrBrK,EAAgBuE,KAAM0wG,GACtB1wG,KAAKzB,KAAOA,GAAQ,SACpByB,KAAK8F,GAAKA,GAAM,IAClB,CA0DA,OAzDArJ,EAAai0G,EAAS,CAAC,CACrBl0G,IAAK,kBACLe,MAAO,SAAyBgB,GAC9B,IAAIoyG,EAAO9wG,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,IAAmBA,UAAU,GACtEU,EAAQP,KAAK4wG,cAAcryG,GAC/B,YAAiB0F,IAAV1D,GAAwBowG,EAAkCpwG,EAA3BP,KAAK6wG,mBAC7C,GACC,CACDr0G,IAAK,kBACLe,MAAO,SAAyBgB,GAC9B,IAAIoyG,EAAO9wG,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,IAAmBA,UAAU,GACtEU,EAAQP,KAAK8wG,cAAcvyG,GAC/B,YAAiB0F,IAAV1D,GAAwBowG,EAAkCpwG,EAA3BP,KAAK+wG,mBAC7C,GACC,CACDv0G,IAAK,gBACLe,MAAO,SAAuBgB,GAC5B,IAAI+tB,EAAQ/tB,EAAKiQ,WAAW,GAE5B,OADA8d,GAAgE,IAAtDA,EAAQ,EAAI,EAAIA,GAAS,IAAMA,EAAQ,IAAMA,IAAiBtsB,KAAKgxG,YAAY/0G,OAClF+D,KAAKgxG,YAAY1kF,EAC1B,GACC,CACD9vB,IAAK,oBACLe,MAAO,SAA2BsL,GAChC,IAAI8nG,EAAO9wG,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,IAAmBA,UAAU,GACtEU,EAAQP,KAAKixG,gBAAgBpoG,GACjC,YAAiB5E,IAAV1D,GAAwBowG,EAAoCpwG,EAA7BP,KAAKkxG,qBAC7C,GACC,CACD10G,IAAK,qBACLe,MAAO,SAA4B+mB,GACjC,IAAI62C,EAASn7D,KAAKm7D,OACdp9D,EAAMo9D,EAAOl/D,OACjB,OAAOqoB,EAAQ,EAAI62C,EAAO72C,EAAQvmB,EAAMA,GAAOo9D,EAAO72C,EAAQvmB,EAChE,GACC,CACDvB,IAAK,mBACLe,MAAO,SAA0BA,EAAO4zG,GACtC,IAAI72F,EAAWta,KAAKoxG,UAAUD,GAC9B,IAAK72F,EACH,OAAOta,KAAKqxG,kBAEd,IA7Da1/B,EAAIC,EAAIlX,EACrB42C,EA4DI17F,EAAQ0E,EAASre,OACjBqoB,EAAQ/mB,GAASqY,EAAQ,GACzB5U,EAAOgB,KAAKoyC,MAAM9vB,GAClBgF,EAAQ6oB,GAAMnxC,EAAO,EAAG,EAAG4U,EAAQ,GAEvC,OAjEA07F,EAAO,GADc52C,EAkE6Bp2C,GADlDtjB,EAAOmxC,GAAMnxC,EAAM,EAAG4U,EAAQ,QAjEjB+7D,EAkEIr3D,EAAStZ,KAhEf,GAAK,KAMA05D,IARCkX,EAkEgBt3D,EAASgP,KA7D/B,GAAK,MAMR,GAFJgoF,GANC3/B,GAAM,EAAI,KAMCjX,GAHXkX,GAAM,EAAI,MAKG,EADd0/B,GANM,IAAL3/B,GAMWjX,GAHN,IAALkX,EA4DP,GACC,CACDp1E,IAAK,gBACLe,MAAO,SAAuBgB,GAC5B,IAAIoyG,EAAO9wG,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,IAAmBA,UAAU,GACtEU,EAAQP,KAAKuxG,YAAYhzG,GAC7B,YAAiB0F,IAAV1D,GAAwBowG,EAAgCpwG,EAAzBP,KAAKqxG,iBAC7C,KAEKX,CACT,CAhEc,IAiEd,IAAAhxG,QAAOgxG,GAAQl1G,UAAW,CACxB2/D,OAAQ,CAAC,SAAU,SAAU,MAAU,IAAU,SACjDq2C,cAAe,EACfC,cAAe,QACfC,cAAe,SACfb,oBAAqB,SACrBD,cAAe,CAAC,EAChBG,oBAAqB,SACrBD,cAAe,CAAC,EAChBE,YAAa,CAAC,UACdE,sBAAuB,SACvBD,gBAAiB,CAAC,EAClBU,qBAAsB,EACtBN,kBAAmB,SACnBO,iBAAkB,CAClB,CAAC,YAAa,UAAW,CAAC,aAAc,UAAW,CAAC,SAAU,UAAW,CAAC,aAAc,UAAW,CAAC,cAAe,UAAW,CAAC,UAAW,UAAW,CAAC,MAAO,UAAW,CAAC,YAAa,UAAW,CAAC,UAAW,SAAW,CAAC,OAAQ,UAAW,CAAC,YAAa,UAAW,CAAC,UAAW,UAAW,CAAC,WAAY,UAAW,CAAC,kBAAmB,UAAW,CAAC,gBAAiB,UAAW,CAAC,QAAS,UAAW,CAAC,SAAU,UAAW,CAAC,YAAa,UAAW,CAAC,aAAc,UAAW,CAAC,SAAU,UAAW,CAAC,OAAQ,UAAW,CAAC,SAAU,UAAW,CAAC,cAAe,UAAW,CAAC,eAAgB,UAAW,CAAC,uBAAwB,UAAW,CAAC,aAAc,UAAW,CAAC,WAAY,UAAW,CAAC,YAAa,UAAW,CAAC,gBAAiB,UAAW,CAAC,QAAS,UAAW,CAAC,YAAa,UAAW,CAAC,WAAY,UAAW,CAAC,UAAW,UAAW,CAAC,OAAQ,UAAW,CAAC,SAAU,UAAW,CAAC,SAAU,UAAW,CAAC,UAAW,UAAW,CAAC,UAAW,UAAW,CAAC,eAAgB,UAAW,CAAC,eAAgB,SAAW,CAAC,gBAAiB,SAAW,CAAC,aAAc,SAAW,CAAC,aAAc,SAAW,CAAC,aAAc,UAAW,CAAC,cAAe,SAAW,CAAC,SAAU,SAAW,CAAC,SAAU,SAAW,CAAC,YAAa,SAAW,CAAC,kBAAmB,SAAW,CAAC,gBAAiB,SAAW,CAAC,cAAe,UAAW,CAAC,aAAc,SAAW,CAAC,YAAa,SAAW,CAAC,OAAQ,OAAW,CAAC,YAAa,SAAW,CAAC,YAAa,UAAW,CAAC,aAAc,SAAW,CAAC,oBAAqB,OAAW,CAAC,cAAe,OAAW,CAAC,iBAAkB,SAAW,CAAC,WAAY,SAAW,CAAC,cAAe,SAAW,CAAC,QAAS,OAAW,CAAC,YAAa,OAAW,CAAC,cAAe,UAAW,CAAC,YAAa,SAAW,CAAC,QAAS,SAAW,CAAC,iBAAkB,SAAW,CAAC,mBAAoB,SAAW,CAAC,eAAgB,SAAW,CAAC,gBAAiB,SAAW,CAAC,WAAY,OAAW,CAAC,OAAQ,OAAW,CAAC,OAAQ,OAAW,CAAC,OAAQ,OAAW,CAAC,YAAa,UAAW,CAAC,gBAAiB,UAAW,CAAC,aAAc,SAAW,CAAC,YAAa,SAAW,CAAC,kBAAmB,SAAW,CAAC,gBAAiB,OAAW,CAAC,YAAa,SAAW,CAAC,YAAa,SAAW,CAAC,iBAAkB,UAAW,CAAC,aAAc,UAAW,CAAC,YAAa,UAAW,CAAC,UAAW,SAAW,CAAC,eAAgB,SAAW,CAAC,cAAe,OAAW,CAAC,aAAc,SAAW,CAAC,iBAAkB,SAAW,CAAC,YAAa,SAAW,CAAC,OAAQ,KAAW,CAAC,aAAc,KAAW,CAAC,WAAY,KAAW,CAAC,OAAQ,KAAW,CAAC,eAAgB,SAAW,CAAC,WAAY,UAAW,CAAC,iBAAkB,UAAW,CAAC,SAAU,UAAW,CAAC,cAAe,UAAW,CAAC,QAAS,UAAW,CAAC,YAAa,UAAW,CAAC,MAAO,UAAW,CAAC,YAAa,UAAW,CAAC,aAAc,UAAW,CAAC,YAAa,UAAW,CAAC,gBAAiB,UAAW,CAAC,OAAQ,UAAW,CAAC,YAAa,UAAW,CAAC,cAAe,SAAW,CAAC,SAAU,UAAW,CAAC,QAAS,UAAW,CAAC,SAAU,SAAW,CAAC,QAAS,UAAW,CAAC,OAAQ,UAAW,CAAC,WAAY,UAAW,CAAC,YAAa,UAAW,CAAC,QAAS,UAAW,CAAC,YAAa,UAAW,CAAC,aAAc,UAAW,CAAC,aAAc,UAAW,CAAC,WAAY,UAAW,CAAC,QAAS,UAAW,CAAC,UAAW,UAAW,CAAC,cAAe,UAAW,CAAC,QAAS,UAAW,CAAC,eAAgB,UAAW,CAAC,QAAS,UAAW,CAAC,gBAAiB,UAAW,CAAC,YAAa,UAAW,CAAC,YAAa,UAAW,CAAC,YAAa,UAAW,CAAC,SAAU,UAAW,CAAC,WAAY,UAAW,CAAC,OAAQ,SAAW,CAAC,UAAW,SAAW,CAAC,iBAAkB,SAAW,CAAC,YAAa,SAAW,CAAC,gBAAiB,SAAW,CAAC,QAAS,IAE/6GL,YAAa,CAAC,EACdH,UAAW,CACTS,QAAS,CAAC,IACV,MACA,MACA,SACA,UAEAC,KAAM,CAAC,IACP,MACA,SACA,SACA,UAEAC,IAAK,CAAC,SACN,SACA,UAEAC,KAAM,CAAC,SACP,MACA,KAEA,WAAY,CAAC,IACb,SACA,UAEAC,KAAM,CAAC,SACP,UAEAC,MAAO,CAAC,SACR,QAOJ,IAHA,IAAIC,GAAqBzB,GAAQl1G,UAC7Bo2G,GAAmBO,GAAmBP,iBACtCL,GAAcY,GAAmBZ,YAC5Bv1G,GAAI,EAAGC,GAAS21G,GAAiB31G,OAAQD,GAAIC,KAAUD,GAAG,CACjE,IAAIo2G,GAAsB1zG,EAAekzG,GAAiB51G,IAAI,GAC1DuC,GAAO6zG,GAAoB,GAC3B70G,GAAQ60G,GAAoB,GAChCb,GAAYhzG,IAAQhB,EACtB,CAEA,IAkBI80G,GAlBAC,GAAY,IAAI5B,GAAQ,MAAO,MACnC4B,GAAU1B,cAAgB,CACxB2B,EAAG,SACHlqF,EAAG,QACHF,EAAG,QACHG,EAAG,SACHoxB,EAAG,MACH84D,EAAG,QACHC,EAAG,SACHC,GAAI,MACJC,GAAI,SACJ14F,GAAI,SACJ24F,GAAI,SACJC,GAAI,SACJC,GAAI,MACJ1gF,EAAG,OAIL,IAAI2gF,GAAY,IAAIrC,GAAQ,OAAQ,MACpCqC,GAAU53C,OAAS,CACnB,IACA,MACA,MACA,MACA,MACA,MACA,MACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SAEA43C,GAAUnC,cAAgB,CACxB2B,EAAG,SACH/pF,EAAG,SACHC,EAAG,SACHuqF,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,EAAG,SACH9qF,EAAG,QACHF,EAAG,QACHG,EAAG,SACHoxB,EAAG,QACH05D,GAAI,SACJC,GAAI,SACJC,GAAI,QACJC,GAAI,SACJC,GAAI,OACJhB,EAAG,SACHC,EAAG,SACHC,GAAI,QACJe,GAAI,QACJC,EAAG,QACHn7F,GAAI,QACJo7F,GAAI,SACJC,GAAI,SACJC,EAAG,SACHC,GAAI,QACJC,GAAI,SACJpB,GAAI,SACJ14F,GAAI,SACJ24F,GAAI,QACJC,GAAI,SACJmB,GAAI,QACJC,GAAI,SACJC,GAAI,QACJC,GAAI,SACJv8F,GAAI,SACJk7F,GAAI,SACJsB,GAAI,QACJC,GAAI,QACJC,GAAI,MACJC,EAAG,QACHC,GAAI,QACJC,GAAI,QACJ95F,GAAI,QACJ+5F,GAAI,QACJC,GAAI,QACJC,GAAI,OACJC,GAAI,MACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,QACJC,GAAI,SACJC,GAAI,SACJ/iF,EAAG,QACHgjF,GAAI,OACJn9F,GAAI,QACJo9F,GAAI,MACJC,GAAI,QACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,MACJC,GAAI,MACJ17F,GAAI,MACJ27F,GAAI,MACJC,GAAI,MACJC,GAAI,QACJC,GAAI,QACJC,EAAG,QACHC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,QACJC,GAAI,SACJC,GAAI,SACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,KACJC,GAAI,QACJC,GAAI,MACJC,GAAI,MACJllF,EAAG,MACHmlF,GAAI,MACJC,GAAI,MACJC,GAAI,QACJC,GAAI,QACJC,GAAI,QACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJ7vF,GAAI,SACJ8vF,GAAI,SACJC,GAAI,SACJC,GAAI,UAENxF,GAAUhC,oBAAsB,SAChCgC,GAAUjC,cAAgB,CACxBlgF,IAAK,SACLC,IAAK,QACLC,IAAK,MACLC,IAAK,SACLC,IAAK,SACLC,IAAK,MACLC,IAAK,SACLC,IAAK,SACLC,IAAK,QACLC,IAAK,QACLC,IAAK,QACLC,IAAK,QACLC,IAAK,SACLC,IAAK,QACLC,IAAK,SACLG,IAAK,SACLC,IAAK,SACLC,IAAK,SACLC,IAAK,QACLC,IAAK,QACLC,EAAG,SACH7J,EAAG,SACH8J,EAAG,SACHC,EAAG,QACH3J,EAAG,SACH4J,EAAG,SACHC,GAAI,SACJC,GAAI,SACJC,GAAI,SACJC,GAAI,QACJC,GAAI,SACJC,GAAI,SACJ,KAAM,SACN,KAAM,SACN,KAAM,SACN,KAAM,QACN,KAAM,SACN,KAAM,UAERogF,GAAU/B,YAAc,CACxB,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,YAEA,IAGIwH,GAHAC,GAA0BnjF,GAAkBY,KAChD68E,GAAU9B,iBAAiDlrF,GAA9BssF,GAA0B,CAAC,EAA4CoG,GAAwBniF,YAAa,UAAWvQ,GAAgBssF,GAAyBoG,GAAwBliF,SAAU,SAAWxQ,GAAgBssF,GAAyBoG,GAAwBpiF,UAAW,UAAWtQ,GAAgBssF,GAAyBoG,GAAwBtiF,OAAQ,UAAWpQ,GAAgBssF,GAAyBoG,GAAwB7hF,KAAM,SAAW7Q,GAAgBssF,GAAyB,MAAO,UAAWtsF,GAAgBssF,GAAyB,MAAO,UAAWA,IAG7lB,IAAI92F,GAAU,IAAIm1F,GAAQ,MAAO,MACjCn1F,GAAQ4/C,OAAS,CACjB,IACA,SACA,QACA,SACA,SACA,QACA,SACA,MACA,SACA,SACA,QACA,SACA,QACA,SACA,QACA,SAEA5/C,GAAQs1F,oBAAsB,QAC9Bt1F,GAAQq1F,cAAgB,CACtB2B,EAAG,SACHlqF,EAAG,QACHF,EAAG,IACHG,EAAG,SACHkqF,EAAG,QACHC,EAAG,UAELl3F,GAAQw1F,oBAAsB,QAC9Bx1F,GAAQu1F,cAAgB,CACtBlgF,IAAK,IACLC,IAAK,SACLC,IAAK,QACLC,IAAK,SACLC,IAAK,SACLC,IAAK,SACLC,IAAK,SACLC,IAAK,SACLC,IAAK,QACLC,IAAK,MACLC,IAAK,SACLC,IAAK,QACLC,IAAK,SACLC,IAAK,SACLC,IAAK,QACLG,IAAK,SACLC,IAAK,SACLC,IAAK,SACLC,IAAK,MACLC,IAAK,QACLC,EAAG,IACH7J,EAAG,SACH8J,EAAG,SACH1J,EAAG,SACH4J,EAAG,MACHC,GAAI,IACJC,GAAI,SACJC,GAAI,SACJE,GAAI,SACJC,GAAI,MACJ,KAAM,IACN,KAAM,SACN,KAAM,SACN,KAAM,SACN,KAAM,MACNC,IAAK,QACLC,IAAK,QACLC,IAAK,SAEPvX,GAAQy1F,YAAc,CAAC,UAAU3lG,OAAOkQ,GAAQ4/C,QAChD,IAAIu9C,GAA0BpjF,GAAkBY,KAChD3a,GAAQ01F,iBAA+ClrF,GAA5ByyF,GAAwB,CAAC,EAA0CE,GAAwBpiF,YAAa,UAAWvQ,GAAgByyF,GAAuBE,GAAwBriF,UAAW,KAAWtQ,GAAgByyF,GAAuBE,GAAwBniF,SAAU,UAAWxQ,GAAgByyF,GAAuBE,GAAwBviF,OAAQ,UAAWpQ,GAAgByyF,GAAuBE,GAAwBtiF,OAAQ,SAAWrQ,GAAgByyF,GAAuBE,GAAwB9hF,KAAM,SAAW4hF,IAE3iB,IAAIG,GAAa,IAAIrhD,GAAW,CAACg7C,GAAWS,GAAWx3F,KAEnDq9F,GAAU,WACZ,SAASA,EAAQx3G,GAEf,GADA3F,EAAgBuE,KAAM44G,GAClB54G,KAAKzE,cAAgBq9G,EACvB,MAAM,IAAInuG,MAAM,uCAElBzK,KAAKoB,MAAO,IAAAke,OAAM/P,EAAM2B,WAAWoP,EAAWnb,IAAI0U,SAAS7Z,KAAK8F,KAAK,GAAO1E,GAC5EpB,KAAKub,QAAUo9F,GAAWtjG,KAC5B,CAWA,OAVA5Y,EAAam8G,EAAS,CAAC,CACrBp8G,IAAK,WACLe,MAAO,WACL,IAAI+U,EAAO/C,EAAM4C,YAAYnS,KAAKoB,KAAMkf,EAAWnb,IAAI0U,SAAS7Z,KAAK8F,KACrE,OAAK,IAAA6M,SAAQL,GAGNtS,KAAK8F,GAFH,CAAC9F,KAAK8F,GAAIwM,EAGrB,KAEKsmG,CACT,CApBc,GAqBdA,GAAQp9G,UAAUsK,GAAK,KAIvB,IAAI+yG,GAAiB,SAAUC,GAC7B17G,EAAUy7G,EAAgBC,GAC1B,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIMsrG,EAJSrrG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQoxG,GAAsC,WAAkC,IAAsC1sG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASwsG,IAEP,OADAp9G,EAAgBuE,KAAM64G,GACfprG,EAAO1N,MAAMC,KAAMH,UAC5B,CAgBA,OAfApD,EAAao8G,EAAgB,CAAC,CAC5Br8G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM6d,GACjC,IAAIrrB,EAAOwN,EAAKtQ,QAAQxH,KACxB,MAAa,MAATsK,GAAgB7I,KAAKoB,KAAK2Y,QAAU,EAC/B/Z,KAAKoB,KAAK2Y,OAEZ/Z,KAAKub,QAAQy9F,gBAAgBnwG,EACtC,GACC,CACDrM,IAAK,kBACLe,MAAO,SAAyBuwG,EAAU55E,GACxC,OAAOl0B,KAAKub,QAAQw1F,mBACtB,KAEK8H,CACT,CAvBqB,CAuBnBD,IACF7yF,GAAgB8yF,GAAgB,KAAM,MACtCA,GAAer9G,UAAUsK,GAAK,KAC9B+yG,GAAer9G,UAAU+C,KAAO,UAChCs6G,GAAer9G,UAAU2xG,UAAY,UAIrC,IAAI8L,GAAqB,SAAUH,GACjC17G,EAAU67G,EAAoBH,GAC9B,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIM0rG,EAJSzrG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQuxG,GAAsC,WAAkC,IAAsC7sG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS4sG,IAEP,OADAx9G,EAAgBuE,KAAMi5G,GACfxrG,EAAO1N,MAAMC,KAAMH,UAC5B,CAYA,OAXApD,EAAaw8G,EAAoB,CAAC,CAChCz8G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM4d,GACjC,OAAOj0B,KAAK28F,gBAAgBtmF,EAAK6P,QAAS+N,EAC5C,GACC,CACDz3B,IAAK,kBACLe,MAAO,SAAyB2oB,EAASgO,GACvC,OAAOl0B,KAAKub,QAAQohF,gBAAgBz2E,EAAQ2D,MAAMoE,MACpD,KAEKgrF,CACT,CAnByB,CAmBvBL,IACF7yF,GAAgBkzF,GAAoB,KAAM,MAC1CA,GAAmBz9G,UAAUsK,GAAK,KAClCmzG,GAAmBz9G,UAAU+C,KAAO,eACpC06G,GAAmBz9G,UAAU2xG,UAAY,UAIzC,IAAIgM,GAAkB,SAAUL,GAC9B17G,EAAU+7G,EAAiBL,GAC3B,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIM4rG,EAJS3rG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQyxG,GAAsC,WAAkC,IAAsC/sG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS8sG,IAEP,OADA19G,EAAgBuE,KAAMm5G,GACf1rG,EAAO1N,MAAMC,KAAMH,UAC5B,CAkBA,OAjBApD,EAAa08G,EAAiB,CAAC,CAC7B38G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM4d,GACjC,OAAOj0B,KAAK28F,gBAAgBtmF,EAAK6P,QAAS+N,EAC5C,GACC,CACDz3B,IAAK,kBACLe,MAAO,SAAyB2oB,EAASgO,GACvC,IAAI5H,EAAQpG,EAAQiB,OACpB,GAAImF,EAAM8H,cAAgBxT,OAAOyT,mBAAqB/H,EAAMgI,cAAgB1T,OAAO2T,kBACjF,OAAOv0B,KAAKub,QAAQ81F,kBAEtB,IAAI72F,EAAM8R,EAAM8H,YACZtlB,EAAMwd,EAAMgI,YAAc9Z,EAAM8R,EAAMgI,YAAc9Z,EAAM,EAC9D,OAAOxa,KAAKub,QAAQ89F,kBAAkBnzF,EAAQmB,UAAY7M,IAAQ1L,EAAM0L,GAAMxa,KAAKoB,KAAKkZ,SAC1F,KAEK6+F,CACT,CAzBsB,CAyBpBP,IACF7yF,GAAgBozF,GAAiB,KAAM,MACvCA,GAAgB39G,UAAUsK,GAAK,KAC/BqzG,GAAgB39G,UAAU+C,KAAO,WACjC46G,GAAgB39G,UAAU2xG,UAAY,WAItC,IAAImM,GAAe,SAAUR,GAC3B17G,EAAUk8G,EAAcR,GACxB,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIM+rG,EAJS9rG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ4xG,GAAsC,WAAkC,IAAsCltG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASitG,IAEP,OADA79G,EAAgBuE,KAAMs5G,GACf7rG,EAAO1N,MAAMC,KAAMH,UAC5B,CAYA,OAXApD,EAAa68G,EAAc,CAAC,CAC1B98G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM4d,GACjC,OAAOj0B,KAAK28F,gBAAgBtmF,EAAK6P,QAAS+N,EAC5C,GACC,CACDz3B,IAAK,kBACLe,MAAO,SAAyB2oB,EAASgO,GACvC,OAAOl0B,KAAKub,QAAQi+F,cAActzF,EAAQy4B,WAAW1wB,MACvD,KAEKqrF,CACT,CAnBmB,CAmBjBV,IACF7yF,GAAgBuzF,GAAc,KAAM,MACpCA,GAAa99G,UAAUsK,GAAK,KAC5BwzG,GAAa99G,UAAU+C,KAAO,QAC9B+6G,GAAa99G,UAAU2xG,UAAY,QAInC,IAAIsM,GAA4B,SAAUX,GACxC17G,EAAUq8G,EAA2BX,GACrC,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIMksG,EAJSjsG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ+xG,GAAsC,WAAkC,IAAsCrtG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASotG,IAEP,OADAh+G,EAAgBuE,KAAMy5G,GACfhsG,EAAO1N,MAAMC,KAAMH,UAC5B,CA0BA,OAzBApD,EAAag9G,EAA2B,CAAC,CACvCj9G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM4d,GACjC,OAAOj0B,KAAK28F,gBAAgBtmF,EAAK6P,QAAS+N,EAC5C,GACC,CACDz3B,IAAK,kBACLe,MAAO,SAAyB2oB,EAASgO,GACvC,GAAIhO,EAAQ2D,MAAM/C,MAAQsJ,GAAcrJ,MAAM2M,IAC5C,OAAO1zB,KAAKub,QAAQo+F,kBAAkB,OAExC,GAAIzzF,EAAQ2D,MAAM/C,MAAQsJ,GAAcrJ,MAAM4M,IAC5C,OAAO3zB,KAAKub,QAAQo+F,kBAAkB,OAExC,IAAIC,EAAY1zF,EAAQkoF,eACxB,GAAIwL,EAAW,CACb,IAAIr5G,EAAQP,KAAKub,QAAQo+F,kBAAkBC,EAAU/wG,MAAM,GAI3D,YAHc5E,IAAV1D,IACFA,EAAQP,KAAKub,QAAQo+F,kBAAkBC,EAAUnkF,UAE5Cl1B,CACT,CACA,OAAOP,KAAKub,QAAQ21F,qBACtB,KAEKuI,CACT,CAjCgC,CAiC9Bb,IACF7yF,GAAgB0zF,GAA2B,KAAM,MACjDA,GAA0Bj+G,UAAUsK,GAAK,KACzC2zG,GAA0Bj+G,UAAU+C,KAAO,sBAC3Ck7G,GAA0Bj+G,UAAU2xG,UAAY,YAIhD,IAAI0M,GAAiB,SAAUf,GAC7B17G,EAAUy8G,EAAgBf,GAC1B,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIMssG,EAJSrsG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQmyG,GAAsC,WAAkC,IAAsCztG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASwtG,IAEP,OADAp+G,EAAgBuE,KAAM65G,GACfpsG,EAAO1N,MAAMC,KAAMH,UAC5B,CAYA,OAXApD,EAAao9G,EAAgB,CAAC,CAC5Br9G,IAAK,eACLe,MAAO,SAAsBkmC,EAAOvP,GAClC,OAAOl0B,KAAKoB,KAAKb,KACnB,GACC,CACD/D,IAAK,kBACLe,MAAO,SAAyBuwG,EAAU55E,GACxC,OAAOl0B,KAAKoB,KAAKb,KACnB,KAEKs5G,CACT,CAnBqB,CAmBnBjB,IACF7yF,GAAgB8zF,GAAgB,KAAM,MACtCA,GAAer+G,UAAUsK,GAAK,KAC9B+zG,GAAer+G,UAAU+C,KAAO,UAChCs7G,GAAer+G,UAAU2xG,UAAY,UAIrC,IAAI4M,GAAqB,SAAUjB,GACjC17G,EAAU28G,EAAoBjB,GAC9B,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIMwsG,EAJSvsG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQqyG,GAAsC,WAAkC,IAAsC3tG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS0tG,EAAmB34G,GAC1B,IAAIuJ,EACJlP,EAAgBuE,KAAM+5G,GACtBpvG,EAAQ8C,EAAO/P,KAAKsC,KAAMoB,GAC1B,IAAI64G,EAASzyE,GAAY3J,MAAMlzB,EAAMvJ,KAAKsW,QAE1C,OADA/M,EAAMuvG,cAAgBD,EAAO/vG,MAAQs9B,GAAYzD,OAASk2E,EAAOj+F,SAC1DrR,CACT,CAmBA,OAlBAlO,EAAas9G,EAAoB,CAAC,CAChCv9G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM6d,GACjC,OAAOl0B,KAAKk6G,cAAcjzE,aAAa5wB,GAAQrW,KAAKoB,KAAKb,MAAQP,KAAKoB,KAAK8Y,SAC7E,GACC,CACD1d,IAAK,kBACLe,MAAO,SAAyB2oB,EAASgO,GAGvC,IAFA,IAAIxc,EAAS1X,KAAKk6G,cACd/tF,EAAQjG,EAAQ0G,OACX5wB,EAAI,EAAGoC,EAAI+tB,EAAMlwB,OAAQD,EAAIoC,IAAKpC,EACzC,IAAK0b,EAAOuvB,aAAa9a,EAAMnwB,IAC7B,OAAOgE,KAAKoB,KAAK8Y,UAGrB,OAAOla,KAAKoB,KAAKb,KACnB,KAEKw5G,CACT,CA9ByB,CA8BvBnB,IACF7yF,GAAgBg0F,GAAoB,KAAM,MAC1CA,GAAmBv+G,UAAUsK,GAAK,KAClCi0G,GAAmBv+G,UAAU+C,KAAO,cACpCw7G,GAAmBv+G,UAAU2xG,UAAY,cAIzC,IAAIgN,GAAsB,SAAUrB,GAClC17G,EAAU+8G,EAAqBrB,GAC/B,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIM4sG,EAJS3sG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQyyG,GAAsC,WAAkC,IAAsC/tG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS8tG,IAEP,OADA1+G,EAAgBuE,KAAMm6G,GACf1sG,EAAO1N,MAAMC,KAAMH,UAC5B,CAYA,OAXApD,EAAa09G,EAAqB,CAAC,CACjC39G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM6d,GACjC,OAAOl0B,KAAKub,QAAQi+F,cAAcruG,OAAOgD,aAAakI,EAAKnK,UAC7D,GACC,CACD1P,IAAK,kBACLe,MAAO,SAAyBuwG,EAAU55E,GACxC,OAAOl0B,KAAKub,QAAQw1F,mBACtB,KAEKoJ,CACT,CAnB0B,CAmBxBvB,IACF7yF,GAAgBo0F,GAAqB,KAAM,MAC3CA,GAAoB3+G,UAAUsK,GAAK,KACnCq0G,GAAoB3+G,UAAU+C,KAAO,eACrC47G,GAAoB3+G,UAAU2xG,UAAY,eAI1C,IAAIkN,GAAqB,SAAUvB,GACjC17G,EAAUi9G,EAAoBvB,GAC9B,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIM8sG,EAJS7sG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ2yG,GAAsC,WAAkC,IAAsCjuG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASguG,IAEP,OADA5+G,EAAgBuE,KAAMq6G,GACf5sG,EAAO1N,MAAMC,KAAMH,UAC5B,CAmCA,OAlCApD,EAAa49G,EAAoB,CAAC,CAChC79G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM6d,GACjC,IAAI9yB,EAAOpB,KAAKoB,KACZgZ,EAAS,EACb,OAAI/D,EAAKkQ,aAAenlB,GAEpBgZ,EADEhZ,EAAKoZ,MAAQpZ,EAAK0N,IACXuH,EAAKkQ,YAAcnlB,EAAK0N,IAAM,EAAI,GAEjCuH,EAAKkQ,YAAcnlB,EAAKoZ,MAAQpZ,EAAK0N,IAAM1N,EAAKoZ,KAErDxa,KAAKub,QAAQ89F,iBAAiBj/F,EAAQhZ,EAAKkZ,WAE7Cta,KAAKub,QAAQo2F,oBACtB,GACC,CACDn1G,IAAK,kBACLe,MAAO,SAAyB2oB,EAASgO,GACvC,IAAI9yB,EAAOpB,KAAKoB,KAChB,IAAKA,EACH,OAAOpB,KAAKub,QAAQo2F,qBAEtB,GAAIzrF,EAAQK,YAAa,CACvB,IAAInM,EAMJ,OAJEA,EADEhZ,EAAKoZ,MAAQpZ,EAAK0N,IACXoX,EAAQK,YAAcnlB,EAAK0N,IAAM,EAAI,GAEpCoX,EAAQK,YAAcnlB,EAAKoZ,MAAQpZ,EAAK0N,IAAM1N,EAAKoZ,KAExDxa,KAAKub,QAAQ89F,iBAAiBj/F,EAAQhZ,EAAKkZ,SACpD,CACA,OAAOta,KAAKub,QAAQo2F,oBACtB,KAEK0I,CACT,CA1CyB,CA0CvBzB,IACF7yF,GAAgBs0F,GAAoB,KAAM,MAC1CA,GAAmB7+G,UAAUsK,GAAK,KAClCu0G,GAAmB7+G,UAAU+C,KAAO,cACpC87G,GAAmB7+G,UAAU2xG,UAAY,cAIzC,IAAIoN,GAAmB,SAAUzB,GAC/B17G,EAAUm9G,EAAkBzB,GAC5B,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIMgtG,EAJS/sG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ6yG,GAAsC,WAAkC,IAAsCnuG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASkuG,IAEP,OADA9+G,EAAgBuE,KAAMu6G,GACf9sG,EAAO1N,MAAMC,KAAMH,UAC5B,CAuBA,OAtBApD,EAAa89G,EAAkB,CAAC,CAC9B/9G,IAAK,uBACLe,MAAO,SAA8B+oB,EAAWllB,GAC9C,QAAkB6C,IAAdqiB,EAAyB,CAC3B,IAAIlM,EAAS,EAAIkM,EACjB,OAAOtmB,KAAKub,QAAQ89F,iBAAiBj/F,EAAQhZ,EAAKkZ,SACpD,CACA,OAAOta,KAAKub,QAAQo2F,oBACtB,GACC,CACDn1G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM6d,GACjC,IAAI9yB,EAAOpB,KAAKoB,KAChB,OAAOpB,KAAKy6G,qBAAqBpkG,EAAKiQ,UAAWllB,EACnD,GACC,CACD5E,IAAK,kBACLe,MAAO,SAAyB2oB,EAASgO,GACvC,IAAI9yB,EAAOpB,KAAKoB,KAChB,OAAOpB,KAAKy6G,qBAAqBv0F,EAAQI,UAAWllB,EACtD,KAEKm5G,CACT,CA9BuB,CA8BrB3B,IACF7yF,GAAgBw0F,GAAkB,KAAM,MACxCA,GAAiB/+G,UAAUsK,GAAK,KAChCy0G,GAAiB/+G,UAAU+C,KAAO,YAClCg8G,GAAiB/+G,UAAU2xG,UAAY,YAIvC,IAAIuN,GAAwB,SAAU5B,GACpC17G,EAAUs9G,EAAuB5B,GACjC,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIMmtG,EAJSltG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQgzG,GAAsC,WAAkC,IAAsCtuG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASquG,IAEP,OADAj/G,EAAgBuE,KAAM06G,GACfjtG,EAAO1N,MAAMC,KAAMH,UAC5B,CAkBA,OAjBApD,EAAai+G,EAAuB,CAAC,CACnCl+G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM4d,GACjC,OAAOj0B,KAAK28F,gBAAgBtmF,EAAK6P,QAAS+N,EAC5C,GACC,CACDz3B,IAAK,kBACLe,MAAO,SAAyB2oB,EAASgO,GACvC,IAAI3zB,EAAQP,KAAKub,QAAQw1F,oBAMzB,YALqC9sG,IAAjCiiB,EAAQ2D,MAAM+wF,iBAGhBr6G,EAAQP,KAAKub,QAAQ89F,kBAAkBnzF,EAAQ2D,MAAM+wF,iBAF3C,KAEmE,EAAa56G,KAAKoB,KAAKkZ,WAE/F/Z,CACT,KAEKm6G,CACT,CAzB4B,CAyB1B9B,IACF7yF,GAAgB20F,GAAuB,KAAM,MAC7CA,GAAsBl/G,UAAUsK,GAAK,KACrC40G,GAAsBl/G,UAAU+C,KAAO,iBACvCm8G,GAAsBl/G,UAAU2xG,UAAY,iBAI5C,IAAI0N,GAAkB,SAAU/B,GAC9B17G,EAAUy9G,EAAiB/B,GAC3B,IAJsBvrG,EAAeC,EAIjCC,GAJkBF,EAIMstG,EAJSrtG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQmzG,GAAsC,WAAkC,IAAsCzuG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASwuG,IAEP,OADAp/G,EAAgBuE,KAAM66G,GACfptG,EAAO1N,MAAMC,KAAMH,UAC5B,CAiBA,OAhBApD,EAAao+G,EAAiB,CAAC,CAC7Br+G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM4d,GACjC,OAAOj0B,KAAK28F,gBAAgBtmF,EAAK6P,QAAS+N,EAC5C,GACC,CACDz3B,IAAK,kBACLe,MAAO,SAAyB2oB,EAASgO,GACvC,IAAIoyB,EAAWpgC,EAAQsH,UACnB5X,EAAQse,EAAS6mF,mBACrB,OAAInlG,EAAQ,EACH5V,KAAKub,QAAQ89F,kBAAkB/yD,EAAShiC,MAAQ,IAAM1O,EAAQ,GAAI5V,KAAKoB,KAAKkZ,UAE9Eta,KAAKub,QAAQ89F,iBAAiB,EAAGr5G,KAAKoB,KAAKkZ,SACpD,KAEKugG,CACT,CAxBsB,CAwBpBjC,IACF7yF,GAAgB80F,GAAiB,KAAM,MACvCA,GAAgBr/G,UAAUsK,GAAK,KAC/B+0G,GAAgBr/G,UAAU+C,KAAO,WACjCs8G,GAAgBr/G,UAAU2xG,UAAY,WAatC,IAAI6N,GAAgB,SAAUlC,GAC5B17G,EAAU49G,EAAelC,GACzB,IAbsBvrG,EAAeC,EAajCC,GAbkBF,EAaMytG,EAbSxtG,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQszG,GAAsC,WAAkC,IAAsC5uG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAcva,SAAS2uG,IAEP,OADAv/G,EAAgBuE,KAAMg7G,GACfvtG,EAAO1N,MAAMC,KAAMH,UAC5B,CAcA,OAbApD,EAAau+G,EAAe,CAAC,CAC3Bx+G,IAAK,eACLe,MAAO,SAAsB8Y,EAAM6d,GACjC,IAnBc9Q,EAAGhJ,EAmBb8gG,EAAcl7G,KAAKoB,KAAKb,MACxB46G,GApBU/3F,EAoBkB83F,GApBf9gG,EAoB4Bpa,KAAKoB,KAAKgZ,SAnBlDgJ,GAAK,GAAK,MAMP,GAFJhJ,GAHCgJ,GAAK,EAAI,MAKI,EADdhJ,GAHK,IAAJgJ,IAkBL,OAAO/M,EAAKyQ,MAAQd,GAAOe,MAAME,OAASi0F,EAAcC,CAC1D,GACC,CACD3+G,IAAK,kBACLe,MAAO,SAAyBuwG,EAAU55E,GACxC,OAAOl0B,KAAKoB,KAAKb,KACnB,KAEKy6G,CACT,CArBoB,CAqBlBpC,IACF7yF,GAAgBi1F,GAAe,KAAM,MACrCA,GAAcx/G,UAAUsK,GAAK,KAC7Bk1G,GAAcx/G,UAAU+C,KAAO,SAC/By8G,GAAcx/G,UAAU2xG,UAAY,SAEpC,IAAIiO,GAAa,IAAI9jD,GAAW,CAACuhD,GAAgBI,GAAoBE,GAAiBG,GAAcG,GAA2BI,GAAgBE,GAAoBI,GAAqBE,GAAoBE,GAAkBG,GAAuBG,GAAiBG,KAEtQ,SAASK,GAAaC,GACpB,OAAO,IAAI,MAAMA,EAAWA,EAAWA,EACzC,CACA,IAyJIC,GAAc,IAAIjkD,GAzJH,CAAC,CAClBxxD,GAAI,KACJvH,KAAM,UACN4uG,UAAW,UACX3f,YAAa,CACXjB,QAAS8uB,GAAa,GACtB7uB,SAAU6uB,GAAa,GACvB5uB,UAAW,EACXx/B,QAAS,GAEXxjD,OAAQ,CACNusD,QAAQ,EACRh5C,KAAK,EACLsyC,YAAY,EACZ7yC,aAAa,EACbixE,aAAa,IAEd,CACD5nF,GAAI,KACJvH,KAAM,eACN4uG,UAAW,OACX3f,YAAa,CACXjB,QAAS8uB,GAAa,GACtB7uB,SAAU6uB,GAAa,IACvB5uB,UAAW,GACXx/B,QAAS,GAEXxjD,OAAQ,CACNusD,QAAQ,EACRh5C,KAAK,EACLsyC,YAAY,EACZ7yC,aAAa,EACbixE,aAAa,IAEd,CACD5nF,GAAI,KACJvH,KAAM,iBACN4uG,UAAW,SACX3f,YAAa,CACXjB,QAAS8uB,GAAa,KACtB7uB,SAAU6uB,GAAa,KACvB5uB,UAAW,IACXx/B,QAAS,GAEXxjD,OAAQ,CACNusD,QAAQ,EACRh5C,KAAK,EACLsyC,YAAY,EACZ7yC,aAAa,EACbixE,aAAa,IAEd,CACD5nF,GAAI,KACJvH,KAAM,QACN4uG,UAAW,QACX3f,YAAa,CACXjB,QAAS8uB,GAAa,KACtB7uB,SAAU6uB,GAAa,KACvB5uB,UAAW,GACXx/B,QAAS,GAEXxjD,OAAQ,CACNusD,QAAQ,EACRh5C,KAAK,EACLsyC,YAAY,EACZ7yC,aAAa,EACbixE,aAAa,IAEd,CACD5nF,GAAI,KACJvH,KAAM,cACN4uG,UAAW,cACX3f,YAAa,CACXjB,QAAS8uB,GAAa,GACtB7uB,SAAU6uB,GAAa,GACvB5uB,UAAW,EACXx/B,QAAS,IAEXxjD,OAAQ,CACNusD,QAAQ,EACRh5C,KAAK,EACLsyC,YAAY,EACZ7yC,aAAa,EACbixE,aAAa,IAEd,CACD5nF,GAAI,KACJvH,KAAM,QACN4uG,UAAW,QACX3f,YAAa,CACXjB,QAAS8uB,GAAa,IACtB7uB,SAAU6uB,GAAa,KACvB5uB,UAAW,IACXx/B,QAAS,IAEXxjD,OAAQ,CACNusD,QAAQ,EACRh5C,KAAK,EACLsyC,YAAY,EACZ7yC,aAAa,EACbixE,aAAa,IAEd,CACD5nF,GAAI,KACJvH,KAAM,WACN4uG,UAAW,WACX3f,YAAa,CACXjB,QAAS8uB,GAAa,GACtB7uB,SAAU6uB,GAAa,GACvB5uB,UAAW,EACXx/B,QAAS,GAEXxjD,OAAQ,CACNusD,QAAQ,EACRh5C,KAAK,EACLsyC,YAAY,EACZ7yC,aAAa,EACbixE,aAAa,IAEd,CACD5nF,GAAI,KACJvH,KAAM,OACN4uG,UAAW,OACX3f,YAAa,CACXjB,QAAS8uB,GAAa,GACtB7uB,SAAU6uB,GAAa,GACvB5uB,UAAW,EACXx/B,QAAS,GAEXxjD,OAAQ,CACNusD,QAAQ,EACRh5C,KAAK,EACLsyC,YAAY,EACZ7yC,aAAa,EACbixE,aAAa,IAEd,CACD5nF,GAAI,KACJvH,KAAM,OACN4uG,UAAW,OACX3f,YAAa,CACXjB,QAAS8uB,GAAa,GACtB7uB,SAAU6uB,GAAa,GACvB5uB,UAAW,EACXx/B,QAAS,GAEXxjD,OAAQ,CACNusD,QAAQ,EACRh5C,KAAK,EACLsyC,YAAY,EACZ7yC,aAAa,MAiBjB,SAAS++F,GAAqBlgD,EAAM7xD,EAAQgyG,GAC1C,IAAIx/F,EAAWq/C,EAAKr/C,SAAS60E,iBAC7B70E,EAAS45C,UAAUpsD,GACnB,IAAIiyG,EAAU,IAAIpgD,EAAK//D,YAAY+/D,EAAK1K,SAAU30C,GAIlD,OAHAy/F,EAAQz/F,SAASmwC,aAAc,EAC/BsvD,EAAQvyE,aAAamyB,EAAK/xB,QAC1BmyE,EAAQpmD,OAAOhtD,IAAImzG,GACZC,CACT,CACA,SAASC,GAAenmD,EAAMomD,EAAWC,GAEvC,IADA,IAAI/nB,EAtBN,SAAwBt+B,EAAMomD,GAC5B,IAAI9nB,EAAS,GASb,OARAt+B,EAAK7E,UAAS,SAAU79C,GACtB,IAAK,IAAI9W,EAAI,EAAGA,EAAI4/G,EAAU3/G,OAAQD,IACpC,GAAI8W,aAAkB8oG,EAAU5/G,GAAI,CAClC83F,EAAOA,EAAO73F,QAAU6W,EACxB,KACF,CAEJ,IACOghF,CACT,CAWegoB,CAAetmD,EAAMomD,GACzB5/G,EAAI,EAAGoC,EAAI01F,EAAO73F,OAAQD,EAAIoC,IAAKpC,EAAG,CAC7C,IAAIs/D,EAAOw4B,EAAO93F,GACbs/D,EAAKzM,QAGVgtD,EAAKvgD,EACP,CACF,CAgBA,IACMygD,GADFC,IACED,GAAY,CACd1tB,qBAAqB,EACrBD,aAAa,EACb3xE,aAAa,EACb+xE,gBAAgB,EAChBx4B,QAAQ,EACRC,WAAW,EACXj5C,KAAK,GAEA,SAAUw4C,EAAMv5C,GACfA,aAAoB0xE,IAG1BguB,GAAenmD,EAAM,CAAC,MAAM,QAAe,SAAU8F,GACnDA,EAAKr/C,SAAS45C,UAAU,CACtBw4B,qBAAqB,EACrBD,aAAa,IAEf9yB,EAAKr/C,SAASmwC,aAAc,EAC5BkP,EAAKhG,OAAOhtD,IAAI6qD,GAASjF,OAAOE,aAChC,IAAI6tD,EAAoBT,GAAqBlgD,EAAMygD,GAAW5oD,GAASjF,OAAOG,qBAC9EiN,EAAKzM,OAAOhf,IAAIosE,EAClB,GACF,GAEEC,GAA4B,WAC9B,IAAIH,EAAY,CACdztB,cAAc,EACd7xE,aAAa,EACb+xE,gBAAgB,EAChBx4B,QAAQ,EACRC,WAAW,EACXj5C,KAAK,EACL+4C,eAAe,EACf64B,gBAAgB,EAChBb,WAAW,EACXC,YAAY,EACZC,gBAAgB,EAChBG,aAAa,GAEf,OAAO,SAAU54B,EAAMv5C,GACfA,aAAoB0xE,IAG1BguB,GAAenmD,EAAM,CAAC,MAAM,QAAe,SAAU8F,GACnD,IAAI6gD,EAAiBX,GAAqBlgD,EAAMygD,EAAW5oD,GAASjF,OAAOK,qBAC3E+M,EAAKzM,OAAOhf,IAAIssE,EAClB,GACF,CACF,CAxBgC,GAyB5BC,GAA0B,WAC5B,IAAIL,EAAY,CACdvtB,gBAAgB,EAChBC,UAAU,EACVz4B,QAAQ,EACRC,WAAW,EACXj5C,KAAK,GAEP,OAAO,SAAUw4C,EAAMv5C,GACfA,aAAoB0xE,IAG1BguB,GAAenmD,EAAM,CAAC,MAAM,QAAe,SAAU8F,GAMnD,IALKA,EAAKy2B,eAAiBz2B,EAAKr/C,SAASg6C,WACvCqF,EAAKr/C,SAAS45C,UAAU,CACtBI,WAAW,IAGVqF,EAAKr/C,SAAS+5C,QAGdsF,EAAKw2B,YAGL3+B,GAASkC,qBAAqBiG,GAAnC,CAGA,IAAI+gD,EAAgBb,GAAqBlgD,EAAMygD,EAAW5oD,GAASjF,OAAOM,WAC1E6tD,EAAcC,iBAAkB,EAChChhD,EAAKzM,OAAOhf,IAAIwsE,EAHhB,CAIF,GACF,CACF,CAhC8B,GA2C9B,SAASE,GAAmBloD,EAAOntC,IACjC,SAASs1F,EAAW1pG,GACdA,aAAkB,OACpBoU,EAAQpU,GAEV,IAAK,IAAI9W,EAAI,EAAGomB,EAAItP,EAAO06C,SAASvxD,OAAQD,EAAIomB,EAAGpmB,IACjDwgH,EAAW1pG,EAAO06C,SAASxxD,GAE/B,CACAwgH,CAAWnoD,EACb,CA0BA,IAAIooD,GAAY,CACdC,wBAlJF,SAAiClnD,EAAMmmC,GACrC,IAAIuJ,EAAWvJ,EAAI1/F,OACfipG,EAAW,GAIfyW,GAAenmD,EADC,CAAC,MAAM,MAAc,QACL,SAAU8F,GACxCA,EAAKnyB,aAAawyD,EAAI,IACtB,IAAK,IAAIlnF,EAAI,EAAGA,EAAIywF,IAAYzwF,EAAG,CACjC,IAAIinG,EAAU,IAAIpgD,EAAK//D,YAAY+/D,EAAK1K,SAAU0K,EAAKr/C,UACvDq/C,EAAKzM,OAAOhf,IAAI6rE,GAChBA,EAAQvyE,aAAawyD,EAAIlnF,GAC3B,CACF,GACF,EAqIEunG,2BAA4BA,GAC5BE,0BAA2BA,GAC3BE,wBAAyBA,GACzBO,wBAnDF,SAAiCnnD,EAAMv5C,GAC/BA,aAAoB0xE,IAG1BguB,GAAenmD,EAAM,CAAC,MAAM,QAAe,SAAU8F,GAC/CA,EAAKghD,iBACPhhD,EAAKzM,OAAOrlD,OAAO8xD,EAEvB,GACF,EA2CEihD,mBAAoBA,GACpBK,eAdF,SAAwBvoD,GACtB,IAAIwoD,EAAa,EAIjB,OAHAN,GAAmBloD,GAAO,SAAUiH,GAClCuhD,GArBJ,SAA6BvhD,GAC3B,IAAId,EAAOc,EAAK1K,SAChB,GAAI4J,aAAgB,MAAyB,CAC3C,IAAIsiD,EAAUtiD,EAAK6B,WACnB,IAAK,IAAIzkC,KAAYklF,EACnB,GAAIA,EAAQh9G,eAAe83B,IAAaklF,EAAQllF,aAAqB,MAA0B,CAC7F,IAAImlF,EAAWD,EAAQllF,GAEvB,OADgB4iC,EAAKl2C,MAAQk2C,EAAKl2C,MAAMvS,MAAM9V,OAAS,EAAI,GACxC8gH,EAAShrG,MAAM9V,OAAS8gH,EAASvoG,QACtD,CAEF,OAAO,CACT,CACA,OAAIgmD,aAAgB,MACXA,EAAKl2C,MAAQk2C,EAAKl2C,MAAMvS,MAAM9V,OAAS,EAAI,EAE7Cu+D,EAAKwiD,MAAQxiD,EAAKwiD,MAAM/gH,OAAS,CAC1C,CAIkBghH,CAAoB3hD,EACpC,IACOuhD,CACT,GAWIK,GAAc3wD,GAAKC,UACnB2wD,GAAiB,WACnB,SAASA,EAAe74F,EAAOxI,EAAMC,EAASC,GAC5CvgB,EAAgBuE,KAAMm9G,GACtB,IAAIC,EAAsB,CACxBzgG,UAAW2D,EAAWnb,IAAIuX,MAAMC,UAChCiyE,eAAgBtuE,EAAWnb,IAAIkU,GAAGoD,YAClCw5C,UAAW31C,EAAWnb,IAAIlE,OAAO8F,GACjCwnF,cAAejuE,EAAWnb,IAAIlE,OAAO4H,MAEvC7I,KAAKskB,MAAQA,EACbtkB,KAAK8b,KAAOA,EACZ9b,KAAK+b,QAAUA,EACf/b,KAAKgc,SAAWA,EAChBhc,KAAKq9G,eAAiB,GACtBr9G,KAAK4V,MAAQ,EACb5V,KAAKic,SAAW,IAAI0xE,GACpB3tF,KAAKic,SAAS45C,UAAUunD,GACxBp9G,KAAKic,SAASi6C,eAAe,CAC3B96C,SAAUkF,EAAWnb,IAAIiW,WAE3Bpb,KAAKs9G,eAAiB/B,GAAYlmG,MAClCrV,KAAKu9G,cAAe,EACpBv9G,KAAKutD,SAAU,EACfvtD,KAAKw9G,QAAQ1hG,EACf,CAkJA,OAjJArf,EAAa0gH,EAAgB,CAAC,CAC5B3gH,IAAK,YACLe,MAAO,SAAmB02B,GAGxB,OAFAj0B,KAAK4V,MAAQqe,EAAQwpF,UAAUz9G,KAAKgc,SAAU,GAAKhc,KAAKskB,OACxDtkB,KAAKu9G,cAAe,EACbv9G,KAAK4V,KACd,GACC,CACDpZ,IAAK,cACLe,MAAO,SAAqB02B,GAC1BA,EAAQypF,cAAc,GAAK19G,KAAKskB,OAChCtkB,KAAK4V,MAAQ,CACf,GACC,CACDpZ,IAAK,UACLe,MAAO,SAAiBue,GACtB9b,KAAK8b,KAAOA,CACd,GACC,CACDtf,IAAK,oBACLe,MAAO,SAA2Boe,GAChC3b,KAAKs9G,eAAiB3hG,EACtB3b,KAAKic,SAASi6C,eAAev6C,EAAO6xE,aACpCxtF,KAAKic,SAAS45C,UAAUl6C,EAAOlS,OACjC,GACC,CACDjN,IAAK,QACLe,MAAO,WACLyC,KAAK80D,IAAM,KACX90D,KAAK29G,aAAe,IACtB,GACC,CACDnhH,IAAK,gBACLe,MAAO,SAAuB02B,GAkB5B,OAjBAj0B,KAAKmf,QACLnf,KAAKu9G,cAAe,EAChBj9F,EAAWnb,IAAIuY,IACjB1d,KAAKic,SAAS45C,UAAU,CACtBg5B,iBAAkBvuE,EAAWnb,IAAIuY,KAGrC1d,KAAK80D,IAAM90D,KAAK8b,KAAKkyF,cAAc/5E,EAASj0B,KAAK+b,QAAS,GAAK/b,KAAKskB,MAAOtkB,KAAKic,UAC5Ejc,KAAKic,SAASuxE,YAAYvgC,QAAU,KAAwC,YAAhC3sC,EAAWnb,IAAIoZ,cAC7Dk+F,GAAUT,2BAA2Bh8G,KAAK80D,IAAK90D,KAAKic,UAEtDjc,KAAK80D,IAAIvH,QAAUvtD,KAAKutD,QACxB4F,GAASoC,sBAAsBv1D,KAAK80D,IAAK90D,KAAKs9G,eAAex3G,IAC7D22G,GAAUP,0BAA0Bl8G,KAAK80D,IAAK90D,KAAKic,UAC/CqE,EAAWnb,IAAIlE,OAAO8F,IACxB01G,GAAUL,wBAAwBp8G,KAAK80D,IAAK90D,KAAKic,UAE5Cjc,KAAK80D,GACd,GACC,CACDt4D,IAAK,yBACLe,MAAO,SAAgCkpB,GACrC,IAAIm3F,EAAK,KACT,GAAI59G,KAAK80D,KAAO,cAAe90D,KAAK80D,IAAK,CACvC,IAAIg/B,EAAS9zF,KAAK80D,IAAIhH,UAAUrnC,GAChC,GAAIqtE,GAAUA,EAAO73F,OAAS,EAAG,EAC/B2hH,EAAK,IAAI,OACNC,kBAAmB,EACtBD,EAAGr0E,OAASvpC,KAAK80D,IAAIvrB,OACrB,IAAK,IAAI90B,EAAI,EAAGA,EAAIq/E,EAAO73F,OAAQwY,IAAK,CACtC,IAAI0O,EAAI2wE,EAAOr/E,GACfmpG,EAAG/tE,IAAI1sB,EACT,CACF,CACF,CAKA,OAJIy6F,IACFA,EAAGrwD,QAAUvtD,KAAKutD,SAEpBvtD,KAAK29G,aAAeC,EACb59G,KAAK29G,YACd,GACC,CACDnhH,IAAK,UACLe,MAAO,SAAiBugH,GACtB,IAAIxrG,EAAO,CAAC,EACRyrG,EAAS5yG,OAAOnL,KAAKgc,UACpB8hG,GAAeC,EAAOr2G,YAAcyD,OAAO2yG,EAAY9hG,UAAUtU,YACpE4K,EAAK0J,SAAW+hG,GAElB,IAAIC,EAAWh+G,KAAK8b,KAAKmiG,WACpBH,IAAe7/G,MAAMU,QAAQq/G,IAAaA,IAAaF,EAAYhiG,OACtExJ,EAAKwJ,KAAOkiG,GAEd,IAAIE,EAAcl+G,KAAK+b,QAAQkiG,WAO/B,OANKH,IAAe7/G,MAAMU,QAAQu/G,IAAgBA,IAAgBJ,EAAY/hG,UAC5EzJ,EAAKyJ,QAAUmiG,GAEZJ,GAAe99G,KAAKs9G,eAAex3G,KAAOg4G,EAAY7hG,WACzD3J,EAAK2J,SAAWjc,KAAKs9G,eAAex3G,IAE/BwM,CACT,GACC,CACD9V,IAAK,SACLe,MAAO,SAAgBugH,EAAa7pF,EAASnY,EAAMvb,GACjD,IAAI+R,EAAO,CAAC,EACZ,GAAIwrG,EAAY9hG,SAAU,CACxB,IAAImiG,EAAoBjB,GAAYr/E,MAAMigF,EAAY9hG,UAAUA,SAC5DoiG,EAAcjzG,OAAOgzG,GACrBn+G,KAAKq9G,iBAAmBe,IAC1B9rG,EAAK0J,SAAWoiG,EAChBp+G,KAAKq9G,eAAiBe,EACtBp+G,KAAKgc,SAAWmiG,EAChBn+G,KAAKy9G,UAAUxpF,GAEnB,CACA,GAAI6pF,EAAYhiG,KAAM,CACpB,IAAIuiG,EAAUP,EAAYhiG,MACrB,IAAAlJ,SAAQ5S,KAAK8b,KAAKmiG,WAAYI,KACjC/rG,EAAKwJ,KAAOuiG,EACZr+G,KAAKw9G,QAAQ1hG,GAEjB,CACA,GAAIgiG,EAAY/hG,QAAS,CACvB,IAAIuiG,EAAaR,EAAY/hG,SACxB,IAAAnJ,SAAQ5S,KAAK+b,QAAQkiG,WAAYK,KACpChsG,EAAKyJ,QAAUuiG,EACft+G,KAAK+b,QAAUxb,EAEnB,CACA,GAAIu9G,EAAY7hG,SAAU,CACxB,IAAIsiG,EAAcT,EAAY7hG,UACzB,IAAArJ,SAAQ5S,KAAKs9G,eAAex3G,GAAIy4G,KACnCjsG,EAAK2J,SAAWsiG,EAChBv+G,KAAKw+G,kBAAkBjD,GAAYlzG,IAAIy1G,EAAY7hG,WAEvD,CACA,OAAO3J,CACT,GACC,CACD9V,IAAK,OACLe,MAAO,SAAcgwD,GACnBvtD,KAAKutD,QAAUA,EACXvtD,KAAK80D,MACP90D,KAAK80D,IAAIvH,QAAUA,GAEjBvtD,KAAK29G,eACP39G,KAAK29G,aAAapwD,QAAUA,EAEhC,KAEK4vD,CACT,CA3KqB,GA6KrB,SAASsB,GAAelxG,GAAW,IAAIC,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ+2G,GAA+B,OAAO,WAAkC,IAAsCryG,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,CAAG,CAE5a,SAASsyG,GAAyBnpD,EAAM7iB,EAAW7pC,GACjD,IAAI0kD,EAAWgI,EAAKhI,SACpB,GAAKA,EAGL,IAAK,IAAIxxD,EAAI,EAAGoC,EAAIovD,EAASvxD,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAI0U,EAAQ88C,EAASxxD,GACjB0U,EAAM+b,aAAekmB,GACvB7pC,EAAS4H,GAEPA,aAAiByiD,GAASjG,SAC5ByxD,GAAyBjuG,EAAOiiC,EAAW7pC,EAE/C,CACF,CACA,SAAS81G,KAAiB,CAC1B,IAAIC,GAAyB,SAAUC,GACrC1hH,EAAUyhH,EAAwBC,GAClC,IAAIrxG,EAASgxG,GAAeI,GAC5B,SAASA,EAAuBE,GAC9B,IAAIp0G,EAKJ,OAJAlP,EAAgBuE,KAAM6+G,IACtBl0G,EAAQ8C,EAAO/P,KAAKsC,OACdg/G,eAAiBD,EACvBp0G,EAAMs0G,aAAc,EACbt0G,CACT,CAmIA,OAlIAlO,EAAaoiH,EAAwB,CAAC,CACpCriH,IAAK,QACLe,MAAO,WACL,IAAI02B,EAAUj0B,KAAKg/G,eAAepxF,aAClC5tB,KAAKk/G,qBAAuB,GAC5B,IAAK,IAAIljH,EAAI,EAAGA,EAAIi4B,EAAQquB,YAAYrmD,SAAUD,EAAG,CACnD,IAAI22C,EAAY1e,EAAQquB,YAAYtmD,GACpCgE,KAAKk/G,qBAAqBvsE,EAAUpsC,QAAU,IAAI,KACpD,CAEA,OADAvG,KAAKi/G,aAAc,GACZ,CACT,GACC,CACDziH,IAAK,QACLe,MAAO,WACL,GAAKyC,KAAKi/G,YAAV,CAIA,IADA,IAAIhrF,EAAUj0B,KAAKg/G,eAAepxF,aACzB5xB,EAAI,EAAGA,EAAIi4B,EAAQquB,YAAYrmD,SAAUD,EAChDgE,KAAKm/G,wBAAwBlrF,EAAQquB,YAAYtmD,IAEnDi4B,EAAQmrF,wBACRp/G,KAAKq/G,2BACLr/G,KAAKg/G,eAAeM,cAPpB,CAQF,GACC,CACD9iH,IAAK,UACLe,MAAO,WACAyC,KAAKi/G,cAGVj/G,KAAKq/G,2BACLr/G,KAAKg/G,eAAeM,eACtB,GACC,CACD9iH,IAAK,YACLe,MAAO,WACL,IAAI6T,EAAM,CACRkL,QAAS,GACTijG,MAAO,IAAI,MAAQ,EAAG,EAAG,IAEvBC,EAASx/G,KAAKg/G,eACdrsE,EAAY6sE,EAAOC,uBACvB,GAAkB,OAAd9sE,EACF,OAAOvhC,EAET,IAEIpV,EACAyY,EACAirG,EACA5qD,EALAwhC,EAAYt2F,KAAKg/G,eAAeW,kBAChCC,EAAgB,GAAKJ,EAAOK,kBAQhC,IAHAlB,GAAyBa,EAAQ7sE,GAAW,SAAUjiC,GACpDU,EAAIkL,QAAQjd,KAAKqR,EACnB,IACK1U,EAAI,EAAGA,EAAIs6F,EAAU9oC,SAASvxD,SAAUD,EAE3C,IADA0jH,EAAWppB,EAAU9oC,SAASxxD,GACzByY,EAAI,EAAGA,EAAIirG,EAASlyD,SAASvxD,SAAUwY,GAC1CqgD,EAAM4qD,EAASlyD,SAAS/4C,IAChB3U,eAAe,eAAiBg1D,EAAIroC,aAAekmB,GACzDvhC,EAAIkL,QAAQjd,KAAKy1D,GAIvB1jD,EAAIkL,QAAQjd,KAAKW,KAAKk/G,qBAAqBvsE,EAAUpsC,SACrD,IAAIu5G,EAAQ,IAAI,MAAQl/F,OAAO0gE,UAAW1gE,OAAO0gE,UAAW1gE,OAAO0gE,WAC/Dy+B,EAAQ,IAAI,OAASn/F,OAAO0gE,WAAY1gE,OAAO0gE,WAAY1gE,OAAO0gE,WAWtE,OAVA3uC,EAAUrI,gBAAe,SAAUpkB,GACjC,IAAIiG,EAAQjG,EAAQ0G,OACpB,IAAKnY,EAAI,EAAGA,EAAI0X,EAAMlwB,SAAUwY,EAC1B0X,EAAM1X,GAAGgS,KAAOm5F,IAClBE,EAAMtlG,IAAI2R,EAAM1X,GAAGvT,UACnB6+G,EAAMjxG,IAAIqd,EAAM1X,GAAGvT,UAGzB,IACAkQ,EAAImuG,MAAM/gD,YAAYshD,EAAOC,EAAO,IAC7B3uG,CACT,GACC,CACD5U,IAAK,0BACLe,MAAO,SAAiCo1C,GACtC,IAAIhzC,EAAIK,KAAKk/G,qBAAqBvsE,EAAUpsC,SACxC5G,GAAyB,IAAjBA,EAAEuB,SAASuB,GAA4B,IAAjB9C,EAAEuB,SAASwB,GAA4B,IAAjB/C,EAAEuB,SAASwuB,GAAiC,IAAnB/vB,EAAEgvD,WAAWlsD,GAA8B,IAAnB9C,EAAEgvD,WAAWjsD,GAA8B,IAAnB/C,EAAEgvD,WAAWj/B,GAA8B,IAAnB/vB,EAAEgvD,WAAWoB,IACpKpwD,EAAEqgH,eACFrtE,EAAUrI,gBAAe,SAAUpkB,GAEjC,IADA,IAAIiG,EAAQjG,EAAQ0G,OACXnY,EAAI,EAAGA,EAAI0X,EAAMlwB,SAAUwY,EAClC0X,EAAM1X,GAAGvT,SAASioC,aAAaxpC,EAAE4pC,OAErC,IAEJ,GACC,CACD/sC,IAAK,2BACLe,MAAO,WACL,IAEIvB,EACAyY,EACAirG,EACA5qD,EALA0qD,EAASx/G,KAAKg/G,eACd1oB,EAAYt2F,KAAKg/G,eAAeW,kBAKpC,IAAK3jH,EAAI,EAAGA,EAAIgE,KAAKk/G,qBAAqBjjH,SAAUD,GAClD84D,EAAM90D,KAAKk/G,qBAAqBljH,IAC5BkF,SAASoH,IAAI,EAAG,EAAG,GACvBwsD,EAAInG,WAAWrmD,IAAI,EAAG,EAAG,EAAG,GAE9B,IAAKtM,EAAI,EAAGA,EAAIwjH,EAAOhyD,SAASvxD,SAAUD,EAExC,IADA0jH,EAAWF,EAAOhyD,SAASxxD,GACtByY,EAAI,EAAGA,EAAIirG,EAASlyD,SAASvxD,SAAUwY,GAC1CqgD,EAAM4qD,EAASlyD,SAAS/4C,IAChB3U,eAAe,gBACrBg1D,EAAI5zD,SAASoH,IAAI,EAAG,EAAG,GACvBwsD,EAAInG,WAAWrmD,IAAI,EAAG,EAAG,EAAG,IAIlC,IAAKtM,EAAI,EAAGA,EAAIs6F,EAAU9oC,SAASvxD,SAAUD,EAE3C,IADA0jH,EAAWppB,EAAU9oC,SAASxxD,GACzByY,EAAI,EAAGA,EAAIirG,EAASlyD,SAASvxD,SAAUwY,GAC1CqgD,EAAM4qD,EAASlyD,SAAS/4C,IAChB3U,eAAe,gBACrBg1D,EAAI5zD,SAASoH,IAAI,EAAG,EAAG,GACvBwsD,EAAInG,WAAWrmD,IAAI,EAAG,EAAG,EAAG,GAIpC,KAEKu2G,CACT,CA9I6B,CA8I3BD,IACEqB,GAAwB,SAAUC,GACpC9iH,EAAU6iH,EAAuBC,GACjC,IAAI19E,EAAUi8E,GAAewB,GAC7B,SAASA,EAAsBlB,GAC7B,IAAI36E,EAKJ,OAJA3oC,EAAgBuE,KAAMigH,IACtB77E,EAAS5B,EAAQ9kC,KAAKsC,OACfg/G,eAAiBD,EACxB36E,EAAO66E,aAAc,EACd76E,CACT,CAwJA,OAvJA3nC,EAAawjH,EAAuB,CAAC,CACnCzjH,IAAK,QACLe,MAAO,WACL,IAAIiiH,EAASx/G,KAAKg/G,eACd1oB,EAAYt2F,KAAKg/G,eAAeW,kBAChCxzF,EAAQnsB,KAAKmgH,2BACjB,GAAIh0F,EAAMlwB,OAAS,GAAKkwB,EAAMlwB,OAAS,EAErC,OADAsP,EAAOrB,MAAM,yDACN,EAETlK,KAAKogH,oBAAsBj0F,EAC3B,IAAIyzF,EAAgB,GAAKJ,EAAOK,kBAChCL,EAAO5xD,cAAcgyD,GAAe,GACpC,IAAK,IAAI3lF,EAAI,EAAGA,EAAIq8D,EAAU9oC,SAASvxD,SAAUg+B,EAC/Cq8D,EAAU9oC,SAASvzB,GAAGszB,SAAU,EAElC,IAAI8yD,EAAWl0F,EAAM,GAAGjrB,SAASspB,QACZ,IAAjB2B,EAAMlwB,QACRokH,EAASzwF,KAAKzD,EAAM,GAAGjrB,SAAU,IAEnClB,KAAKsgH,aAAe,IAAI,MACxBd,EAAO3vE,IAAI7vC,KAAKsgH,cAChBtgH,KAAKsgH,aAAap/G,SAASmQ,KAAKgvG,GAChCrgH,KAAKugH,sBAAwB,IAAI,MACjCjqB,EAAUzmD,IAAI7vC,KAAKugH,uBACnBvgH,KAAKugH,sBAAsBr/G,SAASmQ,KAAKgvG,GACzC,IAAIxgF,EAASwgF,EAAS71F,QACtBqV,EAAO1Q,SACP,IAAK,IAAInzB,EAAI,EAAGA,EAAIwjH,EAAOhyD,SAASvxD,SAAUD,EAAG,CAC/C,IAAI+9B,EAAIylF,EAAOhyD,SAASxxD,GACxB,GAAM,cAAe+9B,EAArB,CAGA,IAAIymF,EAAK,IAAI,MACbxgH,KAAKsgH,aAAazwE,IAAI2wE,GACtB,IAAI5C,EAAK,IAAI,MACb59G,KAAKugH,sBAAsB1wE,IAAI+tE,GAE/B,IADA,IAAI9pB,EAAS/5D,EAAE+zB,UAAU8xD,GAAe,GAC/BnrG,EAAI,EAAGA,EAAIq/E,EAAO73F,OAAQwY,IAAK,CACtC,IAAI0O,EAAI2wE,EAAOr/E,GACf+rG,EAAG3wE,IAAI1sB,GACPA,EAAEjiB,SAASmQ,KAAKwuB,EAClB,CAEA,IADA,IAAI4gF,EAAU1mF,EAAE+zB,UAAU8xD,GAAe,GAChCnnE,EAAI,EAAGA,EAAIgoE,EAAQxkH,OAAQw8C,IAAK,CACvC,IAAIioE,EAAKD,EAAQhoE,GACjBmlE,EAAG/tE,IAAI6wE,GACPA,EAAGx/G,SAASmQ,KAAKwuB,EACnB,CAhBA,CAiBF,CAGA,OAFAszB,GAASyC,uBAAuB51D,KAAKugH,uBACrCvgH,KAAKi/G,aAAc,GACZ,CACT,GACC,CACDziH,IAAK,QACLe,MAAO,WACL,GAAKyC,KAAKi/G,YAAV,CAGA,IAAIO,EAASx/G,KAAKg/G,eACd2B,EAAenB,EAAOK,kBACtB5iH,EAAI+C,KAAKsgH,aAAap/G,SACtBiiB,EAAInjB,KAAKsgH,aAAa/2E,OAAO/e,QACjCrH,EAAE+rC,UAAS,IAAI,OAAU0xD,iBAAiB3jH,EAAEwF,GAAIxF,EAAEyF,GAAIzF,EAAEyyB,IACxD1vB,KAAK6gH,mBAAmB19F,EAAG,GAAKw9F,GAChCnB,EAAO7xD,aAAa,GAAKgzD,GAAc,GACvCnB,EAAO5xF,aAAawxF,wBACpBI,EAAOF,cATP,CAUF,GACC,CACD9iH,IAAK,UACLe,MAAO,WACL,GAAKyC,KAAKi/G,YAAV,CAGA,IAAIO,EAASx/G,KAAKg/G,eACd1oB,EAAYt2F,KAAKg/G,eAAeW,kBACpC3/G,KAAKsgH,aAAazxD,OAAOrlD,OAAOxJ,KAAKsgH,cACrCd,EAAO7xD,aAAa,GAAK6xD,EAAOK,mBAAmB,GACnD,IAAK,IAAI7jH,EAAI,EAAGA,EAAIs6F,EAAU9oC,SAASvxD,SAAUD,EAAG,CAClD,IAAI2Y,EAAO2hF,EAAU9oC,SAASxxD,GAC1B2Y,EAAK44C,QACP+oC,EAAU9sF,OAAOmL,GAEjBA,EAAK44C,SAAU,CAEnB,CACAiyD,EAAOF,cAbP,CAcF,GACC,CACD9iH,IAAK,wBACLe,MAAO,WACL,OAAOyC,KAAKogH,oBAAoBnkH,OAAS,CAC3C,GACC,CACDO,IAAK,YACLe,MAAO,WACL,IAAI6T,EAAM,CACRkL,QAAS,GACTijG,MAAO,IAAI,MAAQ,EAAG,EAAG,IAE3BnuG,EAAIkL,QAAQjd,KAAKW,KAAKsgH,aAActgH,KAAKugH,uBACzC,IAAIO,EAAa9gH,KAAKogH,oBACtB,GAA0B,IAAtBU,EAAW7kH,QACb,GAAmC,IAA/B6kH,EAAW,GAAGj6F,MAAM5qB,OAAc,CACpC,IAAIqa,EAAOwqG,EAAW,GAAGj6F,MAAM,GAC/BzV,EAAIw8D,MAAO,IAAI,OAAUzI,WAAW7uD,EAAKoT,OAAOxoB,SAAUoV,EAAKmT,MAAMvoB,UACrEkQ,EAAIw8D,KAAKliD,YACTta,EAAIw8D,KAAKmzC,mBAAmB/gH,KAAKg/G,eAAehwD,YAClD,OAC+B,IAAtB8xD,EAAW7kH,SACpBmV,EAAIw8D,MAAO,IAAI,OAAUzI,WAAW27C,EAAW,GAAG5/G,SAAU4/G,EAAW,GAAG5/G,UAC1EkQ,EAAIw8D,KAAKliD,YACTta,EAAIw8D,KAAKmzC,mBAAmB/gH,KAAKg/G,eAAehwD,cAElD,OAAO59C,CACT,GACC,CACD5U,IAAK,2BACLe,MAAO,WACL,IAAI02B,EAAUj0B,KAAKg/G,eAAepxF,aAC9BgyF,EAAgB,GAAK5/G,KAAKg/G,eAAea,kBACzCmB,EAAW,CAAC,EAChB/sF,EAAQ+b,aAAY,SAAU15B,GACxBA,EAAKmT,MAAMhD,KAAOm5F,EACuB,IAAtCtpG,EAAKoT,OAAOjD,KAAOm5F,KACtBoB,EAAS1qG,EAAKmT,MAAMnF,OAAS,GAEtBhO,EAAKoT,OAAOjD,KAAOm5F,IAC5BoB,EAAS1qG,EAAKoT,OAAOpF,OAAS,EAElC,IAGA,IAFA,IAAI6H,EAAQ,GACRphB,EAAOzO,OAAOyO,KAAKi2G,GACdhlH,EAAI,EAAGoC,EAAI2M,EAAK9O,OAAQD,EAAIoC,IAAKpC,EAAG,CAC3C,IAAIoI,EAAM2G,EAAK/O,GACfmwB,EAAM9sB,KAAK40B,EAAQrH,OAAOxoB,GAC5B,CACA,OAAO+nB,CACT,GACC,CACD3vB,IAAK,qBACLe,MAAO,SAA4BgsC,EAAQ9iB,GACzCzmB,KAAKg/G,eAAepxF,aAAaE,aAAY,SAAUzX,GACjDA,EAAKoQ,KAAOA,GACdpQ,EAAKnV,SAASioC,aAAaI,EAE/B,GACF,KAEK02E,CACT,CAnK4B,CAmK1BrB,IACEqC,GAAoB,CACtBC,gBAAiBrC,GACjBsC,eAAgBlB,IAKlB,IAAImB,GAAc70D,GAAKC,UACvB,SAAS60D,GAAgBC,EAAYC,GAC9BtjH,MAAMU,QAAQ4iH,KACjBA,EAAQ,CAACA,IAEX,IACIC,EAAU9iH,EADD6iH,EACwB,GACjCz7G,EAAK07G,EAAQ,GACbpgH,EAAOogH,EAAQ,GAEnB,OAAO,IADMF,EAAWj5G,IAAIvC,IAAOw7G,EAAWjsG,OAC5BjU,EACpB,CACA,IAAIqgH,GAAgB,SAAUC,GAC5BtkH,EAAUqkH,EAAeC,GACzB,IAhBsBn0G,EAAeC,EAgBjCC,GAhBkBF,EAgBMk0G,EAhBSj0G,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQg6G,GAAsC,WAAkC,IAAsCt1G,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAiBva,SAASo1G,EAAcljH,EAAMu4D,GAC3B,IAAInsD,EAWJ,OAVAlP,EAAgBuE,KAAMyhH,IACtB92G,EAAQ8C,EAAO/P,KAAKsC,KAAMzB,EAAMu4D,IAC1B5iC,SAAW4iC,EACjBnsD,EAAMi3G,UAAY,GAClBj3G,EAAMk3G,MAAQ,KACdl3G,EAAMm3G,kBAAmB,EACzBn3G,EAAMo3G,cAAgB,EACtBp3G,EAAMq3G,cAAgB,EACtBr3G,EAAMs3G,gBAAkB,EACxBt3G,EAAMu3G,mBAAqB,IAAI,MACxBv3G,CACT,CAksBA,OAjsBAlO,EAAaglH,EAAe,CAAC,CAC3BjlH,IAAK,gBACLe,MAAO,WACL,OAAOyC,KAAKk0B,SAASywB,eACvB,GACC,CACDnoD,IAAK,UACLe,MAAO,WACDyC,KAAKkiH,mBAAmBrzD,QAC1B7uD,KAAKkiH,mBAAmB14G,OAAOxJ,KAAKkiH,oBAEtCvrD,GAAOn7D,UAAU2mH,QAAQzkH,KAAKsC,KAChC,GACC,CACDxD,IAAK,aACLe,MAAO,WACL,OAAOyC,KAAKk0B,QACd,GACC,CACD13B,IAAK,oBACLe,MAAO,WACL,OAAOyC,KAAKiiH,eACd,GACC,CACDzlH,IAAK,kBACLe,MAAO,WACL,OAAOyC,KAAKkiH,kBACd,GACC,CACD1lH,IAAK,kBACLe,MAAO,WACL,OAAOyC,KAAK+hH,aACd,GACC,CACDvlH,IAAK,YACLe,MAAO,WACL,OAAOyC,KAAKoiH,OACd,GACC,CACD5lH,IAAK,YACLe,MAAO,SAAmB+jB,GACpBthB,KAAKk0B,UACPl0B,KAAKk0B,SAASwpF,eAAc,GAE9B19G,KAAK8hH,kBAAmB,EACxB9hH,KAAKgiH,cAAgB,EACrBhiH,KAAK4hH,UAAU3lH,OAASqlB,EAAKrlB,OAC7B,IAAK,IAAID,EAAI,EAAGoC,EAAIkjB,EAAKrlB,OAAQD,EAAIoC,IAAKpC,EAAG,CAC3C,IAAIwlB,EAAMF,EAAKtlB,GACXggB,OAAW,EACXqhG,OAAiB,EACO,iBAAjB77F,EAAIxF,UACbqhG,EAAiB77F,EAAIxF,SAErBA,EADuBolG,GAAYvjF,MAAMw/E,GACbrhG,eACK,IAAjBwF,EAAIxF,UACpBqhG,EAAiB/8F,EAAWnb,IAAIyW,QAAQC,QAAQ,GAAGG,SAEnDA,EADwBolG,GAAYvjF,MAAMw/E,GACbrhG,UAG7BqhG,GADArhG,EAAWwF,EAAIxF,UACW3d,WAE5B,IAAIyd,EAAOulG,GAAgB5Q,GAASjvF,EAAI1F,MACpCC,EAAUslG,GAAgBjG,GAAY55F,EAAIzF,SAC1CE,EAAWs/F,GAAYlzG,IAAImZ,EAAIvF,WAAas/F,GAAYlmG,MAC5DrV,KAAK4hH,UAAU5lH,GAAK,IAAImhH,GAAenhH,EAAG8f,EAAMC,EAASC,GACzDhc,KAAK4hH,UAAU5lH,GAAGwiH,kBAAkBviG,GACpCjc,KAAK4hH,UAAU5lH,GAAGqhH,eAAiBA,EAC/Br9G,KAAKk0B,UACPl0B,KAAKk0B,SAASupF,UAAUzhG,EAAU,GAAKhgB,GAEzCgE,KAAKgiH,eAAiB,GAAKhmH,CAC7B,CACAgE,KAAK6hH,MAAQvgG,EAAKrlB,OAAS,EAAI+D,KAAK4hH,UAAU,GAAK,KACnD5hH,KAAK+hH,cAAgBzgG,EAAKrlB,OAC1B+D,KAAKgiH,eAAiB,GAAKhiH,KAAK+hH,cAChC/hH,KAAKiiH,gBAAkB,EACnBjiH,KAAKk0B,UACPl0B,KAAKk0B,SAAS7uB,QAElB,GACC,CACD7I,IAAK,WACLe,MAAO,WACL,OAAOyC,KAAK4hH,UAAU3lH,MACxB,GACC,CACDO,IAAK,aACLe,MAAO,SAAoB+mB,GAMzB,OALIA,GAAS,GAAKA,EAAQtkB,KAAK4hH,UAAU3lH,OACvC+D,KAAK6hH,MAAQ7hH,KAAK4hH,UAAUt9F,GAE5BA,EAAQtkB,KAAK4hH,UAAUz5G,QAAQnI,KAAK6hH,OAE/Bv9F,CACT,GACC,CACD9nB,IAAK,MACLe,MAAO,SAAa+mB,EAAO+9F,GAKzB,IAJKA,SAAmBp+G,IAAVqgB,GAAuBA,aAAiBhoB,UACpD+lH,EAAO/9F,EACPA,EAAQtkB,KAAKsiH,cAEXh+F,EAAQ,GAAKA,EAAQtkB,KAAK4hH,UAAU3lH,OAEtC,OADAsP,EAAOrB,MAAM,OAAOmB,OAAOiZ,EAAO,qBAC3B,KAET,GAAIA,IAAUtkB,KAAK4hH,UAAU3lH,OAAQ,CACnC,IAAImV,EAAMpR,KAAKuiH,OAAOF,GAEtB,OADA92G,EAAOtB,KAAK,OAAOoB,OAAOiZ,EAAO,qDAC1B,CACLyT,KAAM3mB,EAAI2mB,KACVzT,MAAOA,EACPk+F,OAAQ,UAEZ,CACA,IAAI1mH,EAASkE,KAAK4hH,UAAUt9F,GACxByT,EAAO,CACT/b,SAAUlgB,EAAOuhH,eACjBvhG,KAAMhgB,EAAOggB,KAAKmiG,WAClBliG,QAASjgB,EAAOigB,QAAQkiG,WACxBhiG,SAAUngB,EAAOwhH,eAAex3G,IAElC,GAAIu8G,EAAM,CACR,IAAI/vG,EAAOxW,EAAO2mH,OAAOJ,EAAMriH,KAAKk0B,SAAUmtF,GAAgB5Q,GAAS4R,EAAKvmG,MAAOulG,GAAgBjG,GAAYiH,EAAKtmG,UACpH,KAAK,IAAApJ,SAAQL,GAAO,CAElB,IAAK,IAAI9V,KADTV,EAAOyhH,cAAe,EACNjrG,EACVA,EAAKxS,eAAetD,KACtBu7B,EAAKv7B,GAAO8V,EAAK9V,GACjB+O,EAAOzB,MAAM,OAAOuB,OAAOiZ,EAAO,MAAMjZ,OAAO7O,EAAK,gBAAgB6O,OAAOiH,EAAK9V,MAOpF,OAJI8V,EAAKwJ,MAAQhgB,EAAOggB,KAAKuzF,YAA4C,UAA9B/uF,EAAWnb,IAAIqW,YAAwD,SAA9B8E,EAAWnb,IAAIqW,cACjGjQ,EAAOvB,OAAO,iEACdsW,EAAWhY,IAAI,aAAc,WAExB,CACLyvB,KAAMA,EACNzT,MAAOA,EACPk+F,OAAQ,UAEZ,CACF,CACA,MAAO,CACLzqF,KAAMA,EACNzT,MAAOA,EACPk+F,OAAQ,GAEZ,GACC,CACDhmH,IAAK,SACLe,MAAO,SAAgB+mB,GAIrB,YAHcrgB,IAAVqgB,GAAuBA,aAAiBhoB,UAC1CgoB,EAAQtkB,KAAKsiH,cAEXh+F,EAAQ,GAAKA,GAAStkB,KAAK4hH,UAAU3lH,OAChC,KAEF+D,KAAK4hH,UAAUt9F,EACxB,GACC,CACD9nB,IAAK,kBACLe,MAAO,WAEL,IADA,IAAImlH,EAAO1iH,KAAKgiH,cACPhmH,EAAI,EAAGA,GAAKylH,EAAckB,0BAA2B3mH,EAAG0mH,IAAS,EACxE,GAAmB,IAAP,EAAPA,GACH,OAAO1mH,EAGX,OAAQ,CACV,GACC,CACDQ,IAAK,SACLe,MAAO,SAAgBikB,GACrB,GAAIxhB,KAAK4hH,UAAU3lH,QAAUwlH,EAAckB,wBACzC,OAAO,KAET,IAAIC,EAAkB5iH,KAAK6iH,kBAC3B,GAAID,EAAkB,EACpB,OAAO,KAET,IAAIE,EAAoB9iH,KAAK+iH,sBAAsB,GAAK/iH,KAAK+hH,eACzDiB,EAAM1iG,EAAWnb,IAAIyW,QAAQC,QAAQ,GACrCkc,GAAO,IAAAzY,OAAM,CACftD,SAAUgnG,EAAIhnG,SACdF,KAAMknG,EAAIlnG,KACVC,QAASinG,EAAIjnG,QACbE,SAAU+mG,EAAI/mG,UACbuF,GACCxF,EAAoC,iBAAlB+b,EAAK/b,SAAwBolG,GAAYvjF,MAAM9F,EAAK/b,UAAUA,SAAW+b,EAAK/b,SAChGlgB,EAAS,IAAIqhH,GAAen9G,KAAK+hH,cAAeV,GAAgB5Q,GAAS14E,EAAKjc,MAAOulG,GAAgBjG,GAAYrjF,EAAKhc,SAAUC,GAQpI,OAPAlgB,EAAOuhH,eAAiBrhG,EAAS3d,WACjCvC,EAAO0iH,kBAAkBjD,GAAYlzG,IAAI0vB,EAAK9b,WAC9CngB,EAAO2hH,UAAUz9G,KAAKk0B,UACtBl0B,KAAK4hH,UAAUviH,KAAKvD,GACpBkE,KAAK+hH,cAAgBa,EACrB5iH,KAAKgiH,eAAiB,GAAKhiH,KAAK+hH,cAChC/hH,KAAKk0B,SAASupF,UAAUqF,EAAmB,GAAK9iH,KAAK+hH,eAC9C,CACLhqF,KAAMA,EACNzT,MAAOtkB,KAAK4hH,UAAU3lH,OAAS,EAEnC,GACC,CACDO,IAAK,YACLe,MAAO,SAAmB+mB,QACVrgB,IAAVqgB,IACFA,EAAQtkB,KAAKsiH,cAEf,IAAI1sG,EAAQ5V,KAAK4hH,UAAU3lH,OAC3B,KAAIqoB,EAAQ,GAAKA,GAAS1O,GAASA,GAAS,GAA5C,CAGA,IAAI9Z,EAASkE,KAAK4hH,UAAUt9F,GAC5BxoB,EAAOmnH,YAAYjjH,KAAKk0B,UACxBl0B,KAAKgiH,iBAAmB,GAAKlmH,EAAOwoB,OACpCtkB,KAAK4hH,UAAU1/E,OAAO5d,EAAO,GACzBxoB,IAAWkE,KAAK6hH,QAElBv9F,EAAQA,IADN1O,EACsB0O,EAAQ1O,EAAQ,EACxC5V,KAAK6hH,MAAQ7hH,KAAK4hH,UAAUt9F,IAE9BtkB,KAAK8hH,kBAAmB,CAVxB,CAWF,GACC,CACDtlH,IAAK,UACLe,MAAO,SAAiB+mB,EAAO4+F,QAChBj/G,IAATi/G,IACFA,GAAO,GAEL5+F,EAAQ,GAAKA,GAAStkB,KAAK4hH,UAAU3lH,QAG5B+D,KAAK4hH,UAAUt9F,GACrB6+F,MAAMD,EACf,GACC,CACD1mH,IAAK,SACLe,MAAO,SAAgBye,EAAUshB,GAC3BA,EACFt9B,KAAKiiH,iBAAmBjiH,KAAKk0B,SAASkvF,sBAAsBpnG,EAAU,GAAKhc,KAAK+hH,eAEhF/hH,KAAKiiH,gBAAkBjiH,KAAKk0B,SAASupF,UAAUzhG,EAAU,GAAKhc,KAAK+hH,eAErE/hH,KAAKk0B,SAASmxB,uBACdrlD,KAAKqjH,0BACP,GACC,CACD7mH,IAAK,qBACLe,MAAO,WACwB,IAAzByC,KAAKiiH,kBACPjiH,KAAKiiH,gBAAkB,EACnBjiH,KAAKk0B,UACPl0B,KAAKk0B,SAASwpF,cAAc,GAAK19G,KAAK+hH,eAG5C,GACC,CACDvlH,IAAK,sBACLe,MAAO,SAA6B+lH,GAClC,IAAIzmH,EAAOmD,KACPqW,EAAOitG,EAAUjtG,KACjB6P,EAAUo9F,EAAUp9F,QACpBoG,EAAQg3F,EAAUh3F,MAClBg6B,EAAWg9D,EAAUh9D,SACrBK,EAAU,GAAK3mD,KAAK+hH,cACpBn7D,GAAaD,EACjB,GAAItwC,EACF6P,EAAU7P,EAAK6P,QACfoG,EAAQpG,EAAQiB,OAChBm/B,EAAWpgC,EAAQsH,UACfnX,EAAKoQ,KAAOkgC,GACdtwC,EAAKoQ,MAAQmgC,EACb1gC,EAAQyG,OAASi6B,EACjBt6B,EAAMK,OAASi6B,EACXN,IACFA,EAAS7/B,MAAQmgC,GAEnB5mD,KAAKiiH,oBAEL5rG,EAAKoQ,MAAQkgC,EACb3mD,KAAKiiH,kBACL/7F,EAAQugC,cACRn6B,EAAMm6B,cACFH,GACFA,EAASG,oBAGR,GAAIvgC,EACToG,EAAQpG,EAAQiB,OAChBm/B,EAAWpgC,EAAQsH,UACftH,EAAQyG,MAAQg6B,GAClBzgC,EAAQyG,OAASi6B,EACjBt6B,EAAMK,OAASi6B,EACf1gC,EAAQ4H,aAAY,SAAUjmB,GACxBA,EAAE4e,KAAOkgC,IACX9+C,EAAE4e,MAAQmgC,EACV/pD,EAAKolH,kBAET,MAEA/7F,EAAQyG,OAASg6B,EACjBzgC,EAAQ4H,aAAY,SAAUjmB,GACtBA,EAAE4e,KAAOkgC,IACb9+C,EAAE4e,MAAQkgC,EACV9pD,EAAKolH,kBAET,IACA31F,EAAMm6B,cACFH,GACFA,EAASG,oBAGR,GAAIn6B,GAASg6B,EAAU,CAC5B,IAAIlrD,EAAMkxB,GAASg6B,EACflrD,EAAIuxB,MAAQg6B,GACdvrD,EAAIuxB,OAASi6B,EACbxrD,EAAIkvC,gBAAe,SAAUrnB,GACvBA,EAAE0J,MAAQg6B,IACZ1jC,EAAE0J,OAASi6B,EACX3jC,EAAE6K,aAAY,SAAUjmB,GAClBA,EAAE4e,KAAOkgC,IACX9+C,EAAE4e,MAAQmgC,EACV/pD,EAAKolH,kBAET,IACAh/F,EAAE0J,OAASi6B,EAEf,MAEAxrD,EAAIuxB,OAASg6B,EACbvrD,EAAIkvC,gBAAe,SAAUrnB,GAC3B,KAAMA,EAAE0J,MAAQg6B,GAAU,CACxB1jC,EAAE0J,OAASg6B,EACX1jC,EAAE6K,aAAY,SAAUjmB,GAChBA,EAAE4e,KAAOkgC,IACb9+C,EAAE4e,MAAQkgC,EACV9pD,EAAKolH,kBAET,IACA,IAAIsB,EAAWj3F,EAAQrJ,EAAEugG,cAAgBvgG,EAAE07B,WACvC4kE,GACFA,EAAS98D,aAEb,CACF,IAEJ,MACEzmD,KAAKyjH,oBAET,GACC,CACDjnH,IAAK,kBACLe,MAAO,WACL,IAAIV,EAAOmD,KACP4/G,EAAgB,GAAK5/G,KAAK+hH,cAC1B2B,EAAU,GAAK,GACnB1jH,KAAKk0B,SAAS8b,aAAY,SAAU15B,GAC9BA,EAAKmT,MAAMhD,KAAOm5F,EACuB,IAAtCtpG,EAAKoT,OAAOjD,KAAOm5F,KACtBtpG,EAAKoT,OAAOjD,MAAQi9F,GAEbptG,EAAKoT,OAAOjD,KAAOm5F,IAC5BtpG,EAAKmT,MAAMhD,MAAQi9F,EAEvB,IAEA1jH,KAAKk0B,SAASpG,aAAY,SAAUzX,GAC9BA,EAAKoQ,KAAOi9F,IACdrtG,EAAKoQ,KAHa,WAGNpQ,EAAKoQ,KAAyBm5F,IACxC/iH,EAAKolH,gBAEX,IACAjiH,KAAKk0B,SAASmxB,sBAChB,GACC,CACD7oD,IAAK,kBACLe,MAAO,WACL,IAAIV,EAAOmD,KACP4/G,EAAgB,GAAK5/G,KAAK+hH,cAC1B2B,EAAU,GAAK,GACnB1jH,KAAKk0B,SAAS8b,aAAY,SAAU15B,GAC9BA,EAAKmT,MAAMhD,KAAOm5F,EACuB,IAAtCtpG,EAAKoT,OAAOjD,KAAOm5F,KACtBtpG,EAAKmT,MAAMhD,MAAQi9F,GAEZptG,EAAKoT,OAAOjD,KAAOm5F,IAC5BtpG,EAAKoT,OAAOjD,MAAQi9F,EAExB,IACA1jH,KAAKk0B,SAASpG,aAAY,SAAUzX,GAC9BA,EAAKoQ,KAAOm5F,GAAuC,IAAtBvpG,EAAKwQ,MAAM5qB,SAC1Coa,EAAKoQ,MAAQi9F,EAEjB,IACA,IAAIC,IAAoB/D,EAAgB8D,GACxC1jH,KAAKk0B,SAASpG,aAAY,SAAUzX,GAC9BA,EAAKoQ,KAAOi9F,IACdrtG,EAAKoQ,MAAQk9F,IACX9mH,EAAKolH,gBAEX,IACAjiH,KAAKk0B,SAASmxB,sBAChB,GACC,CACD7oD,IAAK,uBACLe,MAAO,WACL,IAAIqiH,EAAgB,GAAK5/G,KAAK+hH,cAC1BpvE,EAAY,KACZixE,GAAW,EAUf,OATA5jH,KAAKk0B,SAASpG,aAAY,SAAUzX,GAC9BA,EAAKoQ,KAAOm5F,IACI,OAAdjtE,EACFA,EAAYt8B,EAAK6P,QAAQuG,WAChBkmB,IAAct8B,EAAK6P,QAAQuG,aACpCm3F,GAAW,GAGjB,IACOA,EAAW,KAAOjxE,CAC3B,GACC,CACDn2C,IAAK,qBACLe,MAAO,SAA4B+qC,EAAQrB,EAAc48E,GACvDv7E,EAAOhgC,IAAI,EAAK,EAAK,GACrB,IAAIsN,EAAQ,EAOZ,OANA5V,KAAKk0B,SAASpG,aAAY,SAAUzX,GAC9B4wB,EAAa5wB,EAAMwtG,KACrBv7E,EAAOuH,IAAIx5B,EAAKnV,UAChB0U,IAEJ,IACc,IAAVA,IAGJ0yB,EAAO4N,aAAatgC,GACpB0yB,EAAOa,aAAanpC,KAAKupC,SAClB,EACT,GACC,CACD/sC,IAAK,eACLe,MAAO,WACL,GAAIyC,KAAK8hH,iBACP,OAAO,EAGT,IADA,IAAIgC,EAAW9jH,KAAK4hH,UACX5lH,EAAI,EAAGoC,EAAI0lH,EAAS7nH,OAAQD,EAAIoC,IAAKpC,EAE5C,GADW8nH,EAAS9nH,GACXuhH,aACP,OAAO,EAGX,OAAO,CACT,GACC,CACD/gH,IAAK,UACLe,MAAO,WACL,IAAIV,EAAOmD,KAEX,OADAmzD,GAASzC,UAAU1wD,MACZ,IAAI+jH,SAAQ,SAAUC,GAC3B,IAAI/vF,EAAUp3B,EAAKq3B,SACnB,GAAKD,EAAL,CAIA,IAAIgwF,GAAe,EACnBC,YAAW,WACT95G,QAAQ1D,KAAK,SAIb,IAHA,IAAIo9G,EAAWjnH,EAAK+kH,UAChBrmG,EAAUo9F,GAAWtwG,IAAIiY,EAAWnb,IAAIoW,UAAYo9F,GAAWtjG,MAC/D8uG,GAAc,EACTnoH,EAAI,EAAGoC,EAAI0lH,EAAS7nH,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIooH,EAAON,EAAS9nH,GAEpB,GADAooH,EAAKroG,QAAQR,QAAUA,EACnB6oG,EAAK7G,aAAc,CACrB6G,EAAKjlG,QACL,IACEilG,EAAKpW,cAAc/5E,EACrB,CAAE,MAAOtsB,GACP,KAAIA,aAAa4H,EAAMlC,kBAMrB,MAAM1F,EALNy8G,EAAK7G,cAAe,EACpB6G,EAAKjlG,QACL5T,EAAOrB,MAAM,0DAA0DmB,OAAO+4G,EAAK9/F,MAAQ,IAC3F2/F,GAAe,CAInB,CACF,CACAE,EAAcF,GAAgBE,GAAehxD,GAASiB,yBAAyBgwD,EAAKtvD,KAChFsvD,EAAKtvD,KACPj4D,EAAKgzC,IAAIu0E,EAAKtvD,IAElB,CACAj4D,EAAKilH,kBAAmB,EACxB13G,QAAQuyE,QAAQ,SAChBqnC,GACF,GAAG,GAjCH,MAFEA,GAoCJ,GACF,GACC,CACDxnH,IAAK,kBACLe,MAAO,WAEL,IADA,IAAIumH,EAAW9jH,KAAK4hH,UACX5lH,EAAI,EAAGoC,EAAI0lH,EAAS7nH,OAAQD,EAAIoC,IAAKpC,EAC5C8nH,EAAS9nH,GAAGuhH,cAAe,CAE/B,GACC,CACD/gH,IAAK,2BACLe,MAAO,WACL,IAAIkpB,EAAO,GAAKzmB,KAAK+hH,cACrB5uD,GAASzC,UAAU1wD,KAAKkiH,oBACxB,IAAK,IAAIlmH,EAAI,EAAGoC,EAAI4B,KAAK4hH,UAAU3lH,OAAQD,EAAIoC,IAAKpC,EAAG,CACrD,IACI4hH,EADO59G,KAAK4hH,UAAU5lH,GACZqoH,uBAAuB59F,GACrC,GAAKm3F,EAAL,CAGA59G,KAAKkiH,mBAAmBryE,IAAI+tE,GAC5B,IAAK,IAAInpG,EAAI,EAAGA,EAAImpG,EAAGpwD,SAASvxD,OAAQwY,IAAK,CAC3C,IAAI0O,EAAIy6F,EAAGpwD,SAAS/4C,GACpB,GAAIzU,KAAKoiH,SAAWpiH,KAAKoiH,QAAQlD,qBAAsB,CACrD,IAAIv/G,EAAIK,KAAKoiH,QAAQlD,qBAAqB/7F,EAAEsJ,WAAWlmB,QACnD5G,IACFwjB,EAAEjiB,SAASmQ,KAAK1R,EAAEuB,UAClBiiB,EAAEwrC,WAAWt9C,KAAK1R,EAAEgvD,YAExB,CACF,CACAwE,GAASyC,uBAAuBgoD,EAZhC,CAaF,CACF,GACC,CACDphH,IAAK,gCACLe,MAAO,SAAuC4uB,EAAOqI,EAAUuU,GAC7D,IAAI9U,EAAUj0B,KAAKk0B,SACnB,SAASowF,EAAa5zF,GAKpB,IAJA,IAAIrkB,EAAS,GACT4tB,EAAI,EACJ5kB,EAAQkvG,IACRv6E,EAAOu6E,IACFvoH,EAAI,EAAGoC,EAAIsyB,EAAKz0B,OAAQD,EAAIoC,IAAKpC,EAAG,CAC3C,IAAIuB,EAAQmzB,EAAK10B,GACbuB,IAAUysC,EAAO,EACnBA,EAAOzsC,GAEFqjB,OAAO6X,MAAMpjB,KAChBhJ,EAAO4tB,KAAO,IAAImnF,GAAYllF,MAAM7mB,EAAO20B,IAE7C30B,EAAQ20B,EAAOzsC,EAEnB,CAIA,OAHKqjB,OAAO6X,MAAMpjB,KAChBhJ,EAAO4tB,GAAK,IAAImnF,GAAYllF,MAAM7mB,EAAO20B,IAEpC39B,CACT,CACA,IAAIm4G,EAAa,KACjB,GAAIz7E,EAAO9sC,SAAWg4B,EAAQqnB,QAAQr/C,OACpCuoH,EAAapD,GAAYqD,UACpB,CACL,IAAIzoG,EAKJ,GAJI+sB,EAAO9sC,OAAS,IAClB+f,EAAWolG,GAAY90F,MAAMyc,GAC7By7E,EAAaA,EAAapD,GAAYsD,GAAGF,EAAYxoG,GAAYA,GAE/D1f,OAAOyO,KAAKypB,GAAUv4B,OAAS,EACjC,IAAK,IAAI6jC,KAAMtL,EACTA,EAAS10B,eAAeggC,KAC1B9jB,EAAWolG,GAAYuD,IAAIvD,GAAY90F,MAAMwT,GAAKshF,GAAYwD,OAAON,EAAa9vF,EAASsL,MAC3F0kF,EAAaA,EAAapD,GAAYsD,GAAGF,EAAYxoG,GAAYA,GAInEmQ,EAAMlwB,OAAS,IACjB+f,EAAWolG,GAAY/6F,OAAOi+F,EAAan4F,IAC3Cq4F,EAAaA,EAAapD,GAAYsD,GAAGF,EAAYxoG,GAAYA,GAE9DwoG,IACHA,EAAapD,GAAYr9E,OAE7B,CACA,OAAOygF,CACT,GACC,CACDhoH,IAAK,wBACLe,MAAO,SAA+BkpB,GACpC,IAAIwN,EAAUj0B,KAAKk0B,SACf6U,EAAS,GACTvU,EAAW,CAAC,EACZrI,EAAQ,GAqBZ,OApBA8H,EAAQivB,cAAa,SAAU52B,GACzBA,EAAMK,MAAQlG,GAChBsiB,EAAO1pC,KAAKitB,EAAM2B,MAEtB,IACAgG,EAAQqW,gBAAe,SAAUpkB,GAC/B,GAAIA,EAAQyG,MAAQlG,KAAUP,EAAQiB,OAAOwF,MAAQlG,GAAO,CAC1D,IAAIrD,EAAI8C,EAAQiB,OAAO8G,MACjB7K,KAAKoR,EAGTA,EAASpR,GAAG/jB,KAAK6mB,EAAQ3f,QAFzBiuB,EAASpR,GAAK,CAAC8C,EAAQ3f,OAI3B,CACF,IACA0tB,EAAQnG,aAAY,SAAUzX,GACxBA,EAAKoQ,KAAOA,KAAUpQ,EAAK6P,QAAQyG,MAAQlG,IAC7C0F,EAAM9sB,KAAKgX,EAAKgQ,OAEpB,IACOrmB,KAAK6kH,8BAA8B14F,EAAOqI,EAAUuU,EAC7D,GACC,CACDvsC,IAAK,sBACLe,MAAO,SAA6B2pB,GAClC,IAAI04F,EAAgB,GAAK5/G,KAAK+hH,cAC9B/hH,KAAKk0B,SAASoW,gBAAe,SAAUpkB,GACjCA,EAAQyG,MAAQizF,GAClB14F,EAAQhB,EAEZ,GACF,GACC,CACD1pB,IAAK,qBACLe,MAAO,WACL,GAAIyC,KAAKoiH,QACP,OAAO,KAET,IAAI0C,EAAS,IAAI7D,GAAkBC,gBAAgBlhH,MACnD,OAAK8kH,EAAO9jF,SAGZhhC,KAAKoiH,QAAU0C,EACRA,GAHE,IAIX,GACC,CACDtoH,IAAK,oBACLe,MAAO,WACL,GAAIyC,KAAKoiH,QACP,OAAO,KAET,IAAI0C,EAAS,IAAI7D,GAAkBE,eAAenhH,MAClD,OAAK8kH,EAAO9jF,SAGZhhC,KAAKoiH,QAAU0C,EACRA,GAHE,IAIX,GACC,CACDtoH,IAAK,eACLe,MAAO,WACLyC,KAAKoiH,QAAU,IACjB,GACC,CACD5lH,IAAK,oBACLe,MAAO,SAA2BkM,GAGhC,IAFA,IAAIs7G,EAAellH,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,IAAmBA,UAAU,GAC9EqnB,EAAUrnB,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,GAAmBA,UAAU,QAAKoE,EACzEjI,EAAI,EAAGoC,EAAI4B,KAAK4hH,UAAU3lH,OAAQD,EAAIoC,IAAKpC,EAAG,CACrD,IAAIwlB,EAAMxhB,KAAK4hH,UAAU5lH,GACzBwlB,EAAIvF,SAAS45C,UAAUpsD,GACnBs7G,GACFvjG,EAAIszC,IAAInE,UAAS,SAAU79C,GACrBA,aAAkB,QACpBA,EAAOmJ,SAAS45C,UAAUpsD,QACVxF,IAAZijB,GACFA,EAAQpU,GAEVA,EAAOmJ,SAASmwC,aAAc,EAElC,GAEJ,CACF,GACC,CACD5vD,IAAK,iBACLe,MAAO,SAAwBkM,GAC7B,IAAK,IAAIzN,EAAI,EAAGoC,EAAI4B,KAAK4hH,UAAU3lH,OAAQD,EAAIoC,IAAKpC,EACxCgE,KAAK4hH,UAAU5lH,GACrBigB,SAASi6C,eAAezsD,EAEhC,GACC,CACDjN,IAAK,SACLe,MAAO,SAAgBye,EAAU5b,GAC/B,IAAI6sC,EAAKjtC,KAAKk0B,SAASgZ,gBACvB,GAAW,OAAPD,EACF,OAAO,EAET,IAAI2yE,EAAgB,GAAK5/G,KAAK+hH,cAS9B,OARA/hH,KAAKk0B,SAASupF,UAAUzhG,EAAU4jG,GAC9B3yE,GACFA,EAAG+3E,gCAAgChlH,KAAKk0B,SAAU0rF,EAAeh/F,OAAOxgB,IAAS,SAAUiW,GACzFA,EAAKoQ,MAAQm5F,CACf,IAEF5/G,KAAKiiH,gBAAkBjiH,KAAKk0B,SAAS+wF,iBAAiBrF,GACtD5/G,KAAKk0B,SAASmxB,uBACPrlD,KAAK+iH,sBAAsBnD,EACpC,KAEK6B,CACT,CAntBoB,CAmtBlB9qD,IAeF,SAASuuD,GAAe33G,GAAW,IAAIC,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQw9G,GAA+B,OAAO,WAAkC,IAAsC94G,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,CAAG,CAd5ao1G,GAAckB,wBAA0B,GAgBxC,IAAIyC,GAAiB,MAAc9lG,MAAM,CAAC,CACxC+lG,UAAW,CACTx8G,KAAM,KACNtL,MAAO,IAAI,MAAQ,IAAK,IAAK,MAE/B+nH,QAAS,CACPz8G,KAAM,IACNtL,MAAO,MAETgoH,YAAa,CACX18G,KAAM,KACNtL,MAAO,IAAI,MAAQ,IAAK,MAE1BioH,WAAY,CACV38G,KAAM,KACNtL,MAAO,IAAI,MAAQ,IAAK,MAE1BkoH,UAAW,CACT58G,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAG,EAAG,IAE3B+H,MAAO,CACLuD,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAG,EAAG,IAE3BmoH,WAAY,CACV78G,KAAM,KACNtL,MAAO,IAAI,MAAQ,GAAK,IAAM,IAEhCooH,OAAQ,CACN98G,KAAM,IACNtL,MAAO,GAETqoH,QAAS,CACP/8G,KAAM,IACNtL,MAAO,MAETsoH,SAAU,CACRh9G,KAAM,IACNtL,MAAO,MAETuoH,QAAS,CACPj9G,KAAM,IACNtL,MAAO,MAETwoH,SAAU,CACRl9G,KAAM,IACNtL,MAAO,MAETyoH,SAAU,CACRn9G,KAAM,IACNtL,MAAO,MAET0oH,UAAW,CACTp9G,KAAM,IACNtL,MAAO,SAGX,SAAS2oH,GAAiBj9G,EAAQk9G,GAChC,IAAI71D,EAAW,MAAc9lC,MAAM27F,GACnC,IAAK,IAAIlpH,KAAKgM,EACRqnD,EAASxwD,eAAe7C,KAC1BqzD,EAASrzD,GAAGM,MAAQ0L,EAAOhM,IAG/B,OAAOqzD,CACT,CACA,SAAS81D,GAAuBn9G,EAAQo9G,GACtC,MAAO,CACL/1D,SAAU41D,GAAiBj9G,EAAQ,CAAC,GACpCunD,aApFoB,wQAqFpBQ,eAnFsB,kFAoFtBv0C,aAAa,EACbg0C,WAAW,EACXnB,YAAY,EACZgwB,KAAM+mC,EAEV,CACA,IAAIC,GAAsB,SAAUC,GAClCnpH,EAAUkpH,EAAqBC,GAC/B,IAAI94G,EAASy3G,GAAeoB,GAC5B,SAASA,EAAoBr9G,GAC3BxN,EAAgBuE,KAAMsmH,GACtB,IAAIE,EAAiBJ,GAAuBn9G,EAAQ,OACpD,OAAOwE,EAAO/P,KAAKsC,KAAMwmH,EAC3B,CACA,OAAO/pH,EAAa6pH,EACtB,CAT0B,CASxB,OACEG,GAAehqH,GAAa,SAASgqH,EAAax9G,EAAQqnD,EAAUE,EAAcQ,GACpFv1D,EAAgBuE,KAAMymH,GACtBzmH,KAAKswD,SAAW41D,GAAiBj9G,EAAQqnD,GACzCtwD,KAAKwwD,aAAeA,EACpBxwD,KAAKgxD,eAAiBA,EACtBhxD,KAAKyc,aAAc,EACnBzc,KAAKywD,WAAY,EACjBzwD,KAAKsvD,YAAa,EAClBtvD,KAAKs/E,KAAO,KACd,IAgEIonC,GAAmB,CACrBJ,oBAAqBA,GACrBK,4BAjEgC,SAAUC,GAC1CxpH,EAAUupH,EAA6BC,GACvC,IAAIpkF,EAAU0iF,GAAeyB,GAC7B,SAASA,EAA4B19G,GACnCxN,EAAgBuE,KAAM2mH,GACtB,IAAIE,EAAc,MAAcvnG,MAAM,CAAC,CACrCwnG,YAAa,CACXj+G,KAAM,IACNtL,MAAO,GAETwpH,KAAM,CACJl+G,KAAM,IACNtL,MAAO,GAETypH,WAAY,CACVn+G,KAAM,IACNtL,MAAO,GAET0pH,gBAAiB,CACfp+G,KAAM,MACNtL,MAAO,IAAI,UAGX2pH,EAAe,IAAIT,GAAax9G,EAAQ49G,EA/H3B,itBAEE,8EA8HnB,OAAOrkF,EAAQ9kC,KAAKsC,KAAMknH,EAC5B,CACA,OAAOzqH,EAAakqH,EACtB,CA3BkC,CA2BhC,OAuCAQ,qBAtCyB,SAAUC,GACnChqH,EAAU+pH,EAAsBC,GAChC,IAAIhkF,EAAU8hF,GAAeiC,GAC7B,SAASA,EAAqBl+G,GAC5BxN,EAAgBuE,KAAMmnH,GACtB,IAAIE,EAAkBjB,GAAuBn9G,EAAQ,OACrD,OAAOm6B,EAAQ1lC,KAAKsC,KAAMqnH,EAC5B,CACA,OAAO5qH,EAAa0qH,EACtB,CAT2B,CASzB,OA8BAG,eA7BmB,SAAUC,GAC7BnqH,EAAUkqH,EAAgBC,GAC1B,IAAI/jF,EAAU0hF,GAAeoC,GAC7B,SAASA,EAAer+G,GACtB,IAAI0B,EACJlP,EAAgBuE,KAAMsnH,GACtB,IAAIJ,EAAe,IAAIT,GAAax9G,EAAQm8G,GAxJ7B,4KAEE,isTA2JjB,OAJA8B,EAAazqG,aAAc,EAC3ByqG,EAAaz2D,WAAY,GACzB9lD,EAAQ64B,EAAQ9lC,KAAKsC,KAAMknH,IACrBM,gBACC78G,CACT,CAWA,OAVAlO,EAAa6qH,EAAgB,CAAC,CAC5B9qH,IAAK,gBACLe,MAAO,WACLyC,KAAK+uF,QAAU,CACb04B,SAAUnnG,EAAWnb,IAAIgR,MAAMoD,GAAGK,QAClC8tG,YAAiF,IAApEpnG,EAAWnb,IAAIgR,MAAMoD,GAAG5C,eAAe2J,EAAWnb,IAAIqW,aAErExb,KAAKosD,aAAc,CACrB,KAEKk7D,CACT,CAxBqB,CAwBnB,QAUF,IAAIK,GAAa,SAAUC,GACzBxqH,EAAUuqH,EAAYC,GACtB,IAJsBr6G,EAAeC,EAIjCC,GAJkBF,EAIMo6G,EAJSn6G,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQkgH,GAAsC,WAAkC,IAAsCx7G,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASs7G,IACP,IAAIh9G,EACJlP,EAAgBuE,KAAM2nH,GACtB,IAAI7yD,EAAM,IAAI,MAEd/uC,GAAgBnpB,EADhB+N,EAAQ8C,EAAO/P,KAAKsC,KAAM80D,IACqB,aAAc,CAAC,GAC9DnqD,EAAMgS,UAAY,IAAI,MACtB,IAAIjL,EAAO,IAAI,MAAQ,GAAK,GAAK,IA6BjC,OA5BA/G,EAAM+G,KAAOA,EACb/G,EAAMm9G,SAAW,EAAC,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAM,GAAO,GAAO,GAAO,GAAO,GAAO,GACrGn9G,EAAMqyG,MAAQ,CAAC,CACbzoG,QAAS,GACTu6D,KAAM,IAAI,MAAQ,EAAG,GAAI,IACxB,CACDv6D,QAAS,GACTu6D,KAAM,IAAI,MAAQ,EAAG,EAAG,IACvB,CACDv6D,QAAS,GACTu6D,KAAM,IAAI,MAAQ,GAAI,EAAG,IACxB,CACDv6D,QAAS,GACTu6D,KAAM,IAAI,MAAQ,EAAG,EAAG,IACvB,CACDv6D,QAAS,GACTu6D,KAAM,IAAI,OAAS,EAAG,EAAG,IACxB,CACDv6D,QAAS,GACTu6D,KAAM,IAAI,MAAQ,EAAG,EAAG,IACvB,CACDv6D,QAAS,GACTu6D,KAAM,IAAI,MAAQ,EAAG,EAAG,KAE1BnkE,EAAMgkE,SAAW,CAAC,IAAI,OAASj9D,EAAKjP,GAAIiP,EAAKhP,GAAIgP,EAAKge,GAAI,IAAI,OAAShe,EAAKjP,EAAGiP,EAAKhP,GAAIgP,EAAKge,GAAI,IAAI,MAAQhe,EAAKjP,GAAIiP,EAAKhP,GAAIgP,EAAKge,GAAI,IAAI,MAAQhe,EAAKjP,EAAGiP,EAAKhP,GAAIgP,EAAKge,GAAI,IAAI,OAAShe,EAAKjP,GAAIiP,EAAKhP,EAAGgP,EAAKge,GAAI,IAAI,OAAShe,EAAKjP,EAAGiP,EAAKhP,EAAGgP,EAAKge,GAAI,IAAI,MAAQhe,EAAKjP,GAAIiP,EAAKhP,EAAGgP,EAAKge,GAAI,IAAI,MAAQhe,EAAKjP,EAAGiP,EAAKhP,EAAGgP,EAAKge,GAAI,IAAI,MAAQ,EAAK,EAAK,GAC5V,IAAI,MAAQ,EAAK,EAAK,GAAM,IAAI,MAAQ,EAAK,EAAK,GAAM,IAAI,MAAQ,EAAK,EAAK,GAAM,IAAI,MAAQ,EAAK,EAAK,GAAM,IAAI,MAAQ,EAAK,EAAK,IACtIolC,EAAIpzD,aAAa,WAAY,IAAI,MAAgB,IAAI+oD,aAAqC,EAAxB9/C,EAAMgkE,SAAS1yE,QAAa,IAC9F0O,EAAMpM,KAAO,aACNoM,CACT,CA+RA,OA9RAlO,EAAakrH,EAAY,CAAC,CACxBnrH,IAAK,kBACLe,MAAO,WACL,IAGIvB,EAHAsE,EAAUqnH,EAAWI,SACrBC,EAAQL,EAAWM,OACnBC,EAAoBP,EAAWQ,mBAE/Br5C,EAAO9uE,KAAK2c,UAAUygD,OACtB50C,EAAIxoB,KAAK2c,UAAUyrG,SACnBC,EAAOroH,KAAK2uE,SACZj9D,EAAO1R,KAAK0R,KACZ42G,EAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnCC,EAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC7CC,EAAU,IAAI,MACdC,EAAe,KACnB,SAASC,IACP,GAAe,IAAX55C,EAAKrsE,EAAS,OAAO,EACzB,IAAIA,IAAMqsE,EAAKnkD,IAAI69F,GAAWhgG,GAAKsmD,EAAKrsE,EACxC,OAAKiP,EAAKjP,GAAKA,GAAKA,GAAKiP,EAAKjP,GAC5BgmH,EAAangH,IAAI7F,EAAG+lH,EAAQ9lH,EAAG8lH,EAAQ94F,GACnCjtB,IAAMiP,EAAKjP,EAAU,EACrBA,KAAOiP,EAAKjP,GAAW,EACpB,GAEF,CACT,CACA,SAASkmH,IACP,GAAe,IAAX75C,EAAKpsE,EAAS,OAAO,EACzB,IAAIA,IAAMosE,EAAKnkD,IAAI69F,GAAWhgG,GAAKsmD,EAAKpsE,EACxC,OAAKgP,EAAKhP,GAAKA,GAAKA,GAAKgP,EAAKhP,GAC5B+lH,EAAangH,IAAIkgH,EAAQ/lH,EAAGC,EAAG8lH,EAAQ94F,GACnChtB,IAAMgP,EAAKhP,EAAU,EACrBA,KAAOgP,EAAKhP,GAAW,EACpB,GAEF,CACT,CACA,SAASkmH,IACP,GAAe,IAAX95C,EAAKp/C,EAAS,OAAO,EACzB,IAAIA,IAAMo/C,EAAKnkD,IAAI69F,GAAWhgG,GAAKsmD,EAAKp/C,EACxC,OAAKhe,EAAKge,GAAKA,GAAKA,GAAKhe,EAAKge,GAC5B+4F,EAAangH,IAAIkgH,EAAQ/lH,EAAG+lH,EAAQ9lH,EAAGgtB,GACnCA,IAAMhe,EAAKge,EAAU,EACrBA,KAAOhe,EAAKge,GAAW,EACpB,GAEF,CACT,CACA,IAAK,IAAIm5F,EAAa,EAAGA,EAAa,KAAMA,EAAY,CACtD,IAAIC,EAAgBd,EAAMa,GAC1BJ,EAAeP,EAAkBW,GACjCL,EAAQlgH,IAAIwgH,EAAc,GAAIA,EAAc,GAAIA,EAAc,IAC9DN,EAAQt5D,SAASx9C,GACjB,IAAI+e,EAAO,EACc,IAArBq4F,EAAc,KAAUr4F,EAAOi4F,KACV,IAArBI,EAAc,KAAUr4F,EAAOk4F,KACV,IAArBG,EAAc,KAAUr4F,EAAOm4F,MACrB,IAAVn4F,EACF63F,EAAWQ,EAAc,IAAM,EACb,IAATr4F,EACT63F,EAAWQ,EAAc,IAAM,EACb,IAATr4F,IACT83F,EAASM,GAAc,EAE3B,CACA,IAAIE,EAAO,CACTx0G,QAAS,GACTu6D,KAAMA,EAAKtkD,QAAQ2E,UAEjB65F,EAAa,EACjB,IAAKhtH,EAAI,EAAGA,EAAI,IAAKA,EACG,IAAlBssH,EAAWtsH,KACbqsH,EAAKW,GAAY1gH,IAAIhI,EAAQtE,GAAG,GAAIsE,EAAQtE,GAAG,GAAIsE,EAAQtE,GAAG,IAAIkzD,SAASx9C,GAC3Eq3G,EAAKx0G,QAAQlV,KAAK2pH,KAClBT,EAASjoH,EAAQtE,GAAG,IAAM,EAC1BusH,EAASjoH,EAAQtE,GAAG,IAAM,EAC1BusH,EAASjoH,EAAQtE,GAAG,IAAM,GAG9B,IAAKA,EAAI,EAAGA,EAAI,KAAMA,EACA,IAAhBusH,EAASvsH,KACXqsH,EAAKW,GAAY33G,KAAK62G,EAAkBlsH,IACxC+sH,EAAKx0G,QAAQlV,KAAK2pH,MAGtBhpH,KAAKg9G,MAAM,GAAK+L,EAChB,IAAIz2G,EAAO,IAAI,MACX22G,EAAgB,IAAI,MAExB,IADAjpH,KAAK2c,UAAUssG,cAAcA,GACxBjtH,EAAI,EAAGA,EAAIqsH,EAAKpsH,SAAUD,EAC7BgE,KAAK8nH,SAAS9rH,IAAK,EACfA,EAAI,GACNsW,EAAK6yD,WAAWkjD,EAAKrsH,GAAIitH,GACzBjpH,KAAK8nH,SAAS9rH,GAAK8yE,EAAKnkD,IAAIrY,IAAS,GAC5BtW,EAAI,EAAI+sH,EAAKx0G,QAAQtY,SAC9B+D,KAAK8nH,SAAS9rH,IAAK,GAGvB,IAAI8jE,EAAY9/D,KAAK4wD,SAASmE,aAAa,YACvC3wD,EAAM,EACV,IAAKpI,EAAI,EAAGA,EAAIqsH,EAAKpsH,SAAUD,EAC7B8jE,EAAU/tD,MAAM3N,KAASikH,EAAKrsH,GAAGyG,EACjCq9D,EAAU/tD,MAAM3N,KAASikH,EAAKrsH,GAAG0G,EACjCo9D,EAAU/tD,MAAM3N,KAASikH,EAAKrsH,GAAG0zB,EAEnCowC,EAAU1T,aAAc,CAC1B,GACC,CACD5vD,IAAK,mBACLe,MAAO,SAA0BwrH,EAAMjpG,GACrC,IAAI9jB,EACAqsH,EAAOroH,KAAK2uE,SAEhB,IADAo6C,EAAKx0G,QAAU,GACVvY,EAAI,EAAGA,EAAIqsH,EAAKpsH,SAAUD,EACzBgE,KAAK8nH,SAAS9rH,IAAM8jB,EAAOuoG,EAAKrsH,KAClC+sH,EAAKx0G,QAAQlV,KAAKrD,EAGxB,GACC,CACDQ,IAAK,eACLe,MAAO,SAAsBwrH,EAAMz/F,GACjC,IAAIttB,EACAyY,EACA4zG,EAAOroH,KAAK2uE,SACZvd,EAAQ,GACR9e,EAAM,IAAI,MACd,IAAKt2C,EAAI,EAAGA,EAAI+sH,EAAKx0G,QAAQtY,SAAUD,EACrCs2C,EAAI6yB,WAAWkjD,EAAKU,EAAKx0G,QAAQvY,IAAKqsH,EAAKU,EAAKx0G,QAAQ,KACxD+9B,EAAI5mB,YACJ4mB,EAAID,MAAM/oB,GACVgpB,EAAInjB,SACJiiC,EAAMp1D,GAAK+sH,EAAKj6C,KAAKnkD,IAAI2nB,GAE3B,IAAKt2C,EAAI,EAAGA,EAAI+sH,EAAKx0G,QAAQtY,OAAS,IAAKD,EACzC,IAAKyY,EAAIzY,EAAI,EAAGyY,EAAIs0G,EAAKx0G,QAAQtY,SAAUwY,EACzC,GAAI28C,EAAM38C,GAAK28C,EAAMp1D,GAAI,CACvB,IAAI2D,EAAIyxD,EAAMp1D,GACdo1D,EAAMp1D,GAAKo1D,EAAM38C,GACjB28C,EAAM38C,GAAK9U,EACXA,EAAIopH,EAAKx0G,QAAQvY,GACjB+sH,EAAKx0G,QAAQvY,GAAK+sH,EAAKx0G,QAAQE,GAC/Bs0G,EAAKx0G,QAAQE,GAAK9U,CACpB,CAGN,GACC,CACDnD,IAAK,iBACLe,MAAO,WACL,IAAIvB,EACAktH,EACAH,EACAV,EAAOroH,KAAK2uE,SACZj9D,EAAO1R,KAAK0R,KAChB1R,KAAKmpH,iBAAiBnpH,KAAKg9G,MAAM,IAAI,SAAUxxC,GAC7C,OAAOA,EAAO97C,KAAOhe,EAAKge,CAC5B,IACA1vB,KAAKmpH,iBAAiBnpH,KAAKg9G,MAAM,IAAI,SAAUxxC,GAC7C,OAAOA,EAAO97C,IAAMhe,EAAKge,CAC3B,IACA1vB,KAAKmpH,iBAAiBnpH,KAAKg9G,MAAM,IAAI,SAAUxxC,GAC7C,OAAOA,EAAO9oE,KAAOgP,EAAKhP,CAC5B,IACA1C,KAAKmpH,iBAAiBnpH,KAAKg9G,MAAM,IAAI,SAAUxxC,GAC7C,OAAOA,EAAO9oE,IAAMgP,EAAKhP,CAC3B,IACA1C,KAAKmpH,iBAAiBnpH,KAAKg9G,MAAM,IAAI,SAAUxxC,GAC7C,OAAOA,EAAO/oE,KAAOiP,EAAKjP,CAC5B,IACAzC,KAAKmpH,iBAAiBnpH,KAAKg9G,MAAM,IAAI,SAAUxxC,GAC7C,OAAOA,EAAO/oE,IAAMiP,EAAKjP,CAC3B,IACA,IAAI2zC,EAAU,IAAI,MACdgzE,EAAS,IAAI,MACbC,EAAO,IAAI,MACf,IAAKH,EAAU,EAAGA,EAAUlpH,KAAKg9G,MAAM/gH,SAAUitH,EAE/C,GAA4B,KAD5BH,EAAO/oH,KAAKg9G,MAAMkM,IACT30G,QAAQtY,OAAjB,CAEA,IADAm6C,EAAQ9tC,IAAI,EAAG,EAAG,GACbtM,EAAI,EAAGA,EAAI+sH,EAAKx0G,QAAQtY,SAAUD,EACrCo6C,EAAQvG,IAAIw4E,EAAKU,EAAKx0G,QAAQvY,KAEhCo6C,EAAQnrB,eAAe,EAAM89F,EAAKx0G,QAAQtY,QAC1CmtH,EAAOjkD,WAAWkjD,EAAKU,EAAKx0G,QAAQ,IAAK6hC,GACzCgzE,EAAO19F,YACP,IAAI49F,EAAY,GAChB,IAAKttH,EAAI,EAAGA,EAAI+sH,EAAKx0G,QAAQtY,SAAUD,EACrCqtH,EAAKlkD,WAAWkjD,EAAKU,EAAKx0G,QAAQvY,IAAKo6C,GACvCkzE,EAAUttH,GAAKqtH,EAAK1+F,IAAIy+F,GAE1B,IAAKptH,EAAI,EAAGA,EAAI+sH,EAAKx0G,QAAQtY,SAAUD,EACrC,GAAIstH,EAAUttH,GAAKstH,EAAU,GAAI,CAC/B,IAAI3pH,EAAI2pH,EAAU,GAClBA,EAAU,GAAKA,EAAUttH,GACzBstH,EAAUttH,GAAK2D,EAEfA,EADoBjB,EAAeqqH,EAAKx0G,QAAS,GAC/B,GAClBw0G,EAAKx0G,QAAQ,GAAKw0G,EAAKx0G,QAAQvY,GAC/B+sH,EAAKx0G,QAAQvY,GAAK2D,CACpB,CAEFK,KAAKupH,aAAaR,EAAMK,EAxBe,CA0BzC,IAAII,EAAa,EACjB,IAAKN,EAAU,EAAGA,EAAUlpH,KAAKg9G,MAAM/gH,SAAUitH,GAC/CH,EAAO/oH,KAAKg9G,MAAMkM,IACT30G,QAAQtY,QAAU,IACzButH,GAAc,GAAKT,EAAKx0G,QAAQtY,OAAS,IAG7C,IAAI4jC,EAAS,EACTtrB,EAAU,IAAIqoD,YAAY4sD,GAC9B,IAAKN,EAAU,EAAGA,EAAUlpH,KAAKg9G,MAAM/gH,SAAUitH,EAE/C,IADAH,EAAO/oH,KAAKg9G,MAAMkM,GACbltH,EAAI,EAAGA,EAAI+sH,EAAKx0G,QAAQtY,OAAS,IAAKD,EACzCuY,EAAQsrB,GAAUkpF,EAAKx0G,QAAQ,GAC/BA,EAAQsrB,EAAS,GAAKkpF,EAAKx0G,QAAQvY,EAAI,GACvCuY,EAAQsrB,EAAS,GAAKkpF,EAAKx0G,QAAQvY,EAAI,GACvC6jC,GAAU,EAGd7/B,KAAK4wD,SAASkM,SAAS,IAAI,MAAgBvoD,EAAS,GACtD,GACC,CACD/X,IAAK,gBACLe,MAAO,SAAuBu5D,GAC5B,IAAI2yD,EAAK,IAAI/C,GAAiBY,eAC1Bt6C,EAAMlW,EAAWmW,gBACjBpxB,EAASib,EAAW4yD,wBACpBv9D,EAAU2K,EAAW6yD,oBACrBt2C,EAAOvc,EAAW8yD,SACtBH,EAAGn5D,SAAS+0D,UAAU9nH,MAAM+K,IAAI0kE,EAAI,GAAIA,EAAI,GAAIA,EAAI,IACpDy8C,EAAGn5D,SAASg1D,QAAQ/nH,MAAQ4uD,EAC5Bs9D,EAAGn5D,SAASi1D,YAAYhoH,MAAM+K,IAAI6jD,EAAQ09D,MAAM1pH,MAAOgsD,EAAQ09D,MAAM3mH,QACrEumH,EAAGn5D,SAASk1D,WAAWjoH,MAAM+K,IAAIuzC,EAAO,GAAIA,EAAO,IACnDv/C,OAAOoD,OAAOM,KAAK0pD,WAAYoN,EAAWgzD,iBAC1C,IAAIC,EAAU/pH,KAAK0pD,WACnB+/D,EAAGn5D,SAAShrD,MAAM/H,MAAM8T,KAAK04G,EAAQzkH,OACrCmkH,EAAGn5D,SAASm1D,UAAUloH,MAAM+K,IAAIyhH,EAAQC,YAAY,GAAID,EAAQC,YAAY,GAAID,EAAQC,YAAY,IACpGhqH,KAAKic,SAAWwtG,EAChBp2C,EAAKn/B,QAAQl0C,KAAKK,OAClBgzE,EAAKlrC,UAAUnoC,KAAKkB,SACtB,GACC,CACD1E,IAAK,kBACLe,MAAO,WACL,IAAI0sH,EAAwB3pG,EAAWnb,IAAIgR,MAAMoD,GAC7CC,EAASywG,EAAsBzwG,OAC/BC,EAAYwwG,EAAsBxwG,UAClCC,EAAYuwG,EAAsBvwG,UAClCqwG,EAAU/pH,KAAK0pD,WACfwgE,EAAOH,EAAQI,MAAQJ,EAAQK,KAC/BC,EAAON,EAAQO,KAAOP,EAAQK,KAC9Bv/G,EAAQ,SAAeovB,GACzB,OAAQiwF,EAAOjwF,EAAI8vF,EAAQQ,IAAMF,CACnC,EACArqH,KAAKic,SAASq0C,SAASo1D,WAAWnoH,MAAM+K,IAAIuC,EAAM2O,GAAS3O,EAAM4O,GAAY5O,EAAM6O,GACrF,GACC,CACDld,IAAK,UACLe,MAAO,SAAiBq0D,GACtB,IAAI44D,EAAsB7C,EAAW8C,qBACjCliF,EAAMo/E,EAAW+C,KACjB57C,EAAO64C,EAAWgD,MAClBC,EAASjD,EAAWkD,QACpBC,EAAqBnD,EAAWoD,oBAChCpuG,EAAYgrG,EAAWqD,WAC3BhrH,KAAKirH,kBACLr5D,EAAOs5D,kBAAkBp8C,GACzBld,EAAOu5D,iBAAiB5iF,GACxBA,EAAIkuB,gBAAgBqY,EAAMld,EAAOU,KAAOk4D,GACxCM,EAAmBz5G,KAAKrR,KAAKgvD,aAAaC,SAC1C1mB,EAAIY,aAAa2hF,GACjBF,EAAOtiH,IAAIwmE,EAAKrsE,EAAGqsE,EAAKpsE,EAAGosE,EAAKp/C,EAAG,GACnCk7F,EAAOzhF,aAAa2hF,GACpBh8C,EAAKz9D,KAAKu5G,GACV97C,EAAKpjD,YACL/O,EAAUyuG,8BAA8Bt8C,EAAMvmC,GACzCvoC,KAAK2c,UAAUkzC,OAAOlzC,KACzB3c,KAAK2c,UAAYA,EAAU6N,QAC3BxqB,KAAKqrH,kBACLrrH,KAAKsrH,iBAET,KAEK3D,CACT,CAxUiB,CAwUf,OACF5hG,GAAgB4hG,GAAY,WAAY,CACxC,EAAE,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,CAAC,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAE,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAE,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAE,EAAG,EAAG,EAAG,EAAG,EAAG,MAC3K5hG,GAAgB4hG,GAAY,SAAU,CACtC,CAAC,EAAG,EAAG,GAAI,GAAI,GAAI,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,CAAC,EAAG,EAAG,GAAI,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,GAAI,EAAG,GAAI,GAAI,CAAC,EAAG,EAAG,EAAG,GAAI,GAAI,CAAC,EAAG,GAAI,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,CAAC,EAAG,GAAI,GAAI,EAAG,GAAI,CAAC,EAAG,EAAG,GAAI,EAAG,GAAI,CAAC,EAAG,GAAI,EAAG,EAAG,GAAI,CAAC,EAAG,EAAG,EAAG,EAAG,KACpN5hG,GAAgB4hG,GAAY,qBAAsB,WAEhD,IADA,IAAIO,EAAoB,GACfzzG,EAAI,EAAGA,EAAI,KAAMA,EACxByzG,EAAkB7oH,KAAK,IAAI,OAE7B,OAAO6oH,CACT,CANkD,IAOlDniG,GAAgB4hG,GAAY,uBAAwB,IACpD5hG,GAAgB4hG,GAAY,OAAQ,IAAI,OACxC5hG,GAAgB4hG,GAAY,QAAS,IAAI,OACzC5hG,GAAgB4hG,GAAY,UAAW,IAAI,OAC3C5hG,GAAgB4hG,GAAY,sBAAuB,IAAI,OACvD5hG,GAAgB4hG,GAAY,aAAc,IAAI,OAc9C,IAAI4D,GAAe,WACjB,SAASA,EAAal/E,EAAM09E,GAC1BtuH,EAAgBuE,KAAMurH,GACtB,IAAIjmH,EAAQykH,EAAQzkH,MAChB0kH,EAAcD,EAAQC,YACtBwB,EAAQ,IAAI,MAChBn/E,EAAK6H,QAAQs3E,GACbA,EAAMvgG,eAAe,IAIrB,IAHA,IAAIwgG,EAAazrH,KAAK0rH,iBAAiBpmH,EAAO0kH,GAC1Cp5D,EAAW,IAAI,MACf+d,EAAW,GACN3yE,EAAI,EAAGA,EAAI,EAAGA,IACrB2yE,EAAStvE,KAAKosH,EAAWzvH,GAAGwuB,QAAQ0kC,SAASs8D,IAC7C78C,EAAStvE,KAAKosH,GAAYzvH,EAAI,GAAK,GAAGwuB,QAAQ0kC,SAASs8D,IAGzD,IADA,IAAIphC,EAAc,IAAI,MAAQ,EAAIohC,EAAM/oH,GAAK,EAAI6C,EAAM7C,EAAI6C,EAAM5C,GAAI,EAAG,GAC/D7D,EAAK,EAAGA,EAAK,EAAGA,IACvB8vE,EAAStvE,KAAKsvE,EAAS9vE,GAAI2rB,QAAQqlB,IAAIu6C,IAEzC,IAAK,IAAI5uC,EAAM,EAAGA,EAAM,EAAGA,IACzBmzB,EAAStvE,KAAKsvE,EAAe,EAANnzB,GAAShxB,SAChCmkD,EAAStvE,KAAKsvE,EAAe,EAANnzB,EAAU,GAAGhxB,SAEtC,IAAI8d,EAAS,IAAI,MACjB+D,EAAKlE,UAAUG,GACfqmC,EAAStlE,SAAQ,SAAUmiE,GACzB,OAAOA,EAAO37B,IAAIvH,EACpB,IACA,IAAIqjF,EAxCR,SAAuBjqG,GAGrB,IAFA,IAAItjB,EAAIsjB,EAAMzlB,OACVmP,EAAS,IAAIq/C,aAAiB,EAAJrsD,GACrBpC,EAAI,EAAGA,EAAIoC,IAAKpC,EAAG,CAC1B,IAAIyY,EAAI,EAAIzY,EACRsmB,EAAIZ,EAAM1lB,GACdoP,EAAOqJ,GAAK6N,EAAE7f,EACd2I,EAAOqJ,EAAI,GAAK6N,EAAE5f,EAClB0I,EAAOqJ,EAAI,GAAK6N,EAAEoN,CACpB,CACA,OAAOtkB,CACT,CA6BuBwgH,CAAcj9C,GACjC/d,EAASlvD,aAAa,WAAY,IAAI,MAAgBiqH,EAAc,IACpE3rH,KAAK6rH,OAAS,IAAI,MAAaj7D,EAAU,IAAI,MAAkB,CAC7DrwD,MAAO,YAETP,KAAK6rH,OAAOv2D,OAAOhtD,IAAI6qD,GAASjF,OAAOC,OACzC,CAmBA,OAlBA1xD,EAAa8uH,EAAc,CAAC,CAC1B/uH,IAAK,mBACLe,MAAO,SAA0B+H,EAAO0kH,GACtC,IAAI8B,EAAYP,EAAaQ,iBACzBC,EAAO,SAAc1nG,EAAO2nG,GAC9B,IAAIC,EAAY5mH,EAAMwmH,EAAUxnG,GAAO,IAEvC,QADkB,IAAO2nG,EAAM,GAAKA,EAAMjC,EAAY8B,EAAUxnG,GAAO,KACnD4nG,CACtB,EAEA,MADiB,CAAC,IAAI,MAAa,GAAKF,EAAK,KAAM,GAAKA,EAAK,KAAM,IAApC,EAA8C,EAAIA,EAAK,KAAM,GAAnB,GAAwB,GAAI,IAAI,MAAa,GAAKA,EAAK,MAAO,GAAKA,EAAK,KAAM,IAArC,EAA+C,EAAIA,EAAK,MAAO,GAApB,EAAwB,GAAI,IAAI,MAAa,GAAKA,EAAK,MAAO,GAAKA,EAAK,MAAO,IAAtC,EAA2C,EAAI,EAAIA,EAAK,KAAM,GAAI,GAAI,IAAI,MAAa,GAAKA,EAAK,KAAM,GAAKA,EAAK,MAAO,IAArC,EAA0C,EAAI,EAAIA,EAAK,MAAO,IAAK,GAE9V,GACC,CACDxvH,IAAK,UACLe,MAAO,WACL,OAAOyC,KAAK6rH,MACd,KAEKN,CACT,CAtDmB,GAuDnBxlG,GAAgBwlG,GAAc,mBAAoB,CAChDY,GAAI,CAAC,IAAK,GACVC,GAAI,CAAC,IAAK,GACVC,GAAI,CAAC,IAAK,KAGZ,IAAIC,GAAiB,WACnB,SAASA,EAAeC,EAAQpsH,EAAO+C,GACrCzH,EAAgBuE,KAAMssH,GACtB,IAAIE,EAAWxsH,KAAKysH,cAActsH,EAAO+C,GACrCuyF,EAAM,IAAIixB,GAAiBC,4BAC/B3mH,KAAK0sH,OAAS,IAAI54B,GAAOM,KAAKo4B,EAAU/2B,GACxCz1F,KAAK0sH,OAAOC,eAAgB,EAC5B3sH,KAAK0sH,OAAOE,aAAc,EAC1B,IAAIC,EAAmB,IAAI,MAC3B7sH,KAAK0sH,OAAOn7B,gBAAkB,SAAUu7B,EAAWv9D,EAAQqC,EAAQogC,EAAW3iC,EAAW4iC,GACvF,IAAIh2E,EAAWjc,KAAKic,SACpB,GAAKswG,GAAWtwG,EAAhB,CAGA,IAAI8wG,EAAc,IAAI,MAAQ,EAAG,IAAKn7D,EAAOa,IAAM,IAAM,GACzDs6D,EAAY5jF,aAAayoB,EAAO5C,aAChChvD,KAAKupC,OAAO0kB,WACZjuD,KAAKupC,OAAOq3E,gBAAgBmM,EAAYtqH,EAAGsqH,EAAYrqH,EAAGqqH,EAAYr9F,GACtE1vB,KAAKgvD,YAAY39C,KAAKrR,KAAKupC,QAC3BvpC,KAAKkyF,gBAAgBC,iBAAiBvgC,EAAOW,mBAAoBvyD,KAAKgvD,aACtEhvD,KAAKgtH,aAAatuD,gBAAgB1+D,KAAKkyF,iBACvC,IAAI+6B,EAAeV,EAAOv9D,YAC1B69D,EAAiBx7G,KAAK47G,GAAch+D,SACpChzC,EAASq0C,SAASw2D,YAAYvpH,MAAQq0D,EAAOP,OAC7Cp1C,EAASq0C,SAASy2D,KAAKxpH,MAAQq0D,EAAOa,IACtCx2C,EAASq0C,SAAS02D,WAAWzpH,MAAQyE,KAAKyvD,IAAwB,GAApB,MAAUy7D,QAAgBt7D,EAAON,KAC/Er1C,EAASq0C,SAAS22D,gBAAgB1pH,MAAQsvH,CAb1C,CAcF,EACA7sH,KAAK0sH,OAAOp3D,OAAOhtD,IAAI6qD,GAASjF,OAAOI,eACzC,CAkBA,OAjBA7xD,EAAa6vH,EAAgB,CAAC,CAC5B9vH,IAAK,gBACLe,MAAO,SAAuB4C,EAAO+C,GACnC,IAAIspH,EAAW,IAAI,MACnBrsH,EAAQA,GAAS,EACjB+C,EAASA,GAAU,EACnB,IAAIyrE,EAAW,IAAIlkB,aAAa,EAAE,GAAMtqD,EAAO,GAAM+C,EAAQ,EAAG,GAAM/C,EAAO,GAAM+C,EAAQ,GAAI,GAAM/C,GAAQ,GAAM+C,EAAQ,EAAG,GAAM/C,GAAQ,GAAM+C,EAAQ,IAG1J,OAFAspH,EAAS9qH,aAAa,WAAY,IAAI,MAAgBitE,EAAU,IAChE69C,EAAS1vD,SAAS,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAC3B0vD,CACT,GACC,CACDhwH,IAAK,UACLe,MAAO,WACL,OAAOyC,KAAK0sH,MACd,KAEKJ,CACT,CAhDqB,GAoDrB,IAAIa,GAAe,SAAUzL,GAC3BtkH,EAAU+vH,EAAczL,GACxB,IAJsBn0G,EAAeC,EAIjCC,GAJkBF,EAIM4/G,EAJS3/G,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQylH,GAAsC,WAAkC,IAAsC/gH,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS8gH,EAAa5uH,EAAMu4D,GAC1B,IAAInsD,EAWJ,OAVAlP,EAAgBuE,KAAMmtH,IACtBxiH,EAAQ8C,EAAO/P,KAAKsC,KAAMzB,EAAMu4D,IAC1BigC,MAAQ,IAAI4wB,GAClBh9G,EAAMosF,MAAMs2B,cAAcv2D,GAC1BnsD,EAAMklC,IAAIllC,EAAMosF,OAChBpsF,EAAM2iH,OAAS,IAAI/B,GAAa5gH,EAAMg6C,gBAAgB7c,YAAan9B,EAAMosF,MAAMrtC,YAC/E/+C,EAAMklC,IAAIllC,EAAM2iH,OAAOC,WACvB5iH,EAAM6iH,UAAUltG,EAAWnb,IAAIgR,MAAMoD,GAAGI,OACxChP,EAAM8iH,UAAY,IAAInB,GAAe3hH,EAAMosF,MAAO,EAAG,GACrDpsF,EAAMklC,IAAIllC,EAAM8iH,UAAUF,WACnB5iH,CACT,CAuBA,OAtBAlO,EAAa0wH,EAAc,CAAC,CAC1B3wH,IAAK,gBACLe,MAAO,WACL,IAAIw2C,EAAM/zC,KAAK+2D,YAAY6yD,SACvBtxD,EAAS,IAAI,MAEjB,OADAvkB,EAAI25E,kBAAkBp1D,GACf,CACLxwB,YAAaiM,EACbhM,eAAgBuwB,EAEpB,GACC,CACD97D,IAAK,UACLe,MAAO,WACL,OAAOyC,KAAK+2F,KACd,GACC,CACDv6F,IAAK,YACLe,MAAO,SAAmBowH,GACxB3tH,KAAKstH,OAAOC,UAAUtxG,SAASsxC,QAAUogE,CAC3C,KAEKR,CACT,CAxCmB,CAwCjBx2D,IAIF,IAAIi3D,GAAa,SAAUC,GACzBzwH,EAAUwwH,EAAYC,GACtB,IAJsBtgH,EAAeC,EAIjCC,GAJkBF,EAIMqgH,EAJSpgH,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQmmH,GAAsC,WAAkC,IAAsCzhH,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASuhH,IACP,IAAIG,EAAcluH,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,GAAmBA,UAAU,GAAK,GAEtF,OADApE,EAAgBuE,KAAM4tH,GACfngH,EAAO/P,KAAKsC,KAAM+tH,EAAa,CAAC,SACzC,CAeA,OAdAtxH,EAAamxH,EAAY,CAAC,CACxBpxH,IAAK,OACLe,MAAO,SAAcgkH,GACnB,IAAI7wF,EAAO,GACX,GAAI6wF,EAAM14G,KACR6nB,EAAO1wB,KAAKy3D,MAAMvrC,MAAMq1F,EAAM14G,KAAK4X,gBAAkB,QAChD,GAAI8gG,EAAMtuD,OACf,OAAOjzD,KAAKw3D,MAAM13C,QAAO,SAAUkuG,GACjC,OAAOA,EAAWC,iBAAmBD,EAAWC,gBAAgB1M,EAAMtuD,OACxE,IAEF,OAAO+D,GAAmBtmC,EAC5B,KAEKk9F,CACT,CAvBiB,CAuBft2D,IAIF,IAAI42D,GAAS,SAAUp4G,GACrB1Y,EAAU8wH,EAAQp4G,GAClB,IAJsBvI,EAAeC,EAIjCC,GAJkBF,EAIM2gH,EAJS1gH,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQwmH,GAAsC,WAAkC,IAAsC9hH,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS6hH,EAAOj7D,EAAQtwC,GACtB,IAAIhY,EAOJ,OANAlP,EAAgBuE,KAAMkuH,IACtBvjH,EAAQ8C,EAAO/P,KAAKsC,OACdouH,QAAUn7D,EAChBtoD,EAAMkY,SAAWF,GAAW,CAAC,EAC7BhY,EAAM0jH,QAAS,EACf1jH,EAAM2jH,OAAS,KACR3jH,CACT,CAoBA,OAnBAlO,EAAayxH,EAAQ,CAAC,CACpB1xH,IAAK,OACLe,MAAO,WACL,OAAOwmH,QAAQ7jF,OAAO,IAAIz1B,MAAM,+CAClC,GACC,CACDjO,IAAK,QACLe,MAAO,WACLyC,KAAKquH,QAAS,EACVruH,KAAKsuH,QACPtuH,KAAKsuH,OAAOC,OAEhB,IACE,CAAC,CACH/xH,IAAK,cACLe,MAAO,SAAqB6wH,GAE5B,KAEKF,CACT,CAjCa,CAiCXxlH,GACFwvD,GAAqBg2D,GAAO1yH,WAI5B,IAAIgzH,GAAa,SAAUC,GACzBrxH,EAAUoxH,EAAYC,GACtB,IAJsBlhH,EAAeC,EAIjCC,GAJkBF,EAIMihH,EAJShhH,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ+mH,GAAsC,WAAkC,IAAsCriH,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASmiH,EAAWv7D,EAAQtwC,GAC1B,IAAIhY,EAKJ,OAJAlP,EAAgBuE,KAAMwuH,GAEtB7rG,GADAhY,EAAQ8C,EAAO/P,KAAKsC,KAAMizD,EAAQtwC,IAClBE,SAChBlY,EAAMgkH,SAA6B,IAAnBhsG,EAAQ1U,OACjBtD,CACT,CAyCA,OAxCAlO,EAAa+xH,EAAY,CAAC,CACxBhyH,IAAK,OACLe,MAAO,WACL,IAAI6mC,EAASpkC,KACb,OAAO,IAAI+jH,SAAQ,SAAUC,EAAS9jF,GACpC,GAAIkE,EAAOiqF,OACT,MAAM,IAAI5jH,MAAM,mBAElB,IAAImkH,EAAOxqF,EAAOgqF,QACdS,EAASzqF,EAAOkqF,OAAS,IAAIQ,WACjCD,EAAOjmH,iBAAiB,QAAQ,WAC9Bo7G,EAAQ6K,EAAOxiH,OACjB,IACAwiH,EAAOjmH,iBAAiB,SAAS,WAC/Bs3B,EAAO2uF,EAAO3kH,MAChB,IACA2kH,EAAOjmH,iBAAiB,SAAS,WAC/Bs3B,EAAO,IAAIz1B,MAAM,mBACnB,IACAokH,EAAOjmH,iBAAiB,YAAY,SAAUgB,GAC5Cw6B,EAAOz6B,cAAcC,EACvB,IACIw6B,EAAOuqF,QACTE,EAAOE,kBAAkBH,GAEzBC,EAAOG,WAAWJ,EAEtB,GACF,IACE,CAAC,CACHpyH,IAAK,kBACLe,MAAO,SAAyB01D,GAC9B,OAAOg8D,MAAQh8D,aAAkBg8D,MAAQ7/G,MAAQ6jD,aAAkB7jD,IACrE,GACC,CACD5S,IAAK,cACLe,MAAO,SAAqB01D,GAC1B,OAAOA,GAAUA,EAAO10D,IAC1B,KAEKiwH,CACT,CApDiB,CAoDfN,IACFM,GAAWtiG,MAAQ,CAAC,OAAQ,QAI5B,IAAIgjG,GAAiB,sBACjBC,GAAY,SAAUV,GACxBrxH,EAAU+xH,EAAWV,GACrB,IALsBlhH,EAAeC,EAKjCC,GALkBF,EAKM4hH,EALS3hH,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQynH,GAAsC,WAAkC,IAAsC/iH,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMva,SAAS8iH,EAAUl8D,EAAQtwC,GACzB,IAAIhY,EAKJ,OAJAlP,EAAgBuE,KAAMmvH,GAEtBxsG,GADAhY,EAAQ8C,EAAO/P,KAAKsC,KAAMizD,EAAQtwC,IAClBE,SAChBlY,EAAMgkH,SAA6B,IAAnBhsG,EAAQ1U,OACjBtD,CACT,CAmDA,OAlDAlO,EAAa0yH,EAAW,CAAC,CACvB3yH,IAAK,OACLe,MAAO,WACL,IAAI6mC,EAASpkC,KACb,OAAO,IAAI+jH,SAAQ,SAAUC,EAAS9jF,GACpC,GAAIkE,EAAOiqF,OACT,MAAM,IAAI5jH,MAAM,mBAElB,IAAIuB,EAAMo4B,EAAOgqF,QACbiB,EAAUjrF,EAAOkqF,OAAS,IAAIgB,eAClCD,EAAQzmH,iBAAiB,QAAQ,WACR,MAAnBymH,EAAQ7M,OACVwB,EAAQqL,EAAQE,UAEhBrvF,EAAO,IAAIz1B,MAAM,QAAQY,OAAOgkH,EAAQ7M,OAAQ,oBAAoBn3G,OAAOW,IAE/E,IACAqjH,EAAQzmH,iBAAiB,SAAS,WAChCs3B,EAAO,IAAIz1B,MAAM,uBACnB,IACA4kH,EAAQzmH,iBAAiB,SAAS,WAChCs3B,EAAO,IAAIz1B,MAAM,mBACnB,IACA4kH,EAAQzmH,iBAAiB,YAAY,SAAUgB,GAC7Cw6B,EAAOz6B,cAAcC,EACvB,IACAylH,EAAQ37G,KAAK,MAAO1H,GAChBo4B,EAAOuqF,QACTU,EAAQG,aAAe,cAEvBH,EAAQG,aAAe,OAEzBH,EAAQI,MACV,GACF,IACE,CAAC,CACHjzH,IAAK,kBACLe,MAAO,SAAyB01D,GAC9B,OAAO,IAAA//C,UAAS+/C,IAAWi8D,GAAezwH,KAAKw0D,EACjD,GACC,CACDz2D,IAAK,cACLe,MAAO,SAAqB01D,GAC1B,GAAIA,EAAQ,CACV,IAAIjpB,GAAQipB,EAAO9qD,QAAQ,KAAO,GAAK8qD,EAAOlkD,YAAY,KAAO,GAAKkkD,EAAOh3D,OAAS,GAAK,EAC3F,OAAOg3D,EAAO30D,MAAM20D,EAAOlkD,YAAY,IAAKi7B,GAAQ,EAAGA,EACzD,CAEF,KAEKmlF,CACT,CA9DgB,CA8DdjB,IACFiB,GAAUjjG,MAAQ,CAAC,OAInB,IAAIwjG,GAAkB,SAAUjB,GAC9BrxH,EAAUsyH,EAAiBjB,GAC3B,IAJsBlhH,EAAeC,EAIjCC,GAJkBF,EAIMmiH,EAJSliH,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQgoH,GAAsC,WAAkC,IAAsCtjH,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASqjH,IAEP,OADAj0H,EAAgBuE,KAAM0vH,GACfjiH,EAAO1N,MAAMC,KAAMH,UAC5B,CAkBA,OAjBApD,EAAaizH,EAAiB,CAAC,CAC7BlzH,IAAK,OACLe,MAAO,WACL,IAAIoN,EAAQ3K,KACZ,OAAO,IAAI+jH,SAAQ,SAAUC,GAC3B,GAAIr5G,EAAM0jH,OACR,MAAM,IAAI5jH,MAAM,mBAElBu5G,EAAQr5G,EAAMyjH,QAChB,GACF,IACE,CAAC,CACH5xH,IAAK,kBACLe,MAAO,SAAyB6wH,GAC9B,OAAO,CACT,KAEKsB,CACT,CAzBsB,CAyBpBxB,IACFwB,GAAgBxjG,MAAQ,CAAC,aAEzB,IAAI0jG,GAAU,IAAIhC,GAAW,CAC7BY,GAAYW,GAAWO,KAIvB,IAAIG,GAAa,SAAUhC,GACzBzwH,EAAUyyH,EAAYhC,GACtB,IAJsBtgH,EAAeC,EAIjCC,GAJkBF,EAIMsiH,EAJSriH,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQmoH,GAAsC,WAAkC,IAAsCzjH,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASwjH,IACP,IAAIE,EAAclwH,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,GAAmBA,UAAU,GAAK,GAEtF,OADApE,EAAgBuE,KAAM6vH,GACfpiH,EAAO/P,KAAKsC,KAAM+vH,EAAa,CAAC,UAAW,cACpD,CAkBA,OAjBAtzH,EAAaozH,EAAY,CAAC,CACxBrzH,IAAK,OACLe,MAAO,SAAcgkH,GACnB,IAAI7wF,EAAO,GAMX,OALI6wF,EAAMyO,OACRt/F,EAAO1wB,KAAKy3D,MAAMw4D,QAAQ1O,EAAMyO,OAAOvvG,gBAAkB,GAChD8gG,EAAMtsG,MACfyb,EAAO1wB,KAAKy3D,MAAMu3B,WAAWuyB,EAAMtsG,IAAIwL,gBAAkB,IAEvC,IAAhBiQ,EAAKz0B,SAAiBslH,EAAMyO,QAAUzO,EAAMrsG,KACvClV,KAAKw3D,MAAM13C,QAAO,SAAUowG,GACjC,OAAOA,EAAWC,kBAAoBD,EAAWC,iBAAiB5O,EAAMrsG,KAC1E,IAEK8hD,GAAmBtmC,EAC5B,KAEKm/F,CACT,CA1BiB,CA0Bfv4D,IAEE11B,GAAS,WACX,SAASA,EAAO1sB,EAAMyN,GACpBlnB,EAAgBuE,KAAM4hC,GACtB5hC,KAAKoqD,MAAQl1C,EACblV,KAAK6iB,SAAWF,GAAW,CAAC,EAC5B3iB,KAAKquH,QAAS,CAChB,CAmCA,OAlCA5xH,EAAamlC,EAAQ,CAAC,CACpBplC,IAAK,YACLe,MAAO,WACL,MAAM,IAAIkN,MAAM,+CAClB,GACC,CACDjO,IAAK,QACLe,MAAO,WACL,IAAIoN,EAAQ3K,KACZ,OAAO,IAAI+jH,SAAQ,SAAUC,EAAS9jF,GACpCgkF,YAAW,WACT,IACE,OAAIv5G,EAAM0jH,OACDnuF,EAAO,IAAIz1B,MAAM,oBAEnBu5G,EAAQr5G,EAAMylH,YACvB,CAAE,MAAOlmH,GACP,OAAOg2B,EAAOh2B,EAChB,CACF,GACF,GACF,GACC,CACD1N,IAAK,WACLe,MAAO,WAEL,OADAyC,KAAKqwH,MAAMC,aAAatwH,KAAKoqD,OACtBpqD,KAAKqwH,KACd,GACC,CACD7zH,IAAK,QACLe,MAAO,WACLyC,KAAKquH,QAAS,CAChB,KAEKzsF,CACT,CA1Ca,GA2Cbs2B,GAAqBt2B,GAAOpmC,WAE5B,IAAI+0H,GAAY,WACd,SAASA,IACP90H,EAAgBuE,KAAMuwH,GACtBvwH,KAAKgpC,SAAW,GAChBhpC,KAAKwwH,QAAU,KACfxwH,KAAKywH,cAAgB,CACvB,CAuBA,OAtBAh0H,EAAa8zH,EAAW,CAAC,CACvB/zH,IAAK,QACLe,MAAO,SAAemzH,GACpB,IAAInnF,EAASvpC,KAAKwwH,QAClB,GAAkC,YAA9BE,EAAOC,WAAW,GAAI,IAAmB,CAC3C,IAAIC,EAAYF,EAAOG,aAAa,IAAM,GACtCC,EAAaJ,EAAOC,WAAW,GAAI,IAAI7qG,OAAOxjB,MAAM,OACpDyuH,EAAcnhH,SAASkhH,EAAW,GAAI,IACrB,OAAjB9wH,KAAKwwH,SAAoBO,IAAgB/wH,KAAKywH,eAChDzwH,KAAKywH,aAAeM,EACpB/wH,KAAKwwH,QAAUjnF,EAAS,IAAI,MAC5BvpC,KAAKgpC,SAAShpC,KAAKgpC,SAAS/sC,QAAUstC,GAExC,IACIymB,EADUzmB,EACSymB,SACvBA,EAAS4gE,GAAaI,WAAWF,EAAW,IAC5C9gE,EAAS4gE,EAAY,GAAKI,WAAWF,EAAW,IAChD9gE,EAAS4gE,EAAY,GAAKI,WAAWF,EAAW,IAChD9gE,EAAS4gE,EAAY,IAAMI,WAAWF,EAAW,GACnD,CACF,KAEKP,CACT,CA9BgB,GA+BhBA,GAAU/0H,UAAUsK,GAAK,IAEzB,IAAImrH,GAAa1kE,GAAK1jB,SAClBqoF,GAAY,WACd,SAASA,EAAUj9F,GACjBx4B,EAAgBuE,KAAMkxH,GACtBlxH,KAAKk0B,SAAWD,EAChBj0B,KAAKmxH,WAAa,GAClBnxH,KAAKoxH,UAAY,KACjBpxH,KAAKwwH,QAAU,KACfxwH,KAAKywH,cAAgB,CACvB,CAqCA,OApCAh0H,EAAay0H,EAAW,CAAC,CACvB10H,IAAK,QACLe,MAAO,SAAemzH,GACpB,IAAIW,EAAWrxH,KAAKoxH,UAChB7nF,EAASvpC,KAAKwwH,QAClB,GAAIa,GAA0C,YAA9BX,EAAOC,WAAW,GAAI,IAAmB,CACvD,IAAIC,EAAYF,EAAOG,aAAa,IAAM,GACtCC,EAAaJ,EAAOC,WAAW,GAAI,IAAI7qG,OAAOxjB,MAAM,OACpDyuH,EAAcnhH,SAASkhH,EAAW,GAAI,IACrB,OAAjB9wH,KAAKwwH,SAAoBO,IAAgB/wH,KAAKywH,eAChDzwH,KAAKywH,aAAeM,EACpB/wH,KAAKwwH,QAAUjnF,EAAS,IAAI,MAC5B8nF,EAASC,UAAU/nF,IAErB,IACIymB,EADUzmB,EACSymB,SACvBA,EAAS4gE,GAAaI,WAAWF,EAAW,IAC5C9gE,EAAS4gE,EAAY,GAAKI,WAAWF,EAAW,IAChD9gE,EAAS4gE,EAAY,GAAKI,WAAWF,EAAW,IAChD9gE,EAAS4gE,EAAY,IAAMI,WAAWF,EAAW,GACnD,MAAO,GAAIO,GAA0C,YAA9BX,EAAOC,WAAW,GAAI,IAE3C,IADA,IAAIjtG,EAAUgtG,EAAOC,WAAW,GAAI,IAAIruH,MAAM,KACrCtG,EAAI,EAAGoC,EAAIslB,EAAQznB,OAAQD,EAAIoC,IAAKpC,EAAG,CAC9C,IAAIswB,EAAQ5I,EAAQ1nB,GAAG8pB,OACnBwG,EAAMrwB,OAAS,GACjBo1H,EAASE,SAASjlG,EAEtB,KACuC,iBAA9BokG,EAAOC,WAAW,GAAI,MAC/B3wH,KAAKwwH,QAAU,KACfxwH,KAAKywH,cAAgB,EACrBzwH,KAAKoxH,UAAYC,EAAW,IAAIJ,GAAWjxH,KAAKk0B,UAChDl0B,KAAKmxH,WAAW9xH,KAAKgyH,GAEzB,KAEKH,CACT,CA9CgB,GA+ChBA,GAAU11H,UAAUsK,GAAK,IAEzB,IAAI0rH,GAAY,WACd,SAASA,EAAUt8G,GACjBzZ,EAAgBuE,KAAMwxH,GACtBxxH,KAAKoqD,MAAQl1C,EACblV,KAAKyxH,OAAS,EACdzxH,KAAK0xH,SAAW,EAChB1xH,KAAK2xH,SAAW,EAChB3xH,KAAK4xH,OAAS,EACd5xH,KAAK6xH,KAAO38G,EAAKjZ,OACjB+D,KAAKb,MACP,CAsDA,OArDA1C,EAAa+0H,EAAW,CAAC,CACvBh1H,IAAK,WACLe,MAAO,WACL,OAAOyC,KAAKoqD,MAAM9rD,MAAM0B,KAAKyxH,OAAQzxH,KAAK4xH,MAC5C,GACC,CACDp1H,IAAK,WACLe,MAAO,SAAkBgrC,GAEvB,OADAA,EAAMvoC,KAAKyxH,OAASlpF,EAAM,GACbvoC,KAAK4xH,MAAQ5xH,KAAKoqD,MAAM7hB,GAAO,GAC9C,GACC,CACD/rC,IAAK,eACLe,MAAO,SAAsBgrC,GAE3B,OADAA,EAAMvoC,KAAKyxH,OAASlpF,EAAM,GACbvoC,KAAK4xH,MAAQ5xH,KAAKoqD,MAAM57C,WAAW+5B,GAAO,EACzD,GACC,CACD/rC,IAAK,aACLe,MAAO,SAAoByjC,EAAOl+B,GAChC,IAAItE,EAAOwB,KAAKyxH,OAASzwF,EAAQ,EAC7ByW,EAAKz3C,KAAKyxH,OAAS3uH,EACvB,OAAO9C,KAAKoqD,MAAM9rD,MAAME,EAAMi5C,EAAKz3C,KAAK4xH,MAAQn6E,EAAKz3C,KAAK4xH,MAC5D,GACC,CACDp1H,IAAK,UACLe,MAAO,SAAiByjC,EAAOl+B,GAC7B,OAAO8M,SAAS5P,KAAK2wH,WAAW3vF,EAAOl+B,GAAM,GAC/C,GACC,CACDtG,IAAK,YACLe,MAAO,SAAmByjC,EAAOl+B,GAC/B,OAAOkuH,WAAWhxH,KAAK2wH,WAAW3vF,EAAOl+B,GAC3C,GACC,CACDtG,IAAK,MACLe,MAAO,WACL,OAAOyC,KAAKyxH,QAAUzxH,KAAK6xH,IAC7B,GACC,CACDr1H,IAAK,OACLe,MAAO,WACL,IAAIoY,EAAQ3V,KAAK4xH,MAAQ,EACzB5xH,KAAKyxH,OAAS97G,EAAQ3V,KAAK6xH,KAAOl8G,EAAQ3V,KAAK6xH,KAC3C7xH,KAAKyxH,OAASzxH,KAAK0xH,UACrB1xH,KAAK0xH,SAAW1xH,KAAKoqD,MAAMjiD,QAAQ,KAAMnI,KAAKyxH,QAAU,GAAKzxH,KAAK6xH,KAAO,GAAK,GAE5E7xH,KAAKyxH,OAASzxH,KAAK2xH,UACrB3xH,KAAK2xH,SAAW3xH,KAAKoqD,MAAMjiD,QAAQ,KAAMnI,KAAKyxH,QAAU,GAAKzxH,KAAK6xH,KAAO,GAAK,GAEhF7xH,KAAK4xH,MAAQ5xH,KAAK0xH,QAAU,EAAI1xH,KAAK2xH,QAAU3xH,KAAK0xH,QAAU1xH,KAAK2xH,OACrE,KAEKH,CACT,CAjEgB,GAqEhB,IAAIM,GAAYvlE,GAAKlK,QACjB0vE,GAAYxlE,GAAK/kC,QACjBwqG,GAAUzlE,GAAKh1B,MACf06F,GAAU1lE,GAAK5zB,MACfu5F,GAAW3lE,GAAKr0B,OAChBi6F,GAAS5lE,GAAKljC,KACd+oG,GAAa7lE,GAAKD,SAMlB+lE,GAAiB,wDACjBC,GAAgB,CAClB,IAAK/B,GACL,IAAKW,IAEHqB,GAAY,SAAUC,GACxBp1H,EAAUm1H,EAAWC,GACrB,IArBsBjlH,EAAeC,EAqBjCC,GArBkBF,EAqBMglH,EArBS/kH,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ8qH,GAAsC,WAAkC,IAAsCpmH,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAsBva,SAASkmH,EAAUr9G,EAAMyN,GACvB,IAAIhY,EAmBJ,OAlBAlP,EAAgBuE,KAAMuyH,IACtB5nH,EAAQ8C,EAAO/P,KAAKsC,KAAMkV,EAAMyN,IAC1BuR,SAAW,KACjBvpB,EAAMwc,OAAS,KACfxc,EAAMmjG,SAAW,KACjBnjG,EAAMqwC,OAAS,KACfrwC,EAAM+nH,eAAiB,KACvB/nH,EAAMgoH,SAAW,EACjBhoH,EAAMioH,gBAAiB,EACvBjoH,EAAMkoH,mBAAoB,EAC1BloH,EAAMmoH,kBAAoB,KAC1BnoH,EAAMooH,YAAc,EACpBpoH,EAAMqoH,SAAW,CAAC,EAClBroH,EAAMsoH,QAAU,KAChBtoH,EAAMi4C,WAAa,GACnBj4C,EAAM6iB,UAAY,KAClB7iB,EAAMuoH,iBAAmB,GACzBvoH,EAAMkY,SAASswG,SAAW,MACnBxoH,CACT,CA+SA,OA9SAlO,EAAa81H,EAAW,CAAC,CACvB/1H,IAAK,YACLe,MAAO,WACLyC,KAAKozH,iBACLpzH,KAAKqzH,aACL,IAAIC,EAAYtzH,KAAKgzH,SAAS,KAC9BhzH,KAAKk0B,SAAS6uB,UAAW,IAAAwwE,aAAYD,GAAa,GAAKA,EAAUtqF,SACjE,IAAIwqF,EAAYxzH,KAAKgzH,SAAS,KAC9BhzH,KAAKk0B,SAAS8uB,MAAQhjD,KAAKk0B,SAAS8uB,MAAM33C,QAAO,IAAAkoH,aAAYC,GAAa,GAAKA,EAAUrC,YACzFnxH,KAAKqmD,qBACLrmD,KAAKk0B,SAASqxB,SAAS,CACrBK,iBAAiB,EACjBO,oBAAqBnmD,KAAKqlB,SAASlgB,IAAIgZ,SACvCqmC,cAAexkD,KAAKqlB,SAASlgB,IAAI+Y,QACjCyX,cAAe31B,KAAK0yH,gBAExB,GACC,CACDl2H,IAAK,qBACLe,MAAO,WACL,IACIvB,EADAy3H,EAAY,CAAC,EAEb1qF,EAAS/oC,KAAKk0B,SAASonB,QAC3B,IAAKt/C,EAAI,EAAGA,EAAI+sC,EAAO9sC,SAAUD,EAAG,CAClC,IAAI03H,EAAW3qF,EAAO/sC,GAEtBy3H,EADgBC,EAASzlG,OACFylG,CACzB,CACA,IAAK13H,EAAI,EAAGA,EAAIgE,KAAK4iD,WAAW3mD,OAAQD,IAAK,CAG3C,IAFA,IAAImnB,EAAInjB,KAAK4iD,WAAW5mD,GACpBw4B,EAAW,GACN/f,EAAI,EAAGA,EAAI0O,EAAEm4B,QAAQr/C,OAAQwY,IAAK,CACzC,IACI6X,EAAQmnG,EADDtwG,EAAEm4B,QAAQ7mC,IAErB+f,EAAWA,EAASnpB,OAAOihB,EAAM6H,UAAU71B,QAC7C,CACA,IAAIgoD,EAAW,IAAI8rE,GAAWpyH,KAAKk0B,SAAU/Q,EAAE8K,MAAOjyB,EAAI,GAC1DsqD,EAAS9xB,SAAWA,EACpBx0B,KAAKk0B,SAAS0uB,WAAW5mD,GAAKsqD,CAChC,CACF,GACC,CACD9pD,IAAK,aACLe,MAAO,WAGL,IAFA,IAAIo2H,EAAa,CAAC,EACd1/F,EAAUj0B,KAAKk0B,SACVl4B,EAAI,EAAGA,EAAIi4B,EAAQqnB,QAAQr/C,OAAQD,IAAK,CAC/C,IAAIswB,EAAQ2H,EAAQqnB,QAAQt/C,GAC5B23H,EAAWrnG,EAAM2B,MAAMzf,WAAW,IAAM8d,CAC1C,CACF,GACC,CACD9vB,IAAK,iBACLe,MAAO,WAIL,IAHA,IAAIo4B,EAAgB31B,KAAK0yH,eAAiB,CAAC,EACvCz+F,EAAUj0B,KAAKk0B,SACf/H,EAAQ8H,EAAQrH,OACX5wB,EAAI,EAAG0+E,EAAKvuD,EAAMlwB,OAAQD,EAAI0+E,IAAM1+E,EAAG,CAC9C,IAAIqa,EAAO8V,EAAMnwB,GACjB25B,EAActf,EAAKgQ,QAAUhQ,CAC/B,CAGA,IAFA,IAAIwQ,EAAQoN,EAAQkW,OAChB5+B,EAASvL,KAAKuL,OACTkJ,EAAI,EAAGm/G,EAAK/sG,EAAM5qB,OAAQwY,EAAIm/G,IAAMn/G,EAAG,CAC9C,IAAI6B,EAAOuQ,EAAMpS,GACb6B,EAAKoT,OAASpT,EAAKmT,OACrBle,EAAOzB,MAAM,gCAEfwM,EAAKmT,MAAQkM,EAAcrf,EAAKmT,QAAU,KAC1CnT,EAAKoT,OAASiM,EAAcrf,EAAKoT,SAAW,IAC9C,CACF,GACC,CACDltB,IAAK,aACLe,MAAO,SAAoBmzH,GACzB,GAAsB,IAAlB1wH,KAAK2yH,SAAT,CAGA,IAAIvsG,EAAiC,KAA3BsqG,EAAOG,aAAa,GAC1BxqG,EAASD,EAAMsqG,EAAOmD,QAAQ,EAAG,IAAMnD,EAAOmD,QAAQ,EAAG,IACzDt1H,EAAOmyH,EAAOC,WAAW,GAAI,IAC7BjjG,EAASgjG,EAAOoD,SAAS,IACzB1wE,EAAUstE,EAAOC,WAAW,GAAI,IAAI7qG,OACpCiuG,EAAUrD,EAAOoD,SAAS,IAC1BE,EAAStD,EAAOmD,QAAQ,GAAI,IAC5Bl/F,EAAQ+7F,EAAOoD,SAAS,IACxBrxH,EAAIiuH,EAAOuD,UAAU,GAAI,IACzBvxH,EAAIguH,EAAOuD,UAAU,GAAI,IACzBvkG,EAAIghG,EAAOuD,UAAU,GAAI,IACzB3tG,EAAYoqG,EAAOuD,UAAU,GAAI,IACjCtmG,EAAa+iG,EAAOuD,UAAU,GAAI,IAClCluH,EAAU2qH,EAAOC,WAAW,GAAI,IAAI7qG,QA7H9C,SAAyBvnB,GACvB,IAAI21H,EAAkC,IAAvB31H,EAAKunB,OAAO7pB,OAC3B,OAAOsC,EAAKD,MAAM,EAAG41H,EAAW,EAAI,GAAGpuG,MACzC,CA0HwDquG,CAAgB51H,GAC9DioB,EAASkqG,EAAOmD,QAAQ,GAAI,KAAO,EACvC,IAAI7zH,KAAKqlB,SAASlgB,IAAIiY,SACJ,QAAZgmC,GAAiC,QAAZA,EAD3B,CAKA7kD,EAAOA,EAAKunB,OACZ,IAAIjd,EAAOkpH,GAAUjpG,UAAU/iB,GAC3BogB,EAAO4rG,GAAUqC,KAAK71H,GACtB+tB,EAAQtsB,KAAKmnB,OACZmF,GAASA,EAAMlF,YAAc2sG,IAChC/zH,KAAKmnB,OAASmF,EAAQtsB,KAAKk0B,SAASyqB,SAASo1E,IAAY/zH,KAAKk0B,SAASq9F,SAASwC,GAChF/zH,KAAK8tG,SAAW,MAElB,IAAI5nF,EAAUlmB,KAAK8tG,SACd5nF,GAAWA,EAAQs/B,gBAAkBwuE,GAAU9tG,EAAQu/B,aAAe9wB,IACzE30B,KAAK8tG,SAAW5nF,EAAUoG,EAAM+I,WAAW+tB,EAAS4wE,EAAQr/F,IAE9D,IAAIlH,EAAM,IAAI,MAAQhrB,EAAGC,EAAGgtB,GAC5BxJ,EAAQ2H,QAAQtvB,EAAMsK,EAAM4kB,EAAKtH,EAAMC,EAAKC,EAAQqH,EAAQpH,EAAWqH,EAAYnH,EAdnF,CApBA,CAmCF,GACC,CACDhqB,IAAK,eACLe,MAAO,WACLyC,KAAK2yH,UAAY,CACnB,GACC,CACDn2H,IAAK,eACLe,MAAO,SAAsBmzH,GAC3B,IAAI2D,EAAU3D,EAAOmD,QAAQ,EAAG,IAC5BS,EAAU5D,EAAOmD,QAAQ,GAAI,IAC7BU,EAAU7D,EAAOmD,QAAQ,GAAI,IAC7BW,EAAU9D,EAAOmD,QAAQ,GAAI,IAC7BY,EAAU/D,EAAOmD,QAAQ,GAAI,IAC7B5/F,EAAUj0B,KAAKk0B,SACfogG,GAAWA,EAAUD,GACvBpgG,EAAQua,QAAQ6lF,EAASC,EAAS,EAAGnC,GAAOvmG,SAAS5C,SAAS,GAE5DurG,GAAWA,EAAUF,GACvBpgG,EAAQua,QAAQ6lF,EAASE,EAAS,EAAGpC,GAAOvmG,SAAS5C,SAAS,GAE5DwrG,GAAWA,EAAUH,GACvBpgG,EAAQua,QAAQ6lF,EAASG,EAAS,EAAGrC,GAAOvmG,SAAS5C,SAAS,GAE5DyrG,GAAWA,EAAUJ,GACvBpgG,EAAQua,QAAQ6lF,EAASI,EAAS,EAAGtC,GAAOvmG,SAAS5C,SAAS,EAElE,GACC,CACDxsB,IAAK,eACLe,MAAO,SAAsBmzH,GAC3B,IAAIpiH,EAAMoiH,EAAOC,WAAW,GAAI,IAC5B+D,EAAWpmH,EAAInG,QAAQ,KAE3B,GADAnI,KAAKkzH,iBAAmBwB,EAAW,EAAIpmH,EAAIlC,UAAU,EAAGsoH,GAAU5uG,OAAS9lB,KAAKkzH,iBAClD,WAA1BlzH,KAAKkzH,iBACPlzH,KAAKwtB,UAAY,CACfjnB,OAAQ,GACR+0C,QAAS,IAEXt7C,KAAKwtB,UAAUjnB,OAASqJ,SAAStB,EAAIlC,UAAUsoH,EAAW,EAAGpmH,EAAInG,QAAQ,MAAO,IAChFnI,KAAK4iD,WAAWvjD,KAAKW,KAAKwtB,gBACrB,GAA8B,aAA1BxtB,KAAKkzH,kBAAqD,MAAlBlzH,KAAKwtB,UACtDxtB,KAAKwtB,UAAUS,MAAQ3f,EAAIlC,UAAUsoH,EAAW,EAAGpmH,EAAInG,QAAQ,MAAM2d,YAChE,GAA8B,UAA1B9lB,KAAKkzH,kBAAkD,MAAlBlzH,KAAKwtB,UAAmB,CACtE,IAAImnG,EAAWrmH,EAAIlC,UAAUsoH,EAAW,EAAG,IAAI5uG,OAC3C8uG,EAAWD,EAASA,EAAS14H,OAAS,GACzB,MAAb24H,GAAiC,MAAbA,IACtBD,EAAWA,EAASr2H,MAAM,GAAI,IAGhC,IAAIyqC,GADJ4rF,EAAWA,EAAS7oH,QAAQ,OAAQ,KACdxJ,MAAM,KAC5BtC,KAAKwtB,UAAU8tB,QAAUt7C,KAAKwtB,UAAU8tB,QAAQjwC,OAAO09B,EACzD,CACF,GACC,CACDvsC,IAAK,eACLe,MAAO,SAAsBmzH,GAC3B,IAAImE,EAAYnE,EAAOmD,QAAQ,EAAG,IAC9BiB,EAAS90H,KAAKgzH,SAAS6B,GAC3B,IAAI,IAAAtB,aAAYuB,GAAS,CACvB,IAAIC,EAAezC,GAAcuC,GACL,mBAAjBE,IACT/0H,KAAKgzH,SAAS6B,GAAaC,EAAS,IAAIC,EAAa/0H,KAAKk0B,UAE9D,EACK,IAAAq/F,aAAYuB,IACfA,EAAOj3F,MAAM6yF,EAEjB,GACC,CACDl0H,IAAK,cACLe,MAAO,SAAqBmzH,GAC1B,IAAItsF,EAASpkC,KAEbA,KAAKg1H,gBAAgBtE,EADR,CAAC,GAAI,GAAI,GAAI,KACW,SAAUt1H,GAC7CgpC,EAAOlQ,SAAS+gG,SAAS75H,GACzBgpC,EAAOlQ,SAASuuB,WAAWpjD,KAAKjE,EAClC,GACF,GACC,CACDoB,IAAK,cACLe,MAAO,SAAqBmzH,GAC1B,IAAI34D,EAAS/3D,KAEbA,KAAKg1H,gBAAgBtE,EADR,CAAC,GAAI,GAAI,GAAI,KACW,SAAUt1H,GAC7C28D,EAAO7jC,SAASghG,SAAS95H,EAC3B,GACF,GACC,CACDoB,IAAK,kBACLe,MAAO,SAAyBmzH,EAAQyE,EAAMC,GAC5C,IAKIC,EAAe3E,EAAOmD,QAAQ,EAAG,IACjCyB,EAAgB5E,EAAOC,WAAW,GAAI,IAAI7qG,OAC1C4R,EAAUg5F,EAAOC,WAAW,GAAI,IAAI7qG,OACpCyvG,EAAY7E,EAAOmD,QAAQ,GAAI,IAC/Bp8F,EAAai5F,EAAOmD,QAAQ,GAAI,IAChC2B,EAAU9E,EAAOmD,QAAQ,GAAI,IAC7B4B,EAAQ/E,EAAOmD,QAAQ,GAAI,IAC3B6B,EAAShF,EAAOmD,QAAQ,GAAI,IAC5B8B,EAAejF,EAAOC,WAAWwE,EAbvB,GAasCA,EAXxC,GAWsD,GAAG3mH,WAAW,GAC5EonH,EAAalF,EAAOC,WAAWwE,EAZvB,GAYoCA,EAZpC,GAYkD,GAAG3mH,WAAW,GACxEqnH,EAAsBnF,EAAOmD,QAAQsB,EAdxB,GAc0CA,EAd1C,GAc6D,GAC1EW,EAAWpF,EAAOC,WAAWwE,EAfhB,GAemC,EAAGA,EAftC,GAeyD,GACtEY,EAAa,EACbD,EAAS75H,OAAS,IACpB85H,EAAaD,EAAStnH,WAAW,IAEnC,IAMIpT,EANA46H,EAAoBtF,EAAOmD,QAAQsB,EAlBxB,GAkBwCA,EAlBxC,GAkByD,GAEpEc,EAAW,GADfH,EAAWpF,EAAOC,WAAWwE,EAnBd,GAmB+B,EAAGA,EAnBlC,GAmBmD,IAErDl5H,OAAS,IACpBg6H,EAAWH,EAAStnH,WAAW,IAGjC,IAAI0nH,EAAKl2H,KAAKg7C,OACd,GAzBc,KAyBV01E,EAAOG,aAAa,GAAgB,CAC3B,OAAPqF,GAAeA,EAAG9uG,YAAckuG,IAClCY,EAAK,KACLl2H,KAAKg7C,OAAS,MAEL,OAAPk7E,GACFl2H,KAAKg7C,OAAS5/C,EAAM,IAAI62H,GAAQqD,EAAeE,GAC/CJ,EAAMh6H,IAENA,EAAM86H,EAER,IAAIt9G,EAAS,IAAIs5G,GAAS92H,EAAK4E,KAAKk0B,SAAS+B,iBAAiB0/F,EAAcE,EAAqBE,GAAa/1H,KAAKk0B,SAAS+B,iBAAiB2/F,EAAYI,EAAmBC,GAAWx+F,EAAYg+F,EAAOC,GAC1Mt6H,EAAIguD,UAAUxwC,GACd5Y,KAAKk0B,SAASuuB,WAAWpjD,KAAKuZ,EAChC,MAEEw8G,EADAh6H,EAAM,IAAI42H,GAAQv6F,EAAYz3B,KAAKk0B,SAAS+B,iBAAiB0/F,EAAcE,EAAqBE,GAAa/1H,KAAKk0B,SAAS+B,iBAAiB2/F,EAAYI,EAAmBC,GAAWZ,EAAcC,EAAe59F,EAAS69F,GAGhO,GACC,CACD/4H,IAAK,eACLe,MAAO,SAAsBmzH,GAC3B,IAAI5tE,EAAW9iD,KAAKk0B,SAAS4uB,SAC7BA,EAASqzE,eAAiBzF,EAAOC,WAAW,GAAI,IAAI7qG,OACpDg9B,EAASszE,KAAO1F,EAAOC,WAAW,GAAI,IAAI7qG,OAC1C,IAAIhgB,EAAK4qH,EAAOC,WAAW,GAAI,IAAI7qG,OACnCg9B,EAASh9C,GAAKA,EACVA,IACF9F,KAAKk0B,SAAS31B,KAAOuH,GAEvBg9C,EAASktE,OAAS,KACpB,GACC,CACDxzH,IAAK,cACLe,MAAO,SAAqBmzH,GAC1B,IAAI5tE,EAAW9iD,KAAKk0B,SAAS4uB,SAC7BA,EAASuzE,MAAQvzE,EAASuzE,OAAS,GACnC,IAAI9yH,EAAOmtH,EAAOmD,QAAQ,EAAG,KAAO,EACpC/wE,EAASuzE,MAAM9yH,EAAO,GAAKmtH,EAAOC,WAAW,GAAI,IAAI7qG,MACvD,GACC,CACDtpB,IAAK,YACLe,MAAO,WAGL,IAFA,IAAImzH,EAAS,IAAIc,GAAUxxH,KAAKoqD,OAC5B/9C,EAASrM,KAAKk0B,SAAW,IAAI49F,IACzBpB,EAAO5tH,OAAO,CACpB,IAAI+C,EAAM6qH,EAAOC,WAAW,EAzTnB,GA0TL9U,EAAO0W,EAAU+D,WAAWzwH,GACZ,mBAATg2G,GACTA,EAAKn+G,KAAKsC,KAAM0wH,GAElBA,EAAOvxH,MACT,CAOA,GANAa,KAAK84B,YACL94B,KAAK0yH,eAAiB,KACtB1yH,KAAKg7C,OAAS,KACdh7C,KAAK8tG,SAAW,KAChB9tG,KAAKmnB,OAAS,KACdnnB,KAAKk0B,SAAW,KACc,IAA1B7nB,EAAOsoC,eACT,MAAM,IAAIlqC,MAAM,yCAElB,OAAO4B,CACT,IACE,CAAC,CACH7P,IAAK,mBACLe,MAAO,SAA0B2X,GAC/B,OAAO,IAAAhC,UAASgC,IAASm9G,GAAe5zH,KAAKyW,EAC/C,KAEKq9G,CACT,CAxUgB,CAwUd3wF,IACF7b,GAAgBwsG,GAAW,aAAc,CACvCgE,OAAQhE,GAAU/2H,UAAUg7H,aAC5B,SAAUjE,GAAU/2H,UAAUi7H,YAC9B,SAAUlE,GAAU/2H,UAAUk7H,WAC9BC,OAAQpE,GAAU/2H,UAAUk7H,WAC5BE,OAAQrE,GAAU/2H,UAAUq7H,aAC5BC,OAAQvE,GAAU/2H,UAAUu7H,aAC5BC,OAAQzE,GAAU/2H,UAAUy7H,aAC5BC,OAAQ3E,GAAU/2H,UAAU27H,aAC5B,SAAU5E,GAAU/2H,UAAU47H,YAC9B,SAAU7E,GAAU/2H,UAAU67H,YAC9B,SAAU9E,GAAU/2H,UAAUk7H,WAC9B,SAAUnE,GAAU/2H,UAAUk7H,WAC9B,SAAUnE,GAAU/2H,UAAUk7H,WAC9B,SAAUnE,GAAU/2H,UAAUk7H,WAC9B,SAAUnE,GAAU/2H,UAAUk7H,WAC9B,SAAUnE,GAAU/2H,UAAUk7H,WAC9B,SAAUnE,GAAU/2H,UAAUk7H,WAC9B,SAAUnE,GAAU/2H,UAAUk7H,WAC9B,SAAUnE,GAAU/2H,UAAUk7H,aAEhCnE,GAAUtC,QAAU,CAAC,OACrBsC,GAAUvjC,WAAa,CAAC,OAAQ,QAIhC,IAAIsoC,GAAY/qE,GAAKlK,QACjBk1E,GAAYhrE,GAAK/kC,QACjBwR,GAASuzB,GAAKvzB,OACdw+F,GAASjrE,GAAKljC,KACdouG,GAAkB,CACpBvlG,EAAG,EACHugF,EAAG,EACHjqF,EAAG,EACHC,EAAG,GAEDivG,GAAiB,8CACjBC,GAAY,SAAUnF,GACxBp1H,EAAUu6H,EAAWnF,GACrB,IAfsBjlH,EAAeC,EAejCC,GAfkBF,EAeMoqH,EAfSnqH,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQiwH,GAAsC,WAAkC,IAAsCvrH,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAgBva,SAASsrH,EAAUziH,EAAMyN,GACvB,IAAIhY,EAUJ,OATAlP,EAAgBuE,KAAM23H,IACtBhtH,EAAQ8C,EAAO/P,KAAKsC,KAAMkV,EAAMyN,IAC1BuR,SAAW,KACjBvpB,EAAMmjG,SAAW,KACjBnjG,EAAM+nH,eAAiB,KACvB/nH,EAAMgoH,SAAW,EACjBhoH,EAAMooH,YAAc,EACpBpoH,EAAMktH,sBAAuB,EAC7BltH,EAAMkY,SAASswG,SAAW,MACnBxoH,CACT,CA2jBA,OA1jBAlO,EAAak7H,EAAW,CAAC,CACvBn7H,IAAK,qBACLe,MAAO,SAA4B4uB,EAAOtF,GAExC,IADA,IAAIjR,EAAQuW,EAAMlwB,OACTD,EAAI,EAAGA,EAAI4Z,EAAO5Z,IAGzB,IAFA,IAAI87H,EAAS3rG,EAAMnwB,GAAG8J,GAClBiyH,EAAalxG,EAAM5qB,OACdwY,EAAI,EAAGA,EAAIsjH,EAAYtjH,IAAK,CACnC,IAAIujH,EAAOnxG,EAAMpS,GAAGwjH,UAAU31H,MAAM,KAChC01H,EAAK,KAAOF,IACdjxG,EAAMpS,GAAGkB,MAAQ3Z,GAEfg8H,EAAK,KAAOF,IACdjxG,EAAMpS,GAAG3R,IAAM9G,EAEnB,CAEJ,GACC,CACDQ,IAAK,gBACLe,MAAO,SAAuB+oD,EAAU4xE,GACtC,IAAIprB,EAAW,IAAI9zE,GAAOstB,EAASxgD,GAAIwgD,EAAS6xE,UAAW,IAAI,MAAQnH,WAAW1qE,EAAS7jD,GAAIuuH,WAAW1qE,EAAS5jD,GAAI,GAAI4jD,EAAS8xE,SAAU9xE,GACnH,aAAvBA,EAAS+xE,YACXvrB,EAASxzE,QAAU,IAAI,MAAQ,EAAG,EAAG,IAEZ,0BAAvBgtB,EAASgyE,YACXxrB,EAAS1zE,QAAUxpB,SAAS02C,EAAS6xE,UAAW,KAAO,GAE9B,+BAAvB7xE,EAASgyE,YACXxrB,EAASzzE,QAAUzpB,SAAS02C,EAAS6xE,UAAW,KAAO,GAEzDD,EAAY74H,KAAKytG,EACnB,GACC,CACDtwG,IAAK,iBACLe,MAAO,SAAwB+oD,EAAU4xE,GAIvC,GAHKj6H,MAAMU,QAAQu5H,KACjBA,EAAc,IAEZ5xE,EACF,GAAIroD,MAAMU,QAAQ2nD,GAEhB,IADA,IAAI1wC,EAAQ0wC,EAASrqD,OACZD,EAAI,EAAGA,EAAI4Z,EAAO5Z,IACrBsqD,EAAStqD,GAAGsqD,WACd4xE,EAAcA,EAAY7sH,OAAOrL,KAAKu4H,eAAejyE,EAAStqD,GAAGsqD,YAEnEtmD,KAAKw4H,cAAclyE,EAAStqD,GAAIk8H,QAG9B5xE,EAASA,UACPA,EAASA,WACX4xE,EAAcA,EAAY7sH,OAAOrL,KAAKu4H,eAAejyE,EAASA,YAGlEtmD,KAAKw4H,cAAclyE,EAAU4xE,GAGjC,OAAOA,CACT,GACC,CACD17H,IAAK,kBACLe,MAAO,SAAyB+oD,EAAUn6B,GACxC,IAEInwB,EACAyY,EAHAyjH,EAAcl4H,KAAKu4H,eAAejyE,GAClC1wC,EAAQuW,EAAMlwB,OAGlB,IAAKD,EAAI,EAAGA,EAAI4Z,EAAO5Z,IAAK,CAC1B,IAAI87H,EAAS3rG,EAAMnwB,GAAG8J,GACtB,IAAK2O,EAAI,EAAGA,EAAIyjH,EAAYj8H,OAAQwY,IACfyjH,EAAYzjH,GAAGmY,OAAOtqB,MAAM,KAAK,KAC/Bw1H,IACd3rG,EAAMnwB,GAAGy8H,YACZtsG,EAAMnwB,GAAGy8H,UAAY,IAEvBtsG,EAAMnwB,GAAGy8H,UAAUp5H,KAAK64H,EAAYzjH,IAG1C,CACA,IAsCIikH,EAtCAnpD,EAAU,CAAC,EACXopD,EAAW,KACXn/F,EAAS,IACTC,EAAO,IAAI,MAAQD,EAAQA,EAAQA,GACnCE,EAAS,IAAI,OAASF,GAASA,GAASA,GAC5C,SAASo/F,EAAejxH,IACtBgxH,EAAWppD,EAAQ5nE,KAEjBuwH,EAAYzjH,GAAGmY,OAAOvtB,KAAKs5H,EAAS9wH,EAExC,CACA,SAASgxH,EAAUlxH,IACjBgxH,EAAWppD,EAAQ5nE,MAEjB8xB,EAAKnxB,IAAItG,KAAKwY,IAAIif,EAAKh3B,EAAGk2H,EAASl2H,GAAIT,KAAKwY,IAAIif,EAAK/2B,EAAGi2H,EAASj2H,GAAIV,KAAKwY,IAAIif,EAAK/J,EAAGipG,EAASjpG,IAC/FgK,EAAOpxB,IAAItG,KAAK8M,IAAI4qB,EAAOj3B,EAAGk2H,EAASl2H,GAAIT,KAAK8M,IAAI4qB,EAAOh3B,EAAGi2H,EAASj2H,GAAIV,KAAK8M,IAAI4qB,EAAOhK,EAAGipG,EAASjpG,IACvGkpG,EAAejxH,GAEnB,CACA,IAAK3L,EAAI,EAAGA,EAAImwB,EAAMlwB,OAAQD,IAC5BuzE,EAAQpjD,EAAMnwB,GAAG8J,IAAM,CAAC,EACxBypE,EAAQpjD,EAAMnwB,GAAG8J,IAAIrD,EAAI0pB,EAAMnwB,GAAG88H,GAC9B3sG,EAAMnwB,GAAG+8H,KACXxpD,EAAQpjD,EAAMnwB,GAAG8J,IAAIrD,EAAI0pB,EAAMnwB,GAAG+8H,IAEpCxpD,EAAQpjD,EAAMnwB,GAAG8J,IAAIrD,EAAIuuH,WAAWzhD,EAAQpjD,EAAMnwB,GAAG8J,IAAIrD,GACzD8sE,EAAQpjD,EAAMnwB,GAAG8J,IAAIpD,EAAIypB,EAAMnwB,GAAGg9H,GAC9B7sG,EAAMnwB,GAAGi9H,KACX1pD,EAAQpjD,EAAMnwB,GAAG8J,IAAIpD,EAAIypB,EAAMnwB,GAAGi9H,IAEpC1pD,EAAQpjD,EAAMnwB,GAAG8J,IAAIpD,EAAIsuH,WAAWzhD,EAAQpjD,EAAMnwB,GAAG8J,IAAIpD,GACzD6sE,EAAQpjD,EAAMnwB,GAAG8J,IAAI4pB,EAAI,MACrBvD,EAAMnwB,GAAGk9H,KACX3pD,EAAQpjD,EAAMnwB,GAAG8J,IAAI4pB,EAAIvD,EAAMnwB,GAAGk9H,IAEpC3pD,EAAQpjD,EAAMnwB,GAAG8J,IAAI4pB,EAAIshG,WAAWzhD,EAAQpjD,EAAMnwB,GAAG8J,IAAI4pB,GACzD6/C,EAAQpjD,EAAMnwB,GAAG8J,IAAI+B,EAAIskB,EAAMnwB,GAGjC,IAAKyY,EAAI,EAAGA,EAAIyjH,EAAYj8H,OAAQwY,IACH,OAA3ByjH,EAAYzjH,GAAG6kB,SACjBG,EAAKnxB,IAAIkxB,EAAQA,EAAQA,GACzBE,EAAOpxB,KAAKkxB,GAASA,GAASA,GAC9Bk/F,EAAWR,EAAYzjH,GAAGmY,OAAOtqB,MAAM,KACvC41H,EAAYzjH,GAAGmY,OAAS,GACxB8rG,EAASrvH,QAAQwvH,GACjBX,EAAYzjH,GAAG6kB,QAAQM,WAAWH,EAAMC,GACxCw+F,EAAYzjH,GAAG6kB,QAAQrO,eAAe,MAEtCytG,EAAWR,EAAYzjH,GAAGmY,OAAOtqB,MAAM,KACvC41H,EAAYzjH,GAAGmY,OAAS,GACxB8rG,EAASrvH,QAAQuvH,IAGrBrpD,EAAU,IACZ,GACC,CACD/yE,IAAK,gBACLe,MAAO,SAAuB47H,GAkC5B,IAAI9sH,EAAS,CAAC,EAId,OAHI8sH,EAAIC,WAAWn9H,QA/BnB,SAASo9H,EAAUC,EAASjtH,GAC1B,GAAyB,UAArBitH,EAAQC,UAAqD,KAA7BD,EAAQE,UAAU1zG,OAAtD,CAGA,IAAI2zG,EAAW,CAAC,EAChBA,EAASH,QAAUA,EACnB,IATet8H,EAmBXf,EACAD,EAXA09H,EAAWrtH,EAAOitH,EAAQC,UAY9B,GAXIG,GAVW18H,EAWA08H,EAV+B,mBAAvCp9H,OAAOd,UAAU6C,SAAS0B,MAAM/C,GAWnCqP,EAAOitH,EAAQC,UAAY,CAACG,EAAUD,GAEtCptH,EAAOitH,EAAQC,UAAUl6H,KAAKo6H,IAGhCptH,EAAOitH,EAAQC,UAAYE,EAIzBH,EAAQj9D,WAEV,IADApgE,EAASq9H,EAAQj9D,WAAWpgE,OACvBD,EAAI,EAAGA,EAAIC,EAAQD,IAAK,CAC3B,IAAI82D,EAAYwmE,EAAQj9D,WAAWrgE,GACnCy9H,EAAS3mE,EAAUymE,UAAYzmE,EAAU0mE,SAC3C,CAGF,IADAv9H,EAASq9H,EAAQF,WAAWn9H,OACvBD,EAAI,EAAGA,EAAIC,EAAQD,IACtBq9H,EAAUC,EAAQF,WAAWp9H,GAAIy9H,EAxBnC,CA0BF,CAGEJ,CAAUF,EAAIC,WAAW,GAAI/sH,GAExBA,CACT,GACC,CACD7P,IAAK,wBACLe,MAAO,SAA+B2X,EAAMykH,GAC1C,IAAK,IAAIn9H,KAAO0Y,EACd,GAAY,YAAR1Y,EAEG,GAAY,aAARA,GACT,GAAI0Y,EAAKoxC,WACHpxC,EAAKoxC,SAASszE,WAAa1kH,EAAKoxC,SAASszE,UAAUvjH,MACrDsjH,EAAOt6H,KAAK6V,GAEVjX,MAAMU,QAAQuW,EAAKoxC,WACrB,IAAK,IAAItqD,EAAI,EAAGA,EAAIkZ,EAAKoxC,SAASrqD,OAAQD,IACpCkZ,EAAKoxC,SAAStqD,GAAG49H,WAAa1kH,EAAKoxC,SAAStqD,GAAG49H,UAAUvjH,MAC3DsjH,EAAOt6H,KAAK,CACVinD,SAAUpxC,EAAKoxC,SAAStqD,UAMzBkZ,EAAK1Y,IAAsB,OAAd0Y,EAAK1Y,IAAwC,WAAvBrB,EAAQ+Z,EAAK1Y,KACzDwD,KAAK65H,sBAAsB3kH,EAAK1Y,GAAMm9H,EAG5C,GACC,CACDn9H,IAAK,oBACLe,MAAO,SAA2BqO,GAChC,IAGIkuH,EAFAC,GADS,IAAIC,WACAC,gBAAgBruH,EAAM,mBACnCsuH,EAAgBl6H,KAAKm6H,cAAcJ,GAEnCl9H,EAAOmD,KAqFT85H,EADEI,EAAcE,IACNF,EAAcE,IAEdF,EAEZ,IAAIG,EAAU,GACVC,EAAe,GAWnB,OAVAt6H,KAAK65H,sBAAsBC,EAASQ,GAChCt6H,KAAK63H,sBAAwByC,EAAar+H,OAAS,GACrDq+H,EAAap4F,OAAO,EAAGo4F,EAAar+H,OAAS,GAE/Cq+H,EAAajxH,SAAQ,SAAUm4C,GAC7B,IAAI+4E,EA/FN,SAAkCrlH,GAChC,IAgBImB,EAhBA8V,EAAQ,GACZ,GAAIjX,EAAKoxC,UAAYpxC,EAAKoxC,SAASszE,WAAa1kH,EAAKoxC,SAASszE,UAAUvjH,KACjEpY,MAAMU,QAAQuW,EAAKoxC,SAASszE,UAAUvjH,MAGzC8V,EAAQjX,EAAKoxC,SAASszE,UAAUvjH,KAFhC8V,EAAM9sB,KAAK6V,EAAKoxC,SAASszE,UAAUvjH,WAIhC,IAAKnB,EAAKoxC,SAIf,MAHU,CACVk0E,WAAiB,KACjBA,YAAkB,GAGhBtlH,EAAKoxC,SAASA,UAChBzpD,EAAK49H,gBAAgBvlH,EAAKoxC,SAASA,SAAUn6B,GAI/C,IADA,IAAIvW,EAAQuW,EAAMlwB,OACTD,EAAI,EAAGA,EAAI4Z,EAAO5Z,KACzBqa,EAAO8V,EAAMnwB,IACRgsH,MAAQ,GAEf,IAQI1xG,EARAokH,EAAY,GACZxlH,EAAKoxC,SAASq0E,WAAazlH,EAAKoxC,SAASq0E,UAAUrkH,OAChDrY,MAAMU,QAAQuW,EAAKoxC,SAASq0E,UAAUrkH,MAGzCokH,EAAYxlH,EAAKoxC,SAASq0E,UAAUrkH,KAFpCokH,EAAUr7H,KAAK6V,EAAKoxC,SAASq0E,UAAUrkH,OAM3CV,EAAQ8kH,EAAUz+H,OAClBY,EAAK+9H,mBAAmBzuG,EAAOuuG,GAe/B,IAAK,IAAI77H,EAAK,EAAGA,EAAK+W,EAAO/W,IAC3B,IAbAwX,EAAO8V,GADP7V,EAAOokH,EAcU77H,IAbC8W,UAIlBU,EAAK2xG,MAAM3oH,KAAKiX,EAAKxT,MACrBuT,EAAO8V,EAAM7V,EAAKxT,QAIlBuT,EAAK2xG,MAAM3oH,KAAKiX,EAAKX,OACd,IAGP,CAGA,IAAIklH,EAAYvkH,EAAKgjH,QAAQvkE,aAAa,SACtC+lE,EAAKlrH,SAASirH,EAAW,IAG7B,GAFAH,EAAU77H,GAAI0qB,MAAQ,EACtBmxG,EAAU77H,GAAIgK,KAAO2uH,GAAO5rG,SAAS5C,QACjC8xG,EAAK,EACPJ,EAAU77H,GAAI0qB,MAAQuxG,MACjB,CACL,IAAIvxG,EAAQkuG,GAAgBoD,QACd52H,IAAVslB,IACFmxG,EAAU77H,GAAI0qB,MAAQA,EACJ,MAAdsxG,IACFH,EAAU77H,GAAIgK,KAAO2uH,GAAO5rG,SAAS1C,UAG3C,CAfA,CAiBFtT,EAAQuW,EAAMlwB,OACd,IAAK,IAAIu/C,EAAM,EAAGA,EAAM5lC,EAAO4lC,KAC7BnlC,EAAO8V,EAAMqvB,IACRwsE,MAAMnpE,OAEb,IAAIk8E,EAASl+H,EAAKm+H,kBAAkB7uG,EAAO,GACvC8uG,EAAY,CAAC,EAOjB,OANAA,EAAU9uG,MAAQA,EAClB8uG,EAAUp0G,MAAQ6zG,EAClBO,EAAUF,OAASA,EAAOG,WAC1BD,EAAUrlH,MAAQ5T,KAAKwY,IAAI,EAAGugH,EAAOI,aACrCF,EAAUpmG,MAAQ,EAClBomG,EAAUG,YAAcrB,EACjBkB,CACT,CAaWI,CAAyB75E,GAC9B+4E,EAAGpuG,MAAMlwB,OAAS,GACpBo+H,EAAQh7H,KAAKk7H,EAEjB,IACOF,CACT,GACC,CACD79H,IAAK,aACLe,MAAO,SAAoB+9H,EAAQC,GAEjC,OAAQA,GADI,IACcD,CAC5B,GACC,CACD9+H,IAAK,eACLe,MAAO,SAAsB6kB,GAG3B,MAAO,CACLm5G,MAAOn5G,IAHG,GAIVk5G,OAHS,MAGDl5G,EAEZ,GACC,CACD5lB,IAAK,oBACLe,MAAO,SAA2B4uB,EAAOqvG,GACvC,IACI11H,EADAo1H,EAAa,IAAIj9H,MAAMkuB,EAAMlwB,QAEjC,IAAK6J,EAAK,EAAGA,EAAKo1H,EAAWj/H,OAAQ6J,IACnCo1H,EAAWp1H,GAAM9F,KAAKy7H,WAAW,EAAGD,GAKtC,IAHA,IAAIE,EAAe,GACfC,EAAc,EACdC,EAAezvG,EAAMlwB,OAClB2/H,EAAe,GAAG,CACvBD,IACA,IAAIE,GAAW,EACf,IAAK/1H,EAAK,EAAGA,EAAKo1H,EAAWj/H,OAAQ6J,IACnC,GAAiD,IAA7C9F,KAAK87H,aAAaZ,EAAWp1H,IAAKw1H,OAAc,CAClDO,EAAU/1H,EACV,KACF,CAEF,GAAI+1H,EAAU,EACZ,MAKF,IAHAH,EAAar8H,KAAK8sB,EAAM0vG,IACxBX,EAAWW,GAAW77H,KAAKy7H,WAAWE,EAAaH,GACnDI,IACOF,EAAaz/H,OAAS,GAAG,CAC9B,IAAI44B,EAAO6mG,EAAav3B,QACxB,GAAKtvE,EAGL,IAAK,IAAI74B,EAAI,EAAGA,EAAI64B,EAAKmzF,MAAM/rH,OAAQD,IACjCk/H,EAAWrmG,EAAKmzF,MAAMhsH,MAAQ2/H,IAChCD,EAAar8H,KAAK8sB,EAAM0I,EAAKmzF,MAAMhsH,KACnCk/H,EAAWrmG,EAAKmzF,MAAMhsH,IAAM2/H,EAC5BC,IAGN,CACF,CACA,IAAIpB,EAAM,CAAC,EAGX,OAFAA,EAAIU,WAAaA,EACjBV,EAAIW,YAAcQ,EACXnB,CACT,GACC,CACDh+H,IAAK,aACLe,MAAO,SAAoBw+H,EAAOC,EAAUzyG,EAAO1gB,GACjD,GAAIkzH,GAAS,EAAG,CACd,IAAItjF,EAAI,CAACz2C,KAAKwY,IAAIuhH,EAAOC,GAAWh6H,KAAK8M,IAAIitH,EAAOC,IACpDh8H,KAAKk0B,SAASsa,QAAQiK,EAAE,GAAIA,EAAE,GAAIlvB,EAAO1gB,GAAM,EACjD,CACF,GACC,CACDrM,IAAK,iBACLe,MAAO,WAIL,IAHA,IAAIo4B,EAAgB31B,KAAK0yH,eAAiB,CAAC,EACvCz+F,EAAUj0B,KAAKk0B,SACf/H,EAAQ8H,EAAQrH,OACX5wB,EAAI,EAAG0+E,EAAKvuD,EAAMlwB,OAAQD,EAAI0+E,IAAM1+E,EAAG,CAC9C,IAAIqa,EAAO8V,EAAMnwB,GACjB25B,EAActf,EAAKgQ,QAAUhQ,CAC/B,CAGA,IAFA,IAAIwQ,EAAQoN,EAAQkW,OAChB5+B,EAASvL,KAAKuL,OACTkJ,EAAI,EAAGm/G,EAAK/sG,EAAM5qB,OAAQwY,EAAIm/G,IAAMn/G,EAAG,CAC9C,IAAI6B,EAAOuQ,EAAMpS,GACb6B,EAAKoT,OAASpT,EAAKmT,OACrBle,EAAOzB,MAAM,gCAEfwM,EAAKmT,MAAQkM,EAAcrf,EAAKmT,QAAU,KAC1CnT,EAAKoT,OAASiM,EAAcrf,EAAKoT,SAAW,IAC9C,CACF,GACC,CACDltB,IAAK,YACLe,MAAO,SAAmB0+H,GACxB,IAMIjgI,EACAyY,EAEa5M,EATbosB,EAAUj0B,KAAKk0B,SAAW,IAAIojG,GAC9BpiH,EAAO+mH,EACPC,EAAehnH,EAAK2f,KACpB1I,EAAQjX,EAAKiX,MACb4uG,EAAS7lH,EAAK6lH,OACd1kH,EAAO,KAGPT,EAAQuW,EAAMlwB,OAgBd8sC,EAAS,CAAC,EACVozF,EAAU,GACd,IAAKngI,EAAI,EAAGA,EAAI4Z,EAAO5Z,IACrBmgI,EAAQ98H,KAAKrD,GAKf,IAHAmgI,EAAQt9E,MAAK,SAAUh3C,EAAGo2C,GACxB,OAAO88E,EAAOlzH,GAAKkzH,EAAO98E,EAC5B,IACKjiD,EAAI,EAAGA,EAAI4Z,EAAO5Z,IAAK,CAC1B,IACIogI,EAASrB,EAAOoB,EAAQngI,IAC5B,GAAIgE,KAAK87H,aAAaM,GAAQb,QAAUv7H,KAAK87H,aAAaI,GAAcX,MAAO,CAE7E,IAAIc,GADJhmH,EAAO8V,EAAMgwG,EAAQngI,KACSsgI,YAC9B,GAAIjmH,EAAKoiH,UAEP,IADA,IAAI8D,EAAWlmH,EAAKoiH,UAAUx8H,OACrBg+B,EAAI,EAAGA,EAAIsiG,IAAYtiG,EAC9BhG,EAAQ0uB,SAAStjD,KAAKgX,EAAKoiH,UAAUx+F,IAGzC,GAAI5jB,EAAK0iH,IAAM1iH,EAAKyiH,GAAI,CACtB,IAAI0D,EAAex8H,KAAK87H,aAAaM,GAAQd,OACzCvH,EAAU,IACVC,EAASwI,EAETC,EAAWD,EAAan+H,WACJ,IAApBo+H,EAASxgI,SACXwgI,EAAW,IAAIpxH,OAAOoxH,IAExB,IAAIr5E,EAAU,IAAI/3C,OAAOoxH,GACrBnwG,EAAQyc,EAAOgrF,GACdznG,GAASA,EAAMlF,YAAc2sG,IAChChrF,EAAOgrF,GAAWznG,EAAQtsB,KAAKk0B,SAASyqB,SAASo1E,IAAY/zH,KAAKk0B,SAASq9F,SAASwC,GACpF/zH,KAAK8tG,SAAW,MAElB,IAAI5nF,EAAUlmB,KAAK8tG,SACd5nF,GAAWA,EAAQs/B,gBAAkBwuE,GAZ9B,MAYwC9tG,EAAQu/B,aAC1DzlD,KAAK8tG,SAAW5nF,EAAUoG,EAAM+I,WAAW+tB,EAAS4wE,EAb1C,MAeZ,IAAIvmG,EAAM,KACNpX,EAAK0iH,GACPtrG,EAAM,IAAI,MAAQujG,WAAW36G,EAAK0iH,IAAK/H,WAAW36G,EAAK4iH,IAAKjI,WAAW36G,EAAK6iH,KACnE7iH,EAAKyiH,KACdrrG,EAAM,IAAI,MAAQujG,WAAW36G,EAAKyiH,IAAK9H,WAAW36G,EAAK2iH,IAAK,IAE9D,IAAIjzH,EAAUwxH,GAAU1uG,OAAOxS,EAAKimH,YAAY55F,eAC3C38B,KACHA,EAAU22H,KAAK7+F,MAAM6+F,KAAKC,UAAUpF,GAAU1uG,OAAOvsB,OAAOyO,KAAKwsH,GAAU1uG,QAAQvsB,OAAOyO,KAAKwsH,GAAU1uG,QAAQ5sB,OAAS,OAClHsO,QAAU,EAClBxE,EAAQxH,KAAO8X,EAAKimH,YAAY55F,cAChC38B,EAAQ0hB,SAAW,UACnB8vG,GAAU1uG,OAAOxS,EAAKimH,YAAY55F,eAAiB38B,GAErD,IAAI62H,EAAahtH,SAASyG,EAAKvQ,GAAGgG,QAAQ,SAAU,IAAK,IACrD+wH,EAAQ32G,EAAQ2H,QAAQwuG,EAAoBt2H,EAAS0nB,EAAK8pG,GAAUnD,KAAK7rG,IAAI,EAAMq0G,EAAY,IAAK,EAAK,EA7ChG,GA8CTvmH,EAAKqQ,gBACPm2G,EAAMn2G,cAAgB9W,SAASyG,EAAKqQ,cAAe,KAEjDrQ,EAAKymH,aACPD,EAAMj2G,QAAUhX,SAASyG,EAAKymH,WAAY,MA1EjCj1H,EA4EHg1H,GA3EVtjG,WAAaljB,EACXA,EAAKyiH,KACPziH,EAAK0iH,GAAK1iH,EAAKyiH,UACRziH,EAAKyiH,IAEVziH,EAAK2iH,KACP3iH,EAAK4iH,GAAK5iH,EAAK2iH,UACR3iH,EAAK2iH,IAET3iH,EAAK6iH,KACR7iH,EAAK6iH,GAAK,OAEZ7iH,EAAK0mH,YAAcl1H,CAgEjB,CACF,CACF,CAEA,IADAkhC,EAAS,KACJ/sC,EAAI,EAAGA,EAAIkZ,EAAK2R,MAAM5qB,OAAQD,IAAK,CACtC,IAAImhF,EAAKjoE,EAAK2R,MAAM7qB,GACpB,GAAIgE,KAAK87H,aAAaf,EAAO59C,EAAGxnE,QAAQ4lH,QAAUv7H,KAAK87H,aAAaI,GAAcX,OAASv7H,KAAK87H,aAAaf,EAAO59C,EAAGr6E,MAAMy4H,QAAUv7H,KAAK87H,aAAaI,GAAcX,MAAO,CAE5K,KADAllH,EAAO8V,EAAMgxD,EAAGxnE,UACFwW,EAAMgxD,EAAGr6E,KACrB,SAEF9C,KAAKg9H,WAAWptH,SAASyG,EAAKvQ,GAAGgG,QAAQ,SAAU,IAAK,IAAK8D,SAASuc,EAAMgxD,EAAGr6E,KAAKgD,GAAGgG,QAAQ,SAAU,IAAK,IAAKqxE,EAAG5zD,MAAO4zD,EAAGt0E,KAClI,CACF,CACA,IAAK7M,EAAI,EAAGA,EAAIgE,KAAKk0B,SAAS+oG,iBAAkBjhI,IAAK,CACnD,IAAIkhI,EAAOl9H,KAAKk0B,SAASipG,aAAanhI,GACtC,IAAKyY,EAAI,EAAGA,EAAIyoH,EAAKtwG,OAAO3wB,OAAQwY,IAClCyoH,EAAKtwG,OAAOnY,GAAKyoH,EAAKtwG,OAAOnY,GAAGsoH,WAEpC,CACA,IAAK/gI,EAAI,EAAGA,EAAI4Z,EAAO5Z,IACjBgE,KAAK87H,aAAaf,EAAO/+H,IAAIu/H,QAAUv7H,KAAK87H,aAAaI,GAAcX,SACzEllH,EAAO8V,EAAMnwB,IACR+gI,YAAc,YACZ1mH,EAAK0mH,aAahB,OAVA/8H,KAAKk0B,SAASknG,YAAclmH,EAAKkmH,YACjCp7H,KAAKozH,iBACLn/F,EAAQsxB,SAAS,CACfK,iBAAiB,EACjBO,oBAAqBnmD,KAAKqlB,SAASlgB,IAAIgZ,SACvCqmC,cAAexkD,KAAKqlB,SAASlgB,IAAI+Y,QACjCyX,cAAe31B,KAAK0yH,iBAEtB1yH,KAAK0yH,eAAiB,KACtB1yH,KAAKk0B,SAAW,KACTD,CACT,GACC,CACDz3B,IAAK,YACLe,MAAO,WACL,IAAIoqD,EAAY,GACZ9qD,EAAOmD,KACOA,KAAKo9H,kBAAkBp9H,KAAKoqD,OAClC/gD,SAAQ,SAAUswH,GAC5BA,EAAO9kG,KAAO,EACO,IAAjB8kG,EAAO/jH,QACT+jH,EAAO/jH,MAAQ,GAEjB,IAAK,IAAI5Z,EAAI,EAAGA,EAAI29H,EAAO/jH,MAAO5Z,IAChC29H,EAAO9kG,KAAO74B,EAAI,EAClB2rD,EAAUtoD,KAAKxC,EAAKwgI,UAAU1D,GAAQ,GAE1C,IACA,IAAI2D,EAAmB,EAIvB,GAHA31E,EAAUt+C,SAAQ,SAAU+Z,GAC1Bk6G,GAAoBl6G,EAAEuxB,cACxB,IACI2oF,GAAoB,EACtB,MAAM,IAAI7yH,MAAM,yCAElB,GAAIk9C,EAAU1rD,OAAS,EAAG,CACxB,IAAIshI,EAAgB,IAAIjG,GAGxB,OAFAiG,EAAcC,cAAc71E,GAC5B41E,EAAcnC,YAAczzE,EAAU,GAAGyzE,YAClCmC,CACT,CACA,OAAyB,IAArB51E,EAAU1rD,OACL0rD,EAAU,GAEZ,IAAI2vE,EACb,IACE,CAAC,CACH96H,IAAK,mBACLe,MAAO,SAA0B2X,GAC/B,OAAO,IAAAhC,UAASgC,IAASwiH,GAAej5H,KAAKyW,EAC/C,KAEKyiH,CACT,CA3kBgB,CA2kBd/1F,IACF+1F,GAAU1H,QAAU,CAAC,OACrB0H,GAAU3oC,WAAa,CAAC,QAExB,IAAIyuC,GAAiB,CAAC,GAEtB,SAAWC,EAAQxgC,IAGC,SAAUj6E,GAC1B,SAAStjB,EAAEsjB,EAAGtjB,EAAGvB,GACf,IAAK,IAAIuJ,GAAKsb,EAAE/U,WAAY,GAAIlS,EAAIoC,EAAEnC,OAAQD,EAAI2L,EAAGA,IAAK,CACxD,IAAI3K,EAAIoB,EAAEoQ,WAAW7G,GACrB,GAAI,IAAM3K,EAAGimB,EAAE06G,SAASh+H,IAAK3C,IAAM,EAAI,IAAM,QAAQ,GAAI,KAAOA,EAAGimB,EAAE06G,SAASh+H,IAAK3C,IAAM,EAAI,GAAK,KAAMimB,EAAE06G,SAASh+H,IAAK3C,IAAM,EAAI,GAAK,UAAU,GAAI,MAAQA,EAAGimB,EAAE06G,SAASh+H,IAAK3C,IAAM,GAAK,GAAK,KAAMimB,EAAE06G,SAASh+H,IAAK3C,IAAM,EAAI,GAAK,KAAMimB,EAAE06G,SAASh+H,IAAK3C,IAAM,EAAI,GAAK,SAAU,CAClR,KAAM,QAAUA,GAAI,MAAM,IAAIyN,MAAM,iBAAmBzN,GACvDimB,EAAE06G,SAASh+H,IAAK3C,IAAM,GAAK,EAAI,KAAMimB,EAAE06G,SAASh+H,IAAK3C,IAAM,GAAK,GAAK,KAAMimB,EAAE06G,SAASh+H,IAAK3C,IAAM,EAAI,GAAK,KAAMimB,EAAE06G,SAASh+H,IAAK3C,IAAM,EAAI,GAAK,IACjJ,CACF,CACF,CACA,SAASoB,EAAE6kB,GACT,IAAK,IAAItjB,EAAI,EAAGvB,EAAI,EAAGuJ,EAAIsb,EAAEhnB,OAAQ0L,EAAIvJ,EAAGA,IAAK,CAC/C,IAAIpC,EAAIinB,EAAEzU,WAAWpQ,GACrB,GAAI,IAAMpC,EAAG2D,GAAK,OAAO,GAAI,KAAO3D,EAAG2D,GAAK,OAAO,GAAI,MAAQ3D,EAAG2D,GAAK,MAAO,CAC5E,KAAM,QAAU3D,GAAI,MAAM,IAAIyO,MAAM,iBAAmBzO,GACvD2D,GAAK,CACP,CACF,CACA,OAAOA,CACT,CACA,SAASgI,EAAEsb,EAAGjnB,EAAGgB,GACf,IAAI6K,EAAI1M,EAAQ8nB,GAChB,GAAI,WAAapb,EAAG,CAElB,GAAI,IADA2a,EAAIpkB,EAAE6kB,IACE,OAAOjnB,EAAE2hI,SAAS3gI,EAAG,IAAMwlB,GAAI7iB,EAAE3D,EAAGgB,EAAI,EAAGimB,GAAI,EAAIT,EAC/D,GAAI,IAAMA,EAAG,OAAOxmB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE2hI,SAAS3gI,EAAI,EAAGwlB,GAAI7iB,EAAE3D,EAAGgB,EAAI,EAAGimB,GAAI,EAAIT,EAClF,GAAI,MAAQA,EAAG,OAAOxmB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE4hI,UAAU5gI,EAAI,EAAGwlB,GAAI7iB,EAAE3D,EAAGgB,EAAI,EAAGimB,GAAI,EAAIT,EACrF,GAAI,WAAaA,EAAG,OAAOxmB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE6hI,UAAU7gI,EAAI,EAAGwlB,GAAI7iB,EAAE3D,EAAGgB,EAAI,EAAGimB,GAAI,EAAIT,CAC5F,CACA,GAAIS,aAAajV,WAAY,CAC3B,IAAIwU,EAAIS,EAAE/U,WACNtO,EAAI,IAAIoO,WAAWhS,EAAE8R,QACzB,GAAI,IAAM0U,EAAG,OAAOxmB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE2hI,SAAS3gI,EAAI,EAAGwlB,GAAI5iB,EAAE0I,IAAI2a,EAAGjmB,EAAI,GAAI,EAAIwlB,EACnF,GAAI,MAAQA,EAAG,OAAOxmB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE4hI,UAAU5gI,EAAI,EAAGwlB,GAAI5iB,EAAE0I,IAAI2a,EAAGjmB,EAAI,GAAI,EAAIwlB,EACtF,GAAI,WAAaA,EAAG,OAAOxmB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE6hI,UAAU7gI,EAAI,EAAGwlB,GAAI5iB,EAAE0I,IAAI2a,EAAGjmB,EAAI,GAAI,EAAIwlB,CAC7F,CACA,GAAI,WAAa3a,EAAG,CAClB,IAAKw5F,SAASp+E,GAAI,MAAM,IAAIxY,MAAM,sBAAwBwY,GAC1D,GAAIjhB,KAAKoyC,MAAMnxB,KAAOA,EAAG,OAAOjnB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE8hI,WAAW9gI,EAAI,EAAGimB,GAAI,EAC5E,GAAIA,GAAK,EAAG,CACV,GAAI,IAAMA,EAAG,OAAOjnB,EAAE2hI,SAAS3gI,EAAGimB,GAAI,EACtC,GAAI,IAAMA,EAAG,OAAOjnB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE2hI,SAAS3gI,EAAI,EAAGimB,GAAI,EAC9D,GAAI,MAAQA,EAAG,OAAOjnB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE4hI,UAAU5gI,EAAI,EAAGimB,GAAI,EACjE,GAAI,WAAaA,EAAG,OAAOjnB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE6hI,UAAU7gI,EAAI,EAAGimB,GAAI,EACtE,MAAM,IAAIxY,MAAM,oBAAsBwY,EAAE5kB,SAAS,IACnD,CACA,GAAI4kB,IAAM,GAAI,OAAOjnB,EAAE+hI,QAAQ/gI,EAAGimB,GAAI,EACtC,GAAIA,IAAM,IAAK,OAAOjnB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAE+hI,QAAQ/gI,EAAI,EAAGimB,GAAI,EAC/D,GAAIA,IAAM,MAAO,OAAOjnB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAEgiI,SAAShhI,EAAI,EAAGimB,GAAI,EAClE,GAAIA,IAAM,WAAY,OAAOjnB,EAAE2hI,SAAS3gI,EAAG,KAAMhB,EAAEiiI,SAASjhI,EAAI,EAAGimB,GAAI,EACvE,MAAM,IAAIxY,MAAM,yBAA2BwY,GAAG5kB,SAAS,IAAI4O,OAAO,GACpE,CACA,GAAI,OAASgW,EAAG,OAAOjnB,EAAE2hI,SAAS3gI,EAAG,KAAM,EAC3C,GAAI,YAAc6K,EAAG,OAAO7L,EAAE2hI,SAAS3gI,EAAGimB,EAAI,IAAM,KAAM,EAC1D,GAAI,WAAapb,EAAG,CAClB,IACI8xC,EAAI,EACJv2B,EAAInlB,MAAMU,QAAQskB,GACtB,GAAIG,EAAGZ,EAAIS,EAAEhnB,WAAY,CACvB,IAAIulD,EAAIllD,OAAOyO,KAAKkY,GACpBT,EAAIg/B,EAAEvlD,MACR,CAEA,GAAI,GAAKumB,GAAKxmB,EAAE2hI,SAAS3gI,EAAGwlB,GAAKY,EAAI,IAAM,MAAOu2B,EAAI,GAAK,MAAQn3B,GAAKxmB,EAAE2hI,SAAS3gI,EAAGomB,EAAI,IAAM,KAAMpnB,EAAE4hI,UAAU5gI,EAAI,EAAGwlB,GAAIm3B,EAAI,GAAK,WAAan3B,IAAMxmB,EAAE2hI,SAAS3gI,EAAGomB,EAAI,IAAM,KAAMpnB,EAAE6hI,UAAU7gI,EAAI,EAAGwlB,GAAIm3B,EAAI,GAAIv2B,EAAG,IAAK,IAAIhB,EAAI,EAAGI,EAAIJ,EAAGA,IAC9Ou3B,GAAKhyC,EAAEsb,EAAEb,GAAIpmB,EAAGgB,EAAI28C,QACf,IAASv3B,EAAI,EAAGI,EAAIJ,EAAGA,IAAK,CACjC,IAAIE,EAAIk/B,EAAEp/B,GACVu3B,GAAKhyC,EAAE2a,EAAGtmB,EAAGgB,EAAI28C,GAAIA,GAAKhyC,EAAEsb,EAAEX,GAAItmB,EAAGgB,EAAI28C,EAC3C,CACA,OAAOA,CACT,CACA,MAAM,IAAIlvC,MAAM,gBAAkB5C,EACpC,CACA,SAAS7L,EAAEinB,GACT,IAAItjB,EAAIxE,EAAQ8nB,GAChB,GAAI,WAAatjB,EAAG,CAElB,GAAI,IADAgI,EAAIvJ,EAAE6kB,IACE,OAAO,EAAItb,EACvB,GAAI,IAAMA,EAAG,OAAO,EAAIA,EACxB,GAAI,MAAQA,EAAG,OAAO,EAAIA,EAC1B,GAAI,WAAaA,EAAG,OAAO,EAAIA,CACjC,CACA,GAAIsb,aAAajV,WAAY,CAE3B,GAAI,KADArG,EAAIsb,EAAE/U,YACG,OAAO,EAAIvG,EACxB,GAAI,MAAQA,EAAG,OAAO,EAAIA,EAC1B,GAAI,WAAaA,EAAG,OAAO,EAAIA,CACjC,CACA,GAAI,WAAahI,EAAG,CAClB,GAAIqC,KAAKoyC,MAAMnxB,KAAOA,EAAG,OAAO,EAChC,GAAIA,GAAK,EAAG,CACV,GAAI,IAAMA,EAAG,OAAO,EACpB,GAAI,IAAMA,EAAG,OAAO,EACpB,GAAI,MAAQA,EAAG,OAAO,EACtB,GAAI,WAAaA,EAAG,OAAO,EAC3B,MAAM,IAAIxY,MAAM,oBAAsBwY,EAAE5kB,SAAS,IACnD,CACA,GAAI4kB,IAAM,GAAI,OAAO,EACrB,GAAIA,IAAM,IAAK,OAAO,EACtB,GAAIA,IAAM,MAAO,OAAO,EACxB,GAAIA,IAAM,WAAY,OAAO,EAC7B,MAAM,IAAIxY,MAAM,uBAAyBwY,EAAE5kB,SAAS,IAAI4O,OAAO,GACjE,CACA,GAAI,YAActN,GAAK,OAASsjB,EAAG,OAAO,EAC1C,GAAI,WAAatjB,EAAG,CAClB,IAAIgI,EACA3K,EAAI,EACR,GAAIiB,MAAMU,QAAQskB,GAAI,CACpBtb,EAAIsb,EAAEhnB,OACN,IAAK,IAAI4L,EAAI,EAAGF,EAAIE,EAAGA,IACrB7K,GAAKhB,EAAEinB,EAAEpb,GAEb,KAAO,CACL,IAAI2a,EAAIlmB,OAAOyO,KAAKkY,GAEpB,IADAtb,EAAI6a,EAAEvmB,OACG4L,EAAI,EAAGF,EAAIE,EAAGA,IAAK,CAC1B,IAAIjI,EAAI4iB,EAAE3a,GACV7K,GAAKhB,EAAE4D,GAAK5D,EAAEinB,EAAErjB,GAClB,CACF,CACA,GAAI,GAAK+H,EAAG,OAAO,EAAI3K,EACvB,GAAI,MAAQ2K,EAAG,OAAO,EAAI3K,EAC1B,GAAI,WAAa2K,EAAG,OAAO,EAAI3K,EAC/B,MAAM,IAAIyN,MAAM,8BAAgC9C,EAAEtJ,SAAS,IAC7D,CACA,MAAM,IAAIoM,MAAM,gBAAkB9K,EACpC,CACA,SAAS3C,EAAEimB,GACT,IAAItjB,EAAI,IAAIu+H,YAAYliI,EAAEinB,IAE1B,OAAOtb,EAAEsb,EADD,IAAIk7G,SAASx+H,GACN,GAAI,IAAIqO,WAAWrO,EACpC,CACA,SAASkI,EAAEob,EAAGtjB,EAAGvB,GACf,OAAOuB,EAAI,IAAIsjB,EAAEtjB,EAAEmO,OAAQnO,EAAEy+H,WAAYz+H,EAAEuO,YAAc9P,GAAK,SAAM,CACtE,CACA,SAASokB,EAAES,GACT,OAAOpb,EAAEs2H,SAAUl7G,EACrB,CACA,SAASrjB,EAAEqjB,GACT,OAAOpb,EAAEmG,WAAYiV,EACvB,CACA,SAAS02B,EAAE12B,GACT,OAAOpb,EAAEw2H,UAAWp7G,EACtB,CACA,SAASG,EAAEH,GACT,OAAOpb,EAAEyjC,WAAYroB,EAAG,EAC1B,CAIA,SAASb,EAAEa,EAAGtjB,GACZ,IAAIvB,EAAI6kB,EAAEhnB,OAAS,EACnB0D,IAAMA,EAAI,IAAI2+H,WAAWlgI,IACzB,IAAK,IAAIuJ,EAAI,EAAG3L,EAAI,EAAGoC,EAAIuJ,IAAKA,EAAG3L,GAAK,EACtC2D,EAAEgI,GAAKsb,EAAEjnB,IAAM,EAAIinB,EAAEjnB,EAAI,IAAM,EAEjC,OAAO2D,CACT,CASA,SAASo6B,EAAE9W,EAAGtjB,GACZ,IAAIvB,EAAI6kB,EAAEhnB,OAAS,EACnB0D,IAAMA,EAAI,IAAI2rC,WAAWltC,IACzB,IAAK,IAAIuJ,EAAI,EAAG3L,EAAI,EAAGoC,EAAIuJ,IAAKA,EAAG3L,GAAK,EACtC2D,EAAEgI,GAAKsb,EAAEjnB,IAAM,GAAKinB,EAAEjnB,EAAI,IAAM,GAAKinB,EAAEjnB,EAAI,IAAM,EAAIinB,EAAEjnB,EAAI,IAAM,EAEnE,OAAO2D,CACT,CACA,SAAS4+H,EAAEt7G,EAAGtjB,GACZ,IAAIvB,EAAI6kB,EAAEhnB,OACV0D,IAAMA,EAAI,IAAIqO,WAAW,EAAI5P,IAC7B,IAAK,IAAIuJ,EAAI6a,EAAE7iB,GAAI3D,EAAI,EAAGoC,EAAIpC,IAAKA,EACjC2L,EAAEs2H,SAAS,EAAIjiI,EAAGinB,EAAEjnB,IAEtB,OAAO4D,EAAED,EACX,CASA,SAAS+C,EAAEugB,EAAGtjB,EAAGvB,GACf,IAAIuJ,EAAIsb,EAAEhnB,OACND,EAAI,EAAI2D,EACZvB,IAAMA,EAAI,IAAIqsD,aAAa9iD,IAC3B,IAAK,IAAI3K,EAAI,EAAG2K,EAAI3K,IAAKA,EACvBoB,EAAEpB,GAAKimB,EAAEjmB,GAAKhB,EAEhB,OAAOoC,CACT,CACA,SAAS+kB,EAAEF,EAAGtjB,EAAGvB,GACf,IAAIuJ,EAAIsb,EAAEhnB,OACVmC,IAAMA,EAAI,IAAIktC,WAAW3jC,IACzB,IAAK,IAAI3L,EAAI,EAAG2L,EAAI3L,IAAKA,EACvBoC,EAAEpC,GAAKgG,KAAKC,MAAMghB,EAAEjnB,GAAK2D,GAE3B,OAAOvB,CACT,CACA,SAASnB,EAAEgmB,EAAGtjB,GACZ,IAAIvB,EAAGuJ,EACP,IAAKhI,EAAG,CACN,IAAI3D,EAAI,EACR,IAAKoC,EAAI,EAAGuJ,EAAIsb,EAAEhnB,OAAQ0L,EAAIvJ,EAAGA,GAAK,EACpCpC,GAAKinB,EAAE7kB,EAAI,GAEbuB,EAAI,IAAIsjB,EAAE1nB,YAAYS,EACxB,CACA,IAAIgB,EAAI,EACR,IAAKoB,EAAI,EAAGuJ,EAAIsb,EAAEhnB,OAAQ0L,EAAIvJ,EAAGA,GAAK,EACpC,IAAK,IAAIyJ,EAAIob,EAAE7kB,GAAIokB,EAAIS,EAAE7kB,EAAI,GAAIwB,EAAI,EAAG4iB,EAAI5iB,IAAKA,EAC/CD,EAAE3C,GAAK6K,IAAK7K,EAGhB,OAAO2C,CACT,CACA,SAAS0yB,EAAEpP,GACT,GAAI,IAAMA,EAAEhnB,OAAQ,OAAO,IAAIqvC,WAC/B,IAAI3rC,EACAvB,EACAuJ,EAAI,EACR,IAAKhI,EAAI,EAAGvB,EAAI6kB,EAAEhnB,OAAQmC,EAAIuB,IAAKA,EACjCsjB,EAAEtjB,EAAI,KAAOsjB,EAAEtjB,KAAOgI,GAAK,GAE7B,IAAI3L,EAAI,IAAIsvC,WAAW3jC,GACnB3K,EAAI,EACJ6K,EAAI,EACR,IAAKlI,EAAI,EAAGvB,EAAI6kB,EAAEhnB,OAAQmC,EAAIuB,IAAKA,EACjCsjB,EAAEtjB,EAAI,KAAOsjB,EAAEtjB,IAAM3D,EAAEgB,GAAKimB,EAAEtjB,EAAI,GAAI3D,EAAEgB,EAAI,GAAK6K,EAAGA,EAAI,EAAG7K,GAAK,KAAO6K,EAEzE,OAAO7L,EAAEgB,GAAKimB,EAAEA,EAAEhnB,OAAS,GAAID,EAAEgB,EAAI,GAAK6K,EAAG7L,CAC/C,CACA,SAASiiD,EAAEh7B,EAAGtjB,GACZ,IAAIvB,EAAI6kB,EAAEhnB,OACV0D,IAAMA,EAAI,IAAIsjB,EAAE1nB,YAAY6C,IAAKA,IAAMuB,EAAE,GAAKsjB,EAAE,IAChD,IAAK,IAAItb,EAAI,EAAGvJ,EAAIuJ,IAAKA,EACvBhI,EAAEgI,GAAKsb,EAAEtb,GAAKhI,EAAEgI,EAAI,GAEtB,OAAOhI,CACT,CACA,SAASyyB,EAAEnP,EAAGtjB,GACZ,IAAIvB,EAAI6kB,EAAEhnB,OACV0D,IAAMA,EAAI,IAAIsjB,EAAE1nB,YAAY6C,IAAKuB,EAAE,GAAKsjB,EAAE,GAC1C,IAAK,IAAItb,EAAI,EAAGvJ,EAAIuJ,IAAKA,EACvBhI,EAAEgI,GAAKsb,EAAEtb,GAAKsb,EAAEtb,EAAI,GAEtB,OAAOhI,CACT,CACA,SAASowD,EAAE9sC,EAAGtjB,GACZ,IAAIvB,EACAuJ,EACA3L,EAAIinB,aAAao7G,UAAY,IAAM,MACnCrhI,GAAKhB,EAAI,EACT6L,EAAIob,EAAEhnB,OACV,IAAK0D,EAAG,CACN,IAAI6iB,EAAI,EACR,IAAKpkB,EAAI,EAAGyJ,EAAIzJ,IAAKA,EACnB6kB,EAAE7kB,GAAKpC,GAAKinB,EAAE7kB,GAAKpB,KAAOwlB,EAE5B7iB,EAAI,IAAI2rC,WAAW9oB,EACrB,CACA,IAAKpkB,EAAI,EAAGuJ,EAAI,EAAGE,EAAIzJ,GAAI,CACzB,IAAK,IAAIwB,EAAI,EAAGqjB,EAAE7kB,KAAOpC,GAAKinB,EAAE7kB,KAAOpB,GACrC4C,GAAKqjB,EAAE7kB,KAAMA,EAEfwB,GAAKqjB,EAAE7kB,KAAMA,EAAGuB,EAAEgI,GAAK/H,IAAK+H,CAC9B,CACA,OAAOhI,CACT,CA0CA,SAASwoB,EAAElF,EAAGtjB,EAAGvB,GACf,OAAOsE,EAAEqtD,EAAE9sC,EAAGG,EAAEhlB,IAAKuB,EAAGvB,EAC1B,CACA,SAASkqB,EAAErF,EAAGtjB,EAAGvB,GACf,IAAIuJ,EAAIooD,EAAE9sC,EAAGG,EAAEhlB,IACf,OAXF,SAAW6kB,EAAGtjB,EAAGvB,GACf,OAAOsE,EAAEu7C,EAAEh7B,EAAGG,EAAEhlB,IAAKuB,EAAGvB,EAC1B,CASSq0G,CAAE9qG,EAAGhI,EAhLd,SAAWsjB,GACT,OAAOpb,EAAE4iD,aAAcxnC,EAAG,EAC5B,CA8KiBu+B,CAAE75C,GACnB,CACA,SAAS8gB,EAAExF,EAAGtjB,EAAGvB,GACf,OAjDF,SAAW6kB,EAAGtjB,GACZ,IAAIvB,EACAuJ,EAAIhI,EAAI,IAAM,MACd3D,GAAK2L,EAAI,EACT3K,EAAIimB,EAAEhnB,OACN4L,EAAI,EACR,IAAKzJ,EAAI,EAAGpB,EAAIoB,IAAKA,EAEnB,KADIokB,EAAIS,EAAE7kB,MACEyJ,EAAIA,GAAK2a,IAAM7a,GAAK6a,IAAMxmB,EAAI,EAAIwmB,EAAI,EAAIxgB,KAAK4pD,KAAKppC,EAAI7a,GAAK3F,KAAK4pD,KAAKppC,EAAIxmB,GAEzF,IAAI4D,EAAID,EAAI,IAAI0+H,UAAUx2H,GAAK,IAAIy2H,WAAWz2H,GAC1C8xC,EAAI,EACR,IAAKv7C,EAAI,EAAGpB,EAAIoB,IAAKA,EAAG,CACtB,IAAIokB,EACJ,IADIA,EAAIS,EAAE7kB,KACD,EAAG,KAAOokB,GAAK7a,GACtB/H,EAAE+5C,GAAKhyC,IAAKgyC,EAAGn3B,GAAK7a,OACf,KAAO3L,GAAKwmB,GACjB5iB,EAAE+5C,GAAK39C,IAAK29C,EAAGn3B,GAAKxmB,EAEtB4D,EAAE+5C,GAAKn3B,IAAKm3B,CACd,CACA,OAAO/5C,CACT,CA2BSyoB,CAXT,SAAWpF,EAAGtjB,EAAGvB,GACf,OAAOg0B,EAAEjP,EAAEF,EAAGtjB,GAAIvB,EACpB,CASWogI,CAAEv7G,EAAGtjB,GAAIvB,EACpB,CASA,SAASqW,EAAEwO,EAAGtjB,EAAGvB,EAAGuJ,GAClB,IAAI3L,EAAI,IAAIkiI,YAAY,GAAKv2H,EAAEuG,YAC3BlR,EAAI,IAAIgR,WAAWhS,GACnB6L,EAAI,IAAIs2H,SAASniI,GACrB,OAAO6L,EAAEo2H,SAAS,EAAGh7G,GAAIpb,EAAEo2H,SAAS,EAAGt+H,GAAIvB,GAAKpB,EAAEsL,IAAIlK,EAAG,GAAIpB,EAAEsL,IAAIX,EAAG,IAAK3K,CAC7E,CACA,SAASyhI,EAAEx7G,GAGT,OAAOxO,EAAE,EAFDwO,EAAEhnB,YAEK,EADP2D,EAAEqjB,GAEZ,CACA,SAASuF,EAAEvF,GAGT,OAAOxO,EAAE,EAFDwO,EAAEhnB,YAEK,EADPsiI,EAAEt7G,GAEZ,CACA,SAASuvF,EAAEvvF,EAAGtjB,GAIZ,OAAO8U,EAAE,EAHDwO,EAAEhnB,OAAS0D,EACX4+H,EAAE,CAAC5+H,IACHC,EAAEqjB,GAEZ,CACA,SAASyM,EAAEzM,GAGT,OAAOxO,EAAE,EAFDwO,EAAEhnB,YAEK,EADPsiI,EAAElsG,EAAEpP,IAEd,CACA,SAASkwF,EAAElwF,GAGT,OAAOxO,EAAE,EAFDwO,EAAEhnB,YAEK,EADPsiI,EA9DV,SAAWt7G,GACT,OAAOoP,EAAED,EAAEnP,GACb,CA4DYxgB,CAAEwgB,IAEd,CACA,SAAS4wF,EAAE5wF,EAAGtjB,GAIZ,OAAO8U,EAAE,EAHDwO,EAAEhnB,OACFsiI,EAAE,CAAC5+H,IACH4+H,EA9DV,SAAWt7G,EAAGtjB,GACZ,OAAO0yB,EAAElP,EAAEF,EAAGtjB,GAChB,CA4DY+5C,CAAEz2B,EAAGtjB,IAEjB,CACA,SAASwyB,EAAElP,EAAGtjB,GAIZ,OAAO8U,EAAE,GAHDwO,EAAEhnB,OACFsiI,EAAE,CAAC5+H,IA1Nb,SAAWsjB,EAAGtjB,GACZ,IAAIvB,EAAI6kB,EAAEhnB,OACV0D,IAAMA,EAAI,IAAIqO,WAAW,EAAI5P,IAC7B,IAAK,IAAIuJ,EAAI6a,EAAE7iB,GAAI3D,EAAI,EAAGoC,EAAIpC,IAAKA,EACjC2L,EAAEq2H,SAAS,EAAIhiI,EAAGinB,EAAEjnB,IAEtB,OAAO4D,EAAED,EACX,CAoNU2iB,CAAEmG,EAAExF,EAAGtjB,IAEjB,CACA,SAAS++H,EAAEz7G,GACT,IAAItjB,EAAI,CAAC,EACT,OAAOg/H,EAAGt1H,SAAQ,SAAUjL,QAC1B,IAAW6kB,EAAE7kB,KAAOuB,EAAEvB,GAAK6kB,EAAE7kB,GAC/B,IAAI6kB,EAAE27G,eAAiBj/H,EAAEi/H,aAAep2G,EAAEvF,EAAE27G,eAAgB37G,EAAE47G,gBAAkBl/H,EAAEk/H,cAAgBJ,EAAEx7G,EAAE47G,gBAAiBl/H,EAAEm/H,WAAa3sG,EAAElP,EAAE67G,WAAY,KAAMn/H,EAAEo/H,WAAa5sG,EAAElP,EAAE87G,WAAY,KAAMp/H,EAAEq/H,WAAa7sG,EAAElP,EAAE+7G,WAAY,KAAM/7G,EAAEg8G,cAAgBt/H,EAAEs/H,YAAc9sG,EAAElP,EAAEg8G,YAAa,MAAOh8G,EAAEi8G,aAAev/H,EAAEu/H,WAAa/rB,EAAElwF,EAAEi8G,aAAcj8G,EAAEk8G,aAAex/H,EAAEw/H,WAAazvG,EAAEzM,EAAEk8G,aAAcl8G,EAAEm8G,gBAAkBz/H,EAAEy/H,cAAgBvrB,EAAE5wF,EAAEm8G,cAAe,MAAOz/H,EAAE0/H,YAAclsB,EAAElwF,EAAEo8G,aAAc1/H,EAAE2/H,cAAgB92G,EAAEvF,EAAEq8G,eAAgBr8G,EAAEs8G,gBAAkB5/H,EAAE4/H,cAAgBd,EAAEx7G,EAAEs8G,gBAAiBt8G,EAAEu8G,cAAgB7/H,EAAE6/H,YAAc9vG,EAAEzM,EAAEu8G,cAAev8G,EAAEw8G,oBAAsB9/H,EAAE8/H,kBAAoBtsB,EAAElwF,EAAEw8G,oBAAqB9/H,EAAE+/H,YAAcltB,EAAEvvF,EAAEy8G,YAAa,GAAIz8G,EAAE08G,gBAAkBhgI,EAAEggI,cAAgBntB,EAAEvvF,EAAE08G,cAAe,IAAKhgI,CACxyB,CACA,SAAS4yG,EAAEtvF,GACT,SAAStjB,EAAEsjB,GACT,IAAK,IAAItjB,EAAI,CAAC,EAAGvB,EAAI,EAAG6kB,EAAI7kB,EAAGA,IAE7BuB,EADQ3C,KACDA,IAET,OAAO2C,CACT,CACA,SAASvB,EAAEuB,GACT,IAAIvB,EAAI6kB,EAAEm5C,SAASv0D,EAAGA,EAAIlI,GAC1B,OAAOkI,GAAKlI,EAAGvB,CACjB,CACA,SAASuJ,EAAEhI,GACT,IAAIvB,EAAI6kB,EAAEm5C,SAASv0D,EAAGA,EAAIlI,GAC1BkI,GAAKlI,EACL,IAAIgI,EAAI,MACR,GAAIhI,EAAIgI,EAAG,CACT,IAAK,IAAI3L,EAAI,GAAIgB,EAAI,EAAGA,EAAIoB,EAAEnC,OAAQe,GAAK2K,EACzC3L,EAAEqD,KAAK8L,OAAOgD,aAAapO,MAAM,KAAM3B,EAAEg+D,SAASp/D,EAAGA,EAAI2K,KAE3D,OAAO3L,EAAEyI,KAAK,GAChB,CACA,OAAO0G,OAAOgD,aAAapO,MAAM,KAAM3B,EACzC,CACA,SAASpC,EAAEinB,GACT,IAAK,IAAItjB,EAAI,IAAI1B,MAAMglB,GAAI7kB,EAAI,EAAG6kB,EAAI7kB,EAAGA,IACvCuB,EAAEvB,GAAKpB,IAET,OAAO2C,CACT,CACA,SAAS3C,IACP,IAAIA,EACA4C,EACA+5C,EAAI12B,EAAEpb,GACV,GAAI,IAAO,IAAM8xC,GAAI,OAAO9xC,IAAK8xC,EACjC,GAAI,MAAS,IAAMA,GAAI,OAAmB9xC,IAAKlI,EAAjBC,EAAI,GAAK+5C,GACvC,GAAI,MAAS,IAAMA,GAAI,OAAmB9xC,IAAK7L,EAAjB4D,EAAI,GAAK+5C,GACvC,GAAI,MAAS,IAAMA,GAAI,OAAmB9xC,IAAKF,EAAjB/H,EAAI,GAAK+5C,GACvC,GAAI,MAAS,IAAMA,GAAI,OAAO38C,EAAIwlB,EAAEo9G,QAAQ/3H,GAAIA,IAAK7K,EACrD,OAAQ28C,GACN,KAAK,IACH,OAAO9xC,IAAK,KACd,KAAK,IACH,OAAOA,KAAK,EACd,KAAK,IACH,OAAOA,KAAK,EACd,KAAK,IACH,OAAOjI,EAAI4iB,EAAEq9G,SAASh4H,EAAI,GAAIA,GAAK,EAAGzJ,EAAEwB,GAC1C,KAAK,IACH,OAAOA,EAAI4iB,EAAEs9G,UAAUj4H,EAAI,GAAIA,GAAK,EAAGzJ,EAAEwB,GAC3C,KAAK,IACH,OAAOA,EAAI4iB,EAAEu9G,UAAUl4H,EAAI,GAAIA,GAAK,EAAGzJ,EAAEwB,GAC3C,KAAK,IACH,OAAO5C,EAAIwlB,EAAEw9G,WAAWn4H,EAAI,GAAIA,GAAK,EAAG7K,EAC1C,KAAK,IACH,OAAOA,EAAIwlB,EAAEy9G,WAAWp4H,EAAI,GAAIA,GAAK,EAAG7K,EAC1C,KAAK,IACH,OAAOA,EAAIimB,EAAEpb,EAAI,GAAIA,GAAK,EAAG7K,EAC/B,KAAK,IACH,OAAOA,EAAIwlB,EAAEs9G,UAAUj4H,EAAI,GAAIA,GAAK,EAAG7K,EACzC,KAAK,IACH,OAAOA,EAAIwlB,EAAEu9G,UAAUl4H,EAAI,GAAIA,GAAK,EAAG7K,EACzC,KAAK,IACH,OAAOA,EAAIwlB,EAAEo9G,QAAQ/3H,EAAI,GAAIA,GAAK,EAAG7K,EACvC,KAAK,IACH,OAAOA,EAAIwlB,EAAE09G,SAASr4H,EAAI,GAAIA,GAAK,EAAG7K,EACxC,KAAK,IACH,OAAOA,EAAIwlB,EAAE29G,SAASt4H,EAAI,GAAIA,GAAK,EAAG7K,EACxC,KAAK,IACH,OAAO4C,EAAI4iB,EAAEq9G,SAASh4H,EAAI,GAAIA,GAAK,EAAGF,EAAE/H,GAC1C,KAAK,IACH,OAAOA,EAAI4iB,EAAEs9G,UAAUj4H,EAAI,GAAIA,GAAK,EAAGF,EAAE/H,GAC3C,KAAK,IACH,OAAOA,EAAI4iB,EAAEu9G,UAAUl4H,EAAI,GAAIA,GAAK,EAAGF,EAAE/H,GAC3C,KAAK,IACH,OAAOA,EAAI4iB,EAAEs9G,UAAUj4H,EAAI,GAAIA,GAAK,EAAG7L,EAAE4D,GAC3C,KAAK,IACH,OAAOA,EAAI4iB,EAAEu9G,UAAUl4H,EAAI,GAAIA,GAAK,EAAG7L,EAAE4D,GAC3C,KAAK,IACH,OAAOA,EAAI4iB,EAAEs9G,UAAUj4H,EAAI,GAAIA,GAAK,EAAGlI,EAAEC,GAC3C,KAAK,IACH,OAAOA,EAAI4iB,EAAEu9G,UAAUl4H,EAAI,GAAIA,GAAK,EAAGlI,EAAEC,GAE7C,MAAM,IAAI6K,MAAM,kBAAoBkvC,EAAEt7C,SAAS,IACjD,CACA,IAAIwJ,EAAI,EACJ2a,EAAI,IAAI27G,SAASl7G,EAAEnV,QACvB,OAAO9Q,GACT,CACA,SAASs5G,EAAErzF,EAAGtjB,EAAGvB,EAAGuJ,GAClB,OAAQsb,GACN,KAAK,EACH,OAxSN,SAAWA,EAAGtjB,GACZ,IAAIvB,EAAI6kB,EAAEhnB,OACV0D,IAAMA,EAAI,IAAI8qD,aAAarsD,EAAI,IAC/B,IAAK,IAAIuJ,EAAI6a,EAAE7iB,GAAI3D,EAAIwmB,EAAES,GAAIjmB,EAAI,EAAG6K,EAAI,EAAGjI,EAAIxB,EAAI,EAAGwB,EAAI5C,IAAKA,EAAG6K,GAAK,EACrEF,EAAEy4H,WAAWv4H,EAAG7L,EAAEgkI,WAAWn4H,IAAI,GAEnC,OAAOlI,CACT,CAiSa84C,CAAE94C,GACX,KAAK,EACH,OAAOg6C,EAAEh6C,GACX,KAAK,EACH,OAAOyiB,EAAEziB,GACX,KAAK,EACH,OAAOo6B,EAAEp6B,GACX,KAAK,EACH,OAAOC,EAAED,GACX,KAAK,EACH,OAAO1C,EAAE88B,EAAEp6B,GAAI,IAAIqO,WAAW5P,IAChC,KAAK,EACH,OAAOnB,EAAE88B,EAAEp6B,IACb,KAAK,EACH,OAhMN,SAAWsjB,EAAGtjB,GACZ,OAAOs+C,EAAEhhD,EAAEgmB,GAAItjB,EACjB,CA8LauyB,CAAE6H,EAAEp6B,IACb,KAAK,EACH,OA5LN,SAAWsjB,EAAGtjB,EAAGvB,GACf,OAAOsE,EAAEzF,EAAEgmB,EAAGG,EAAEhlB,IAAKuB,EAAGvB,EAC1B,CA0LaiiI,CAAEtmG,EAAEp6B,GAAIo6B,EAAEpyB,GAAG,IACtB,KAAK,GACH,OAAO2gB,EAAElG,EAAEziB,GAAIo6B,EAAEpyB,GAAG,IACtB,KAAK,GACH,OAAOjF,EAAE0f,EAAEziB,GAAIo6B,EAAEpyB,GAAG,IACtB,KAAK,GACH,OAAOwgB,EAAE/F,EAAEziB,GAAIo6B,EAAEpyB,GAAG,IACtB,KAAK,GACH,OAAOwgB,EAAEwxB,EAAEh6C,GAAIo6B,EAAEpyB,GAAG,IACtB,KAAK,GACH,OAAOooD,EAAE3tC,EAAEziB,IACb,KAAK,GACH,OAAOowD,EAAEpW,EAAEh6C,IAEjB,CACA,SAAS2gI,EAAEr9G,EAAGtjB,GAEZ,IAAIvB,GADJuB,EAAIA,GAAK,CAAC,GACA4gI,aACN54H,EAAI,CAAC,EACT,OAAO64H,EAAGn3H,SAAQ,SAAU1J,GAC1B,IAAI3D,IAAIoC,IAAK,IAAMA,EAAE+J,QAAQxI,GACzB3C,EAAIimB,EAAEtjB,GACV3D,QAAK,IAAWgB,IAAMA,aAAagR,WAAarG,EAAEhI,GAAK22G,EAAEv2G,MAAM,KA5LnE,SAAWkjB,GACT,IAAItjB,EAAI6iB,EAAES,GACN7kB,EAAIuB,EAAEwgI,SAAS,GACfx4H,EAAIhI,EAAEwgI,SAAS,GACfnkI,EAAIinB,EAAEm5C,SAAS,EAAG,IAEtB,MAAO,CAACh+D,EADJ6kB,EAAIA,EAAEm5C,SAAS,IACLz0D,EAAG3L,EACnB,CAqLyEi+B,CAAEj9B,IAAM2K,EAAEhI,GAAK3C,EACtF,IAAI2K,CACN,CACA,SAAS84H,EAAEx9G,GACT,OAAO9X,OAAOgD,aAAapO,MAAM,KAAMkjB,GAAGnX,QAAQ,MAAO,GAC3D,CAkIA,SAASyoG,EAAEtxF,EAAGtjB,GAGZ,OAFAsjB,aAAai7G,cAAgBj7G,EAAI,IAAIjV,WAAWiV,IAEDq9G,EAApCr9G,aAAajV,WAAaukG,EAAEtvF,GAAKA,EAAQtjB,EACtD,CACA,SAAS+gI,EAAEz9G,EAAGtjB,EAAGvB,EAAGuJ,GASlB,IAAI3K,EAAI,IAAIsyH,eACZtyH,EAAE4L,iBAAiB,QATnB,WACE,IACE,IAAIqa,EAAIsxF,EAAEv3G,EAAEuyH,UACZnxH,EAAE6kB,EACJ,CAAE,MAAOtjB,GACPgI,EAAEhI,EACJ,CACF,IAE8B,GAAK3C,EAAE4L,iBAAiB,QAASjB,GAAG,GAAK3K,EAAEwyH,aAAe,cAAexyH,EAAE0W,KAAK,MAAO/T,EAAIsjB,EAAEyf,eAAgB1lC,EAAEyyH,MAC/I,CAOA,IAAIkP,EAAK,CAAC,cAAe,eAAgB,WAAY,aAAc,cAAe,QAAS,iBAAkB,cAAe,sBAAuB,aAAc,QAAS,QAAS,kBAAmB,kBAAmB,aAAc,YAAa,WAAY,WAAY,YAAa,YAAa,YAAa,iBAAkB,kBAEjU6B,EAAK7B,EAAGtzH,OADH,CAAC,aAAc,aAAc,aAAc,cAAe,gBAAiB,cAAe,cAAe,aAAc,aAAc,gBAAiB,gBAAiB,cAAe,oBAAqB,gBAAiB,eAAgB,kBAGjPs1H,EAAK,wBACLjc,EAAKic,EAAK,QACVn9G,EAAKm9G,EAAK,WACd19G,EAAE29G,OAjCF,SAAW39G,GACT,OAAOjmB,EAAE0hI,EAAEz7G,GACb,EA+BcA,EAAE49G,OAAStsB,EAAGtxF,EAAE0tC,SA/J9B,SAAW1tC,EAAGtjB,EAAGvB,GAEf,IAAIuJ,EACA3L,EACAgB,EACA6K,EACA2a,EACA5iB,EACA+5C,GAPJv7C,EAAIA,GAAK,CAAC,GAOA0iI,eACN19G,EAAIzjB,EAAEohI,QACNv/E,EAAI7hD,EAAEqhI,QACN5+G,EAAIziB,EAAEshI,QACN3+G,EAAI3iB,EAAEuhI,OACNnnG,EAAIp6B,EAAEwhI,OACN5C,EAAI,EACJ9lF,EAAI,EACJ/1C,EAAI,EACJygB,EAAI,EACJlmB,EAAI,EACJo1B,GAAK,EACL4rB,EAAIh7B,EAAE08G,cACNvtG,EAAInP,EAAEs8G,cACNxvE,EAAI9sC,EAAEu8G,YACNn3G,EAAIpF,EAAEw8G,kBACNvtG,EAAIjP,EAAEi8G,WACNz8H,EAAIwgB,EAAEg8G,YACNoB,EAAIp9G,EAAEk8G,WACNzlF,EAAIz2B,EAAEm8G,cACN3sB,EAAIxvF,EAAE27G,aACNJ,EAAIv7G,EAAE47G,cACV,IAAKl3H,EAAI,EAAG3L,EAAIinB,EAAEm+G,eAAenlI,OAAQD,EAAI2L,KAAOgyC,GAAK4kF,EAAI,KAAM52H,EAAG,CACpE,IAAIwgB,EAAIlF,EAAEm+G,eAAe7C,GACzB,IAAKn7G,GAAKA,EAAE,CACVi+G,WAAYl5G,EACZm5G,WAAY/C,IACVvhI,EAAI,EAAGmrB,EAAInrB,IAAKA,EAAG,CACrB,IAAIsrB,EAAIrF,EAAEs+G,eAAe9oF,GACzB,GAAI+I,EAAG,CACL,IAAI/4B,EAAIg4G,EAAEx9G,EAAEy8G,YAAYtjE,SAAS,EAAI3jB,EAAG,EAAIA,EAAI,IAC5Cxe,EAAI,KACRgkB,IAAMhkB,EAAIwmG,EAAExiF,EAAEme,SAAS,EAAI3jB,EAAG,EAAIA,EAAI,KAAM+I,EAAE,CAC5CorD,WAAYtkF,EACZk5G,WAAY/oF,EACZ6oF,WAAY/C,EACZzoG,QAASrN,EACT46B,UAAWppB,GAEf,CACA,IAAKpyB,EAAI,EAAGygB,EAAIzgB,IAAKA,EAAG,CACtB,IAAI4M,EAAIwO,EAAEypF,UAAUzpF,EAAEq8G,cAAc58H,IAChC+7H,EAAIhqH,EAAEgtH,aAAaxlI,OACvB,GAAImmB,EAAG,CACL,IAAIoG,EAAI,KACR4J,IAAM5J,EAAI4J,EAAE1vB,IACZ,IAAI8vG,EAAI,KACRvvF,EAAEu8G,cAAgBhtB,EAAIrnG,OAAOgD,aAAa4hD,EAAErtD,KAC5C,IAAIgtB,EAAI,KACRrH,IAAMqH,EAAIrH,EAAE3lB,IAAK0f,EAAE,CACjBinF,UAAWo1B,EACXiD,WAAYh/H,EACZ8+H,WAAY/oF,EACZ6oF,WAAY/C,EACZoD,QAAS1+G,EAAEo8G,YAAY38H,GACvBk/H,UAAW3+G,EAAEq8G,cAAc58H,GAC3Bm/H,UAAWptH,EAAEotH,UACbC,iBAAkBrtH,EAAEqtH,iBACpBC,aAActtH,EAAEstH,aAChBC,UAAWx5G,EACXw7B,QAASwuD,EACTyvB,cAAevyG,GAEnB,CACA,IAAKlN,EAAI,EAAGi8G,EAAIj8G,IAAKA,EAAG,CACtB,GAAIF,EAAG,CACL,IAAI6wF,EAAI,KACRjhF,IAAMihF,EAAIjhF,EAAE/O,IACZ,IAAI0wF,EAAI,KACRpxG,IAAMoxG,EAAIpxG,EAAE0gB,IACZ,IAAIgP,EAAI,KACRkuG,IAAMluG,EAAIhnB,OAAOgD,aAAakyH,EAAEl9G,KAChC,IAAIu7G,EAAI,KACRhlF,IAAMglF,EAAIhlF,EAAEv2B,IAAKb,EAAE,CACjB4/G,UAAW/+G,EACXu+G,WAAYh/H,EACZ8+H,WAAY/oF,EACZ6oF,WAAY/C,EACZzG,OAAQ3kB,EACRptG,QAAS0O,EAAE0tH,YAAY3/G,GACvB+gC,SAAU9uC,EAAEgtH,aAAaj/G,GACzB4/G,aAAc3tH,EAAE4tH,iBAAiB7/G,GACjC8/G,OAAQr/G,EAAE67G,WAAW37G,GACrBo/G,OAAQt/G,EAAE87G,WAAW57G,GACrBq/G,OAAQv/G,EAAE+7G,WAAW77G,GACrBs/G,QAAS5uB,EACTnmF,OAAQyE,EACR7L,UAAWo4G,GAEf,CACAv7G,GAAK,CACP,CACA,GAAI4W,EAAG,CACL,IAAIw4E,EAAI99F,EAAEmqH,aACV,IAAKp8G,EAAI,EAAG5iB,EAAI6U,EAAEoqH,cAAc5iI,OAAQ2D,EAAI4iB,IAAKA,EAC/CuX,EAAE,CACA2oG,WAAYv/G,EAAIs7G,EAAIlsB,EAAE,EAAI/vF,GAC1BmgH,WAAYx/G,EAAIs7G,EAAIlsB,EAAE,EAAI/vF,EAAI,GAC9BmlF,UAAWlzF,EAAEoqH,cAAcr8G,IAGjC,CACA9f,GAAK,CACP,CACA+1C,GAAK,CACP,CACA,GAAIx7C,EAAIo1B,EAAI,EAAGA,EAAIlP,EAAI,EAAG4W,GAAK04E,EAAG,IAAKjwF,EAAI,EAAG5iB,EAAI6yG,EAAEx2G,OAAQ2D,EAAI4iB,EAAGA,GAAK,EAAG,CACzE,IAAI8zF,EAAI7D,EAAEjwF,GACN89G,EAAI7tB,EAAEjwF,EAAI,IACb8zF,GAAKr5G,GAAKo1B,GAAKikF,GAAKgqB,GAAKrjI,GAAKo1B,GAAKiuG,IAAMvmG,EAAE,CAC1C2oG,WAAYpsB,EACZqsB,WAAYrC,EACZ34B,UAAW62B,EAAIA,EAAEh8G,EAAI,GAAK,MAE9B,CACA+7G,GAAK,CACP,CACF,EAkC4Ct7G,EAAE2/G,MAb9C,SAAW3/G,EAAGtjB,EAAGvB,GACfsiI,EAAEz9G,EAAGyhG,EAAI/kH,EAAGvB,EACd,EAWyD6kB,EAAE4/G,aAV3D,SAAW5/G,EAAGtjB,EAAGvB,GACfsiI,EAAEz9G,EAAGO,EAAI7jB,EAAGvB,EACd,EAQ6E6kB,EAAE6/G,QAJtE,YAIoF7/G,EAAE8/G,SAAWre,EAAIzhG,EAAE+/G,gBAAkBx/G,EAAIP,EAAEggH,cAAgBjmI,EAAGimB,EAAEigH,WAAaxE,EAAGz7G,EAAEkgH,cAAgB5wB,EAAGtvF,EAAEmgH,WAAa9C,CACnN,CA3qBE3gI,CAAEu9F,EA4qBL,CA9qBD,CA8qBGugC,EAAMA,IACT,IAAI4F,GAAO5F,GAIX,IAAI6F,GAAY/2E,GAAKlK,QACjBkhF,GAAUh3E,GAAKv4B,MACfwvG,GAASj3E,GAAKtmC,KACdw9G,GAAYl3E,GAAK/kC,QACjBk8G,GAAUn3E,GAAKh1B,MACfosG,GAAUp3E,GAAK5zB,MACfirG,GAAWr3E,GAAKr0B,OAChB2rG,GAASt3E,GAAKljC,KACdy6G,GAAav3E,GAAK1jB,SAClBk7F,GAAax3E,GAAKD,SAClB03E,GAAkB,WACpB,SAASA,EAAgBC,GACvBxoI,EAAgBuE,KAAMgkI,GACtBhkI,KAAKkkI,UAAYjmI,MAAMO,KAAKylI,GAC5BjkI,KAAKkkI,UAAUrlF,OACf7+C,KAAKmkI,KAAO,EACZ,IAAK,IAAInoI,EAAI,EAAGA,EAAIgE,KAAKkkI,UAAUjoI,SAAUD,EAC3CgE,KAAKmkI,MAAQnkI,KAAKkkI,UAAUloI,EAEhC,CA0BA,OAzBAS,EAAaunI,EAAiB,CAAC,CAC7BxnI,IAAK,UACLe,MAAO,SAAiB6mI,GACtB,IAAIrmI,EAAMqmI,EAAUnoI,OACpB,GAAI8B,IAAQiC,KAAKkkI,UAAUjoI,OACzB,OAAO,EAET,IACID,EADA+kG,EAAM,EAEV,IAAK/kG,EAAI,EAAGA,EAAI+B,IAAO/B,EACrB+kG,GAAOqjC,EAAUpoI,GAEnB,GAAI+kG,IAAQ/gG,KAAKmkI,KACf,OAAO,EAET,IAAIE,EAASpmI,MAAMO,KAAK4lI,GAExB,IADAC,EAAOxlF,OACF7iD,EAAI,EAAGA,EAAI+B,IAAO/B,EACrB,GAAIqoI,EAAOroI,KAAOgE,KAAKkkI,UAAUloI,GAC/B,OAAO,EAGX,OAAO,CACT,KAEKgoI,CACT,CApCsB,GAqCtBA,GAAgBxoI,UAAUD,YAAcyoI,GACxC,IAAIM,GAAwBhvG,GAAkBY,KAC1CquG,GAAkB,CAACD,GAAsB/tG,SAC7C+tG,GAAsBztG,KACtBytG,GAAsBhuG,YACtBguG,GAAsBnuG,OACtBmuG,GAAsBjuG,UACtBiuG,GAAsBluG,OACtBkuG,GAAsB1tG,KACtB0tG,GAAsBxtG,MAMlB0tG,GAAa,SAAUhS,GACzBp1H,EAAUonI,EAAYhS,GACtB,IAlEsBjlH,EAAeC,EAkEjCC,GAlEkBF,EAkEMi3H,EAlESh3H,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ88H,GAAsC,WAAkC,IAAsCp4H,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAmEva,SAASm4H,EAAWtvH,EAAMyN,GACxB,IAAIhY,EAIJ,OAHAlP,EAAgBuE,KAAMwkI,IACtB75H,EAAQ8C,EAAO/P,KAAKsC,KAAMkV,EAAMyN,IAC1BE,SAASswG,SAAW,OACnBxoH,CACT,CA2TA,OA1TAlO,EAAa+nI,EAAY,CAAC,CACxBhoI,IAAK,WACLe,MAAO,SAAkBmnI,GAAa,GACrC,CACDloI,IAAK,WACLe,MAAO,SAAkBonI,GACvB,GAA6B,IAAzBA,EAAUrD,WAAd,CAGA,IAAIh1G,EAAQ,IAAIi3G,GAAQvjI,KAAKk0B,SAAUywG,EAAUthF,WACjDrjD,KAAKk0B,SAASonB,QAAQqpF,EAAUnD,YAAcl1G,EAC9CA,EAAM/lB,OAASo+H,EAAUnD,UAHzB,CAIF,GACC,CACDhlI,IAAK,WACLe,MAAO,SAAkBqnI,GACvB,GAA6B,IAAzBA,EAAUtD,cAGVthI,KAAKqlB,SAASlgB,IAAIiY,SACQ,QAAxBwnH,EAAU/C,WAA+C,QAAxB+C,EAAU/C,WADjD,CAKA,IAAIv1G,EAAQtsB,KAAKk0B,SAASonB,QAAQspF,EAAUpD,YACxCh1G,EAASo4G,EAAU5gF,QAAQx1C,WAAW,GAAUo2H,EAAU5gF,QAAf,GAC3C99B,EAAUoG,EAAM+I,WAAWuvG,EAAU/C,UAAW+C,EAAUjD,QAASn1G,GACvEtG,EAAQ3f,OAASq+H,EAAUlD,WAC3B1hI,KAAK6kI,oBAAoB7kI,KAAKk0B,SAAUhO,EAAS0+G,EALjD,CAMF,GACC,CACDpoI,IAAK,UACLe,MAAO,SAAiBunI,GACtB,GAA4B,IAAxBA,EAASxD,WAAb,CAGA,IAAI5zG,EAAUo3G,EAASp3G,OAAOlf,WAAW,GAAUs2H,EAASp3G,OAAd,GAC1CrX,EAAO,IAAImtH,GAAOsB,EAASpD,WAC/BoD,EAASvhF,SAAUkgF,GAAU36G,UAAUg8G,EAAS/+H,QAAQ28B,eAAgB,IAAI,MAAQoiG,EAASxC,OAAQwC,EAASvC,OAAQuC,EAAStC,QAASiB,GAAUrP,KAAK0Q,EAASvhF,WAAW,EAC3KuhF,EAAShN,OAAQpqG,EAAQo3G,EAASx+G,UAAWw+G,EAASrC,QAASqC,EAAS1C,cACxEpiI,KAAKk0B,SAAStH,OAAOk4G,EAAS5C,WAAa7rH,EAC3CA,EAAKiO,MAAQwgH,EAAS5C,UACtBliI,KAAK0yH,eAAeoS,EAAShN,QAAUzhH,CAPvC,CAQF,GACC,CACD7Z,IAAK,UACLe,MAAO,SAAiBwnI,GACtB,IAAIz7G,EAAQtnB,KAAK8M,IAAIi2H,EAASrC,WAAYqC,EAASpC,YACnD,KAAIr5G,GAAStpB,KAAKk0B,SAAStH,OAAO3wB,QAAlC,CAGA,IAAI+E,EAAOgB,KAAKwY,IAAIuqH,EAASrC,WAAYqC,EAASpC,YAClD3iI,KAAKk0B,SAASsa,QAAQxuC,KAAKk0B,SAAStH,OAAO5rB,GAAOhB,KAAKk0B,SAAStH,OAAOtD,GAAQy7G,EAASp9B,UAAWk8B,GAAOj4G,SAAS5C,SAAS,EAF5H,CAGF,GACC,CACDxsB,IAAK,sBACLe,MAAO,SAA6B02B,EAAS/N,EAAS0+G,GAEpD,KAAK,IAAArR,aAAYqR,IAAcA,EAAU5C,YAAchiI,KAAKglI,QAK1D,OAJA9+G,EAAQ2G,WAAa7sB,KAAKilI,eACtBjlI,KAAKilI,YACPjlI,KAAKilI,UAAUzvG,KAAOtP,IAI1B,KAAK,IAAAqtG,aAAYqR,GAAY,CAC3B,IAAI/7H,EAAO07H,GAAgBK,EAAU5C,WACrChiI,KAAKglI,QAAUJ,EAAU5C,UACzBhiI,KAAKklI,SAAWh/G,EAChB,IAAIi/G,EAAS,KACb,OAAQnlI,KAAKglI,SACX,KAAM,EACN,KAAK,EACH,MACF,KAAK,EACL,KAAK,EACL,KAAK,EACHG,EAAS,IAAIzB,GApBA,CAAC,GAAI,EAAG,GAAI,EAAG,GAoBM1jI,KAAKglI,SAAU9+G,EAASA,EAAS,EAAG,GAAI,GAAI,GAC9E+N,EAAQsuB,SAASljD,KAAK8lI,GACtB,MACF,KAAK,EAED,IAAI/sG,EAAQ,IAAIurG,GAAQ,GAAI,GAC5B1vG,EAAQuuB,QAAQnjD,KAAK+4B,GACrB+sG,EAAS,IAAIvB,GAASxrG,EAAOlS,EAASA,EAAS,EAAG,KAAM,MACxD,MAEJ,aACejiB,IAAT4E,IACFs8H,EAAS,IAAI7vG,GAAkBzsB,EAAMqd,EAASA,IAIpDlmB,KAAKilI,UAAYE,EACjBj/G,EAAQ2G,WAAas4G,EACjBA,GACFlxG,EAAQwuB,WAAWpjD,KAAK8lI,EAE5B,CACF,GACC,CACD3oI,IAAK,mBACLe,MAAO,SAA0B6nI,GAC/B,IAAI7tE,EAAW6tE,EAAS9jB,WACxB,GAAK/pD,EAIL,IADA,IAAI8tE,EAAiBD,EAAShE,eAAe,GACpCplI,EAAI,EAAGA,EAAIu7D,EAASt7D,OAAQD,IAAK,CAIxC,IAHA,IAAI27D,EAASJ,EAASv7D,GAClB+sC,EAAS4uB,EAAO2tE,eAChB9wG,EAAW,GACN/f,EAAI,EAAGA,EAAIs0B,EAAO9sC,OAAQwY,IAAK,CACtC,IAAI+sH,EAAaz4F,EAAOt0B,GACxB,KAAI+sH,GAAc6D,GAAlB,CAGA,IAAI/4G,EAAQtsB,KAAKk0B,SAASonB,QAAQkmF,GAClChtG,EAAWA,EAASnpB,OAAOihB,EAAM6H,UAAU71B,QAF3C,CAGF,CACA,IAAIgoD,EAAW,IAAIy9E,GAAW/jI,KAAKk0B,SAAUyjC,EAAO4tE,YAAavpI,EAAI,GACrEsqD,EAAS9xB,SAAWA,EACpBx0B,KAAKk0B,SAAS0uB,WAAW5mD,GAAKsqD,CAChC,CACF,GACC,CACD9pD,IAAK,YACLe,MAAO,SAAmB6nI,GACxB,IAAIvoI,EAAOmD,KACP8iD,EAAW9iD,KAAKk0B,SAAS4uB,SAC7BA,EAASh9C,GAAKs/H,EAASI,YACvB1iF,EAASuzE,MAAQ,GACjBvzE,EAASuzE,MAAM,GAAK+O,EAAS/O,MAC7BvzE,EAASszE,KAAOgP,EAASK,YACzB3iF,EAASktE,OAAS,OAClB,IAAI0V,EAAiB,CACnB3E,QAAS,SAAiB4E,GACxB9oI,EAAK+oI,SAASD,EAChB,EACA3E,QAAS,SAAiB2D,GACxB9nI,EAAKgpI,SAASlB,EAChB,EACA1D,QAAS,SAAiB2D,GACxB/nI,EAAKipI,SAASlB,EAChB,EACA1D,OAAQ,SAAgB4D,GACtBjoI,EAAKkpI,QAAQjB,EACf,EACA3D,OAAQ,SAAgB4D,GACtBloI,EAAKmpI,QAAQjB,EACf,GAEF/kI,KAAKglI,SAAW,EAChBhlI,KAAKilI,UAAY,KACjBjlI,KAAKklI,SAAW,KAChB7B,GAAK1yE,SAASy0E,EAAUM,GACxB1lI,KAAK6kI,oBAAoB7kI,KAAKk0B,UAC9Bl0B,KAAKimI,iBAAiBb,EACxB,GACC,CACD5oI,IAAK,uBACLe,MAAO,WACL,IAAK,IAAIvB,EAAI,EAAGA,EAAIgE,KAAKk0B,SAAStH,OAAO3wB,SAAUD,EAAG,CACpD,IAAIqa,EAAOrW,KAAKk0B,SAAStH,OAAO5wB,GAC5BkqB,EAAUlmB,KAAKk0B,SAASC,UAAU9d,EAAK6P,SAC3C7P,EAAK6P,QAAUA,EACfA,EAAQ0G,OAAOvtB,KAAKgX,EACtB,CACF,GACC,CACD7Z,IAAK,wBACLe,MAAO,WAEL,IADA,IAAI2oI,EAAQ,CAAC,EACJlqI,EAAI,EAAGA,EAAIgE,KAAKk0B,SAASonB,QAAQr/C,SAAUD,EAAG,CACrD,IAAIswB,EAAQtsB,KAAKk0B,SAASonB,QAAQt/C,GAC9BuC,EAAO+tB,EAAMlF,UACZ8+G,EAAMpmI,eAAevB,KACxB2nI,EAAM3nI,GAAQ,IAEhB2nI,EAAM3nI,GAAMc,KAAKitB,EAAM/lB,OACzB,CACA,OAAO2/H,CACT,GACC,CACD1pI,IAAK,qBACLe,MAAO,SAA4B6nI,GACjC,IAAIppI,EACAyY,EACAwlB,EACAk3F,EAAa,GACb5lH,EAASvL,KAAKuL,OAClB,IAAKvP,EAAI,EAAGA,EAAIopI,EAASe,gBAAgBlqI,SAAUD,EAAG,CACpD,IAAIoqI,EAAShB,EAASe,gBAAgBnqI,GACtC,GAAoC,IAAhCoqI,EAAOC,cAAcpqI,OAAzB,CAGA,IAAI8sC,EAASq9F,EAAOC,cAAc,GAAGf,eACjCgB,EAAiB,IAAItC,GAAgBj7F,GACrCw9F,EAAa,CAAC,EAClB,IAAK9xH,EAAI,EAAGA,EAAIs0B,EAAO9sC,SAAUwY,EAC/B8xH,EAAWvmI,KAAKk0B,SAASonB,QAAQvS,EAAOt0B,IAAI2S,WAAa,EAE3D,IAAIo/G,EAAY,GACZjoI,OAAO,EACX,IAAKA,KAAQgoI,EACPA,EAAWzmI,eAAevB,IAC5BN,MAAMzC,UAAU6D,KAAKU,MAAMymI,EAAWxmI,KAAKymI,cAAcloI,IAGxD+nI,EAAeI,QAAQF,IAC1Bj7H,EAAOzB,MAAM,wEAEf,IAAIjC,EAAI,IAAIi8H,GAAW9jI,KAAKk0B,UAC5B,IAAK31B,KAAQgoI,EACPA,EAAWzmI,eAAevB,IAC5BsJ,EAAE0pH,SAAShzH,GAIf,IADAsJ,EAAEypH,WAAU,IAAI,OAAU3yD,UAAUynE,EAAOC,cAAc,GAAG98F,QAAQo9F,aAC/DlyH,EAAI,EAAGA,EAAI2xH,EAAOC,cAAcpqI,SAAUwY,EAAG,CAChD,IAAI7S,EAAYwkI,EAAOC,cAAc5xH,GACrC,GAAK6xH,EAAeI,QAAQ9kI,EAAU0jI,gBAAtC,CAIA,IAAIniH,GAAI,IAAI,OAAUw7C,UAAU/8D,EAAU2nC,QAAQo9F,YAClD,IAAK1sG,EAAI,EAAGA,EAAIpyB,EAAEmhC,SAAS/sC,SACrB4L,EAAEmhC,SAAS/O,GAAG41B,OAAO1sC,KADU8W,GAKjCA,IAAMpyB,EAAEmhC,SAAS/sC,QACnB4L,EAAEypH,UAAUnuG,EARd,MAFE5X,EAAOzB,MAAM,iFAYjB,CACAjC,EAAE09C,WACF4rE,EAAW9xH,KAAKwI,EAzChB,CA0CF,CACA,OAAOspH,CACT,GACC,CACD30H,IAAK,mBACLe,MAAO,SAA0B6nI,GAE/B,IADA,IAAIC,EAAiBD,EAAShE,eAAe,GACpCplI,EAAI,EAAGA,EAAIopI,EAAS9jB,WAAWrlH,SAAUD,EAAG,CACnD,IAAI27D,EAASytE,EAAS9jB,WAAWtlH,GACjC,GAAoB,YAAhB27D,EAAO9uD,KACT,IAAK,IAAI4L,EAAI,EAAGA,EAAIkjD,EAAO2tE,eAAerpI,SAAUwY,EAAG,CACrD,IAAI+sH,EAAa7pE,EAAO2tE,eAAe7wH,GACvC,KAAI+sH,GAAc6D,GAIlB,IADA,IAAI/4G,EAAQtsB,KAAKk0B,SAASonB,QAAQkmF,GACzBvnG,EAAI,EAAGA,EAAI3N,EAAM6H,UAAUl4B,SAAUg+B,EAE5C,IADA,IAAI7oB,EAAMkb,EAAM6H,UAAU8F,GACjB9W,EAAI,EAAGA,EAAI/R,EAAIwb,OAAO3wB,SAAUknB,EACvC/R,EAAIwb,OAAOzJ,GAAGiD,KAAM,CAG1B,CAEJ,CACF,GACC,CACD5pB,IAAK,wBACLe,MAAO,WACL,IAAIvB,EACAyY,EACAmyH,EAAqB,GACrBC,EAAoB,CAAC,EACzB,IAAK7qI,EAAI,EAAGA,EAAIgE,KAAKk0B,SAASonB,QAAQr/C,SAAUD,EAAG,CACjD,IAAIswB,EAAQtsB,KAAKk0B,SAASonB,QAAQt/C,GAC9BuC,EAAO+tB,EAAMlF,UACjB,GAAKy/G,EAAkB/mI,eAAevB,GAAtC,CAMA,IAAIuoI,EAAUD,EAAkBtoI,GAChC,IAAKkW,EAAI,EAAGA,EAAI6X,EAAM6H,UAAUl4B,SAAUwY,EAAG,CAC3C,IAAIyR,EAAUoG,EAAM6H,UAAU1f,GAC9BqyH,EAAQ3yG,UAAU90B,KAAK6mB,GACvBA,EAAQiB,OAAS2/G,CACnB,CANA,MAJED,EAAkBtoI,GAAQ+tB,EAC1BA,EAAM/lB,OAASqgI,EAAmB3qI,OAClC2qI,EAAmBvnI,KAAKitB,EAS5B,CACAtsB,KAAKk0B,SAASonB,QAAUsrF,CAC1B,GACC,CACDpqI,IAAK,YACLe,MAAO,WACL,IAAI6nI,EAAW/B,GAAKxC,OAAO7gI,KAAKoqD,OAehC,OAdApqD,KAAKk0B,SAAW,IAAIovG,GACpBtjI,KAAK0yH,eAAiB,CAAC,EACvB1yH,KAAK+mI,UAAU3B,GACfplI,KAAKgnI,uBACLhnI,KAAKinI,iBAAiB7B,GACtBplI,KAAKymI,cAAgBzmI,KAAKknI,wBAC1BjpI,MAAMzC,UAAU6D,KAAKU,MAAMC,KAAKk0B,SAAS8uB,MAAOhjD,KAAKmnI,mBAAmB/B,IACxEplI,KAAKonI,wBACLpnI,KAAKk0B,SAASqxB,SAAS,CACrBK,iBAAiB,EACjBO,oBAAqBnmD,KAAKqlB,SAASlgB,IAAIgZ,SACvCqmC,cAAexkD,KAAKqlB,SAASlgB,IAAI+Y,QACjCyX,cAAe31B,KAAK0yH,iBAEf1yH,KAAKk0B,QACd,IACE,CAAC,CACH13B,IAAK,mBACLe,MAAO,SAA0B2X,GAC/B,OAAO,IAAAmyH,eAAcnyH,IAAsC,MAAP,EApU5C,IAAIlH,WAoUgCkH,EApUhB,EAAG,GACtB,GAoUX,KAEKsvH,CACT,CArUiB,CAqUf5iG,IACF4iG,GAAWvU,QAAU,CAAC,QACtBuU,GAAWx1C,WAAa,CAAC,SACzBw1C,GAAWv2H,QAAS,EAIpB,IAAIq5H,GAAe,SAAUh6H,GAC3BlQ,EAAUkqI,EAAch6H,GACxB,IAJsBC,EAAeC,EAIjCC,GAJkBF,EAIM+5H,EAJS95H,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ4/H,GAAsC,WAAkC,IAAsCl7H,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASi7H,EAAat8H,EAASzH,EAAMikI,GACnC,IAAI78H,EASJ,OARAlP,EAAgBuE,KAAMsnI,GACtB38H,EAAQ8C,EAAO/P,KAAKsC,KAAM,QAAQqL,OAAO9H,EAAM,KAAK8H,OAAOm8H,EAAQ,MAAMn8H,OAAOL,IAC5EP,MAAMg9H,mBACRh9H,MAAMg9H,kBAAkB7qI,EAAuB+N,GAAQ28H,GAEzD38H,EAAMpM,KAAO,eACboM,EAAM+8H,UAAYnkI,EAClBoH,EAAMg9H,YAAcH,EACb78H,CACT,CACA,OAAOlO,EAAa6qI,EACtB,CAhBmB,CAgBhBv/H,EAAiB0C,QAEpB,SAASm9H,GAAc9nG,GACrB,OAAc,KAAPA,GAAoB,KAAPA,GAAoB,KAAPA,GAAoB,IAAPA,CAChD,CACA,SAAS+nG,GAAeC,EAAKx5H,EAAKlK,GAGhC,IAFA,IAAIrG,EAAMuQ,EAAIrS,OACV6jC,GAAM,EACH17B,EAAMrG,IACX+hC,EAAKxxB,EAAIE,WAAWpK,MACT0jI,GAAc,KAAPhoG,KAGhB17B,EAEJ,OAAO07B,IAAOgoG,EAAM1jI,GAAO,CAC7B,CAoNA,SAAS2jI,GAAex6H,GAAW,IAAIC,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQqgI,GAA+B,OAAO,WAAkC,IAAsC37H,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,CAAG,CAE5a,IAAI47H,GAAY17E,GAAKlK,QACjB6lF,GAAY37E,GAAK/kC,QACjB+P,GAAQg1B,GAAKh1B,MACboB,GAAQ4zB,GAAK5zB,MACbT,GAASq0B,GAAKr0B,OACd2Q,GAAW0jB,GAAK1jB,SAChBs/F,GAAa57E,GAAKD,SAClB87E,GAAsB,CAAC,cAAe,UAAW,UAAW,UAAW,iBACvEC,GAAmB,CACrBC,KAAM,QACNC,KAAM,OACNC,KAAM,UASR,SAASC,GAAOC,GACd,OAAIA,UAA6D,IAAA/pI,SAAQ+pI,GAChEA,EAEF,CAACA,EACV,CACA,SAASC,GAAcpqI,GACrB,IAAI21H,EAAkC,IAAvB31H,EAAKunB,OAAO7pB,OAC3B,OAAOsC,EAAKD,MAAM,EAAG41H,EAAW,EAAI,GAAGpuG,MACzC,CACA,IAAI8iH,GAAgB,SAAUt7H,GAC5BlQ,EAAUwrI,EAAet7H,GACzB,IAAIG,EAASs6H,GAAea,GAC5B,SAASA,EAAc59H,GACrB,IAAIL,EAKJ,OAJAlP,EAAgBuE,KAAM4oI,IACtBj+H,EAAQ8C,EAAO/P,KAAKsC,OACdzB,KAAO,gBACboM,EAAMK,QAAUA,EACTL,CACT,CACA,OAAOlO,EAAamsI,EACtB,CAZoB,CAYjB7gI,EAAiB0C,QA0BpB,SAASo+H,GAAmBC,EAAaC,GAKvC,IAHA,IACIC,GAFJF,GAAc,IAAA51H,UAAS41H,GAAeA,EAAc,GAAGz9H,OAAOy9H,IAC1Ch9H,QAAQ,WAAY,KAAKA,QAAQ,SAAU,IAC9CxJ,MAAM,KACnB2mI,EAAM,GACDC,EAAQ,EAAGC,EAAUH,EAAS/sI,OAAQitI,EAAQC,IAAWD,EAAO,CAIvE,IAHA,IAAIE,EAAKJ,EAASE,GAAO5mI,MAAM,KAC3B+mI,EAAK,GACLjlI,EAAM,EACDpI,EAAI,EAAGoC,EAAIgrI,EAAGntI,OAAQD,EAAIoC,IAAKpC,EAAG,CACzC,IAAI4D,EAAIwpI,EAAGptI,GACX,GAAI4D,EAAEyiC,SAAS,KAIb,IAHA,IAAIinG,EAAK1pI,EAAE0C,MAAM,KACbmS,EAAI7E,SAAS05H,EAAG,GAAI,IACpBnmH,EAAIvT,SAAS05H,EAAG,GAAI,IACjB70H,GAAK0O,IAAK1O,EACf40H,EAAGjlI,KAAS2kI,EAAQt0H,QAGtB40H,EAAGjlI,KAAS2kI,EAAQnpI,EAExB,CACAqpI,EAAI5pI,KAAKgqI,EACX,CACA,IAAIrgG,EAAW,GACXugG,EAAM,EAaV,OAZA,SAAS54E,EAAS9lD,EAAOi6D,GACvB,IAAK,IAAI0kE,EAAK,EAAGC,EAAKR,EAAIp+H,GAAO5O,OAAQutI,EAAKC,IAAMD,EAAI,CACtD,IAAIE,EAAS5kE,EAAMA,EAAIt6C,QAAU,IAAI,MACrCk/G,EAAOv3C,iBAAiB82C,EAAIp+H,GAAO2+H,GAAKE,GAC1B,IAAV7+H,EACFm+B,EAASugG,KAASG,EAElB/4E,EAAS9lD,EAAQ,EAAG6+H,EAExB,CACF,CACA/4E,CAASs4E,EAAIhtI,OAAS,GACf+sC,CACT,CACA,IAAI2gG,GAAY,SAAUnX,GACxBp1H,EAAUusI,EAAWnX,GACrB,IAAIhwF,EAAUulG,GAAe4B,GAC7B,SAASA,EAAUz0H,EAAMyN,GACvB,IAAIyhB,EAMJ,OALA3oC,EAAgBuE,KAAM2pI,IACtBvlG,EAAS5B,EAAQ9kC,KAAKsC,KAAMkV,EAAMyN,IAC3BinH,SAAW,CAAC,EACnBxlG,EAAOqf,UAAY,GACnBrf,EAAOvhB,SAASswG,SAAW,MACpB/uF,CACT,CA8RA,OA7RA3nC,EAAaktI,EAAW,CAAC,CACvBntI,IAAK,YACLe,MAAO,WACLyC,KAAKuL,OAAOxB,KAAK,sBACjB,IAAImL,EAjVV,SAAiB+9C,GACf,IAOIjyB,EASAzjC,EAsDiBgyC,EAHF1pC,EAnEf7J,EAAI,EACJyY,EAAI,EACJrW,EAAI60D,EAAOh3D,OACX0T,EAAO40G,IACPslB,GAAU,EACVtmI,EAAO,EACPikI,EAAS,EAET/oG,EAAQ,EACRpyB,EAAS,CAAC,EACVy9H,EAAQ,CAAC,EACT/+H,EAAO,GACPg/H,EAAY,EACZvtI,EAAM,GACNiN,EAAS,GACTugI,EAAc,EAElB,SAASC,IACP,IAAI16F,EACJ,IAAc,KAAT5/B,GAAwB,KAATA,KAAiB3T,EAAI,GAAKoC,GAAKwpI,GAAc30E,EAAOzkD,WAAWxS,EAAI,KAGrF,QAFEwrI,QACAxrI,EAGJ,GAAI6tI,GAAoB,KAATl6H,EAAa,CAC1B8E,EAAIzY,EACJ,IAAIkE,EAAQ,EACZ,EAAG,CAED,IAAW,KADXuU,EAAIozH,GAAe,GAAI50E,EAAQx+C,EAAI,IAEjC,MAAM,IAAI6yH,GAAa,gCAAiC/jI,EAAMikI,KAE9DtnI,CACJ,OAASuU,EAAI,EAAIrW,GAAK60D,EAAOzkD,WAAWiG,EAAI,KAAO9E,GAAQ8E,EAAI,GAAKrW,GAMpE,OALAmxC,EAAM0jB,EAAO7mD,UAAUpQ,EAAI,EAAGyY,GAAG3I,QAAQ,MAAO,IAChD9P,EAAIyY,EAAI,EACRlR,GAAQrD,EACRsnI,EAAS,EACTqC,GAAU,EACHt6F,CACT,CACA,GAAa,KAAT5/B,GAAwB,KAATA,EAAa,CAC9B8E,EAAIzY,EACJ,GAEE,IAAW,KADXyY,EAAIozH,GAAel4H,EAAMsjD,EAAQx+C,EAAI,IAEnC,MAAM,IAAI6yH,GAAa,mCAAoC/jI,EAAMikI,SAE5D/yH,EAAI,EAAIrW,IAAMwpI,GAAc30E,EAAOzkD,WAAWiG,EAAI,KAI3D,OAHA86B,EAAM0jB,EAAO7mD,UAAUpQ,EAAI,EAAGyY,GAC9B+yH,GAAU/yH,EAAIzY,EAAI,EAClBA,EAAIyY,EAAI,EACD86B,CACT,CAEA,IADA96B,EAAIzY,EACGyY,EAAIrW,IAAMwpI,GAAc30E,EAAOzkD,WAAWiG,OAC7CA,EAEJ86B,EAAM0jB,EAAO7mD,UAAUpQ,EAAGyY,GAC1B+yH,GAAU/yH,EAAIzY,EACdA,EAAIyY,EACJ,IAAIovE,EAAMjjE,OAAO2uB,GACjB,OAAK3uB,OAAO6X,MAAMorD,GAGXt0C,EAFEs0C,CAGX,CAUA,KAAO7nF,GAAKoC,GAAG,CAEb,GAAa,MADbuR,EAAOsjD,EAAOzkD,WAAWxS,UACD,GAAa,KAAT2T,EAC1Bk6H,GAAU,IACRtmI,EACFikI,EAAS,MACJ,CACL,GAAa,KAAT73H,GAAwB,IAATA,EAAmB,IAAa,KAATA,EAAa,CAErD,IAAW,KADX3T,EAAI6rI,GAAe,GAAI50E,EAAQj3D,EAAI,IAEjC,MAEA,QAEJ,CAAO,GAAc,IAAVyiC,EAAa,CACtB,GAAc,KAAT9uB,GAAwB,MAATA,GAA2D,SAA1CsjD,EAAOhmD,OAAOjR,EAAI,EAAG,GAAGykB,cAetD,IAAIG,OAAO6X,MAAM9oB,GACtB,MAEA,MAAM,IAAI23H,GAAa,iCAAiCj8H,OAAOozB,GAAQl7B,EAAMikI,EAC/E,CAhBE,IADAxmG,EADAvsB,EAAIzY,EAAI,EAEDyY,EAAIrW,IAAMwpI,GAAc30E,EAAOzkD,WAAWiG,OAC7CA,EAIJ,GAFA+yH,GAAU/yH,EAAIzY,EAEVglC,GADJhlC,EAAIyY,GACW,CACbpI,EAAO4mD,EAAO7mD,UAAU40B,EAAOhlC,IAAM8tI,EAAQ,CAAC,EAC9CrrG,EAAQ,EACR,QACF,CACE,MAAM,IAAI6oG,GAAa,0BAA2B/jI,EAAMikI,EAO9D,CAAO,GAAc,IAAV/oG,EAAa,CACtB,GAAc,KAAT9uB,GAAwB,MAATA,GAA2D,SAA1CsjD,EAAOhmD,OAAOjR,EAAI,EAAG,GAAGykB,cAGtD,IAAa,KAAT9Q,EAAa,CAGtB,IADAqxB,EADAvsB,EAAIzY,EAAI,EAEDyY,EAAIrW,IAAMwpI,GAAc30E,EAAOzkD,WAAWiG,OAC7CA,EAIJ,GAFA+yH,GAAU/yH,EAAIzY,EAEVglC,GADJhlC,EAAIyY,GACW,CACbjY,EAAMy2D,EAAO7mD,UAAU40B,EAAOhlC,GAC9ByiC,EAAQ,EACR,QACF,CACE,MAAM,IAAI6oG,GAAa,mBAAoB/jI,EAAMikI,EAErD,CAAO,GAAc,KAAT73H,GAAwB,MAATA,GAA2D,SAA1CsjD,EAAOhmD,OAAOjR,EAAI,EAAG,GAAGykB,cAa7D,IAAIG,OAAO6X,MAAM9oB,GACtB,MAEA,MAAM,IAAI23H,GAAa,iCAAiCj8H,OAAOozB,GAAQl7B,EAAMikI,EAC/E,CAdE,GADAA,GAAU,GADVxrI,GAAK,GAEGoC,IAAMwpI,GAAc30E,EAAOzkD,WAAWxS,IAC5C,MAAM,IAAIsrI,GAAa,iCAAiCj8H,OAAOozB,GAAQl7B,EAAMikI,GAE7Ez8H,EAAO,GACPg/H,EAAY,EACZtgI,EAAS,GACTugI,EAAc,EACdvrG,EAAQ,EACR,QAMJ,CAlCEA,EAAQ,EACR,QAkCJ,CAAO,GAAc,IAAVA,EAAa,CACtB,GAAI7d,OAAO6X,MAAM9oB,GACf,MAEFpS,EAAQ0sI,KACR,IAAA3hI,KAAIwhI,EAAOttI,EAAKe,GAChBkhC,EAAQ,EACR,QACF,CAAO,GAAc,IAAVA,EAAa,CACtB,GAAa,KAAT9uB,EAAa,CAGf,IADAqxB,EADAvsB,EAAIzY,EAAI,EAEDyY,EAAIrW,IAAMwpI,GAAc30E,EAAOzkD,WAAWiG,OAC7CA,EAIJ,GAFA+yH,GAAU/yH,EAAIzY,EAEVglC,GADJhlC,EAAIyY,GACW,CAlGJ5O,EAmGCotD,EAAO7mD,UAAU40B,EAAOhlC,GAlG1C+O,EAAKg/H,KAAelkI,EAmGZ,QACF,CACE,MAAM,IAAIyhI,GAAa,mBAAoB/jI,EAAMikI,EAErD,CACE,GAAIuC,EAAY,EAAG,CACjB,IAAK,IAAIG,EAAW,EAAGA,EAAWH,IAAaG,EAC7C3sI,EAAQ,GACRkM,EAAOygI,GAAY3sI,GACnB,IAAA+K,KAAIwhI,EAAO/+H,EAAKm/H,GAAW3sI,GAE7BkhC,EAAQ,EACR,QACF,CACA,MAAM,IAAI6oG,GAAa,sCAAuC/jI,EAAMikI,EAExE,CAAO,GAAc,IAAV/oG,EAAa,CACR,KAAT9uB,GAAwB,MAATA,GAA2D,SAA1CsjD,EAAOhmD,OAAOjR,EAAI,EAAG,GAAGykB,cAEzC,KAAT9Q,EACT8uB,EAAQ,EACW,KAAT9uB,GAAwB,MAATA,GAA2D,SAA1CsjD,EAAOhmD,OAAOjR,EAAI,EAAG,GAAGykB,cAEzDG,OAAO6X,MAAM9oB,GACtB8uB,EAAQ,GAzHK8Q,EA2HD06F,IAzHlBxgI,EADeugI,EAAcD,GACZ1qI,KAAKkwC,KACpBy6F,GAoHIvrG,EAAQ,EAJRA,EAAQ,EAUV,QACF,CACE,MAAM,IAAI6oG,GAAa,6BAA6Bj8H,OAAOozB,GAAQl7B,EAAMikI,EAC3E,CACAqC,GAAU,IACRrC,CACJ,GACExrI,CACJ,CACA,GAAc,IAAVyiC,EACF,MAAM,IAAI6oG,GAAa,mCAAmCj8H,OAAOozB,GAAQl7B,EAAMikI,GAEjF,OAAOn7H,CACT,CAgIiB89H,CAAQnqI,KAAKoqD,OACxB,OAAOpqD,KAAKoqI,WAAWl1H,EACzB,GACC,CACD1Y,IAAK,aACLe,MAAO,SAAoB8sI,GACzB,IAAIp2G,EAAU,IAAIg0G,GACdqC,EAAcD,EAAQ/tI,OAAOyO,KAAKs/H,GAAS,IAW/C,OAVArqI,KAAKuqI,cAAct2G,EAASq2G,GAC5BtqI,KAAKwqI,kBAAkBv2G,EAASq2G,GAChCtqI,KAAKyqI,mBAAmBx2G,EAASq2G,GACjCtqI,KAAK0qI,kBAAkBz2G,EAASq2G,GAChCtqI,KAAK2qI,iBAAiB12G,EAASq2G,GAC/Br2G,EAAQsxB,SAAS,CACfK,iBAAiB,EACjBO,oBAAqBnmD,KAAKqlB,SAASlgB,IAAIgZ,SACvCqmC,cAAexkD,KAAKqlB,SAASlgB,IAAI+Y,UAE5B+V,CACT,GACC,CACDz3B,IAAK,mBACLe,MAAO,SAA0B02B,EAASq2G,GACxC,IAAIxnF,EAAW7uB,EAAQ6uB,SACvBA,EAASh9C,GAAKwkI,EAAY3mH,MAAM7d,GAChCg9C,EAASqzE,eAAiBmU,EAAYM,gBAAgBC,cACtD,IAAIC,EAAcR,EAAYS,iBAC9BjoF,EAASszE,KAAO0U,GAAeA,EAAYE,cAAgBF,EAAYE,cAAgB,GACvFloF,EAASktE,OAAS,MAClBltE,EAASuzE,MAAQ,GACjBvzE,EAASuzE,MAAM,GAAKiU,EAAYnF,OAAO9O,KACzC,GACC,CACD75H,IAAK,oBACLe,MAAO,SAA2B02B,EAASq2G,GACzC,IAGItuI,EAFA+xB,EAAQ06G,GADE6B,EAAY3yE,OACCszE,kBACvBr1H,EAAQmY,EAAM9xB,OAElB,IAAKD,EAAI,EAAGA,EAAI4Z,EAAO5Z,IACjBgE,KAAKyjD,UAAUznD,GACjBgE,KAAKyjD,UAAUznD,GAAGuC,KAAOwvB,EAAM/xB,GAE/BgE,KAAKyjD,UAAUznD,GAAK,CAClBuC,KAAMwvB,EAAM/xB,GACZw4B,SAAU,IAIhB,IAAIivB,EAAYxvB,EAAQi3G,eACxB,IAAKlvI,EAAI,EAAGA,EAAI4Z,EAAO5Z,IAAK,CAC1B,IAAIsqD,EAAWtmD,KAAKyjD,UAAUznD,GAC9BynD,EAAUznD,GAAK,IAAImsI,GAAWl0G,EAASqyB,EAAS/nD,KAAMvC,EAAI,GAC1DynD,EAAUznD,GAAGw4B,SAAW8xB,EAAS9xB,QACnC,CACF,GACC,CACDh4B,IAAK,gBACLe,MAAO,SAAuB02B,EAASq2G,GACrC,IAAIxF,EAAWwF,EAAYa,UAC3B,IAAKrG,EACH,MAAM,IAAI8D,GAAc,kDAE1B,IAAK,IAAIjvF,EAAI,EAAGv7C,EAAIgqI,GAAoBnsI,OAAQ09C,EAAIv7C,IAAKu7C,EACvD,IAAKmrF,EAASsD,GAAoBzuF,IAChC,MAAM,IAAIivF,GAAc,qCAAqCv9H,OAAO+8H,GAAoBzuF,GAAI,gBAyBhG,IAtBA,IAAIiwF,EAAW5pI,KAAK4pI,SAChB//F,EAAS4+F,GAAO3D,EAASsG,aACzB3oI,EAAIgmI,GAAO3D,EAASuG,SACpB3oI,EAAI+lI,GAAO3D,EAASwG,SACpB57G,EAAI+4G,GAAO3D,EAASyG,SACpBx9G,EAAQ06G,GAAO3D,EAAS0G,eACxB51H,EAAQmY,EAAM9xB,OACdo4D,EAAQo0E,GAAO3D,EAAS2G,YAAc,GACtCC,EAAWjD,GAAO3D,EAAS6G,eAAiB,GAC5CC,EAAgBnD,GAAO3D,EAAS+G,gBAAkB,GAClDC,EAAUrD,GAAO3D,EAASh/H,KAAO,GACjCimI,EAAStD,GAAO3D,EAASkH,oBAAsB,GAC/CC,EAAWxD,GAAO3D,EAASoH,gBAAkB,GAC7Cl8E,EAAWy4E,GAAO3D,EAASqH,cAAgB,GAC3CC,EAAc3D,GAAO3D,EAASuH,iBAAmB,GACjDC,EAAc7D,GAAO3D,EAASx+G,YAAc,GAC5CimH,EAAU9D,GAAO3D,EAAS0H,qBAAuB,GACjDC,EAAUhE,GAAO3D,EAAS4H,eAAiB,GAC3CC,EAASlE,GAAO3D,EAAS8H,qBAAuB,GAChDnpF,EAAYglF,GAAO3D,EAAS+H,kBAAoB,GAChDvgH,EAAQ,KACRpG,EAAU,KACLlqB,EAAI,EAAGA,EAAI4Z,IAAS5Z,EAE3B,GAAc,KADF2wI,EAAO3wI,IAAM,GACzB,CAGA,IAAI+3H,EAAU5oH,OAAOugI,EAAS1vI,IAAM,KAC/BswB,GAASA,EAAMlF,YAAc2sG,IAChCznG,EAAQ2H,EAAQ0qB,SAASo1E,IAAY9/F,EAAQs9F,SAASwC,IAExD6V,EAASz+H,OAAOygI,EAAc5vI,IAAM,MAAQ+3H,EAC5C,IAAIC,EAASnqF,EAAO7tC,GAChB24B,EAAQxpB,OAAO4gI,EAAO/vI,IAAM,KAC5BonD,EAAUj4C,OAAO8gI,EAASjwI,IAAM,IACpC,IAAKkqB,GAAWA,EAAQs/B,gBAAkBwuE,GAAU9tG,EAAQu/B,aAAe9wB,EAAO,CAChFzO,EAAUoG,EAAM+I,WAAW+tB,EAAS4wE,EAAQr/F,GAC5C,IAAIm4G,EAAcrpF,EAAUznD,GAAK,EAC7B27D,EAAS33D,KAAKyjD,UAAUqpF,GACvBn1E,IACH33D,KAAKyjD,UAAUqpF,GAAe,CAC5BvuI,KAAM,GACNi2B,SAAU,IAEZmjC,EAAS33D,KAAKyjD,UAAUqpF,IAE1Bn1E,EAAOnjC,SAASn1B,KAAK6mB,EACvB,CACA,IAAI3nB,EAAOwvB,EAAM/xB,GACb+J,EAAUiqD,EAASh0D,IAAM2sI,GAAcpqI,GACvCsK,EAAOq/H,GAAUp/G,UAAU/iB,GAC3BogB,EAAO+hH,GAAU9T,KAAK71H,EAAKunB,QAC3B2H,EAAM,IAAI,MAAQhrB,EAAEzG,GAAI0G,EAAE1G,GAAI0zB,EAAE1zB,IAChCoqB,EAAmB,WAAbiuC,EAAMr4D,KAAmB,EAC/BqqB,EAASylH,EAAQ9vI,IAAMA,EACvB2xB,EAAay+G,EAAYpwI,IAAM,EAC/BsqB,EAAYgmH,EAAYtwI,IAAM,EAC9B0xB,EAASviB,OAAOshI,EAAQzwI,IAAM,IAC9BwqB,EAAS+lH,EAAQvwI,IAAM,EAC3BkqB,EAAQ2H,QAAQtvB,EAAMsK,EAAM4kB,EAAKtH,EAAMC,EAAKC,EAAQqH,EAAQpH,EAAWqH,EAAYnH,EAjCnF,CAmCJ,GACC,CACDhqB,IAAK,oBACLe,MAAO,SAA2B02B,EAASq2G,GACrCA,EAAYyC,aACd/sI,KAAKgtI,cAAc/4G,EAASq2G,EAAYyC,aAEtCzC,EAAY2C,oBACdjtI,KAAKktI,eAAej5G,EAASq2G,EAAY2C,mBAE7C,GACC,CACDzwI,IAAK,iBACLe,MAAO,SAAwB02B,EAASk5G,GACtC,IAAIvD,EAAW5pI,KAAK4pI,SACpB,GAAKuD,EAAUC,UAAaD,EAAUrnI,IAAOqnI,EAAUE,kBAAqBF,EAAUG,kBAAqBH,EAAUI,kBAqBrH,IAlBA,IAAI5nF,EAAS1xB,EAAQuuB,QAWjBgrF,EAAa/E,GAAO0E,EAAUC,UAC9BK,EAAchF,GAAO0E,EAAUrnI,IAC/B4nI,EAASjF,GAAO0E,EAAUQ,iBAC1BC,EAAOnF,GAAO0E,EAAUU,iBACxB9kG,EAAS0/F,GAAO0E,EAAUI,mBAC1BO,EAAWrF,GAAO0E,EAAUY,wBAA0B,GACtDC,EAAYvF,GAAO0E,EAAUc,wBAA0B,GAClDjyI,EAAI,EAAGoC,EAAIqvI,EAAYxxI,OAAQD,EAAIoC,IAAKpC,EAAG,CAClD,IAAIswB,EAAQ2H,EAAQ0qB,SAASirF,EAAS7gG,EAAO/sC,KACzCo8B,EAAQ81G,EAASV,EAAWxxI,IAC5BmnG,EAAWuqC,EAAO1xI,GAClBonG,EAASwqC,EAAK5xI,GACd+5H,EAAa+X,EAAS9xI,IAAM,IAC5Bi6H,EAAW+X,EAAUhyI,IAAM,IAC3B2Z,EAAQ2W,EAAM6hH,YAAYhrC,EAAU4yB,GACpCjzH,EAAMwpB,EAAM6hH,YAAY/qC,EAAQ6yB,GACpC,GAAKtgH,GAAU7S,EAAf,CAKA,IAFA,IAAI8V,EAAS,IAAIsf,GAAOE,EAAOziB,EAAM,GAAI7S,EAAI,GAAI,EAAG,KAAM,MACtD0xB,EAAWlI,EAAM6uB,cACZl4B,EAAItN,EAAM,GAAIsN,GAAKngB,EAAI,KAAMmgB,EACpCuR,EAASvR,GAAG4J,WAAajU,EAE3Bwf,EAAMgxB,UAAUxwC,GAChBqb,EAAQwuB,WAAWpjD,KAAKuZ,EAPxB,CAQF,CApCA,SAASs1H,EAAS3vI,GAEhB,IADA,IAAIH,EAAIunD,EAAO1pD,OACND,EAAI,EAAGA,EAAIoC,IAAKpC,EACvB,GAAI2pD,EAAO3pD,GAAGiyB,QAAU1vB,EACtB,OAAOonD,EAAO3pD,GAIlB,OADA2pD,EAAOvnD,GAAK,IAAIu6B,GAAMp6B,EAAM,GACrBonD,EAAOvnD,EAChB,CA4BF,GACC,CACD5B,IAAK,gBACLe,MAAO,SAAuB02B,EAASm6G,GACrC,IAAIxE,EAAW5pI,KAAK4pI,SACpB,GAAKwE,EAAYC,cAAiBD,EAAYf,kBAAqBe,EAAYd,kBAAqBc,EAAYb,kBAahH,IAVA,IAhTiB5sH,EACjB2tH,EA+SIpiH,EAAQu8G,GAAO2F,EAAYC,cAC3BX,EAASjF,GAAO2F,EAAYT,iBAC5BG,EAAWrF,GAAO2F,EAAYL,wBAA0B,GACxDH,EAAOnF,GAAO2F,EAAYP,iBAC1BG,EAAYvF,GAAO2F,EAAYH,wBAA0B,GACzDM,EAAW9F,GAAO2F,EAAYI,UAAY,GAC1CC,EAAUhG,GAAO2F,EAAYM,wBAA0B,GACvDC,EAAelG,GAAO2F,EAAYQ,uBAAyB,GAC3D7gH,EAAQ06G,GAAO2F,EAAYtoI,KAAO,GAClCijC,EAAS0/F,GAAO2F,EAAYb,mBACvBvxI,EAAI,EAAGoC,EAAI8tB,EAAMjwB,OAAQD,EAAIoC,IAAKpC,EAAG,CAC5C,IAAI6M,GA3TW8X,EA2TUuL,EAAMlwB,GA1TjCsyI,YAAS,YAAYhiI,KAAKqU,IAIvB0nH,GAAiBiG,EAAO,GAAG7tH,eAFzB,MAyTH,GAAK5X,EAAL,CAGA,IAAItK,EAAOwvB,EAAM/xB,IAAMkwB,EAAMlwB,GACzBswB,EAAQ2H,EAAQ0qB,SAASirF,EAAS7gG,EAAO/sC,KACzCmnG,EAAWuqC,EAAO1xI,GAClBonG,EAASwqC,EAAK5xI,GACd+5H,EAAa+X,EAAS9xI,IAAM,IAC5Bi6H,EAAW+X,EAAUhyI,IAAM,IAC3B2Z,EAAQ2W,EAAM6hH,YAAYhrC,EAAU4yB,GACpCjzH,EAAMwpB,EAAM6hH,YAAY/qC,EAAQ6yB,GACpC,GAAKtgH,GAAU7S,EAAf,CAGA,IAAI40B,EAAU62G,EAASvyI,IAAM,GACzBC,EAASwyI,EAAQzyI,IAAM,EACvBy7B,EAAak3G,EAAa3yI,IAAM,IAChCmpI,OAAS,EACb,GAAa,UAATt8H,EAAkB,CACpB,IAAIzE,EAAM6vB,EAAQsuB,SAAStmD,OAC3BkpI,EAAS,IAAI5tG,GAAME,EAAY9hB,EAAM,GAAI7S,EAAI,GAAIsB,EAAK7F,EAAMm5B,EAASz7B,GACrEg4B,EAAQghG,SAASkQ,GACjBlxG,EAAQwuB,WAAWpjD,KAAK8lI,EAC1B,KAAoB,SAATt8H,GACTs8H,EAAS,IAAI7vG,GAAkBA,GAAkBY,KAAKU,KAAMjhB,EAAM,GAAI7S,EAAI,IAC1EmxB,EAAQwuB,WAAWpjD,KAAK8lI,IAExBA,EAAS,KAEX,GAAKA,EAIL,IADA,IAAI3wG,EAAWlI,EAAM6uB,cACZl4B,EAAItN,EAAM,GAAIsN,GAAKngB,EAAI,KAAMmgB,EACpCuR,EAASvR,GAAG4J,WAAas4G,CArB3B,CAXA,CAkCF,CACF,GACC,CACD3oI,IAAK,qBACLe,MAAO,SAA4B02B,EAASq2G,GAC1C,IAAIV,EAAW5pI,KAAK4pI,SAChBiF,EAASvE,EAAYwE,yBACzB,GAAKD,EAAL,CAGA,IAAIE,EAAStG,GAAOoG,EAAOG,aACvBC,EAAUxG,GAAOoG,EAAOK,iBACxBC,EAAU1G,GAAOoG,EAAOO,cAC5B,GAAKL,GAAWE,GAAYE,EAA5B,CAGA,IAAIE,EAlVV,SAAwBA,GACtB,IAAKA,EACH,OAAO,KAET,IAAInpC,EAAMuiC,GAAO4G,EAASvpI,IACtByjC,EAAS8lG,EAAS9lG,OAClB+lG,EAASD,EAASC,OACtB,IAAKppC,IAAQ38D,IAAW+lG,EACtB,OAAO,KAGT,IADA,IAAIC,EAAM,GACDvzI,EAAI,EAAGoC,EAAI8nG,EAAIjqG,OAAQD,EAAIoC,IAAKpC,EAAG,CAG1C,IAFA,IAAI8oE,EAAM,IAAI,MACV9U,EAAW8U,EAAI9U,SACVjE,EAAM,EAAGA,EAAM,IAAKA,EAAK,CAChC,IAAI+kE,EAAavnF,EAAOwiB,EAAM,GAC9BiE,EAASjE,GAAO08E,GAAO3X,EAAW,IAAI90H,GACtCg0D,EAASjE,EAAM,GAAK08E,GAAO3X,EAAW,IAAI90H,GAC1Cg0D,EAASjE,EAAM,GAAK08E,GAAO3X,EAAW,IAAI90H,GAC1Cg0D,EAASjE,EAAM,IAAM08E,GAAO6G,EAAOvjF,EAAM,IAAI/vD,EAC/C,CACAuzI,EAAIrpC,EAAIlqG,IAAM8oE,CAChB,CACA,OAAOyqE,CACT,CA0TqBC,CAAelF,EAAYmF,uBAC1C,GAAKJ,EAGL,IAAK,IAAIrzI,EAAI,EAAGoC,EAAI2wI,EAAO9yI,OAAQD,EAAIoC,IAAKpC,EAAG,CAI7C,IAHA,IAAI0zI,EAAM,IAAI7mG,GAAS5U,GACnB07G,EAAc9G,GAAmBoG,EAAQjzI,GAAIqzI,GAC7C3rH,EAAUyrH,EAAQnzI,GAAGsG,MAAM,KACtBknI,EAAK,EAAGC,EAAK/lH,EAAQznB,OAAQutI,EAAKC,IAAMD,EAAI,CACnD,IAAIl9G,EAAQ5I,EAAQ8lH,GAAI1jH,OACpBwG,EAAMrwB,OAAS,GACjByzI,EAAIne,SAASqY,EAASt9G,GAE1B,CACAojH,EAAI1mG,SAAW2mG,EACf17G,EAAQ+uB,MAAM3jD,KAAKqwI,EACrB,CAjBA,CANA,CAwBF,IACE,CAAC,CACHlzI,IAAK,mBACLe,MAAO,SAA0B2X,GAC/B,OAAO,IAAAhC,UAASgC,IAAS,aAAazW,KAAKyW,EAC7C,KAEKy0H,CACT,CA1SgB,CA0Sd/nG,IACF+nG,GAAU1Z,QAAU,CAAC,MAAO,SAC5B0Z,GAAU36C,WAAa,CAAC,OAAQ,UAEhC,IAMI4gD,GAAc,WAChB,SAASA,IACPn0I,EAAgBuE,KAAM4vI,GACtB7pH,GAAgB/lB,KAAM,WAAY,IAClC+lB,GAAgB/lB,KAAM,UAAW,IAAI,MAAQ,EAAG,EAAG,IACnDA,KAAK6vI,QAAU,CAAC,EAChB7vI,KAAK8vI,SAAW,IAAI,MACpB9vI,KAAK+vI,UAAY,IAAI,MACrB/vI,KAAK6vI,QAAQvqI,MAAQ,CAAC,EACtBtF,KAAK6vI,QAAQG,OAAS,GACtBhwI,KAAK6vI,QAAQI,OAAS,GACtBjwI,KAAK6vI,QAAQxkE,KAAO,GACpBrrE,KAAK6vI,QAAQK,QAAU,GACvBlwI,KAAK6vI,QAAQM,SAAW,IAAI,MAC5BnwI,KAAK6vI,QAAQO,OAAS,GACtBpwI,KAAK6vI,QAAQl3E,OAAS,IAAI,MAAQ,EAAG,EAAG,GACxC34D,KAAK6vI,QAAQzlB,KAAO,EACpBpqH,KAAK6vI,QAAQ1lB,MAAQ,EACrBnqH,KAAK6vI,QAAQvlB,KAAO,CACtB,CAqIA,OApIA7tH,EAAamzI,EAAa,CAAC,CACzBpzI,IAAK,cACLe,MAAO,WACL,IAAI,IAAA8yI,cAAarwI,KAAKswI,OACpBtwI,KAAKswI,MAAQtwI,KAAKswI,MAAMxiI,YACnB,KAAK,IAAAu5H,eAAcrnI,KAAKswI,OAC7B,MAAM,IAAI10I,UAAU,qCAExB,GACC,CACDY,IAAK,cACLe,MAAO,SAAqBgzI,EAAcC,GACxC,IAAK,IAAIh0I,KAAO+zI,EACd,GAAIA,EAAazwI,eAAetD,GAC9B,OAAQ+zI,EAAa/zI,GAAK,IACxB,KAxCA,EAyCEwD,KAAK6vI,QAAQrzI,GAAOg0I,EAAOD,EAAa/zI,GAAK,IAAI+zI,EAAa/zI,GAAK,IACnE,MACF,KAzCH,EA0CKwD,KAAKywI,YAAYzwI,KAAK6vI,QAAQrzI,GAAMg0I,EAAOD,EAAa/zI,GAAK,IAAK+zI,EAAa/zI,GAAK,IACpF,MACF,KA7CF,EA8CIwD,KAAK0wI,aAAa1wI,KAAK6vI,QAAQrzI,GAAMg0I,EAAOD,EAAa/zI,GAAK,IAAK+zI,EAAa/zI,GAAK,IACrF,MACF,KA9CF,EA+CIwD,KAAK6vI,QAAQrzI,GAAO,IAAIwR,WAAWwiI,EAAOD,EAAa/zI,GAAK,IAA8B,EAAzB,CAAC+zI,EAAa/zI,GAAK,IAAkC,EAAzB,CAAC+zI,EAAa/zI,GAAK,KAK1H,GACC,CACDA,IAAK,eACLe,MAAO,SAAsB+xI,EAAQxxI,EAAKyqC,GACxC,IAAIy4D,EAAO,CAACljG,EAAIyqC,GAAMzqC,EAAIyqC,EAAM,GAAIzqC,EAAIyqC,EAAM,IAC9C+mG,EAAO7sI,EAAIu+F,EAAK,GAChBsuC,EAAO5sI,EAAIs+F,EAAK,GAChBsuC,EAAO5/G,EAAIsxE,EAAK,EAClB,GACC,CACDxkG,IAAK,cACLe,MAAO,SAAqB+xI,EAAQxxI,EAAKyqC,GACvC+mG,EAAO,GAAKxxI,EAAIyqC,GAChB+mG,EAAO,GAAKxxI,EAAIyqC,EAAM,GACtB+mG,EAAO,GAAKxxI,EAAIyqC,EAAM,EACxB,GACC,CACD/rC,IAAK,eACLe,MAAO,SAAsBozI,GAAU,GACtC,CACDn0I,IAAK,kBACLe,MAAO,WAA4B,GAClC,CACDf,IAAK,cACLe,MAAO,WAAwB,GAC9B,CACDf,IAAK,WACLe,MAAO,WACL,IAAIqzI,EAAS5wI,KAAK6vI,QACdpwD,EAASmxD,EAAOT,SAAS1tI,EAAImuI,EAAOvlE,KAAK,GACzCsU,EAASixD,EAAOT,SAASztI,EAAIkuI,EAAOvlE,KAAK,GACzCwU,EAAS+wD,EAAOT,SAASzgH,EAAIkhH,EAAOvlE,KAAK,GACzCwlE,EAAiBnyI,EAAekyI,EAAOR,OAAQ,GAC/C11E,EAAQm2E,EAAe,GACvBv/B,EAAOu/B,EAAe,GACtBC,EAAQD,EAAe,GACvBE,EAAK/uI,KAAK6C,IAAIysG,GACd0/B,GAAMhvI,KAAK6C,IAAI61D,GAAS14D,KAAK6C,IAAIysG,GAAQtvG,KAAK6C,IAAIisI,IAAU9uI,KAAK4C,IAAIksI,GACrE5X,EAAKl3H,KAAK0mC,KAAK,EAAMqoG,EAAKA,EAAKC,EAAKA,GAIxC,MAAO,CAHK,IAAI,MAAQvxD,EAAQ,EAAG,GACvB,IAAI,MAAQz9E,KAAK6C,IAAIisI,GAASnxD,EAAQ39E,KAAK4C,IAAIksI,GAASnxD,EAAQ,GAChE,IAAI,MAAQoxD,EAAKlxD,EAAQmxD,EAAKnxD,EAAQq5C,EAAKr5C,GAEzD,GACC,CACDrjF,IAAK,aACLe,MAAO,WACL,MAAO,CAACyC,KAAK6vI,QAAQG,OAAOhwI,KAAKixI,SAAS,IAAKjxI,KAAK6vI,QAAQG,OAAOhwI,KAAKixI,SAAS,IAAKjxI,KAAK6vI,QAAQG,OAAOhwI,KAAKixI,SAAS,IAC1H,GACC,CACDz0I,IAAK,iBACLe,MAAO,WACL,IAAIwsH,GAAU,IAAA9rG,MAAKje,KAAK6vI,QAAS,CAAC,QAAS,OAAQ,OAAQ,KAAM,UAIjE,OAHA9lB,EAAQC,YAAchqH,KAAK6vI,QAAQO,OAAOhsH,KAAI,SAAUgtC,GACtD,OAAOxwC,OAAOwwC,GAASpvD,KAAK2C,GAAK,EACnC,IACOolH,CACT,GACC,CACDvtH,IAAK,gBACLe,MAAO,SAAuB2zI,EAAOC,EAAOC,GAC1C,IAAIzmI,EAAQ3K,KACRqxI,EAAS,EACTC,EAAS,EACTC,EAAuB7yI,EAAesB,KAAK6vI,QAAQO,OAAQ,GAC3D11E,EAAQ62E,EAAqB,GAC7BjgC,EAAOigC,EAAqB,GACpBA,EAAqB,IACpBvvI,KAAK2C,GAAK,IACrB0sI,GAAUrvI,KAAKitB,IAAIkiH,EAAM1uI,IAEvB6uG,GAAQtvG,KAAK2C,GAAK,IACpB0sI,GAAUrvI,KAAKitB,IAAImiH,EAAM3uI,IAEvBi4D,GAAS14D,KAAK2C,GAAK,IACrB2sI,GAAUtvI,KAAKitB,IAAImiH,EAAM1uI,IAE3B1C,KAAK+vI,UAAY,IAAI,MAAQ/vI,KAAK8tE,QAAQrrE,EAAI4uI,EAAQrxI,KAAK8tE,QAAQprE,EAAI4uI,EAAQtxI,KAAK8tE,QAAQp+C,GAC5F1vB,KAAK8vI,SAAW,IAAI,MAAQ9tI,KAAKitB,IAAIiiH,EAAMzuI,GAAKT,KAAKitB,IAAIkiH,EAAM1uI,GAAKT,KAAKitB,IAAImiH,EAAM3uI,GAAIT,KAAKitB,IAAIkiH,EAAMzuI,GAAKV,KAAKitB,IAAImiH,EAAM1uI,GAAIV,KAAKitB,IAAImiH,EAAM1hH,IAC7I,IAAIpqB,EAAQ,SAAe4lE,EAAK8gD,GAC9B,OAAOhqH,KAAKitB,IAAIi8C,EAAI8gD,IAASrhH,EAAMmlI,SAAS9jB,EAC9C,EACAhsH,KAAK6vI,QAAQvqI,MAAM7C,EAAI6C,EAAM6rI,EAAO,KACpCnxI,KAAK6vI,QAAQvqI,MAAM5C,EAAI4C,EAAM8rI,EAAO,KACpCpxI,KAAK6vI,QAAQvqI,MAAMoqB,EAAIpqB,EAAM8rI,EAAO,IACtC,GACC,CACD50I,IAAK,aACLe,MAAO,WACL,OAAO,IAAI,MAAKyC,KAAK+vI,UAAUvlH,QAASxqB,KAAK+vI,UAAUvlH,QAAQqlB,IAAI7vC,KAAK8vI,UAC1E,GACC,CACDtzI,IAAK,aACLe,MAAO,WAAuB,GAC7B,CACDf,IAAK,QACLe,MAAO,SAAe2X,GAGpB,OAFAlV,KAAKswH,aAAap7G,GAClBlV,KAAKwxI,cACE,IAAIloF,GAASmB,aAAczqD,KAAKyxI,aAAczxI,KAAK0xI,aAAc,EAAG1xI,KAAK2xI,aAAc3xI,KAAK4xI,iBACrG,KAEKhC,CACT,CAzJkB,GA2JlB,SAASiC,GAAetkI,GAAW,IAAIC,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQmqI,GAA+B,OAAO,WAAkC,IAAsCzlI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,CAAG,CAE5a,IAAI0lI,GAAa,CACf/B,OAAQ,CAjKD,EAiKmB,MAAO,GACjCnnI,KAAM,CApKI,EAoKiB,MAAO,GAClConI,OAAQ,CAnKD,EAmKmB,MAAO,GACjC5kE,KAAM,CApKC,EAoKiB,MAAO,GAC/B8kE,SAAU,CAtKF,EAsKqB,MAAO,IACpCC,OAAQ,CAtKD,EAsKmB,MAAO,IACjCF,QAAS,CAvKF,EAuKoB,MAAO,IAClC9lB,KAAM,CA1KI,EA0KiB,MAAO,IAClCE,KAAM,CA3KI,EA2KiB,MAAO,IAClCH,MAAO,CA5KG,EA4KkB,MAAO,IACnC6nB,KAAM,CA7KI,EA6KiB,MAAO,IAClCC,OAAQ,CA9KE,EA8KmB,MAAO,IACpCC,OAAQ,CA/KE,EA+KmB,MAAO,IACpCC,WAAY,CA7KJ,EA6KuB,SAAU,GAAI,GAC7Cx5E,OAAQ,CAhLA,EAgLmB,MAAO,IAClCv0C,IAAK,CA/KG,EA+KgB,SAAU,GAAI,GACtCguH,QAAS,CAnLC,EAmLoB,MAAO,IACrC7nB,GAAI,CApLM,EAoLe,MAAO,IAChC8nB,OAAQ,CArLE,EAqLmB,MAAO,IACpCl/C,MAAO,CAnLC,EAmLkB,SAAU,GAAI,MAEtCm/C,GAAY,SAAUC,GACxBn1I,EAAUk1I,EAAWC,GACrB,IAAI9kI,EAASokI,GAAeS,GAC5B,SAASA,IAEP,OADA72I,EAAgBuE,KAAMsyI,GACf7kI,EAAO1N,MAAMC,KAAMH,UAC5B,CA4FA,OA3FApD,EAAa61I,EAAW,CAAC,CACvB91I,IAAK,eACLe,MACA,SAAsBozI,GACpB3wI,KAAKswI,MAAQK,EACb3wI,KAAKwyI,cACL,IAAIhC,EAAS,CAAC,EACdA,EAAOiC,IAAM,IAAI91E,YAAY38D,KAAKswI,MAAO,EAAG,IAC5CE,EAAOkC,IAAM,IAAIpnG,WAAWtrC,KAAKswI,MAAO,EAAG,IAC3CE,EAAOmC,IAAM,IAAIloF,aAAazqD,KAAKswI,MAAO,EAAG,IAC7CE,EAAO1iI,OAAS9N,KAAKswI,MACrB,IAAIM,EAAS5wI,KAAK6vI,QAClB7vI,KAAK4yI,YAAYb,GAAYvB,GAC7BI,EAAOR,OAAO/mI,SAAQ,SAAU+nD,EAAOp1D,EAAG6L,GACxCA,EAAE7L,IAAMgG,KAAK2C,GAAK,GACpB,GACF,GACC,CACDnI,IAAK,kBACLe,MAAO,WACL,IAAIqzI,EAAS5wI,KAAK6vI,QACQ,IAAtBe,EAAOT,SAAS1tI,GAAmC,IAAtBmuI,EAAOT,SAASztI,GAAmC,IAAtBkuI,EAAOT,SAASzgH,GAC5EkhH,EAAOT,SAAS7nI,IAAI,EAAK,EAAK,GAEhC,IAAI4nI,EAAUlwI,KAAK6vI,QAAQK,QACR,IAAfA,EAAQ,IAA2B,IAAfA,EAAQ,IAA2B,IAAfA,EAAQ,KAClDA,EAAQ,GAAK,EACbA,EAAQ,GAAK,EACbA,EAAQ,GAAK,GAEf,IAAI2C,EAAU7yI,KAAKixI,SACnB4B,EAAQ3C,EAAQ,GAAK,GAAK,EAC1B2C,EAAQ3C,EAAQ,GAAK,GAAK,EAC1B2C,EAAQ3C,EAAQ,GAAK,GAAK,CAC5B,GACC,CACD1zI,IAAK,cACLe,MAAO,WACL,IACIu1I,EAAkBp0I,EADDsB,KAAK+yI,WAC2B,GACjD7B,EAAQ4B,EAAgB,GACxB3B,EAAQ2B,EAAgB,GACxB1B,EAAQ0B,EAAgB,GAC5B9yI,KAAKgzI,kBACL,IAAIpC,EAAS5wI,KAAK6vI,QACdgD,EAAU7yI,KAAKixI,SAWnB,GAVwB,IAApBL,EAAOj4E,OAAOl2D,GAAiC,IAApBmuI,EAAOj4E,OAAOj2D,GAAiC,IAApBkuI,EAAOj4E,OAAOjpC,GACtE1vB,KAAK8tE,QAAQrX,gBAAgBy6E,EAAON,EAAOX,OAAO4C,EAAQ,KAC1D7yI,KAAK8tE,QAAQrX,gBAAgB06E,EAAOP,EAAOX,OAAO4C,EAAQ,KAC1D7yI,KAAK8tE,QAAQrX,gBAAgB26E,EAAOR,EAAOX,OAAO4C,EAAQ,MAE1D7yI,KAAK8tE,QAAU8iE,EAAOj4E,OAExBu4E,EAAMjmH,eAAe2lH,EAAOZ,OAAO6C,EAAQ,IAAM,GACjD1B,EAAMlmH,eAAe2lH,EAAOZ,OAAO6C,EAAQ,IAAM,GACjDzB,EAAMnmH,eAAe2lH,EAAOZ,OAAO6C,EAAQ,IAAM,GAC7B,IAAhBjC,EAAO/nI,KAGT,MAAM,IAAI4B,MAAM,4BAA4BY,OAAOulI,EAAO/nI,OAF1D7I,KAAKoqD,MAAQ,IAAIK,aAAazqD,KAAKswI,MAAO,KAAOM,EAAOqB,OAAQrB,EAAOZ,OAAO,GAAKY,EAAOZ,OAAO,GAAKY,EAAOZ,OAAO,IAItHhwI,KAAKizI,cAAc/B,EAAOC,EAAOC,EACnC,GACC,CACD50I,IAAK,aACLe,MAAO,WACL,IAAIqzI,EAAS5wI,KAAK6vI,QACd36H,EAAOlV,KAAKoqD,MACZyoF,EAAU7yI,KAAKixI,SACfiC,EAAU,IAAIzoF,aAAav1C,EAAKjZ,QAChC+wE,EAAMhtE,KAAKyxI,aACX5mF,EAAQmiB,EAAI,GACZliB,EAAQkiB,EAAI,GACZmmE,EAAS,EACT/0D,EAAQ,GAIZ,IAAKA,EAAM,GAAK,EAAGA,EAAM,GAAKwyD,EAAOZ,OAAO,GAAI5xD,EAAM,KACpD,IAAKA,EAAM,GAAK,EAAGA,EAAM,GAAKwyD,EAAOZ,OAAO,GAAI5xD,EAAM,KACpD,IAAKA,EAAM,GAAK,EAAGA,EAAM,GAAKwyD,EAAOZ,OAAO,GAAI5xD,EAAM,KAAM+0D,IAI1DD,EAHI90D,EAAMy0D,EAAQ,IAGNhoF,GAFRuzB,EAAMy0D,EAAQ,IAEO/nF,EADrBszB,EAAMy0D,EAAQ,MACqB39H,EAAKi+H,GAIlD,OAAOD,CACT,KAEKZ,CACT,CAnGgB,CAmGd1C,IACEwD,GAAa,SAAU5gB,GACzBp1H,EAAUg2I,EAAY5gB,GACtB,IAAIhwF,EAAUqvG,GAAeuB,GAC7B,SAASA,EAAWl+H,EAAMyN,GACxB,IAAIhY,EAKJ,OAJAlP,EAAgBuE,KAAMozI,IACtBzoI,EAAQ63B,EAAQ9kC,KAAKsC,KAAMkV,EAAMyN,IAC3BE,SAASswG,SAAW,OAC1BxoH,EAAM0lH,MAAQ,IAAIiiB,GACX3nI,CACT,CAYA,OAXAlO,EAAa22I,EAAY,CAAC,CACxB52I,IAAK,YACLe,MAAO,WACL,OAAOyC,KAAKqwH,MAAMxyF,MAAM79B,KAAKoqD,MAC/B,IACE,CAAC,CACH5tD,IAAK,mBACLe,MAAO,SAA0B6sD,GAC/B,OAAO,CACT,KAEKgpF,CACT,CAvBiB,CAuBfxxG,IACFwxG,GAAWnjB,QAAU,CAAC,QACtBmjB,GAAWpkD,WAAa,CAAC,QAAS,OAAQ,QAC1CokD,GAAWnlI,QAAS,EAIpB,IAAIolI,GAAY9mF,GAAKlK,QACjBixF,GAAY/mF,GAAK/kC,QACjB+rH,GAAahnF,GAAKD,SAClBknF,GAAY,SAAUhhB,GACxBp1H,EAAUo2I,EAAWhhB,GACrB,IAPsBjlH,EAAeC,EAOjCC,GAPkBF,EAOMimI,EAPShmI,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ8rI,GAAsC,WAAkC,IAAsCpnI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAQva,SAASmnI,EAAUt+H,EAAMyN,GACvB,IAAIhY,EAOJ,OANAlP,EAAgBuE,KAAMwzI,IACtB7oI,EAAQ8C,EAAO/P,KAAKsC,KAAMkV,EAAMyN,IAC1BuR,SAAW,KACjBvpB,EAAM+oI,UAAY,KAClB/oI,EAAMkY,SAASswG,SAAW,MAC1BxoH,EAAMgpI,UAAYhxH,EAAQpkB,KACnBoM,CACT,CA4EA,OA3EAlO,EAAa+2I,EAAW,CAAC,CACvBh3I,IAAK,mBACLe,MAAO,SAA0B01D,GAC/B,IAAI2gF,EAAY3gF,EAAO9qD,QAAQ,MAC3B2mC,EAASl/B,SAASqjD,EAAO7mD,UAAU,EAAGwnI,GAAY,IAClDC,EAAa5gF,EAAO9qD,QAAQ,KAAMyrI,EAAY,GAC9Cl8G,EAAUu7B,EAAO30D,MAAMs1I,EAAY,EAAGC,GAAY/tH,OAC/B,IAAnB4R,EAAQz7B,SACVy7B,EAAU13B,KAAK2zI,WAEjB,IAAIG,EAAgBD,EAAa5gF,EAAO7mD,UAAUynI,GAAY1nI,OAAO,MACrEnM,KAAK0zI,UAAYzgF,EAAO7mD,UAAU0nI,GAAexxI,MAAM,kBAClDse,OAAO6X,MAAMqW,IAAW9uC,KAAK0zI,UAAUz3I,OAAS,IAAM6yC,GAM3D9uC,KAAKk0B,SAAS4uB,SAASktE,OAAS,MAChChwH,KAAKk0B,SAAS31B,KAAOm5B,GANnB13B,KAAKk0B,SAAShqB,MAAQ,CACpBc,QAAS,wBAMf,GACC,CACDxO,IAAK,iBACLe,MAAO,WAQL,IAPA,IAMI2oB,EADQlmB,KAAKk0B,SAASq9F,SAAS,KACfl8F,WAAW,MAAO,EAAG,KAChCr5B,EAAI,EAAGA,EAAIgE,KAAK0zI,UAAUz3I,OAAS,EAAGD,IAAK,CAClD,IAAI+3I,EAAQ/zI,KAAK0zI,UAAU13I,GAAGsG,MAAM,UACpC,GAAqB,IAAjByxI,EAAM93I,OAAc,CACtB+D,KAAKk0B,SAAShqB,MAAQ,CACpBc,QAAS,qBAEX,KACF,CACA,IAAIqb,EAASrqB,EAAI,EACbuC,EAAOw1I,EAAM,GACbtmH,EAAM,IAAI,MAAQujG,WAAW+iB,EAAM,IAAK/iB,WAAW+iB,EAAM,IAAK/iB,WAAW+iB,EAAM,KAC/ElrI,EAAOyqI,GAAUxqH,UAAUvqB,GAE/B2nB,EAAQ2H,QAAQtvB,EAAMsK,EAAM4kB,OADjBxpB,GAnBH,EAoBoCoiB,EAnBjC,IACG,EACC,EACJ,EAiBb,CACA,IAAIigC,EAAW,IAAIitF,GAAWvzI,KAAKk0B,SAAUl0B,KAAKk0B,SAAS31B,KAAM,GACjE+nD,EAAS9xB,SAAWtO,EACpBlmB,KAAKk0B,SAAS0uB,WAAW,GAAK0D,CAChC,GACC,CACD9pD,IAAK,YACLe,MAAO,WACL,IAAI8O,EAASrM,KAAKk0B,SAAW,IAAIm/G,GAWjC,GAVArzI,KAAKg0I,iBAAiBh0I,KAAKoqD,OAC3BpqD,KAAKi0I,iBACLj0I,KAAKk0B,SAASqxB,SAAS,CACrBK,iBAAiB,EACjBO,oBAAqBnmD,KAAKqlB,SAASlgB,IAAIgZ,SACvCqmC,cAAexkD,KAAKqlB,SAASlgB,IAAI+Y,QACjCyX,cAAe31B,KAAK0yH,iBAEtB1yH,KAAKk0B,SAAW,KAChBl0B,KAAK0zI,UAAY,KACbrnI,EAAOnC,MACT,MAAM,IAAIO,MAAM4B,EAAOnC,MAAMc,SAE/B,OAAOqB,CACT,IACE,CAAC,CACH7P,IAAK,mBACLe,MAAO,SAA0B2X,GAC/B,OAAO,IAAAhC,UAASgC,IAAS,uCAAuCzW,KAAKyW,EACvE,KAEKs+H,CACT,CAzFgB,CAyFd5xG,IACF7b,GAAgBytH,GAAW,UAAW,CAAC,QACvCztH,GAAgBytH,GAAW,aAAc,CAAC,SAI1C,IAAIU,GAAY3nF,GAAKlK,QACjB8xF,GAAY5nF,GAAK/kC,QACjB4sH,GAAgB,SAAU5hB,GAC5Bp1H,EAAUg3I,EAAe5hB,GACzB,IANsBjlH,EAAeC,EAMjCC,GANkBF,EAMM6mI,EANS5mI,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ0sI,GAAsC,WAAkC,IAAsChoI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAOva,SAAS+nI,EAAcl/H,EAAMyN,GAC3B,IAAIhY,EAIJ,OAHAlP,EAAgBuE,KAAMo0I,IACtBzpI,EAAQ8C,EAAO/P,KAAKsC,KAAMkV,EAAMyN,IAC1BE,SAASswG,SAAW,eACnBxoH,CACT,CAiEA,OAhEAlO,EAAa23I,EAAe,CAAC,CAC3B53I,IAAK,YACLe,MAAO,WAEL,OADAyC,KAAKuL,OAAOxB,KAAK,gCACV/J,KAAKoqI,WAAW1N,KAAK7+F,MAAM79B,KAAKoqD,OACzC,GACC,CACD5tD,IAAK,aACLe,MAAO,SAAoB+2I,GACzB,IAAIrgH,EAAU,IAAIigH,GACd5J,EAAcgK,EAASC,cAAgBD,EAASC,aAAa,GASjE,OARIjK,IACFtqI,KAAKuqI,cAAct2G,EAASq2G,GAC5Br2G,EAAQsxB,SAAS,CACfK,iBAAiB,EACjBO,oBAAqBnmD,KAAKqlB,SAASlgB,IAAIgZ,SACvCqmC,cAAexkD,KAAKqlB,SAASlgB,IAAI+Y,WAG9B+V,CACT,GACC,CACDz3B,IAAK,gBACLe,MAAO,SAAuB02B,EAASq2G,GACrC,IAAIkK,EAAOlK,EAAYn+G,OAASm+G,EAAYn+G,MAAMsoH,IAC9CzkF,EAAWwkF,GAAQlK,EAAYn+G,MAAMpmB,QACzC,IAAKiqD,GAAYwkF,EAAKv4I,SAAW+zD,EAAS/zD,OACxC,MAAM,IAAIwO,MAAM,iCAElBulD,GAAW,IAAA0kF,YAAU,IAAAC,KAAIH,EAAMxkF,IAC/B,IAAI7jC,EAAQ,CAAC,EACTyoH,EAAStK,EAAYsK,QAAUtK,EAAYsK,OAAO,GAClDvkB,EAAQukB,GAAUA,EAAOC,YAAcD,EAAOC,WAAW,GACzD9kE,EAAKsgD,GAASA,EAAM5tH,EACpButE,EAAKqgD,GAASA,EAAM3tH,EACpButE,EAAKogD,GAASA,EAAM3gG,GAAK,GAE7B,KADA8kH,EAAOI,GAAUA,EAAOH,OACV1kE,IAAOC,EACnB,MAAM,IAAIvlE,MAAM,yCAIlB,IAFA,IACIyb,EADQ+N,EAAQs9F,SAAS,KACTl8F,WAAW,MAAO,EAAG,KAChCr5B,EAAI,EAAGoC,EAAIo2I,EAAKv4I,OAAQD,EAAIoC,IAAKpC,EAAG,CAC3C,IAAIy4I,EAAMD,EAAKx4I,GACX+J,EAAUouI,GAAUxrH,eAAeqnC,EAASykF,IAC5ChnH,EAAM,IAAI,MAAQsiD,EAAG/zE,GAAIg0E,EAAGh0E,GAAIi0E,EAAGj0E,IAAM,GAC7CmwB,EAAMsoH,GAAOvuH,EAAQ2H,QAAQ9nB,EAAQxH,KAAMwH,EAAS0nB,OAAKxpB,GAAW,EAAMwwI,EAAK,IAAK,EAAK,EAAK,EAChG,CACA,IAAIK,EAAQxK,EAAYzjH,OAASyjH,EAAYzjH,MAAMkuH,KAC/CC,EAAQ1K,EAAYzjH,OAASyjH,EAAYzjH,MAAMouH,KAC/CC,EAAS5K,EAAYzjH,OAASyjH,EAAYzjH,MAAM0C,OAAS,GAC7D,GAAKurH,GAAUE,GAASF,EAAM74I,SAAW+4I,EAAM/4I,OAG/C,IAAK,IAAIwY,EAAI,EAAG0O,EAAI2xH,EAAM74I,OAAQwY,EAAI0O,IAAK1O,EACzCwf,EAAQua,QAAQriB,EAAM2oH,EAAMrgI,IAAK0X,EAAM6oH,EAAMvgI,IAAKygI,EAAOzgI,IAAM,EAAG,GAAG,EAEzE,IACE,CAAC,CACHjY,IAAK,mBACLe,MAAO,SAA0B2X,GAC/B,OAAO,IAAAhC,UAASgC,IAAqB,MAAZA,EAAK,EAChC,KAEKk/H,CACT,CA3EoB,CA2ElBxyG,IACFwyG,GAAcnkB,QAAU,CAAC,UAAW,eAAgB,MACpDmkB,GAAcplD,WAAa,CAAC,SAE5B,IAAImmD,GAAY,WACd,SAASA,EAAUjgI,GACjBzZ,EAAgBuE,KAAMm1I,GACtBn1I,KAAKo1I,SAAWlgI,EAAK5S,MAAM,YAC3BtC,KAAKq1I,cAAgB,EACrBr1I,KAAKs1I,mBAAqB,CAC5B,CA0DA,OAzDA74I,EAAa04I,EAAW,CAAC,CACvB34I,IAAK,WACLe,MAAO,SAAkBoY,GACnBA,GAAS3V,KAAKo1I,SAASn5I,QACzB+D,KAAKq1I,cAAgBr1I,KAAKo1I,SAASn5I,OAAS,EAC5C+D,KAAKs1I,mBAAqBt1I,KAAKo1I,SAASn5I,OAAS,IAEjD+D,KAAKq1I,cAAgB1/H,EACrB3V,KAAKs1I,mBAAqB3/H,EAE9B,GACC,CACDnZ,IAAK,gBACLe,MAAO,WACL,OAAOyC,KAAKo1I,WAAWp1I,KAAKs1I,mBAC9B,GACC,CACD94I,IAAK,mBACLe,MAAO,WACL,OAAOyC,KAAKo1I,SAASp1I,KAAKs1I,mBAC5B,GACC,CACD94I,IAAK,qBACLe,MAAO,SAA4Bg4I,GAEjC,OADAv1I,KAAKs1I,mBAAqBt1I,KAAKq1I,cAAgBE,EACxCv1I,KAAKo1I,SAASp1I,KAAKq1I,cAAgBE,EAC5C,GACC,CACD/4I,IAAK,mBACLe,MAAO,WAGL,IAFA,IAAIi4I,EAASx1I,KAAKy1I,gBACdrkI,GAAM,IACF,IAAAmiH,aAAYiiB,IAA6B,SAAlBA,EAAO1vH,QAAmB,CACvD,GAAI0vH,EAAOhzI,MAAM,cAAe,CAC9B4O,GAAM,EACN,KACF,CACAokI,EAASx1I,KAAKy1I,eAChB,CACA,OAAOrkI,CACT,GACC,CACD5U,IAAK,wBACLe,MAAO,WAEL,IADA,IAAIi4I,EAASx1I,KAAK01I,qBACV,IAAAniB,aAAYiiB,IAA6B,SAAlBA,EAAO1vH,QACpC0vH,EAASx1I,KAAKy1I,gBAGhB,OADAz1I,KAAK21I,WAAW31I,KAAKs1I,oBACdt1I,KAAK41I,yBACd,GACC,CACDp5I,IAAK,0BACLe,MAAO,WACL,OAAOyC,KAAKs1I,mBAAqBt1I,KAAKo1I,SAASn5I,OAAS,CAC1D,KAEKk5I,CACT,CAjEgB,GAqEhB,IAAIU,GAAYtpF,GAAKlK,QACjByzF,GAAYvpF,GAAK/kC,QACjBuuH,GAASxpF,GAAKljC,KACd2sH,GAAazpF,GAAKD,SAClB2pF,GAAY,CAAC,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GACrCC,GAAa,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACnCC,GAAY,CAACJ,GAAOnqH,SAAS5C,QACjC+sH,GAAOnqH,SAAS3C,SAChB8sH,GAAOnqH,SAAS3C,SAChB8sH,GAAOnqH,SAAS3C,SAChB8sH,GAAOnqH,SAAS1C,SAChB6sH,GAAOnqH,SAAS5C,QAChB+sH,GAAOnqH,SAAS1C,SAChB6sH,GAAOnqH,SAAS1C,UAEZktH,GAAkB,4CAClBC,GAAY,4BAQZC,GAAY,CAAC,OAAQ,KAAM,SAC3BC,GAAO,CACTh4I,KALqB,CAAC,iCAAkC,oBAAqB,WAAY,YAMzFuH,GALmB,CAAC,uBAAwB,KAAM,KAAM,QAAS,OAAQ,QAMzEuwH,MALsB,CAAC,MAAO,MAAO,UAAW,QAAS,cAAe,SAsBtEmgB,GAAY,SAAUhkB,GACxBp1H,EAAUo5I,EAAWhkB,GACrB,IAjDsBjlH,EAAeC,EAiDjCC,GAjDkBF,EAiDMipI,EAjDShpI,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ8uI,GAAsC,WAAkC,IAAsCpqI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAkDva,SAASmqI,EAAUthI,EAAMyN,GACvB,IAAIhY,EAeJ,OAdAlP,EAAgBuE,KAAMw2I,IACtB7rI,EAAQ8C,EAAO/P,KAAKsC,KAAMkV,EAAMyN,IAC1B+zH,QAAU,MAChB/rI,EAAMupB,SAAW,KACjBvpB,EAAMwc,OAAS,KACfxc,EAAMmjG,SAAW,KACjBnjG,EAAMi4C,WAAa,KACnBj4C,EAAMgsI,UAAY,CAAC,EACnBhsI,EAAMgsI,UAAUlzF,UAAY,GAC5B94C,EAAMisI,iBAAmB,CAAC,EAC1BjsI,EAAMksI,eAAiB,EACvBlsI,EAAMmsI,YAAc,GACpBnsI,EAAMosI,aAAe,EACrBpsI,EAAMqsI,cAAgB,GACfrsI,CACT,CAoQA,OAnQAlO,EAAa+5I,EAAW,CAAC,CACvBh6I,IAAK,mBACLe,MAAO,SAA0B2X,GAC/B,OAAO,IAAAhC,UAASgC,IAASkhI,GAAgB33I,KAAKyW,EAChD,GACC,CACD1Y,IAAK,eACLe,MAAO,SAAsBmzH,GAC3B,IAAIpqE,EAAW,CAAC,EAChBA,EAAS/nD,KAAOmyH,EAAOumB,mBAAmB,GAC1C,IAAI7gB,EAAOxmH,SAAS8gH,EAAOumB,mBAAmB,GAAGhqI,OAAO,GAAI,GAAG6Y,OAAQ,IACvEwgC,EAAS8vE,KAAOA,EAAK/3H,YAAc,GACnCioD,EAAS+vE,MAAQ3F,EAAOumB,mBAAmB,GAC3Cj3I,KAAK22I,UAAUlzF,UAAUpkD,KAAKinD,EAChC,GACC,CACD9pD,IAAK,cACLe,MAAO,SAAqBmzH,EAAQljF,GAClC,IAAIgoG,EACAnvH,EAASrmB,KAAK+2I,aACdhjB,EAxDV,SAAsBzvG,GACpB,IAAKA,EACH,MAAO,IAGT,IADA,IAAI4yH,EAAQ,GACL5yH,GACL4yH,EAAM73I,KAAK,GAAKilB,EAAQ,IACxBA,EAAQtiB,KAAKm1I,MAAM7yH,EAAQ,IAM7B,OAJI4yH,EAAMj7I,OAAS,IACjBi7I,EAAME,UACNF,EAAM,IAAM,GAEP/rI,OAAOgD,aAAapO,MAAMoL,OAAQ+rI,EAC3C,CA0CoBG,CAAar3I,KAAK62I,eAGhC72I,KAAKmnB,OAASnnB,KAAKk0B,SAASyqB,SAASo1E,IAAY/zH,KAAKk0B,SAASq9F,SAASwC,GACxE/zH,KAAK8tG,SAAW9tG,KAAKmnB,OAAOkO,WAHd,MACD,EAE2C,KACxD,IAAK,IAAIr5B,EAAI,EAAGA,EAAIwxC,EAAUxxC,IAAK,CACjCw5I,EAAS9kB,EAAO+kB,gBAChBpvH,IACA,IAAI5jB,EAAIuuH,WAAWwkB,EAAOvoI,OAAO,EAAG,KAChCvK,EAAIsuH,WAAWwkB,EAAOvoI,OAAO,GAAI,KACjCyiB,EAAIshG,WAAWwkB,EAAOvoI,OAAO,GAAI,KACjCuZ,EAASyvH,GAAUrmI,SAAS4lI,EAAOvoI,OAAO,GAAI,GAAI,KAClDwgB,EAAM,IAAI,MAAQhrB,EAAGC,EAAGgtB,GACxBnxB,EAAOi3I,EAAOvoI,OAAO,GAAI,GAAG6Y,OAAO4c,cACnC75B,EAAOitI,GAAUhtH,UAAUvqB,GAC1ByB,KAAKg3I,cAAcz4I,KACtByB,KAAKg3I,cAAcz4I,GAAQ,GAE7ByB,KAAKg3I,cAAcz4I,IAAS,EAC5BA,GAAQyB,KAAKg3I,cAAcz4I,GAC3ByB,KAAK8tG,SAASjgF,QAAQtvB,EAAMsK,EAAM4kB,OAAKxpB,GAAW,EAAMoiB,EAAQ,IAAK,EAAK,EAAKG,EACjF,CACF,GACC,CACDhqB,IAAK,cACLe,MAAO,SAAqBmzH,EAAQ4mB,GAElC,IADA,IAAI9B,EACKx5I,EAAI,EAAGA,EAAIs7I,EAAUt7I,IAAK,CACjCw5I,EAAS9kB,EAAO+kB,gBAChB,IAAIltC,EAAQ34F,SAAS4lI,EAAOvoI,OAAO,EAAG,GAAI,IAAMjN,KAAK+2I,aACjDvuC,EAAQ54F,SAAS4lI,EAAOvoI,OAAO,EAAG,GAAI,IAAMjN,KAAK+2I,aACjDQ,EAAW3nI,SAAS4lI,EAAOvoI,OAAO,EAAG,GAAI,IAC7C,GAAIs7F,EAAQC,EAAO,CACjB,IAAIxH,EAAO,CAACwH,EAAOD,GACnBA,EAAQvH,EAAK,GACbwH,EAAQxH,EAAK,EACf,CACAhhG,KAAKk0B,SAASsa,QAAQ+5D,EAAOC,EAAO0tC,GAAWqB,IAAa,EAAGpB,GAAUoB,IAAaxB,GAAOnqH,SAAS5C,SAAS,EACjH,CACF,GACC,CACDxsB,IAAK,YACLe,MAAO,SAAmBmzH,GACxB1wH,KAAK62I,gBACL72I,KAAKswH,aAAaI,GAClB,IAAI8mB,EAAa9mB,EAAOumB,mBAAmB,GACvCzpG,EAAW59B,SAAS4nI,EAAWvqI,OAAO,EAAG,GAAI,IAC7CqqI,EAAW1nI,SAAS4nI,EAAWvqI,OAAO,EAAG,GAAI,IACjDjN,KAAKy3I,YAAY/mB,EAAQljF,GACzBxtC,KAAK03I,YAAYhnB,EAAQ4mB,GACzBt3I,KAAK+2I,cAAgBvpG,EACrBxtC,KAAK22I,UAAUlzF,UAAUzjD,KAAK62I,eAAe1iH,UAAY,GACzDn0B,KAAK22I,UAAUlzF,UAAUzjD,KAAK62I,eAAe1iH,UAAU90B,KAAKW,KAAK8tG,SACnE,GACC,CACDtxG,IAAK,iBACLe,MAAO,SAAwBmzH,GAI7B,IAHA,IAAI7qH,EAAM6qH,EAAOglB,mBACbxgI,EAAO,GACPsgI,EAAS9kB,EAAO+kB,gBACK,KAAlBD,EAAO1vH,QACZ5Q,EAAK7V,KAAKm2I,GACVA,EAAS9kB,EAAO+kB,gBAEE,IAAhBvgI,EAAKjZ,SAGPiZ,EADaxW,EADDwW,EACuB,GACrB,IAEhBlV,KAAK42I,iBAAiB/wI,EAAIiG,QAAQ,QAAS,IAAIga,QAAU5Q,CAC3D,GACC,CACD1Y,IAAK,iBACLe,MAAO,SAAwBmzH,GAE7B,GADA1wH,KAAK23I,UAAUjnB,GA9Id,QA+IG1wH,KAAK02I,QAA4B,CAEnC,IADA12I,KAAK42I,iBAAmB,CAAC,EAClBlmB,EAAOknB,oBACZ53I,KAAK63I,eAAennB,GAEtB,GAAkD,IAA9Cp0H,OAAOyO,KAAK/K,KAAK42I,kBAAkB36I,OAAc,CACnD,IAAIqqD,EAAWtmD,KAAK22I,UAAUlzF,UAAUzjD,KAAK62I,eAC7CvwF,EAASvqD,MAAQiE,KAAK42I,iBACtB52I,KAAK83I,yBAAyBxxF,EAChC,CACF,CACF,GACC,CACD9pD,IAAK,iBACLe,MAAO,WAIL,IAHA,IAAIo4B,EAAgB31B,KAAK0yH,eAErB7rG,EADU7mB,KAAKk0B,SACCiW,OACX11B,EAAI,EAAGA,EAAIoS,EAAM5qB,OAAQwY,IAAK,CACrC,IAAI6B,EAAOuQ,EAAMpS,GACb6B,EAAKoT,OAASpT,EAAKmT,OACrBrf,QAAQkB,IAAI,gCAEdgL,EAAKmT,MAAQkM,EAAcrf,EAAKmT,QAAU,KAC1CnT,EAAKoT,OAASiM,EAAcrf,EAAKoT,SAAW,IAC9C,CACF,GACC,CACDltB,IAAK,mBACLe,MAAO,WACL,IAAIwrC,EAAS/oC,KAAKk0B,SAASonB,QAC3B,GAAsB,IAAlBvS,EAAO9sC,OACT,OAAO+D,KAAK82I,YAEd,IAAK,IAAI96I,EAAI,EAAGA,EAAI+sC,EAAO9sC,OAAQD,IAAK,CACtC,IAAIq1H,EAAW,IAAI1oF,GAAW3oC,KAAKk0B,UAC/BqV,EAAS,IAAI,MACjB8nF,EAASC,UAAU/nF,GACnB8nF,EAASE,SAASxoF,EAAO/sC,GAAGiyB,OAC5BjuB,KAAK82I,YAAYz3I,KAAKgyH,EACxB,CACA,OAAOrxH,KAAK82I,WACd,GACC,CACDt6I,IAAK,kBACLe,MAAO,WACLyC,KAAKk0B,SAAS0uB,WAAa,GAE3B,IADA,IAAIa,EAAYzjD,KAAK22I,UAAUlzF,UACtBznD,EAAI,EAAGA,EAAIynD,EAAUxnD,OAAQD,IAAK,CACzC,IAAIsqD,EAAW,IAAI0vF,GAAWh2I,KAAKk0B,SAAUuvB,EAAUznD,GAAGuC,KAAMvC,EAAI,GACpEsqD,EAAS9xB,SAAWivB,EAAUznD,GAAGm4B,UACjCn0B,KAAKk0B,SAAS0uB,WAAW5mD,GAAKsqD,CAChC,CACA,OAAOtmD,KAAKk0B,SAAS0uB,UACvB,GACC,CACDpmD,IAAK,aACLe,MAAO,SAAoBsI,EAAK9J,GAC9B,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAChC,GAAI6J,aAAe0K,QAAU1K,EAAIpH,KAAK1C,EAAMC,GAAG6J,MAAQA,IAAQ9J,EAAMC,GAAG6J,IACtE,OAAO9J,EAAMC,GAAGkZ,IAItB,GACC,CACD1Y,IAAK,aACLe,MAAO,SAAoBw6I,EAAUh8I,GACnC,IAAK,IAAI0Y,EAAI,EAAGA,EAAIsjI,EAAS97I,OAAQwY,IAAK,CACxC,IAAIrD,EAAMpR,KAAKg4I,WAAWD,EAAStjI,GAAI1Y,GACvC,GAAIqV,EACF,OAAOA,CAEX,CAEF,GACC,CACD5U,IAAK,2BACLe,MAAO,SAAkC+oD,GAEvC,IADA,IAAIl1C,GAAM,EACDpV,EAAI,EAAGA,EAAIs6I,GAAUr6I,OAAQD,IAAK,CACzC,IAAIi8I,EAAmB1B,GAAKD,GAAUt6I,IAClCkZ,EAAOlV,KAAKk4I,WAAWD,EAAkB3xF,EAASvqD,OAClDmZ,IACFoxC,EAASgwF,GAAUt6I,IAAMkZ,EACzB9D,GAAM,EAEV,CAKA,OAJAk1C,EAAS/nD,KAAO+nD,EAAS/nD,MAAQ+nD,EAASxgD,GACtCwgD,EAAS/nD,KAAKiE,MAAM,WACtB8jD,EAAS/nD,KAAO,QAAQ8M,OAAOi7C,EAAS/nD,OAEnC6S,CACT,GACC,CACD5U,IAAK,oBACLe,MAAO,WACL,IAAIkmD,EAAYzjD,KAAK22I,UAAUlzF,UAC3BX,EAAW9iD,KAAKk0B,SAAS4uB,SACzB7uB,EAAUj0B,KAAKk0B,SACnB,GAAyB,IAArBuvB,EAAUxnD,OACZg4B,EAAQ11B,KAAOklD,EAAU,GAAGllD,KAC5BukD,EAASuzE,MAAQ5yE,EAAU,GAAG4yE,MAC9BvzE,EAASszE,KAAO3yE,EAAU,GAAG2yE,KAC7BtzE,EAAS8+C,WAAan+C,EAAU,GAAG1nD,WAC9B,GAAI0nD,EAAUxnD,OAAS,EAAG,CAC/B6mD,EAASW,UAAY,GACrB,IAAK,IAAIznD,EAAI,EAAGA,EAAIynD,EAAUxnD,OAAQD,IACpC8mD,EAASW,UAAUpkD,KAAK,CACtBd,KAAMklD,EAAUznD,GAAGuC,KACnB63H,KAAM3yE,EAAUznD,GAAGo6H,KACnBC,MAAO5yE,EAAUznD,GAAGq6H,MACpBz0B,WAAYn+C,EAAUznD,GAAGD,OAG/B,CACF,GACC,CACDS,IAAK,YACLe,MAAO,WAGL,IAFA,IAAIo4B,EAAgB31B,KAAK0yH,eAAiB,CAAC,EACvCvmG,EAAQnsB,KAAKk0B,SAAStH,OACjB5wB,EAAI,EAAGA,EAAImwB,EAAMlwB,OAAQD,IAAK,CACrC,IAAIqa,EAAO8V,EAAMnwB,GACjB25B,EAActf,EAAKgQ,QAAUhQ,CAC/B,CACArW,KAAKk0B,SAASgxB,iBACdllD,KAAKozH,iBACLpzH,KAAKm4I,oBACLn4I,KAAKo4I,mBACLp4I,KAAKk0B,SAAS8uB,MAAQhjD,KAAKk0B,SAAS8uB,MAAM33C,OAAOrL,KAAK82I,aACtD92I,KAAKq4I,kBACLr4I,KAAKk0B,SAASqxB,SAAS,CACrBK,iBAAiB,EACjBO,qBAAqB,EACrB3B,eAAe,EACf7uB,cAAe31B,KAAK0yH,gBAExB,GACC,CACDl2H,IAAK,eACLe,MAAO,SAAsB2X,GAO3B,OALImhI,GAAU53I,KAAKyW,GA9RlB,MACA,KAmSH,GACC,CACD1Y,IAAK,YACLe,MAAO,WACL,IAAI8O,EAASrM,KAAKk0B,SAAW,IAAI2hH,GAC7BnlB,EAAS,IAAIykB,GAAUn1I,KAAKoqD,OAChCpqD,KAAK02I,QAAU12I,KAAKs4I,aAAat4I,KAAKoqD,OACtC/9C,EAAOy2C,SAASktE,OAAShwH,KAAK02I,QAC9B,GACE12I,KAAKu4I,eAAe7nB,SACbA,EAAO8nB,yBAEhB,OADAx4I,KAAK84B,YACEzsB,CACT,KAEKmqI,CACT,CAzRgB,CAyRd50G,IAIF,SAAS62G,GAAelrI,GAAW,IAAIC,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ+wI,GAA+B,OAAO,WAAkC,IAAsCrsI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,CAAG,CAH5amqI,GAAUvmB,QAAU,CAAC,MAAO,OAC5BumB,GAAUxnD,WAAa,CAAC,OAAQ,QAIhC,IAAI2pD,GAAa,CACf1I,OAAQ,CA73BD,EA63BmB,MAAO,GACjCD,OAAQ,CA93BD,EA83BmB,MAAO,GACjC3kE,KAAM,CA/3BC,EA+3BiB,MAAO,GAC/B8kE,SAAU,CAj4BF,EAi4BqB,MAAO,GACpCC,OAAQ,CAj4BD,EAi4BmB,MAAO,IACjCwI,IAAK,CAp4BK,EAo4BgB,MAAO,IACjCxjB,MAAO,CAr4BG,EAq4BkB,MAAO,IACnCt8C,YAAa,CAt4BH,EAs4BwB,MAAO,KAEvC+/D,GAAY,SAAUtG,GACxBn1I,EAAUy7I,EAAWtG,GACrB,IAAI9kI,EAASgrI,GAAeI,GAC5B,SAASA,IAEP,OADAp9I,EAAgBuE,KAAM64I,GACfprI,EAAO1N,MAAMC,KAAMH,UAC5B,CAyHA,OAxHApD,EAAao8I,EAAW,CAAC,CACvBr8I,IAAK,eACLe,MAAO,SAAsBozI,GAC3B3wI,KAAKswI,MAAQK,EACb3wI,KAAKwyI,cACL,IAAIhC,EAAS,CAAC,EAEd,GADAA,EAAOsI,IAAM,IAAIxa,WAAWt+H,KAAKswI,OACV,MAAnBE,EAAOsI,IAAI,IACb,IAAK,IAAI98I,EAAI,EAAGoC,EAAIoyI,EAAOsI,IAAI78I,OAAQD,EAAIoC,IAAKpC,EAAG,CACjD,IAAIuzC,EAAMihG,EAAOsI,IAAI98I,GACrBw0I,EAAOsI,IAAI98I,IAAY,IAANuzC,IAAe,EAAIA,GAAO,EAAI,GACjD,CAEF,GAAuB,MAAnBihG,EAAOsI,IAAI,IACb,MAAM,IAAIruI,MAAM,2BAElB,IAAImmI,EAAS5wI,KAAK6vI,QAClB7vI,KAAK4yI,YAAY+F,GAAYnI,GAC7BI,EAAOT,SAASllH,eAAe,EAAM2lH,EAAO93D,aAC5C83D,EAAOR,OAAO/mI,SAAQ,SAAU+nD,EAAOp1D,EAAG6L,GACxCA,EAAE7L,IAAMgG,KAAK2C,GAAK,IAAQisI,EAAO93D,WACnC,IACA83D,EAAOgI,KAAO,GAChB,GACC,CACDp8I,IAAK,kBACLe,MAAO,WACLyC,KAAKixI,SAAS,GAAK,EACnBjxI,KAAKixI,SAAS,GAAK,EACnBjxI,KAAKixI,SAAS,GAAK,CACrB,GACC,CACDz0I,IAAK,cACLe,MAAO,WACL,IAAIqzI,EAAS5wI,KAAK6vI,QAEdiD,EAAkBp0I,EADDsB,KAAK+yI,WAC2B,GACjD7B,EAAQ4B,EAAgB,GACxB3B,EAAQ2B,EAAgB,GACxB1B,EAAQ0B,EAAgB,GAC5B9yI,KAAKgzI,kBACLhzI,KAAK8tE,QAAQrX,gBAAgBy6E,EAAON,EAAOX,OAAO,IAClDjwI,KAAK8tE,QAAQrX,gBAAgB06E,EAAOP,EAAOX,OAAO,IAClDjwI,KAAK8tE,QAAQrX,gBAAgB26E,EAAOR,EAAOX,OAAO,IAClDiB,EAAMjmH,eAAe2lH,EAAOZ,OAAO,IACnCmB,EAAMlmH,eAAe2lH,EAAOZ,OAAO,IACnCoB,EAAMnmH,eAAe2lH,EAAOZ,OAAO,IACnChwI,KAAKizI,cAAc/B,EAAOC,EAAOC,EACnC,GACC,CACD50I,IAAK,kBACLe,MAAO,SAAyB21I,EAAS6F,EAAYrpH,EAAGhtB,EAAGD,EAAG8lC,EAAKvsC,GACjE,IAAI40I,EAAS5wI,KAAK6vI,QAClB,OAAIptI,EAAImuI,EAAOZ,OAAO,IAAMttI,EAAIkuI,EAAOZ,OAAO,IAAMtgH,EAAIkhH,EAAOZ,OAAO,IAEpEkD,EADUzwI,EAAImuI,EAAOZ,OAAO,IAAMttI,EAAIkuI,EAAOZ,OAAO,GAAKtgH,KACzCqpH,EAAWxwG,EAAIywG,SAAWpI,EAAOxb,OAASwb,EAAOgI,MAC/DrwG,EAAIywG,SAKD,IAHLzwG,EAAIywG,SAAW,EAAIh9I,GACZ,EAGX,GACC,CACDQ,IAAK,kBACLe,MAAO,SAAyB21I,EAAS6F,EAAYE,EAAQC,EAAQC,EAAQ5wG,GAC3E,IAAK,IAAItO,EAAI,EAAGA,EAAI,IAAKA,EAEvB,IADA,IAAIvK,EAAI,EAAIupH,EAASh/G,EACZxlB,EAAI,EAAGA,EAAI,IAAKA,EAIvB,IAHA,IAAI/R,EAAI,EAAIw2I,EAASzkI,EACjB2kI,GAAU,EACVp9I,EAAI,EACDo9I,GAAWp9I,EAAI,GAAG,CACvB,IAAIyG,EAAI,EAAI02I,EAASn9I,EACrBo9I,EAAUp5I,KAAKq5I,gBAAgBnG,EAAS6F,EAAYrpH,EAAGhtB,EAAGD,EAAG8lC,EAAKvsC,GAClEA,GACF,CAGN,GACC,CACDQ,IAAK,aACLe,MAAO,WAOL,IANA,IAAIqzI,EAAS5wI,KAAK6vI,QACdkJ,EAAa,IAAI/qI,WAAWhO,KAAKswI,OACjC4C,EAAU,IAAIzoF,aAAammF,EAAOZ,OAAO,GAAKY,EAAOZ,OAAO,GAAKY,EAAOZ,OAAO,IAC/EsJ,EAAS,IAAI,MAAQ1I,EAAOZ,OAAO,GAAK,EAAGY,EAAOZ,OAAO,GAAK,EAAGY,EAAOZ,OAAO,GAAK,GACpFznG,EAAM,CACVA,QAAc,KACL0wG,EAAS,EAAGA,EAASK,EAAO5pH,IAAKupH,EACxC,IAAK,IAAIC,EAAS,EAAGA,EAASI,EAAO52I,IAAKw2I,EACxC,IAAK,IAAIC,EAAS,EAAGA,EAASG,EAAO72I,IAAK02I,EACxCn5I,KAAKu5I,gBAAgBrG,EAAS6F,EAAYE,EAAQC,EAAQC,EAAQ5wG,GAKxE,OADAvoC,KAAKw5I,qBAAqBtG,GACnBA,CACT,GACC,CACD12I,IAAK,uBACLe,MAAO,SAA8B21I,GACnClzI,KAAK6vI,QAAQ1lB,OAAS+oB,EAAQj3I,OAI9B,IAHA,IAAIw9I,EAAa,EACbC,EAAaxG,EAAQ,GACrByG,EAAazG,EAAQ,GAChBz+H,EAAI,EAAGA,EAAIy+H,EAAQj3I,OAAQwY,IAClCglI,GAAcz3I,KAAK43I,IAAI55I,KAAK6vI,QAAQ1lB,MAAQ+oB,EAAQz+H,GAAI,GACpDy+H,EAAQz+H,GAAKilI,IACfA,EAAaxG,EAAQz+H,IAEnBy+H,EAAQz+H,GAAKklI,IACfA,EAAazG,EAAQz+H,IAGzBzU,KAAK6vI,QAAQtlB,GAAKvoH,KAAK0mC,KAAK+wG,EAAavG,EAAQj3I,QACjD+D,KAAK6vI,QAAQvlB,KAAOqvB,EACpB35I,KAAK6vI,QAAQzlB,KAAOsvB,CACtB,KAEKb,CACT,CAhIgB,CAgIdjJ,IACEiK,GAAa,SAAUrnB,GACzBp1H,EAAUy8I,EAAYrnB,GACtB,IAAIhwF,EAAUi2G,GAAeoB,GAC7B,SAASA,EAAW3kI,EAAMyN,GACxB,IAAIhY,EAKJ,OAJAlP,EAAgBuE,KAAM65I,IACtBlvI,EAAQ63B,EAAQ9kC,KAAKsC,KAAMkV,EAAMyN,IAC3BE,SAASswG,SAAW,OAC1BxoH,EAAM0lH,MAAQ,IAAIwoB,GACXluI,CACT,CAoBA,OAnBAlO,EAAao9I,EAAY,CAAC,CACxBr9I,IAAK,YACLe,MAAO,WACL,OAAOyC,KAAKqwH,MAAMxyF,MAAM79B,KAAKoqD,MAC/B,IACE,CAAC,CACH5tD,IAAK,WACLe,MAAO,SAAkB2X,EAAMyN,GAC7B,QAAKzN,GAGEA,aAAgBgpH,aAAet8F,GAAOk4G,qBAAqBn3H,EAAS,OAC7E,GACC,CACDnmB,IAAK,mBACLe,MAAO,SAA0B6sD,GAC/B,OAAO,CACT,KAEKyvF,CACT,CA/BiB,CA+Bfj4G,IACFi4G,GAAW5pB,QAAU,CAAC,QACtB4pB,GAAW7qD,WAAa,CAAC,QAAS,SAClC6qD,GAAW5rI,QAAS,EAIpB,IAAI8rI,GAAY,SAAUC,GACxB58I,EAAU28I,EAAWC,GACrB,IAJsBzsI,EAAeC,EAIjCC,GAJkBF,EAIMwsI,EAJSvsI,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQsyI,GAAsC,WAAkC,IAAsC5tI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS0tI,EAAU7kI,GACjB,IAAIvK,EAKJ,OAJAlP,EAAgBuE,KAAM+5I,IACtBpvI,EAAQ8C,EAAO/P,KAAKsC,KAAMkV,IACpB08G,OAAS,EACfjnH,EAAMxL,OACCwL,CACT,CAOA,OANAlO,EAAas9I,EAAW,CAAC,CACvBv9I,IAAK,UACLe,MAAO,WACL,OAAOyC,KAAK4xH,KACd,KAEKmoB,CACT,CAlBgB,CAkBdvoB,IAIF,IAAI0oB,GAAY3tF,GAAKlK,QACjB83F,GAAY5tF,GAAK/kC,QACjB4yH,GAAa7tF,GAAKD,SAClB+tF,GAAY,SAAU7nB,GACxBp1H,EAAUi9I,EAAW7nB,GACrB,IAPsBjlH,EAAeC,EAOjCC,GAPkBF,EAOM8sI,EAPS7sI,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ2yI,GAAsC,WAAkC,IAAsCjuI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAQva,SAASguI,EAAUnlI,EAAMyN,GACvB,IAAIhY,EAeJ,OAdAlP,EAAgBuE,KAAMq6I,IACtB1vI,EAAQ8C,EAAO/P,KAAKsC,KAAMkV,EAAMyN,IAC1B43H,MAAQ,KACd5vI,EAAMk0E,UAAY,KAClBl0E,EAAM6vI,eAAiB,KACvB7vI,EAAM8vI,aAAe,GACrB9vI,EAAM+vI,UAAY,GAClB/vI,EAAMgwI,YAAc,KACpBhwI,EAAMiwI,cAAgB,GACtBjwI,EAAMkwI,cAAgB,GACtBlwI,EAAMupB,SAAW,KACjBvpB,EAAMi4C,WAAa,GACnBj4C,EAAM6iB,UAAY,KAClB7iB,EAAMkY,SAASi4H,SAAW,MACnBnwI,CACT,CA6GA,OA5GAlO,EAAa49I,EAAW,CAAC,CACvB79I,IAAK,mBACLe,MAAO,SAA0B2X,GAC/B,OAAO,IAAAhC,UAASlT,KAAKoqD,QAAU,4DAA4D3rD,KAAKyW,EAClG,GACC,CACD1Y,IAAK,cACLe,MAAO,SAAqBgG,GAC1B,IAAIu/C,EAAW9iD,KAAKk0B,SAAS4uB,SAC7BA,EAASh9C,GAAKvC,EAAKw3I,WAAWj1H,OAC9Bg9B,EAASvkD,KAAOukD,EAASh9C,GAAGxH,MAAMwkD,EAASh9C,GAAGiJ,YAAY,MAAQ,EAAG+zC,EAASh9C,GAAGiJ,YAAY,MAC7F+zC,EAASktE,OAAS,KACpB,GACC,CACDxzH,IAAK,sBACLe,MAAO,SAA6BgG,GAElC,GADAvD,KAAK6+E,UAAYt7E,EAAKswH,QAAQ,EAAGtwH,EAAKy3I,WAClCp6H,OAAO6X,MAAMz4B,KAAK6+E,WACpB,MAAM,IAAIp0E,MAAM,uEAEpB,GACC,CACDjO,IAAK,aACLe,MAAO,SAAoBgG,GACzBvD,KAAKw6I,eAAiBj3I,EAAKswH,QAAQ,EAAG,GACtC7zH,KAAKy6I,aAAel3I,EAAKotH,WAAW,EAAG,IAAI7qG,OAC3C9lB,KAAK06I,UAAYn3I,EAAKotH,WAAW,GAAI,IAAI7qG,OACzC9lB,KAAK26I,YAAcp3I,EAAKswH,QAAQ,GAAI,IACpC,IAAIonB,EAAqC,GAAzB13I,EAAK0wH,UAAU,GAAI,IAC/BinB,EAAqC,GAAzB33I,EAAK0wH,UAAU,GAAI,IAC/BknB,EAAqC,GAAzB53I,EAAK0wH,UAAU,GAAI,IACnC,GAAIrzG,OAAO6X,MAAMwiH,IAAcr6H,OAAO6X,MAAMyiH,IAAct6H,OAAO6X,MAAM0iH,GACrEn7I,KAAKk0B,SAAShqB,MAAQ,CACpBc,QAAS,gCAAiCK,OAAO9H,EAAKw3I,WAAY,UAFtE,CAMA,IAAIlyI,EAAOsxI,GAAUrxH,UAAU9oB,KAAK06I,UAAU,IAC9C,GAAsB,YAAlB7xI,EAAK4e,SAAT,CAMA,IAAItB,EAAOg0H,GAAU/lB,KAAKp0H,KAAK06I,WAC3BpuH,EAAQtsB,KAAKmnB,OACZmF,IACHtsB,KAAKmnB,OAASmF,EAAQtsB,KAAKk0B,SAASq9F,SAAS,MAE/C,IAAIrrG,EAAUlmB,KAAK8tG,SACd5nF,GAAWA,EAAQs/B,gBAAkBxlD,KAAKw6I,iBAC7Cx6I,KAAK8tG,SAAW5nF,EAAUoG,EAAM+I,WAAWr1B,KAAKy6I,aAAcz6I,KAAKw6I,eAAgB,MAErFx6I,KAAK46I,cAAgB,IAAI,MAAQK,EAAWC,EAAWC,GAMvDj1H,EAAQ2H,QAAQ7tB,KAAK06I,UAAW7xI,EAAM7I,KAAK46I,cAAez0H,GALhD,EAK2DnmB,KAAK26I,YAJ7D,IACG,EACC,EACJ,EAfb,MAJE36I,KAAKk0B,SAAShqB,MAAQ,CACpBc,QAAS,GAAGK,OAAOrL,KAAK06I,UAAU,GAAI,4CAJ1C,CAwBF,GACC,CACDl+I,IAAK,YACLe,MAAO,WACL,IAAI+oD,EAAW,IAAI8zF,GAAWp6I,KAAKk0B,SAAUl0B,KAAKk0B,SAAS4uB,SAASvkD,KAAM,GAC1E+nD,EAAS9xB,SAAWx0B,KAAKmnB,OAAOgN,UAChCmyB,EAAShL,QAAUt7C,KAAKmnB,OACxBnnB,KAAKk0B,SAAS0uB,WAAW,GAAK0D,EAC9BtmD,KAAK4iD,WAAWvjD,KAAKinD,GACrBtmD,KAAKk0B,SAASqxB,SAAS,CACrBK,iBAAiB,EACjBO,oBAAqBnmD,KAAKqlB,SAASlgB,IAAIgZ,SACvCqmC,cAAexkD,KAAKqlB,SAASlgB,IAAI+Y,QACjCyX,cAAe31B,KAAK0yH,gBAExB,GACC,CACDl2H,IAAK,YACLe,MAAO,WACL,IAAI8O,EAASrM,KAAKk0B,SAAW,IAAIgmH,GAC7BrrB,EAAS,IAAIkrB,GAAU/5I,KAAKoqD,OAC5B4uF,EAAU,EAKd,IAJAh5I,KAAKo7I,YAAYvsB,GACjBA,EAAO1vH,OACPa,KAAKq7I,oBAAoBxsB,GACzBA,EAAO1vH,OACF65I,EAAU,EAAGA,EAAUh5I,KAAK6+E,YAC1BgwC,EAAO/rH,QADgCk2I,EAE1Ch5I,KAAKs7I,WAAWzsB,GAChBA,EAAO1vH,OAQX,GALI65I,EAAUh5I,KAAK6+E,YACjB7+E,KAAKk0B,SAAShqB,MAAQ,CACpBc,QAAS,6BAGTqB,EAAOnC,MACT,MAAM,IAAIO,MAAM4B,EAAOnC,MAAMc,SAO/B,OALAhL,KAAK84B,YACL94B,KAAK46I,cAAgB,KACrB56I,KAAKk0B,SAAW,KAChBl0B,KAAK4iD,WAAa,KAClB5iD,KAAKwtB,UAAY,KACVnhB,CACT,KAEKguI,CACT,CAlIgB,CAkIdz4G,IACFy4G,GAAUpqB,QAAU,CAAC,OACrBoqB,GAAUrrD,WAAa,CAAC,QAIxB,IAAI3sC,GAAUkK,GAAKlK,QACf76B,GAAU+kC,GAAK/kC,QACf6B,GAAOkjC,GAAKljC,KACZkyH,GAAahvF,GAAKD,SAClBkvF,GAAW,CACbC,GAAI,EACJ,EAAG,EACH,EAAG,EACH,EAAG,EACHj4H,GAAI,EACJk4H,GAAI,EACJC,GAAI,EACJC,GAAI,GAEFC,GAAU,CACZJ,GAAIpyH,GAAKuC,SAAS5C,QAClB,EAAGK,GAAKuC,SAAS3C,SACjB,EAAGI,GAAKuC,SAAS3C,SACjB,EAAGI,GAAKuC,SAAS3C,SACjBzF,GAAI6F,GAAKuC,SAAS1C,SAClBwyH,GAAIryH,GAAKuC,SAAS3C,SAClB0yH,GAAItyH,GAAKuC,SAAS5C,QAClB4yH,GAAIvyH,GAAKuC,SAAS3C,UAEhB6yH,GAAiB,OACjBC,GAAc,MAClB,SAASC,GAAc1tI,GACrB,OAAOA,EAAIwX,OAAOxjB,MAAMy5I,GAC1B,CACA,IAAIE,GAAa,SAAUzpB,GACzBp1H,EAAU6+I,EAAYzpB,GACtB,IAjCsBjlH,EAAeC,EAiCjCC,GAjCkBF,EAiCM0uI,EAjCSzuI,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQu0I,GAAsC,WAAkC,IAAsC7vI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAkCva,SAAS4vI,EAAW/mI,EAAMyN,GACxB,IAAIhY,EAaJ,OAZAlP,EAAgBuE,KAAMi8I,IACtBtxI,EAAQ8C,EAAO/P,KAAKsC,KAAMkV,EAAMyN,IAC1BuR,SAAW,KACjBvpB,EAAMwc,OAAS,KACfxc,EAAMmjG,SAAW,KACjBnjG,EAAMksI,eAAiB,EACvBlsI,EAAMi4C,WAAa,GACnBj4C,EAAM6iB,UAAY,KAClB7iB,EAAMwxI,YAAc,EACpBxxI,EAAMyxI,cAAgB,EACtBzxI,EAAM+nH,eAAiB,CAAC,EACxB/nH,EAAMkY,SAASswG,SAAW,OACnBxoH,CACT,CAiOA,OAhOAlO,EAAaw/I,EAAY,CAAC,CACxBz/I,IAAK,mBACLe,MAAO,SAA0B2X,GAC/B,OAAOA,EAAK5S,MAAM,WACpB,GACC,CACD9F,IAAK,qBACLe,MAAO,SAA4Bg4I,EAAM8G,GACvC,IAAIC,EAAYt8I,KAAKo8I,cAAgB7G,EACrCv1I,KAAKm8I,YAAcG,EAAYD,EAASpgJ,OAASqgJ,EAAYt8I,KAAKo8I,aACpE,GACC,CACD5/I,IAAK,kBACLe,MAAO,SAAyBqzI,EAAQyL,GAEtC,IADAr8I,KAAKu8I,mBAAmB,EAAGF,GACpBr8I,KAAKm8I,YAAcE,EAASpgJ,QAAQ,CACzC,GAAIogJ,EAASr8I,KAAKm8I,aAAa35I,MAAM,YAAY6I,OAAOulI,IACtD,OAEF5wI,KAAKm8I,aACP,CACAn8I,KAAKu8I,mBAAmB,EAAGF,EAC7B,GACC,CACD7/I,IAAK,sBACLe,MAAO,SAA6BqzI,EAAQ2E,EAAM8G,GAChDr8I,KAAKw8I,gBAAgB5L,EAAQyL,GAC7B,IAAIC,EAAYt8I,KAAKm8I,YAAc5G,EAC/B8G,EAASr8I,KAAKm8I,aAAa35I,MAAM,YAAY6I,OAAOulI,KAAY0L,EAAYD,EAASpgJ,SACvF+D,KAAKm8I,YAAcG,EAEvB,GACC,CACD9/I,IAAK,YACLe,MAAO,SAAmB8oE,EAAUg2E,GAC9Bh2E,GAAYg2E,EAASpgJ,OACvB+D,KAAKo8I,cAAgBp8I,KAAKm8I,YAAcE,EAASpgJ,OAAS,EAE1D+D,KAAKo8I,cAAgBp8I,KAAKm8I,YAAc91E,CAE5C,GACC,CACD7pE,IAAK,2BACLe,MAAO,SAAkC8+I,GACvC,OAAOr8I,KAAKm8I,YAAcE,EAASpgJ,OAAS,CAC9C,GACC,CACDO,IAAK,yBACLe,MAAO,SAAgC8+I,GACrC,KAAOr8I,KAAKm8I,YAAcE,EAASpgJ,QAAgD,uBAAtCogJ,EAASr8I,KAAKm8I,aAAar2H,QACtE9lB,KAAKm8I,cAGP,OADAn8I,KAAKy8I,YAAYz8I,KAAKm8I,YAAaE,GAC5Br8I,KAAK08I,yBAAyBL,EACvC,GACC,CACD7/I,IAAK,iBACLe,MAAO,SAAwB8+I,GAC7Br8I,KAAKw8I,gBAAgB,WAAYH,GACjC,IAAIv5F,EAAW9iD,KAAKk0B,SAAS4uB,SAC7BA,EAASvkD,KAAO89I,IAAWr8I,KAAKm8I,aAChCr5F,EAASktE,OAAS,OAClBhwH,KAAKwtB,UAAY,CACfjnB,OAAQ,GACR+0C,QAAS,IAEXt7C,KAAKwtB,UAAUjnB,OAASvG,KAAK62I,cAAgB,EAC7C72I,KAAK4iD,WAAWvjD,KAAKW,KAAKwtB,UAC5B,GACC,CACDhxB,IAAK,cACLe,MAAO,SAAqBiwC,EAAU6uG,GACpCr8I,KAAKw8I,gBAAgB,OAAQH,GAC7B,IAAK,IAAIrgJ,EAAI,EAAGA,EAAIwxC,EAAUxxC,IAAK,CACjC,IAAI2gJ,EAAYX,GAAcK,IAAWr8I,KAAKm8I,cAC9C,GAAIQ,EAAU1gJ,OAAS,EACrB,MAAM,IAAIwO,MAAM,8DAElB,IAAIqtH,EAASloH,SAAS+sI,EAAU,GAAI,IAChCp5F,EAAWo5F,EAAU,GACrBl6I,EAAIuuH,WAAW2rB,EAAU,IACzBj6I,EAAIsuH,WAAW2rB,EAAU,IACzBjtH,EAAIshG,WAAW2rB,EAAU,IACzB52I,EAAU42I,EAAU,GAAGr6I,MAAM,KAAK,GAAGogC,cACrClc,EAAS,EACTm2H,EAAU1gJ,QAAU,IACtBuqB,EAASwqG,WAAW2rB,EAAU,KAAO,GAEvC,IAAIrwH,EAAQtsB,KAAKmnB,OAKjB,GAJKmF,IACHtsB,KAAKmnB,OAASmF,EAAQtsB,KAAKk0B,SAASyqB,SAAS,MAAQ3+C,KAAKk0B,SAASq9F,SAAS,KAC5EvxH,KAAK8tG,SAAW,MAEb9tG,KAAK48I,YAAYD,GAAtB,CAGA,IAII9zI,EAAO2e,GAAQsB,UAAU/iB,GACzBogB,EAAOqB,GAAQ4sG,KAAK7wE,GACpB91B,EAAM,IAAI,MAAQhrB,EAAGC,EAAGgtB,GAC5B1vB,KAAK8tG,SAASjgF,QAAQ01B,EAAU16C,EAAM4kB,EAAKtH,GAPjC,EAO4C2xG,EANzC,IACG,EACC,EAI4EtxG,EAR7F,CASF,CACF,GACC,CACDhqB,IAAK,cACLe,MAAO,SAAqBo/I,GAC1B,IAAI3oB,EAAS,EACT5wE,EAAU,MAOd,GANIu5F,EAAU1gJ,QAAU,IACtB+3H,EAASpkH,SAAS+sI,EAAU,GAAI,KAE9BA,EAAU1gJ,QAAU,GAAsB,QAAjB0gJ,EAAU,KACrCv5F,EAAUu5F,EAAU,GAAG7wI,QAAQgwI,GAAgB,KAE7C97I,KAAKqlB,SAASlgB,IAAIiY,UACJ,QAAZgmC,GAAiC,QAAZA,GACvB,OAAO,EAGX,IAAIl9B,EAAUlmB,KAAK8tG,SACfxhF,EAAQtsB,KAAKmnB,OAIjB,OAHKjB,GAAWA,EAAQs/B,gBAAkBwuE,IACxCh0H,KAAK8tG,SAAWxhF,EAAM+I,WAAW+tB,EAAS4wE,EAAQ,OAE7C,CACT,GACC,CACDx3H,IAAK,cACLe,MAAO,SAAqB+5I,EAAU+E,GACpCr8I,KAAKw8I,gBAAgB,OAAQH,GAC7B,IAAK,IAAIrgJ,EAAI,EAAGA,EAAIs7I,EAAUt7I,IAAK,CACjC,IAAI2gJ,EAAYX,GAAcK,IAAWr8I,KAAKm8I,cAC9C,GAAIQ,EAAU1gJ,OAAS,EACrB,MAAM,IAAIwO,MAAM,wDAElB,IAAIoyI,EAAejtI,SAAS+sI,EAAU,GAAI,IACtCG,EAAeltI,SAAS+sI,EAAU,GAAI,IACtCpF,EAAWoF,EAAU,GACzB,GAAIE,EAAeC,EAAc,CAC/B,IAAI97C,EAAO,CAAC87C,EAAcD,GAC1BA,EAAe77C,EAAK,GACpB87C,EAAe97C,EAAK,EACtB,CACAhhG,KAAKk0B,SAASsa,QAAQquG,EAAcC,EAActB,GAASjE,IAAa,EAAGsE,GAAQtE,IAAaluH,GAAKuC,SAAS5C,SAAS,EACzH,CACF,GACC,CACDxsB,IAAK,kBACLe,MAAO,WAEL,IADA,IAAI4uB,EAAQnsB,KAAKk0B,SAAStH,OACjB5wB,EAAI,EAAGA,EAAImwB,EAAMlwB,OAAQD,IAAK,CACrC,IAAIqa,EAAO8V,EAAMnwB,GACjBgE,KAAK0yH,eAAer8G,EAAKgQ,QAAUhQ,CACrC,CACF,GACC,CACD7Z,IAAK,iBACLe,MAAO,WACL,IAAIo4B,EAAgB31B,KAAK0yH,eACrBz+F,EAAUj0B,KAAKk0B,SACnB,GAA0C,IAAtC53B,OAAOyO,KAAK4qB,GAAe15B,OAC7B,MAAM,IAAIwO,MAAM,iDAGlB,IADA,IAAIoc,EAAQoN,EAAQkW,OACX11B,EAAI,EAAGA,EAAIoS,EAAM5qB,OAAQwY,IAAK,CACrC,IAAI6B,EAAOuQ,EAAMpS,GACjB6B,EAAKmT,MAAQkM,EAAcrf,EAAKmT,QAAU,KAC1CnT,EAAKoT,OAASiM,EAAcrf,EAAKoT,SAAW,IAC9C,CACF,GACC,CACDltB,IAAK,qBACLe,MAAO,WACL,IAAI+uB,EAAQtsB,KAAKk0B,SAASonB,QAAQ,GAClCt7C,KAAKk0B,SAAS0uB,WAAa,GAC3B,IAAK,IAAI5mD,EAAI,EAAGA,EAAIgE,KAAK4iD,WAAW3mD,OAAQD,IAAK,CAC/C,IAAI+gJ,EAAe/8I,KAAK4iD,WAAW5mD,GAC/BghJ,EAAc1wH,EAAM6H,UACpBmyB,EAAW,IAAIi1F,GAAWv7I,KAAKk0B,SAAU6oH,EAAa9uH,MAAOjyB,EAAI,GACrEsqD,EAAS9xB,SAAWwoH,EACpBh9I,KAAKk0B,SAAS0uB,WAAW5mD,GAAKsqD,CAChC,CACF,GACC,CACD9pD,IAAK,YACLe,MAAO,WACLyC,KAAKk0B,SAASgxB,iBACdllD,KAAKi9I,kBACLj9I,KAAKozH,iBACLpzH,KAAKqmD,qBACLrmD,KAAKk0B,SAASqxB,SAAS,CACrBK,iBAAiB,EACjBO,oBAAqBnmD,KAAKqlB,SAASlgB,IAAIgZ,SACvCqmC,cAAexkD,KAAKqlB,SAASlgB,IAAI+Y,QACjCyX,cAAe31B,KAAK0yH,gBAExB,GACC,CACDl2H,IAAK,iBACLe,MAAO,SAAwB8+I,GAC7Br8I,KAAK62I,gBACL72I,KAAKk9I,eAAeb,GACpBr8I,KAAKm9I,oBAAoB,WAAY,EAAGd,GACxC,IAAIM,EAAYN,EAASr8I,KAAKm8I,aAAar2H,OAAOxjB,MAAMy5I,IACpDvuG,EAAWmvG,EAAU,GACrBrF,EAAWqF,EAAU,GACzB38I,KAAKy3I,YAAYjqG,EAAU6uG,GAC3Br8I,KAAK03I,YAAYJ,EAAU+E,EAC7B,GACC,CACD7/I,IAAK,YACLe,MAAO,WACL,IAAI8O,EAASrM,KAAKk0B,SAAW,IAAImuB,GAC7Bg6F,EAAWr8I,KAAKo9I,iBAAiBp9I,KAAKoqD,OAC1C,GACEpqD,KAAKu4I,eAAe8D,SACbr8I,KAAKq9I,uBAAuBhB,IAErC,OADAr8I,KAAK84B,YACEzsB,CACT,KAEK4vI,CACT,CApPiB,CAoPfr6G,IACFq6G,GAAWhsB,QAAU,CAAC,QACtBgsB,GAAWjtD,WAAa,CAAC,QAAS,OAAQ,QAE1C,IAAIsuD,GAAU,IAAIztB,GAAW,CAC7B0C,GAAWoX,GAAWnF,GAAYgP,GAAW7b,GAAWyc,GAAeoC,GAAWpD,GAAYyG,GAAYQ,GAAW4B,KAIrH,IAAIsB,GAAe,SAAU1vB,GAC3BzwH,EAAUmgJ,EAAc1vB,GACxB,IAJsBtgH,EAAeC,EAIjCC,GAJkBF,EAIMgwI,EAJS/vI,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ61I,GAAsC,WAAkC,IAAsCnxI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASkxI,IACP,IAAIE,EAAgB59I,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,GAAmBA,UAAU,GAAK,GAExF,OADApE,EAAgBuE,KAAMu9I,GACf9vI,EAAO/P,KAAKsC,KAAMy9I,EAAe,CAAC,WAC3C,CAWA,OAVAhhJ,EAAa8gJ,EAAc,CAAC,CAC1B/gJ,IAAK,OACLe,MAAO,SAAcgkH,GACnB,IAAI7wF,EAAO,GAIX,OAHI6wF,EAAMyO,SACRt/F,EAAO1wB,KAAKy3D,MAAMw4D,QAAQ1O,EAAMyO,OAAOvvG,gBAAkB,IAEpDu2C,GAAmBtmC,EAC5B,KAEK6sH,CACT,CAnBmB,CAmBjBjmF,IAEEomF,GAAW,WACb,SAASA,EAASzqF,EAAQtwC,GACxBlnB,EAAgBuE,KAAM09I,GACtB19I,KAAKouH,QAAUn7D,EACfjzD,KAAK6iB,SAAWF,GAAW,CAAC,EAC5B3iB,KAAKquH,QAAS,CAChB,CA6BA,OA5BA5xH,EAAaihJ,EAAU,CAAC,CACtBlhJ,IAAK,aACLe,MAAO,WACL,MAAM,IAAIkN,MAAM,8CAClB,GACC,CACDjO,IAAK,SACLe,MAAO,WACL,IAAIoN,EAAQ3K,KACZ,OAAO,IAAI+jH,SAAQ,SAAUC,EAAS9jF,GACpCgkF,YAAW,WACT,IACE,OAAIv5G,EAAM0jH,OACDnuF,EAAO,IAAIz1B,MAAM,mBAEnBu5G,EAAQr5G,EAAMgzI,aACvB,CAAE,MAAOzzI,GACP,OAAOg2B,EAAOh2B,EAChB,CACF,GACF,GACF,GACC,CACD1N,IAAK,QACLe,MAAO,WACLyC,KAAKquH,QAAS,CAChB,KAEKqvB,CACT,CApCe,GAqCfxlF,GAAqBwlF,GAASliJ,WAE9B,IAAIoiJ,GAAY,WACd,SAASA,IACPniJ,EAAgBuE,KAAM49I,GACtB59I,KAAK69I,aAAe,GACpB79I,KAAK89I,aAAe,EACpB99I,KAAK+9I,KAAO,KACZ/9I,KAAKg+I,kBAAmB,EACxBh+I,KAAKi+I,aAAc,EACnBj+I,KAAKk+I,WAAa,CACpB,CA4KA,OA3KAzhJ,EAAamhJ,EAAW,CAAC,CACvBphJ,IAAK,YACLe,MAAO,WAEL,OADAyC,KAAKm+I,YAAY,KAAM,GAAI,IACpBn+I,KAAK69I,aAAap5I,KAAK,GAChC,GACC,CACDjI,IAAK,oBACLe,MAAO,WACL,IAAIi4I,EAASx1I,KAAK69I,aAAa79I,KAAK89I,aACpC,OAAOtI,EAASA,EAAOv5I,OAAS,CAClC,GACC,CACDO,IAAK,SACLe,MAAO,SAAgBsI,EAAKu4I,GAIxBp+I,KAAK+9I,KAHFl4I,GACS,MAIT,IAAA0tH,aAAY6qB,IAWfp+I,KAAKi+I,aAAc,EACnBj+I,KAAKg+I,kBAAmB,EACxBh+I,KAAKk+I,WAAa,IAZd,IAAA1zI,UAAS4zI,IACXp+I,KAAKk+I,WAAaE,EAClBp+I,KAAKi+I,aAAc,EACnBj+I,KAAKg+I,kBAAmB,IACf,IAAAK,WAAUD,KACnBp+I,KAAKk+I,WAAa,EAClBl+I,KAAKi+I,YAAcG,EACnBp+I,KAAKg+I,kBAAmB,EAO9B,GACC,CACDxhJ,IAAK,YACLe,MAAO,SAAmBsI,GACxB7F,KAAKm+I,YAAY,KAAM,GAAI,IAC3Bn+I,KAAK89I,cACL99I,KAAK69I,aAAax+I,KAAK,IACnBwG,EACF7F,KAAKm+I,YAAYt4I,EAAK,EAAG,GAChB7F,KAAK+9I,MACd/9I,KAAKm+I,YAAYn+I,KAAK+9I,KAAM,EAAG,GAE7B/9I,KAAKi+I,cACFj+I,KAAKg+I,kBACRh+I,KAAKk+I,aAEiB,IAApBl+I,KAAKk+I,YACPl+I,KAAKm+I,YAAYn+I,KAAKk+I,WAAW7/I,WAAY,GAAI,GAGvD,GACC,CACD7B,IAAK,oBACLe,MAAO,SAA2BojB,EAAQ29H,EAAWjzI,GAC9CizI,IACHA,EAAY,IAEd,IAAK,IAAI7pI,EAAI,EAAGA,EAAIkM,EAAO1kB,OAAQwY,IAC7BzU,KAAKu+I,sBAAwBD,GAAa7pI,IAAMkM,EAAO1kB,OAAS,IAClE+D,KAAKw+I,YACDnzI,GACFrL,KAAKm+I,YAAY9yI,EAAOxF,IAAKwF,EAAO21B,MAAO31B,EAAOvI,MAGpC,OAAd6d,EAAOlM,GACTzU,KAAKw+I,YAELx+I,KAAKm+I,YAAYx9H,EAAOlM,GAG9B,GACC,CACDjY,IAAK,cACLe,MAAO,SAAqBojB,EAAQqgB,EAAOl+B,GACzC,IACIwL,EADAknI,EAASx1I,KAAK69I,aAAa79I,KAAK89I,aAEhCW,EAAejJ,EAASA,EAAOv5I,OAAS,EAC5C,KAAI,IAAAs3H,aAAY5yG,GAAhB,EAGK,IAAAnW,UAASw2B,KACZA,EAAQy9G,EAAe,IAEpB,IAAAj0I,UAAS1H,KACZA,EAAM27I,EAAe99H,EAAO1kB,QAO9B,IAAIyiJ,EAAS19G,EAAQl+B,EAAMA,EAAMk+B,EAC7BrrB,EAAQqrB,EAAQl+B,EAAMk+B,EAAQl+B,EAIlC,IAPEwL,GAHG,IAAA4E,UAASyN,GAGNA,EAFAA,EAAOtiB,YAMPpC,OAAS+F,KAAKitB,IAAI+R,EAAQl+B,GAAO,IACvCwL,EAAMA,EAAIrB,OAAO,EAAGjL,KAAKitB,IAAI+R,EAAQl+B,EAAM,KAEzC6S,EAAQ8oI,EAAe,EACzBz+I,KAAK69I,aAAa79I,KAAK89I,cAAgB,IAAIa,OAAOhpI,EAAQ8oI,EAAe,QACpE,GAAI9oI,GAAS8oI,EAAc,CAChC,IAAIG,EAAO5+I,KAAK69I,aAAa79I,KAAK89I,aAClC99I,KAAK69I,aAAa79I,KAAK89I,aAAec,EAAKtgJ,MAAM,EAAGqX,EAAQ,EAC9D,CACI7S,EAAMk+B,IAER1yB,EAAM,IAAIqwI,OADA39G,EAAQl+B,EAAM,EACDwL,EAAIrS,QAAUqS,GAEzB,KAAVqH,GAAgB3V,KAAKi+I,aAAmC,IAApBj+I,KAAKk+I,aAC3C5vI,EAAM,IAAIjD,OAAOiD,IAEnBtO,KAAK69I,aAAa79I,KAAK89I,cAAgBxvI,EAEnCowI,GADJlJ,EAASx1I,KAAK69I,aAAa79I,KAAK89I,cACZ7hJ,SAClB+D,KAAK69I,aAAa79I,KAAK89I,cAAgB,IAAIa,OAAOD,EAASlJ,EAAOv5I,QAjCpE,CAmCF,GACC,CACDO,IAAK,kBACLe,MAAO,SAAyBspB,EAAOxQ,GAErC,IADA,IAAIwoI,EAAc7+I,KAAK8+I,cAAcj4H,EAAO,GACnCoT,EAAI,EAAGA,EAAI4kH,EAAY5iJ,OAAQg+B,IAAK,CAC3Cj6B,KAAKw+I,YACLx+I,KAAKm+I,YAAY9nI,EAAKgQ,OAAQ,GAAI,GAClC,IAAK,IAAI5R,EAAI,EAAGA,EAAIoqI,EAAY5kH,GAAGh+B,OAAQwY,IAAK,CAC9C,IAAI4R,EAASw4H,EAAY5kH,GAAGxlB,GAAGgV,MAAMpD,SAAWhQ,EAAKgQ,OAASw4H,EAAY5kH,GAAGxlB,GAAGiV,OAAOrD,OAASw4H,EAAY5kH,GAAGxlB,GAAGgV,MAAMpD,OACxHrmB,KAAKm+I,YAAY93H,EAAQ,GAAK,EAAI5R,EAAG,GAAK,EAAIA,EAChD,CACF,CACF,GACC,CACDjY,IAAK,gBACLe,MAAO,SAAuBO,EAAKihJ,GAEjC,IADA,IAAIC,EAAY,GACPhjJ,EAAI,EAAGA,EAAI8B,EAAI7B,OAAQD,GAAK+iJ,EACnCC,EAAU3/I,KAAKvB,EAAIQ,MAAMtC,EAAGA,EAAI+iJ,IAElC,OAAOC,CACT,GACC,CACDxiJ,IAAK,cACLe,MAAO,SAAqBgsC,EAAQ01G,EAAYp5I,GAC9C,IAAK,IAAI4O,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1BzU,KAAKw+I,YACLx+I,KAAKm+I,YAAYt4I,EAAK,GAAI,IAC1B7F,KAAKm+I,aAAa1pI,EAAI,GAAGpW,WAAY,GAAI,IACzC2B,KAAKm+I,YAAYc,EAAW5gJ,WAAY,GAAI,IAC5C,IAAK,IAAI47B,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAIilH,EAAQluB,WAAWznF,EAAOymB,SAAa,EAAJv7C,EAAQwlB,IAAIklH,QAAQ,GAC3Dn/I,KAAKm+I,YAAYe,EAAM7gJ,WAAY,GAAS,GAAJ47B,EAAQ,GAAS,GAAJA,EACvD,CACA,IAAIs7G,EAAOvkB,WAAWznF,EAAOymB,SAAa,EAAJv7C,EAAQ,IAAI0qI,QAAQ,GAC1Dn/I,KAAKm+I,YAAY5I,EAAKl3I,WAAY,GAAI,GACxC,CACF,GACC,CACD7B,IAAK,gBACLe,MAAO,SAAuByrC,EAAUroB,GACtC,GAAKqoB,EAIL,IADA,IAAIO,EAAS,IAAI,MACR90B,EAAI,EAAGA,EAAIu0B,EAAS/sC,OAAQwY,IACnC80B,EAAOl4B,KAAK23B,EAASv0B,IAAIkyH,YACzB3mI,KAAKo/I,YAAY71G,EAAQ90B,EAAI,EAAGkM,EAEpC,KAEKi9H,CACT,CAtLgB,GA0LhB,IAAIyB,GAAc,SAAUC,GAC1BliJ,EAAUiiJ,EAAaC,GACvB,IAJsB/xI,EAAeC,EAIjCC,GAJkBF,EAIM8xI,EAJS7xI,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ43I,GAAsC,WAAkC,IAAsClzI,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASgzI,EAAYpsF,EAAQtwC,GAC3B,IAAIhY,EAiBJ,OAhBAlP,EAAgBuE,KAAMq/I,IACtB10I,EAAQ8C,EAAO/P,KAAKsC,KAAMizD,EAAQtwC,IAC5B68H,MAAQ,CAAC,SAAU,QAAS,SAAU,SAAU,QAAS,QAAS,kBAAmB,UAC3F70I,EAAM80I,QAAU,KAChB90I,EAAM+0I,eAAiB,CACrBnpB,OAAQ5rH,EAAMg1I,eACdC,MAAOj1I,EAAMk1I,cACb,kBAAmBl1I,EAAMm1I,aACzBhpB,OAAQnsH,EAAMo1I,eACd/oB,OAAQrsH,EAAMq1I,eACd9oB,OAAQvsH,EAAMs1I,eACdzpH,MAAO7rB,EAAMu1I,cACbC,MAAOx1I,EAAMy1I,eAEfz1I,EAAM01I,oBAAsB,sQAC5B11I,EAAM21I,oBAAsB,iLACrB31I,CACT,CAmPA,OAlPAlO,EAAa4iJ,EAAa,CAAC,CACzB7iJ,IAAK,aACLe,MAAO,WACL,IAAI8O,EAAS,IAAIuxI,GACjB,IAAK59I,KAAKouH,QACR,OAAOpuH,KAAKy/I,QAEd,IAAK,IAAIzjJ,EAAI,EAAGA,EAAIgE,KAAKw/I,MAAMvjJ,OAAQD,IAAK,CAC1C,IAAI6J,EAAM7F,KAAKw/I,MAAMxjJ,GACjB6/G,EAAO77G,KAAK0/I,eAAe75I,GACX,mBAATg2G,GACTA,EAAKn+G,KAAKsC,KAAMqM,EAEpB,CAEA,OADArM,KAAKy/I,QAAUpzI,EAAOk0I,YACfvgJ,KAAKy/I,OACd,GACC,CACDjjJ,IAAK,iBACLe,MAAO,SAAwB8O,GAC7B,GAAKrM,KAAKouH,QAAQtrE,SAAlB,CAGA,IAAIA,EAAW9iD,KAAKouH,QAAQtrE,SAC5Bz2C,EAAOm0I,OAAO,UACdn0I,EAAOmyI,YACH17F,EAASqzE,gBACX9pH,EAAO8xI,YAAYr7F,EAASqzE,eAAgB,GAAI,IAE9CrzE,EAASszE,MACX/pH,EAAO8xI,YAAYr7F,EAASszE,KAAM,GAAI,IAEpCtzE,EAASh9C,IACXuG,EAAO8xI,YAAYr7F,EAASh9C,GAAI,GAAI,GAXtC,CAaF,GACC,CACDtJ,IAAK,gBACLe,MAAO,SAAuB8O,GAC5B,GAAKrM,KAAKouH,QAAQtrE,SAAlB,CAGA,IAAIA,EAAW9iD,KAAKouH,QAAQtrE,SAC5B,GAAKA,EAASuzE,MAAd,CAGAhqH,EAAOm0I,OAAO,SAAS,GACvB,IAAK,IAAIxkJ,EAAI,EAAGA,EAAI8mD,EAASuzE,MAAMp6H,OAAQD,IACzCqQ,EAAOmyI,YACPnyI,EAAO8xI,YAAYr7F,EAASuzE,MAAMr6H,GAAI,GAAI,GAJ5C,CAJA,CAUF,GACC,CACDQ,IAAK,iBACLe,MAAO,SAAwB8O,GAC7B,GAAKrM,KAAKouH,QAAQxhG,OAAlB,CAGA,IAAIT,EAAQnsB,KAAKouH,QAAQxhG,OACzBvgB,EAAOm0I,OAAO,UACd,IAAK,IAAIxkJ,EAAI,EAAGA,EAAImwB,EAAMlwB,OAAQD,IAAK,CACrC,IAAIykJ,EAAat0H,EAAMnwB,GAAG6qB,MAAM/G,QAAO,SAAUxJ,GAC/C,OAAOA,EAAKqT,MACd,IAC0B,IAAtB82H,EAAWxkJ,QACboQ,EAAOq0I,gBAAgBD,EAAWrJ,UAAWjrH,EAAMnwB,GAEvD,CAVA,CAWF,GACC,CACDQ,IAAK,gBACLe,MAAO,SAAuB8O,GAC5B,GAAKrM,KAAKouH,QAAQ5rE,QAAlB,CAGAn2C,EAAOm0I,OAAO,SAEd,IADA,IAAI76F,EAAS3lD,KAAKouH,QAAQ5rE,QACjBxmD,EAAI,EAAGA,EAAI2pD,EAAO1pD,OAAQD,IACjC,GAAI2pD,EAAO3pD,GAAG68B,SAEZ,IADA,IAAI8nH,EAAUh7F,EAAO3pD,GAAG68B,SACfpkB,EAAI,EAAGA,EAAIksI,EAAQ1kJ,OAAQwY,IAClCpI,EAAOmyI,YACPnyI,EAAO8xI,YAAY1pI,EAAI,EAAG,GAAI,GAC9BpI,EAAO8xI,YAAYx4F,EAAO3pD,GAAGiyB,MAAO,GAAI,IACxC5hB,EAAO8xI,YAAYwC,EAAQ1kJ,OAAQ,GAAI,IACvCoQ,EAAO8xI,YAAYwC,EAAQlsI,GAAG8gB,KAAK1L,MAAMoE,MAAO,GAAI,IACpD5hB,EAAO8xI,YAAYwC,EAAQlsI,GAAG8gB,KAAKpO,OAAO8G,MAAO,GAAI,IACrD5hB,EAAO8xI,YAAYwC,EAAQlsI,GAAG8gB,KAAKlO,UAAW,GAAI,IAClDhb,EAAO8xI,YAAYwC,EAAQlsI,GAAG8gB,KAAK7I,OAAQ,GAAI,IAC/CrgB,EAAO8xI,YAAYwC,EAAQlsI,GAAG+gB,KAAK3L,MAAMoE,MAAO,GAAI,IACpD5hB,EAAO8xI,YAAYwC,EAAQlsI,GAAG8gB,KAAKpO,OAAO8G,MAAO,GAAI,IACrD5hB,EAAO8xI,YAAYwC,EAAQlsI,GAAG+gB,KAAKnO,UAAW,GAAI,IAClDhb,EAAO8xI,YAAYwC,EAAQlsI,GAAG+gB,KAAK9I,OAAQ,GAAI,IAC/CrgB,EAAO8xI,YAAYwC,EAAQlsI,GAAG4jB,MAAO,GAAI,GAnB/C,CAuBF,GACC,CACD77B,IAAK,gBACLe,MAAO,SAAuB8O,GAC5B,GAAKrM,KAAKouH,QAAQ7rE,SAAlB,CAGAl2C,EAAOm0I,OAAO,SAEd,IADA,IAAI96F,EAAU1lD,KAAKouH,QAAQ7rE,SAClBvmD,EAAI,EAAGA,EAAI0pD,EAAQzpD,OAAQD,IAAK,CACvC,IAAI0c,EAAQgtC,EAAQ1pD,GAChBy7B,GAAa,IAAAw3B,QAAO73B,IACxB/qB,EAAOmyI,YACPnyI,EAAO8xI,YAAYzlI,EAAM2N,OAAQ,GAAI,GACrCha,EAAO8xI,YAAYzlI,EAAMna,KAAM,GAAI,IACnC8N,EAAO8xI,YAAYzlI,EAAM6c,KAAK1L,MAAMoE,MAAO,GAAI,IAC/C5hB,EAAO8xI,YAAYzlI,EAAM6c,KAAKpO,OAAO8G,MAAO,GAAI,IAChD5hB,EAAO8xI,YAAYzlI,EAAM6c,KAAKlO,UAAW,GAAI,IAC7Chb,EAAO8xI,YAAYzlI,EAAM6c,KAAK7I,OAAQ,GAAI,IAC1CrgB,EAAO8xI,YAAYzlI,EAAM8c,KAAK3L,MAAMoE,MAAO,GAAI,IAC/C5hB,EAAO8xI,YAAYzlI,EAAM8c,KAAKrO,OAAO8G,MAAO,GAAI,IAChD5hB,EAAO8xI,YAAYzlI,EAAM8c,KAAKnO,UAAW,GAAI,IAC7Chb,EAAO8xI,YAAYzlI,EAAM8c,KAAK9I,OAAQ,GAAI,IAC1CrgB,EAAO8xI,YAAY1mH,EAAW/e,EAAM7P,MAAO,GAAI,IAC/CwD,EAAO8xI,YAAYzlI,EAAMgf,QAAS,GAAI,IACtCrrB,EAAO8xI,YAAYzlI,EAAMzc,OAAQ,GAAI,GACvC,CApBA,CAqBF,GACC,CACDO,IAAK,eACLe,MAAO,SAAsB8O,GAC3B,GAAKrM,KAAKouH,QAAQxhG,OAIlB,IADA,IAAIT,EAAQnsB,KAAKouH,QAAQxhG,OAChB5wB,EAAI,EAAGA,EAAImwB,EAAMlwB,OAAQD,IAAK,CACrC,IAAI6J,EAAMsmB,EAAMnwB,GAAGoqB,IAAM,SAAW,OACpC/Z,EAAOmyI,UAAU34I,GACjB,IAAI+6I,EAAYz0H,EAAMnwB,GAAG+J,QAAQxH,KAAKtC,OAAS,GAAKkwB,EAAMnwB,GAAGuC,KAAKtC,OAAS,EAAI,GAAK,GACpFoQ,EAAO8xI,YAAYhyH,EAAMnwB,GAAGqqB,OAAQ,GAAI,GACxCha,EAAO8xI,YAAYhyH,EAAMnwB,GAAGuC,KAAMqiJ,EAAW,IAC7Cv0I,EAAO8xI,YAAYhzI,OAAOgD,aAAage,EAAMnwB,GAAGkQ,UAAW,GAAI,IAC/DG,EAAO8xI,YAAYhyH,EAAMnwB,GAAGkqB,QAAQ2D,MAAMoE,MAAO,GAAI,IACrD5hB,EAAO8xI,YAAYhyH,EAAMnwB,GAAGkqB,QAAQiB,OAAO8G,MAAO,GAAI,IACtD5hB,EAAO8xI,YAAYhyH,EAAMnwB,GAAGkqB,QAAQmB,UAAW,GAAI,IACnDhb,EAAO8xI,YAAYhyH,EAAMnwB,GAAGkqB,QAAQwG,OAAQ,GAAI,IAChDrgB,EAAO8xI,YAAYhyH,EAAMnwB,GAAGkF,SAASuB,EAAE08I,QAAQ,GAAI,GAAI,IACvD9yI,EAAO8xI,YAAYhyH,EAAMnwB,GAAGkF,SAASwB,EAAEy8I,QAAQ,GAAI,GAAI,IACvD9yI,EAAO8xI,YAAYhyH,EAAMnwB,GAAGkF,SAASwuB,EAAEyvH,QAAQ,GAAI,GAAI,IACvD9yI,EAAO8xI,YAAYhyH,EAAMnwB,GAAGsqB,UAAU64H,QAAQ,GAAI,GAAI,IACtD9yI,EAAO8xI,YAAYhyH,EAAMnwB,GAAGuqB,YAAY44H,QAAQ,GAAI,GAAI,IACxD9yI,EAAO8xI,YAAYhyH,EAAMnwB,GAAG+J,QAAQxH,KAAM,GAAI,IAC1C4tB,EAAMnwB,GAAGwqB,QACXna,EAAO8xI,YAAYhyH,EAAMnwB,GAAGwqB,OAAQ,GAAI,GAE5C,CACF,GACC,CACDhqB,IAAK,iBACLe,MAAO,SAAwB8O,GAC7B,GAAKrM,KAAKouH,QAAQxrE,WAAlB,CAGA,IAAIa,EAAYzjD,KAAKouH,QAAQxrE,WAC7Bv2C,EAAOm0I,OAAO,UAAU,GACxB,IAAK,IAAIxkJ,EAAI,EAAGA,EAAIynD,EAAUxnD,OAAQD,IAAK,CACzC,IAAI+sC,EAAS/oC,KAAK6gJ,mBAAmBp9F,EAAUznD,IAC/CqQ,EAAOmyI,YACPnyI,EAAO8xI,YAAY,WAAW9yI,OAAOo4C,EAAUznD,GAAGsoB,MAAO,KAAM,GAAI,IACnEjY,EAAOmyI,YACPnyI,EAAO8xI,YAAY,aAAa9yI,OAAOo4C,EAAUznD,GAAGuC,KAAM,KAAM,GAAI,IACpE8N,EAAOmyI,YACPnyI,EAAO8xI,YAAY,UAAW,GAAI,IAClC,IAAI2C,EAAe,GAAGz1I,OAAO09B,EAAOtkC,KAAK,MAAO,KAChD4H,EAAO00I,kBAAkBD,EAAc,GACzC,CAbA,CAcF,GACC,CACDtkJ,IAAK,iBACLe,MAAO,SAAwB8O,GAC7BrM,KAAKghJ,WAAW30I,GAChBrM,KAAKihJ,WAAW50I,EAClB,GACC,CACD7P,IAAK,aACLe,MAAO,SAAoB8O,GACzB,GAAKrM,KAAKouH,QAAQrrE,UAGmB,IAAjC/iD,KAAKouH,QAAQrrE,SAAS9mD,OAAc,CACtC,IAAI+sC,EAAWhpC,KAAKouH,QAAQrrE,SAC5B12C,EAAOm0I,OAAO,SAAU,KACxBn0I,EAAOmyI,YACPnyI,EAAOmyI,YACPnyI,EAAO00I,kBAAkB/gJ,KAAKsgJ,qBAC9Bj0I,EAAO60I,cAAcl4G,EAAU,SAC/B38B,EAAOmyI,YACPnyI,EAAOmyI,YACPnyI,EAAO8xI,YAAY,eAAgB,GAAI,GACzC,CACF,GACC,CACD3hJ,IAAK,aACLe,MAAO,SAAoB8O,GACzB,GAAKrM,KAAKouH,QAAQprE,MAAlB,CAGA,IAAIA,EAAQhjD,KAAKouH,QAAQprE,MACrBm+F,EAAa,EACjB90I,EAAOm0I,OAAO,SAAU,KACxBn0I,EAAOmyI,YACPnyI,EAAOmyI,YACPnyI,EAAO00I,kBAAkB/gJ,KAAKqgJ,qBAI9B,IAHA,IAAIlvB,EAAanuE,EAAMljC,QAAO,SAAU2C,GACtC,OAAOA,aAAgBkmB,EACzB,IACS3sC,EAAI,EAAGA,EAAIm1H,EAAWl1H,OAAQD,IAAK,CAC1CqQ,EAAOmyI,YACPnyI,EAAOmyI,YACP2C,IACA90I,EAAO8xI,YAAY,gBAAgB9yI,OAAO81I,GAAa,GAAI,IAC3D,IAAIp4G,EAASooF,EAAWn1H,GAAG+sC,OAAOtkC,KAAK,MACvC4H,EAAOmyI,YACPnyI,EAAO8xI,YAAY,mCACnB9xI,EAAO00I,kBAAkBh4G,EAAQ,GAAI,CACnCljC,IAAK,eACLm7B,MAAO,GACPl+B,IAAK,KAEP,IAAIkmC,EAAWmoF,EAAWn1H,GAAGgtC,SAC7B38B,EAAO60I,cAAcl4G,EAAU,QACjC,CAzBA,CA0BF,GACC,CACDxsC,IAAK,qBACLe,MAAO,SAA4B+oD,GAIjC,IAAIigF,EAAajgF,EAAS9xB,SAASpQ,KAHnC,SAAsB8B,GACpB,OAAOA,EAAQiB,OAAO8G,KACxB,IAEA,OAAOs4G,EAAWzmH,QAAO,SAAU6oC,EAAMpgB,GACvC,OAAOg+F,EAAWp+H,QAAQwgD,KAAUpgB,CACtC,GACF,KAEK82G,CACT,CA1QkB,CA0QhB3B,IAOF,SAAS0D,GAAchvI,EAAKivI,EAAQhvI,EAAKivI,GACvCjvI,EAAIivI,GAAUlvI,EAAIivI,GAClBhvI,EAAIivI,EAAS,GAAKlvI,EAAIivI,EAAS,GAC/BhvI,EAAIivI,EAAS,GAAKlvI,EAAIivI,EAAS,EACjC,CACA,SAASE,GAAcnvI,EAAKivI,EAAQhvI,EAAKivI,EAAQ/jJ,GAC/C8U,EAAIivI,GAAUlvI,EAAIivI,GAClBhvI,EAAIivI,EAAS,GAAKlvI,EAAIivI,EAAS,GAC/BhvI,EAAIivI,EAAS,GAAKlvI,EAAIivI,EAAS,GAC/BhvI,EAAIivI,EAAS,GAAK/jJ,CACpB,CAhBA8hJ,GAAYpvB,QAAU,CAAC,OACvBovB,GAAYmC,YAAcp/F,GAgB1B,IAAIq/F,GAAU,IAAI,MAClB,SAASC,GAAsBtvI,EAAKivI,EAAQhvI,EAAKivI,EAAQlgJ,GACvDqgJ,GAAQn5I,IAAI8J,EAAIivI,GAASjvI,EAAIivI,EAAS,GAAIjvI,EAAIivI,EAAS,GAAIjgJ,EAAK2uD,GAChE0xF,GAAQt4G,aAAa/nC,EAAKmoC,QAC1Bl3B,EAAIivI,GAAUG,GAAQh/I,EACtB4P,EAAIivI,EAAS,GAAKG,GAAQ/+I,EAC1B2P,EAAIivI,EAAS,GAAKG,GAAQ/xH,CAC5B,CACA,SAASiyH,GAAYvvI,EAAKC,EAAKuD,EAAOgsI,EAAaC,GACjD,MAAKxvI,EAAIN,MAAM9V,OAASoW,EAAIsD,OAAStD,EAAIwpC,OAASjmC,IAAUxD,EAAIL,MAAM9V,OAASmW,EAAIuD,OAASvD,EAAIypC,OAASjmC,GAGzG,GAAIxD,EAAIypC,SAAWxpC,EAAIwpC,OACrBxpC,EAAIN,MAAMzJ,IAAI8J,EAAIL,MAAOM,EAAIsD,YAI7B,IAFA,IAAIvR,EAAMiO,EAAIsD,MACVmsI,EAAS1vI,EAAIuD,MACR3Z,EAAI,EAAGA,EAAI4Z,IAAS5Z,EAAGoI,GAAOiO,EAAIwpC,OAAQimG,GAAU1vI,EAAIypC,OAC/D+lG,EAAYxvI,EAAIL,MAAO+vI,EAAQzvI,EAAIN,MAAO3N,EAAKy9I,EAGrD,CACA,IAAIE,GAAW,WACb,SAASA,IACPtmJ,EAAgBuE,KAAM+hJ,GACtB/hJ,KAAK8/D,UAAY,KACjB9/D,KAAKk9D,QAAU,KACfl9D,KAAKm7D,OAAS,KACdn7D,KAAKuU,QAAU,KACfvU,KAAKgiJ,QAAU,EACfhiJ,KAAKiiJ,SAAW,EAChBjiJ,KAAKkiJ,QAAU,EACfliJ,KAAK0gE,QAAU,CACjB,CAmHA,OAlHAjkE,EAAaslJ,EAAU,CAAC,CACtBvlJ,IAAK,OACLe,MAAO,SAAc4kJ,EAAYC,GAC/BpiJ,KAAK8/D,UAAY,IAAIrV,aAnDR,EAmDqB03F,GAClCniJ,KAAKk9D,QAAU,IAAIzS,aAnDL,EAmDkB03F,GAChCniJ,KAAKm7D,OAAS,IAAI1Q,aAnDL,EAmDkB03F,GAC/BniJ,KAAKuU,QAAU,IAAI+2B,WAAW82G,EAChC,GACC,CACD5lJ,IAAK,eACLe,MAAO,SAAsBwU,EAAO4D,EAAOC,EAAOimC,GAWhD8lG,GAVU,CACR5vI,MAAOA,EACP4D,MAAOA,EACPkmC,OAAQA,GAEA,CACR9pC,MAAO/R,KAAK8/D,UACZnqD,MAAO3V,KAAKgiJ,QACZnmG,OAnEW,GAqESjmC,EAAOwrI,IAC7BphJ,KAAKgiJ,SAtEQ,EAsEGpsI,CAClB,GACC,CACDpZ,IAAK,0BACLe,MAAO,SAAiCwU,EAAO4D,EAAOC,EAAOimC,EAAQtS,GAOnE,IANA,IAAInlC,EAAMpE,KAAKgiJ,QACXv+C,EAAS9tF,EACTvU,EAAO,CACTmoC,OAAQA,EACRwmB,EAAG,GAEI/zD,EAAI,EAAGA,EAAI4Z,IAAS5Z,EAAGynG,GAAU5nD,EAAQz3C,GAjFrC,EAkFXs9I,GAAsB3vI,EAAO0xF,EAAQzjG,KAAK8/D,UAAW17D,EAAKhD,GAE5DpB,KAAKgiJ,SApFQ,EAoFGpsI,CAClB,GACC,CACDpZ,IAAK,aACLe,MAAO,SAAoBwU,EAAO4D,EAAOC,EAAOimC,GAW9C8lG,GAVU,CACR5vI,MAAOA,EACP4D,MAAOA,EACPkmC,OAAQA,GAEA,CACR9pC,MAAO/R,KAAKk9D,QACZvnD,MAAO3V,KAAKiiJ,SACZpmG,OAhGY,GAkGQjmC,EAAOwrI,IAC7BphJ,KAAKiiJ,UAnGS,EAmGGrsI,CACnB,GACC,CACDpZ,IAAK,wBACLe,MAAO,SAA+BwU,EAAO4D,EAAOC,EAAOimC,EAAQtS,GAOjE,IANA,IAAInlC,EAAMpE,KAAKiiJ,SACXx+C,EAAS9tF,EACTvU,EAAO,CACTmoC,OAAQA,EACRwmB,EAAG,GAEI/zD,EAAI,EAAGA,EAAI4Z,IAAS5Z,EAAGynG,GAAU5nD,EAAQz3C,GA9GpC,EA+GZs9I,GAAsB3vI,EAAO0xF,EAAQzjG,KAAKk9D,QAAS94D,EAAKhD,GAE1DpB,KAAKiiJ,UAjHS,EAiHGrsI,CACnB,GACC,CACDpZ,IAAK,YACLe,MAAO,SAAmBwU,EAAO4D,EAAOC,EAAOimC,GAW7C8lG,GAVU,CACR5vI,MAAOA,EACP4D,MAAOA,EACPkmC,OAAQA,GAEA,CACR9pC,MAAO/R,KAAKm7D,OACZxlD,MAAO3V,KAAKkiJ,QACZrmG,OA7HW,GA+HSjmC,EAAO2rI,GAAe,GAC5CvhJ,KAAKkiJ,SAhIQ,EAgIGtsI,CAClB,GACC,CACDpZ,IAAK,aACLe,MAAO,SAAoBwU,EAAO4D,EAAOC,GACvC5V,KAAKuU,QAAQjM,IAAIyJ,EAAO/R,KAAK0gE,SAC7B1gE,KAAK0gE,SAAW9qD,CAClB,GACC,CACDpZ,IAAK,oBACLe,MAAO,SAA2BwU,EAAO6D,EAAOuuF,GAC9C,IAAIk+C,EAAUtwI,EAAMqS,KAAI,SAAU3hB,GAChC,OAAOA,EAAI0hG,CACb,IACAnkG,KAAKsiJ,WAAWD,EAAS,EAAGzsI,EAC9B,GACC,CACDpZ,IAAK,oBACLe,MAAO,WACL,OAAOyC,KAAKgiJ,QArJC,CAsJf,GACC,CACDxlJ,IAAK,cACLe,MAAO,SAAqBgsC,EAAQurB,GAClC,IAAIytF,EAAeviJ,KAAKwiJ,oBACxBxiJ,KAAKyiJ,kBAAkB3tF,EAAIvgD,QAASugD,EAAIvgD,QAAQtY,OAAQsmJ,GACxD,IAAI7wI,EAAOojD,EAAItgD,SACfxU,KAAK0iJ,wBAAwB5tF,EAAIgL,UAAW,EAAGhL,EAAIqtF,WAAYzwI,EAAKxQ,SAAUqoC,GAC9EvpC,KAAK2iJ,sBAAsB7tF,EAAIoI,QAAS,EAAGpI,EAAIqtF,WAAYzwI,EAAK0rD,OAAQ7zB,GACxEvpC,KAAK6nE,UAAU/S,EAAIqG,OAAQ,EAAGrG,EAAIqtF,WAAYzwI,EAAKnR,MACrD,KAEKwhJ,CACT,CA/He,GAiIXa,GAAc,WAChB,SAASA,IACPnnJ,EAAgBuE,KAAM4iJ,GACtB5iJ,KAAK8/D,UAAY,KACjB9/D,KAAKk9D,QAAU,KACfl9D,KAAKm7D,OAAS,KACdn7D,KAAKuU,QAAU,KACfvU,KAAKmiJ,WAAa,EAClBniJ,KAAKwU,SAAW,IAClB,CAYA,OAXA/X,EAAammJ,EAAa,CAAC,CACzBpmJ,IAAK,OACLe,MAAO,SAAcu3D,EAAK+tF,GACxB,IAAIxmF,EAAavH,EAAIuH,WACrBr8D,KAAKwU,SAAW,CACdtT,SAAUm7D,EAAWn7D,SAASsT,SAC9B4oD,OAAQf,EAAWe,OAAO5oD,SAC1BjU,MAAO87D,EAAW97D,MAAMiU,SAE5B,KAEKouI,CACT,CAtBkB,GA0BlB,IAAIE,GAAgB,SAAUC,GAC5B3lJ,EAAU0lJ,EAAeC,GACzB,IAJsBx1I,EAAeC,EAIjCC,GAJkBF,EAIMu1I,EAJSt1I,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQq7I,GAAsC,WAAkC,IAAsC32I,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASy2I,IAEP,OADArnJ,EAAgBuE,KAAM8iJ,GACfr1I,EAAO1N,MAAMC,KAAMH,UAC5B,CA2BA,OA1BApD,EAAaqmJ,EAAe,CAAC,CAC3BtmJ,IAAK,OACLe,MACA,SAAcu3D,EAAK+tF,GACjBlrH,GAAKh6B,EAAgBmlJ,EAActnJ,WAAY,OAAQwE,MAAMtC,KAAKsC,KAAM80D,EAAK+tF,GAC7E,IAAII,EAAkBnuF,EAAIuH,WACtBn7D,EAAW+hJ,EAAgB/hJ,SAC3Bk8D,EAAS6lF,EAAgB7lF,OACzB94C,EAAQwwC,EAAIxwC,MAChBtkB,KAAKmiJ,WAAajhJ,EAAS0U,MAC3B5V,KAAK8/D,UAAY5+D,EAAS6Q,MAC1B/R,KAAKk9D,QAAUE,EAAOrrD,MACtB/R,KAAKm7D,OAAS,IAAI1Q,aAAazqD,KAAKmiJ,WAAaniJ,KAAKwU,SAASjU,OAC/DP,KAAKuU,QAAU+P,EAAMvS,KACvB,GACC,CACDvV,IAAK,YACLe,MAAO,SAAmBgD,GAExB,IADA,IAAIs/B,EAAS,EACJ7jC,EAAI,EAAGomB,EAAIpiB,KAAKm7D,OAAOl/D,OAAQinJ,EAAKljJ,KAAKwU,SAASjU,MAAOvE,EAAIomB,EAAGpmB,GAAKknJ,EAC5EljJ,KAAKm7D,OAAOt7B,KAAYt/B,EAAM0iB,EAC9BjjB,KAAKm7D,OAAOt7B,KAAYt/B,EAAMw5B,EAC9B/5B,KAAKm7D,OAAOt7B,KAAYt/B,EAAM09C,CAElC,KAEK6kG,CACT,CAlCoB,CAkClBF,IAIF,IAAIO,GAAgB,SAAUJ,GAC5B3lJ,EAAU+lJ,EAAeJ,GACzB,IAJsBx1I,EAAeC,EAIjCC,GAJkBF,EAIM41I,EAJS31I,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQy7I,GAAsC,WAAkC,IAAsC/2I,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS82I,IACP,IAAIx4I,EAMJ,OALAlP,EAAgBuE,KAAMmjJ,IACtBx4I,EAAQ8C,EAAO/P,KAAKsC,OACdqjJ,aAAe,EACrB14I,EAAM24I,WAAa,EACnB34I,EAAM44I,eAAiB,EAChB54I,CACT,CA6EA,OA5EAlO,EAAa0mJ,EAAe,CAAC,CAC3B3mJ,IAAK,OACLe,MAAO,SAAcu3D,EAAK/qD,GACxB4tB,GAAKh6B,EAAgBwlJ,EAAc3nJ,WAAY,OAAQwE,MAAMtC,KAAKsC,KAAM80D,EAAK/qD,GAC7E,IAAI7I,EAAW4zD,EAAIuH,WAAWn7D,SAC1BojB,EAAQwwC,EAAIxwC,MAChBtkB,KAAKmiJ,WAAajhJ,EAAS0U,MAAQ7L,EAAKy5I,eACxCxjJ,KAAKujJ,eAAiBx5I,EAAKy5I,eAC3BxjJ,KAAK8/D,UAAY,IAAIrV,aAAazqD,KAAKmiJ,WAAajhJ,EAASsT,UAC7DxU,KAAKk9D,QAAU,IAAIzS,aAAazqD,KAAKmiJ,WAAaniJ,KAAKwU,SAAS4oD,QAChEp9D,KAAKm7D,OAAS,IAAI1Q,aAAazqD,KAAKmiJ,WAAaniJ,KAAKwU,SAASjU,OAC/DP,KAAKyjJ,gBAAgB3uF,EAAK/qD,GAC1B/J,KAAKuU,QAAU,IAAIooD,YAAYr4C,EAAM1O,OACrC5V,KAAK0jJ,eAAe5uF,EAAK/qD,EAC3B,GACC,CACDvN,IAAK,kBACLe,MAAO,SAAyBu3D,EAAK/qD,GACnC,IAAI7I,EAAW4zD,EAAIuH,WAAWn7D,SAC1Bk8D,EAAStI,EAAIuH,WAAWe,OACxBk4B,EAAYxgC,EAAI6uF,eAEpB3jJ,KAAKqjJ,aADQ,EACgB/tD,EAAUl2B,eACvCp/D,KAAKsjJ,WAAatjJ,KAAKqjJ,aAAet5I,EAAKy5I,eAEzC,IAAI1xC,EAAO5wG,EAAS6Q,MAAMzT,MAAM,EAAG0B,KAAKsjJ,WAAapiJ,EAASsT,UAC9DxU,KAAK8/D,UAAUx3D,IAAIwpG,EAAM,GACzBA,EAAO10C,EAAOrrD,MAAMzT,MAAM,EAAG0B,KAAKsjJ,WAAalmF,EAAO5oD,UACtDxU,KAAKk9D,QAAQ50D,IAAIwpG,EAAM,GAGvB,IAAI8xC,EAAQ1iJ,EAAS6Q,MAAMzT,MAAM0B,KAAKqjJ,aAAeniJ,EAASsT,SAAUtT,EAAS6Q,MAAM9V,QACvF+D,KAAK8/D,UAAUx3D,IAAIs7I,EAAO5jJ,KAAKsjJ,WAAapiJ,EAASsT,UACrDovI,EAAQxmF,EAAOrrD,MAAMzT,MAAM0B,KAAKqjJ,aAAejmF,EAAO5oD,SAAU4oD,EAAOrrD,MAAM9V,QAC7E+D,KAAKk9D,QAAQ50D,IAAIs7I,EAAO5jJ,KAAKsjJ,WAAalmF,EAAO5oD,SAErD,GACC,CACDhY,IAAK,iBACLe,MAAO,SAAwBu3D,EAAK/qD,GAClC,IAAIua,EAAQwwC,EAAIxwC,MAEZu/H,EADiB,EACF95I,EAAKy5I,eACpBr/C,EAAQp6F,EAAKy5I,eACbnB,EAAU/9H,EAAMvS,MAAMzT,MAAMulJ,EAAcv/H,EAAM1O,OACpDysI,EAAUA,EAAQj+H,KAAI,SAAU3hB,GAC9B,OAAOA,EAAI0hG,CACb,IACAnkG,KAAKuU,QAAQjM,IAAIgc,EAAMvS,MAAO,GAC9B/R,KAAKuU,QAAQjM,IAAI+5I,EAASwB,EAC5B,GACC,CACDrnJ,IAAK,iBACLe,MAAO,SAAwBoY,EAAO7S,EAAKiP,EAAOxR,GAEhD,IADA,IAAIujJ,EAAYvjJ,EAAMtE,OACbD,EAAI2Z,EAAO3Z,EAAI8G,EAAK9G,GAAK8nJ,EAChC/xI,EAAMzJ,IAAI/H,EAAOvE,EAErB,GACC,CACDQ,IAAK,YACLe,MAAO,SAAmB2lE,EAAQC,GAChC,IAAI2gF,EAAY9jJ,KAAKwU,SAASjU,MAC1BwjJ,EAAW/jJ,KAAKsjJ,WAAaQ,EAC7BE,EAAsB,EAAXD,EAGf,GAFA/jJ,KAAKikJ,eAAe,EAAGF,EAAU/jJ,KAAKm7D,OAAQ+H,EAAOtE,WACrD5+D,KAAKikJ,eAAeF,EAAUC,EAAUhkJ,KAAKm7D,OAAQgI,EAAOvE,WACxDolF,EAAWhkJ,KAAKm7D,OAAOl/D,OAAQ,CACjC,IAAIioJ,GAAWlkJ,KAAKujJ,eAAiB,GAAKO,EACtCK,EAAUH,EAAWE,EACzBlkJ,KAAKikJ,eAAeD,EAAUG,EAASnkJ,KAAKm7D,OAAQgI,EAAOvE,WAC3D,IAAIwlF,EAAUD,EAAUD,EACxBlkJ,KAAKikJ,eAAeE,EAASC,EAASpkJ,KAAKm7D,OAAQ+H,EAAOtE,UAC5D,CACF,KAEKukF,CACT,CAzFoB,CAyFlBP,IAEEyB,GAAmB,WACrB,SAASA,IACP5oJ,EAAgBuE,KAAMqkJ,GACtBrkJ,KAAKskJ,WAAa,GAClBtkJ,KAAKukJ,QAAU,EACjB,CAyRA,OAxRA9nJ,EAAa4nJ,EAAkB,CAAC,CAC9B7nJ,IAAK,UACLe,MAAO,SAAiB2X,GACtBlV,KAAKwkJ,2BAA2BtvI,GAChC,IAAIy3H,EAAS3sI,KAAKykJ,iBAClB,MAAO,CACLlmJ,KAAM2W,EAAK3W,KACXouI,OAAQA,EACRrpH,UAAWtjB,KAAKskJ,WAEpB,GACC,CACD9nJ,IAAK,6BACLe,MAAO,SAAoC2X,GACzC,IAAIvK,EAAQ3K,KACR0kJ,EAAmB,IAAI,MAC3BA,EAAiBp8I,IAAI6qD,GAASjF,OAAOziD,SACrCi5I,EAAiBh4I,OAAOymD,GAASjF,OAAOE,aACxCl5C,EAAKy7C,UAAS,SAAU79C,GAClBA,aAAkB,OAAQA,EAAOwiD,OAAO72D,KAAKimJ,IAAqB/5I,EAAMg6I,mBAAmB7xI,KAChE,4BAAzBA,EAAO89C,SAAS/nD,KAClB8B,EAAMi6I,yBAAyB9xI,GAE/BnI,EAAMk6I,gBAAgB/xI,GAG5B,GACF,GACC,CACDtW,IAAK,iBACLe,MAAO,SAAwBgX,GAE7B,IADA,IACSvY,EAAI8oJ,EAAc9oJ,EAAIuY,EAAQtY,OAAQD,GADhC,EAEbuY,EAAQvY,KAAO,EACfuY,EAAQvY,IAEZ,GACC,CACDQ,IAAK,iBACLe,MAAO,WACL,IAAIwnJ,EAAoB,EACxB,SAAS5gD,EAAM1hG,GACb,OAAOA,EAAIsiJ,CACb,CAEA,IADA,IAAIC,EAAW,GACNhpJ,EAAI,EAAGoC,EAAI4B,KAAKukJ,QAAQtoJ,OAAQD,EAAIoC,EAAGpC,IAAK,CACnD,IAAI2wI,EAAS3sI,KAAKukJ,QAAQvoJ,GACtBuY,EAAU,GACVurD,EAAY,GACZ5C,EAAU,GACV/B,EAAS,GACb4pF,EAAoB,EACpB,IAAK,IAAItwI,EAAI,EAAGA,EAAIk4H,EAAO1wI,OAAQwY,IAAK,CACtC,IAAI0O,EAAIwpH,EAAOl4H,GACfF,EAAQlV,KAAK8jB,EAAE5O,QAAQ6P,IAAI+/E,IAC3B4gD,GAAqB5hI,EAAEq/H,oBACvB1iF,EAAUzgE,KAAK8jB,EAAE28C,WACjB5C,EAAQ79D,KAAK8jB,EAAE+5C,SACf/B,EAAO97D,KAAK8jB,EAAEg4C,OAChB,CACA5mD,EAAUhF,EAAMgG,uBAAuBhB,GACvCvU,KAAKilJ,eAAe1wI,GACpBurD,EAAYvwD,EAAMgG,uBAAuBuqD,GACzC5C,EAAU3tD,EAAMgG,uBAAuB2nD,GACvC/B,EAAS5rD,EAAMgG,uBAAuB4lD,GACtC6pF,EAAS3lJ,KAAK,CACZkV,QAASA,EACTurD,UAAWA,EACX5C,QAASA,EACT/B,OAAQA,EACR+pF,cAAeH,GAEnB,CACA,OAAOC,CACT,GACC,CACDxoJ,IAAK,qBACLe,MAAO,SAA4B+9D,GACjC,QAAgD,IAA5CA,EAAK1K,SAASyL,WAAWn7D,SAAS0U,QAGlC0lD,aAAgBq2B,IAClBpmF,EAAOtB,KAAK,iHACL,GAELqxD,aAAgBm4B,KAClBloF,EAAOtB,KAAK,yCACL,IAGX,GACC,CACDzN,IAAK,kBACLe,MAAO,SAAyB+9D,GAC9B,IAAI6pF,EAAiB7pF,EAAK1K,SACtBw0F,EAAwBD,EAAe9oF,WACvCn7D,EAAWkkJ,EAAsBlkJ,SACjCX,EAAQ6kJ,EAAsB7kJ,MAC9B68D,EAASgoF,EAAsBhoF,OAC/B94C,EAAQ6gI,EAAe7gI,MACvBilB,EAAS+xB,EAAK/xB,OACd8mF,EAAQ,IAAI0xB,GACZsD,EAAYnkJ,EAAS0U,MACzBy6G,EAAM96F,KAAK8vH,EAAW/gI,EAAM1O,OACxB2zB,EAAOqmB,cACTygE,EAAMi1B,aAAapkJ,EAAS6Q,MAAO,EAAGszI,EAAWnkJ,EAASsT,UAC1D67G,EAAMk1B,WAAWnoF,EAAOrrD,MAAO,EAAGszI,EAAWjoF,EAAO5oD,YAEpD67G,EAAMqyB,wBAAwBxhJ,EAAS6Q,MAAO,EAAGszI,EAAWnkJ,EAASsT,SAAU+0B,GAC/E8mF,EAAMsyB,sBAAsBvlF,EAAOrrD,MAAO,EAAGszI,EAAWjoF,EAAO5oD,SAAU+0B,IAE3E8mF,EAAMxoD,UAAUtnE,EAAMwR,MAAO,EAAGszI,EAAW9kJ,EAAMiU,UACjD67G,EAAMiyB,WAAWh+H,EAAMvS,MAAO,EAAGuS,EAAM1O,OACvC,IAAIqG,EAAWjc,KAAKwlJ,qBAAqBlqF,GACzCt7D,KAAKylJ,WAAWp1B,EAAOp0G,EACzB,GACC,CACDzf,IAAK,sBACLe,MAAO,SAA6B+9D,GAClC,IAAIoqF,EAAkBpqF,EAAK1K,SACvB+0F,EAAwBD,EAAgBrpF,WACxCn7D,EAAWykJ,EAAsBzkJ,SACjCX,EAAQolJ,EAAsBplJ,MAC9B+jB,EAAQohI,EAAgBphI,MACxBilB,EAAS+xB,EAAK/xB,OACd8mF,EAAQ,IAAI0xB,GACZ6D,EAAYtqF,EAAK1K,SAASsC,cAC1BmyF,EAAYnkJ,EAAS0U,MACrBwsI,EAAY99H,EAAM1O,MACtBy6G,EAAM96F,KAAKqwH,EAAYP,EAAWO,EAAYxD,GAC9C,IAAIttF,EAAM,IAAIguF,GACdhuF,EAAIv/B,KAAK+lC,EAAK1K,UAId,IAHA,IAAIi1F,EAAa,IAAI,MACjBC,EAAY,IAAI,MAChBC,EAAc,IAAI,MACbC,EAAgB,EAAGA,EAAgBJ,IAAaI,EAAe,CACtE,IAAItjF,EAAWsjF,EAAgBzlJ,EAAMiU,SACrCuxI,EAAYpnF,UAAUp+D,EAAMwR,MAAO2wD,GACnC5N,EAAI+S,UAAUk+E,GACd/lJ,KAAKimJ,yBAAyB3qF,EAAK1K,SAAUo1F,EAAeH,GAC5DC,EAAU3zD,iBAAiB5oD,EAAQs8G,GACnCx1B,EAAM61B,YAAYJ,EAAWhxF,EAC/B,CACA,IAAI74C,EAAWjc,KAAKwlJ,qBAAqBlqF,GACzCt7D,KAAKylJ,WAAWp1B,EAAOp0G,EACzB,GACC,CACDzf,IAAK,wBACLe,MAAO,SAA+B+9D,GACpC,IAAI6qF,EAAkB7qF,EAAK1K,SACvBw1F,EAAwBD,EAAgB9pF,WACxCn7D,EAAWklJ,EAAsBllJ,SACjCX,EAAQ6lJ,EAAsB7lJ,MAC9B4iE,EAASijF,EAAsBjjF,OAC/B7+C,EAAQ6hI,EAAgB7hI,MACxBilB,EAAS+xB,EAAK/xB,OACd8mF,EAAQ,IAAI0xB,GACZ6D,EAAYtqF,EAAK1K,SAASsC,cAC1BmzF,EAAe,IAAIvD,GACvBuD,EAAa9wH,KAAK+lC,EAAK1K,UACvB,IAAI01F,EAAgBtmJ,KAAKumJ,6BAA6BjrF,EAAK1K,UACvD41F,EAAe,KACfF,EAAcG,YAAc,IAC9BD,EAAe,IAAIrD,IACN5tH,KAAK+lC,EAAK1K,SAAU01F,GAEnC,IAAII,EAAuBJ,EAAc9C,eAAiB8C,EAAcG,YACpEpB,EAAYnkJ,EAAS0U,MACrBwsI,EAAY99H,EAAM1O,MACtBy6G,EAAM96F,KAAKqwH,EAAYP,EAAYqB,EAAsBd,EAAYxD,GAMrE,IALA,IAAIyD,EAAa,IAAI,MACjBC,EAAY,IAAI,MAChBa,EAAa,IAAI,MACjBC,EAAW,IAAI,MACf9xF,EAAM,CAAC,EACFkxF,EAAgB,EAAGA,EAAgBJ,IAAaI,EAAe,CACtE,IAAItjF,EAAWsjF,EAAgBzlJ,EAAMiU,SACjC8xI,EAAcO,WAAWb,IAC3BW,EAAWhoF,UAAUwE,EAAOpxD,MAAO2wD,GACnCkkF,EAASjoF,UAAUp+D,EAAMwR,MAAO2wD,GAC5B8jF,IACFA,EAAa3+E,UAAU8+E,EAAYC,GACnC9xF,EAAM0xF,KAGRG,EAAWhoF,UAAUp+D,EAAMwR,MAAO2wD,GAClC2jF,EAAax+E,UAAU8+E,GACvB7xF,EAAMuxF,GAERrmJ,KAAK8mJ,2BAA2BxrF,EAAK1K,SAAUo1F,EAAeH,GAC9DC,EAAU3zD,iBAAiB5oD,EAAQs8G,GACnCx1B,EAAM61B,YAAYJ,EAAWhxF,EAC/B,CACA,IAAI74C,EAAWjc,KAAKwlJ,qBAAqBlqF,GACzCt7D,KAAKylJ,WAAWp1B,EAAOp0G,EACzB,GACC,CACDzf,IAAK,aACLe,MAAO,SAAoB8yH,EAAOp0G,GAChC,IAAI8qI,EAAc/mJ,KAAKgnJ,uBAAuB/qI,GAC1C8qI,EAAc,GAChB/mJ,KAAKukJ,QAAQllJ,KAAK,CAACgxH,IACnBrwH,KAAKskJ,WAAWjlJ,KAAK4c,IAERjc,KAAKukJ,QAAQwC,GACnB1nJ,KAAKgxH,EAEhB,GACC,CACD7zH,IAAK,yBACLe,MAAO,SAAgC0e,GACrC,OAAO,IAAAgrI,WAAUjnJ,KAAKskJ,YAAY,SAAUnhI,GAC1C,OAAO,IAAAvQ,SAAQuQ,EAAGlH,EACpB,GACF,GACC,CACDzf,IAAK,+BACLe,MAAO,SAAsCu3D,GAQ3C,IAPA,IAAI8wF,EAAY9wF,EAAI5B,cAChBgQ,EAASpO,EAAIuH,WAAW97D,MAAMwR,MAC9BoxD,EAASrO,EAAIuH,WAAW8G,OAAOpxD,MAC/B8pC,EAASiZ,EAAIuH,WAAW97D,MAAMiU,SAC9BqyI,EAAa,IAAI5oJ,MAAM2nJ,GACvBa,EAAc,EACdzpE,EAAS,EACJhhF,EAAI,EAAGA,EAAI4pJ,EAAW5pJ,IAAKghF,GAAUnhC,EAAQ,CACpD,IAAIqrG,EAAUllJ,KAAKitB,IAAIi0C,EAAO8Z,GAAU7Z,EAAO6Z,IAAW,MAC1Dh7E,KAAKitB,IAAIi0C,EAAO8Z,EAAS,GAAK7Z,EAAO6Z,EAAS,IAAM,MAAah7E,KAAKitB,IAAIi0C,EAAO8Z,EAAS,GAAK7Z,EAAO6Z,EAAS,IAAM,KACrH6pE,EAAW7qJ,GAAKkrJ,EAChBT,GAAeS,CACjB,CAGA,MAAO,CACLL,WAAYA,EACZJ,YAAaA,EACbjD,eALc1uF,EAAI6uF,eACWvkF,eAMjC,GACC,CACD5iE,IAAK,2BACLe,MAAO,SAAkC+9D,GACnCA,EAAK1K,oBAAoBwI,GAC3Bp5D,KAAKmnJ,oBAAoB7rF,GAChBA,EAAK1K,oBAAoB+Q,IAClC3hE,KAAKonJ,sBAAsB9rF,EAE/B,GACC,CACD9+D,IAAK,uBACLe,MAAO,SAA8B+9D,GACnC,IAAIkyB,EAAclyB,EAAKr/C,SAASuxE,YAChC,MAAO,CACLjB,QAASiB,EAAYjB,QAAQ3tB,UAC7B3R,QAASugC,EAAYvgC,QACrBw/B,UAAWe,EAAYf,UACvBD,SAAUgB,EAAYhB,SAAS5tB,UAEnC,GACC,CACDpiE,IAAK,6BACLe,MAAO,SAAoCu3D,EAAKuyF,EAAS99G,GACvD,IAAI+9G,EAAaxyF,EAAIuH,WAAWirF,WAAWv1I,MACvCw1I,EAAazyF,EAAIuH,WAAWkrF,WAAWx1I,MACvCy1I,EAAa1yF,EAAIuH,WAAWmrF,WAAWz1I,MACvC01I,EAAsB,EAAVJ,EAChB99G,EAAOjhC,IAAIg/I,EAAWG,GAAYH,EAAWG,EAAY,GAAIH,EAAWG,EAAY,GAAIH,EAAWG,EAAY,GAAIF,EAAWE,GAAYF,EAAWE,EAAY,GAAIF,EAAWE,EAAY,GAAIF,EAAWE,EAAY,GAAID,EAAWC,GAAYD,EAAWC,EAAY,GAAID,EAAWC,EAAY,GAAID,EAAWC,EAAY,GAAI,EAAG,EAAG,EAAG,EAC9U,GACC,CACDjrJ,IAAK,2BACLe,MAAO,SAAkCu3D,EAAKuyF,EAAS99G,GACrD,IAAI1J,EAASi1B,EAAIuH,WAAWx8B,OACxBz7B,EAAMijJ,EAAUxnH,EAAOrrB,SACvB/R,EAAIo9B,EAAO9tB,MAAM3N,GACjB1B,EAAIm9B,EAAO9tB,MAAM3N,EAAM,GACvBsrB,EAAImQ,EAAO9tB,MAAM3N,EAAM,GACvB/D,EAAQw/B,EAAO9tB,MAAM3N,EAAM,GAC/BmlC,EAAOjhC,IAAIjI,EAAO,EAAG,EAAGoC,EAAG,EAAGpC,EAAO,EAAGqC,EAAG,EAAG,EAAGrC,EAAOqvB,EAAG,EAAG,EAAG,EAAG,EACtE,KAEK20H,CACT,CA/RuB,GAsSnBqD,GAAY,WACd,SAASA,IACPjsJ,EAAgBuE,KAAM0nJ,GACtB1nJ,KAAK69I,aAAe,GACpB79I,KAAK6iJ,MAAQ,IACf,CAkIA,OAjIApmJ,EAAairJ,EAAW,CAAC,CACvBlrJ,IAAK,YACLe,MAAO,SAAmBwM,GAQxB,OAPA/J,KAAK6iJ,MAAQ94I,EACb/J,KAAK69I,aAAax+I,KAAKW,KAAK2nJ,gBAC5B3nJ,KAAK69I,aAAax+I,KAAKW,KAAK4nJ,qBAC5B5nJ,KAAK69I,aAAax+I,KAAKW,KAAK6nJ,cAAc99I,EAAK4iI,OAAQ5iI,EAAKuZ,YAC5DtjB,KAAK69I,aAAax+I,KAAKW,KAAK8nJ,mBAC5B9nJ,KAAK69I,aAAax+I,KAAKW,KAAK+nJ,qBAC5B/nJ,KAAK6iJ,MAAQ,KACN7iJ,KAAK69I,aAAap5I,KAAK,GAChC,GACC,CACDjI,IAAK,eACLe,MAAO,WACL,IAEI64H,EAAO,IAAIzwH,KAEXqiJ,EAAU,sBAAsB38I,OAAOrL,KAAK6iJ,MAAM/f,SACtD,MAAO,0CAA0Cz3H,OAAO28I,EAAS,mMAAmM38I,OAL7O,KAKsQ,oBAAoBA,OAJhS,KAImT,4CAA4CA,OAFzV,IAEkX,gBAAgBA,OAAO+qH,EAAK6xB,cAAe,iBAAiB58I,OAAO+qH,EAAK8xB,WAAa,EAAG,gBAAgB78I,OAAO+qH,EAAK+xB,UAAW,gBAAgB98I,OAAO+qH,EAAKgyB,WAAY,kBAAkB/8I,OAAO+qH,EAAKiyB,aAAc,kBAAkBh9I,OAAO+qH,EAAKkyB,aAAc,uBAAuBj9I,OAAO+qH,EAAKmyB,kBAAmB,uBAAwBl9I,OAAO28I,EAAS,gEAAkE38I,OAAO+qH,EAAM,iBAAmB/qH,OAAO28I,EAAS,QAC11B,GACC,CACDxrJ,IAAK,oBACLe,MAAO,WACL,MAAO,kGAAkG8N,OApCtF,8RAoCiH,KACtI,GACC,CACD7O,IAAK,UACLe,MAAO,WAIL,IAHA,IACIirJ,EAAY,GACZ7b,EAAS3sI,KAAK6iJ,MAAMlW,OACf3wI,EAAI,EAAGA,EAAI2wI,EAAO1wI,SAAUD,EAAG,CACtC,IAAIq0H,EAAQsc,EAAO3wI,GACfqpJ,EAAYh1B,EAAM60B,cACtBsD,GAAa,sBAAuBn9I,OAAOrL,KAAK6iJ,MAAMtkJ,KAAM,KAAK8M,OAAOrP,EAAG,8BAAiCqP,OAN3F,IAMgH,WAAWA,OA9C5H,qrHA8CsJ,UAAUA,OAAOrL,KAAKyoJ,iBAAiBp4B,EAAMvwD,UAAWuwD,EAAM97G,SAAU,UAAUlJ,OAAOrL,KAAK0oJ,aAAar4B,EAAMnzD,SAAU,WAAW7xD,OAAOrL,KAAK2oJ,YAAYt4B,EAAMl1D,OAAQkqF,GAAY,WAAWh6I,OA7CtV,oLA6CmX,YAAYA,OA5ClY,mUA4C4Z,QAC9a,CACA,OAAOm9I,CACT,GACC,CACDhsJ,IAAK,aACLe,MAAO,WAIL,IAHA,IACIqrJ,EAAe,GACftlI,EAAYtjB,KAAK6iJ,MAAMv/H,UAClBtnB,EAAI,EAAGA,EAAIsnB,EAAUrnB,SAAUD,EAAG,CACzC,IAAIigB,EAAWqH,EAAUtnB,GACzB4sJ,GAAgB,4BAA6Bv9I,OAAOrL,KAAK6iJ,MAAMtkJ,KAAM,KAAK8M,OAAOrP,EAAG,kCAAqCqP,OALrG,IAK6H,0DAA4DA,OAAOrL,KAAK6oJ,oBAAoB5sI,GAAW,QAC1P,CACA,OAAO2sI,CACT,GACC,CACDpsJ,IAAK,gBACLe,MAAO,WACL,MAAO,gHAAgH8N,OAAOrL,KAAKukJ,UAAW,QAAQl5I,OAAOrL,KAAKskJ,aAAc,QAAQj5I,OA9DzK,8XA8DgM,QACjN,GACC,CACD7O,IAAK,kBACLe,MAAO,WAEL,IADA,IAAIurJ,EAAa,GACR9sJ,EAAI,EAAGA,EAAIgE,KAAK6iJ,MAAMlW,OAAO1wI,SAAUD,EAC9C8sJ,GAAc,sBAAuBz9I,OAAOrL,KAAK6iJ,MAAMtkJ,KAAM,KAAK8M,OAAOrP,EAAG,oBAG9E,IADA,IAAI+sJ,EAAe,GACVlqJ,EAAK,EAAGA,EAAKmB,KAAK6iJ,MAAMv/H,UAAUrnB,SAAU4C,EACnDkqJ,GAAgB,4BAA6B19I,OAAOrL,KAAK6iJ,MAAMtkJ,KAAM,KAAK8M,OAAOxM,EAAI,wBAEvF,MAAO,iHAAiHwM,OAAOy9I,EAAY,4aAA4cz9I,OAAO09I,EAAc,MAC9mB,GACC,CACDvsJ,IAAK,oBACLe,MAAO,WAGL,IAFA,IAAIurJ,EAAa,GACbvqJ,EAAOyB,KAAK6iJ,MAAMtkJ,KACbvC,EAAI,EAAGA,EAAIgE,KAAK6iJ,MAAMlW,OAAO1wI,SAAUD,EAC9C8sJ,GAAc,8BAAiCz9I,OAAO9M,EAAM,KAAK8M,OAAOrP,EAAG,qBAG7E,IADA,IAAI+sJ,EAAe,GACVvtG,EAAM,EAAGA,EAAMx7C,KAAK6iJ,MAAMv/H,UAAUrnB,SAAUu/C,EACrDutG,GAAgB,iCAAoC19I,OAAO9M,EAAM,KAAK8M,OAAOmwC,EAAK,uBAAyBnwC,OAAO9M,EAAM,KAAK8M,OAAOmwC,EAAK,KAE3I,MAAO,qHAAqHnwC,OAAOy9I,EAAY,QAAQz9I,OAAO09I,EAAc,MAC9K,GACC,CACDvsJ,IAAK,sBACLe,MAAO,SAA6BwU,GAElC,IADA,IAAIzD,EAAM,GACDtS,EAAI,EAAGA,EAAI+V,EAAM9V,SAAUD,EAClCsS,EAAItS,GAAK+V,EAAM/V,GAAGmjJ,QAAQ,GAE5B,OAAO7wI,EAAI7J,KAAK,IAClB,GACC,CACDjI,IAAK,cACLe,MAAO,SAAqByrJ,EAAY3D,GACtC,IAGI4D,EAAYjpJ,KAAKkpJ,oBAAoBF,GACrCG,EAAenyF,GAAmB/4D,MAAMonJ,GAAWt6I,QACvD,MAAO,4BAA4BM,OALL,EAKqC,uBAAuBA,OAJ3D,IAI4F,mBAAoBA,OAHnH,GAGiJ,0GAA+GA,OAAO49I,EAAW,wBAAwB59I,OAAO89I,EAAc,UAC7V,GACC,CACD3sJ,IAAK,eACLe,MAAO,SAAsB6rJ,GAC3B,IAGIC,EAAarpJ,KAAKkpJ,oBAAoBE,GAC1C,MAAO,6BAA6B/9I,OAJL,EAIsC,uBAAuBA,OAH5D,IAG8F,mBAAoBA,OAFrH,GAEoJ,4GAAiHA,OAAOg+I,EAAY,UACvT,GACC,CACD7sJ,IAAK,mBACLe,MAAO,SAA0BuiE,EAAWvrD,GAC1C,IAKI+0I,EAAUtpJ,KAAKkpJ,oBAAoBppF,GACvC,MAAO,eAAez0D,OANL,EAMwB,qBAAqBA,OAL9C,EAKgE,mBAAmBA,OAJrF,IAIqG,oBAAqBA,OAH1H,aAG0I,qBAAsBA,OAAOi+I,EAAS,8BAA8Bj+I,OAAOkJ,EAAS,2BAA2BlJ,OAFjP,IAGxB,GACC,CACD7O,IAAK,sBACLe,MAAO,SAA6B0e,GAClC,MAAO,oYAAgb5Q,OAAO4Q,EAASswE,QAAS,+QAA6SlhF,OAAO4Q,EAASuwE,SAAU,+GAA2HnhF,OAAO4Q,EAASwwE,UAAW,8MAAsOphF,OAAO4Q,EAASswE,QAAS,iDAAuDlhF,OAAO4Q,EAASuwE,SAAU,gDAAsDnhF,OAAO4Q,EAASwwE,UAAW,8CAAoDphF,OAAO4Q,EAASgxC,QAAS,0DAC75C,KAEKy6F,CACT,CAxIgB,GA4IhB,IAAI6B,GAAc,SAAUjK,GAC1BliJ,EAAUmsJ,EAAajK,GACvB,IAJsB/xI,EAAeC,EAIjCC,GAJkBF,EAIMg8I,EAJS/7I,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ6hJ,GAAsC,WAAkC,IAAsCn9I,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASk9I,EAAYt2F,EAAQtwC,GAC3B,IAAIhY,EAMJ,OALAlP,EAAgBuE,KAAMupJ,IACtB5+I,EAAQ8C,EAAO/P,KAAKsC,KAAMizD,EAAQtwC,IAC5BynC,MAAQ6I,EACdtoD,EAAM8+I,SAAW9mI,EAAQ+mI,aAAe,kBACxC/+I,EAAMg/I,WAAa,IAAItF,GAChB15I,CACT,CAcA,OAbAlO,EAAa8sJ,EAAa,CAAC,CACzB/sJ,IAAK,aACLe,MAAO,WACL,IAAI8O,EAAS,IAAIq7I,GACjB,IAAK1nJ,KAAKouH,QACR,OAAOpuH,KAAKy/I,QAEd,IAAI11I,EAAO/J,KAAK2pJ,WAAWziI,QAAQlnB,KAAKoqD,OAGxC,OAFArgD,EAAK+4H,QAAU9iI,KAAKypJ,SACpBzpJ,KAAKy/I,QAAUpzI,EAAOk0I,UAAUx2I,GACzB/J,KAAKy/I,OACd,KAEK8J,CACT,CA1BkB,CA0BhB7L,IACF6L,GAAYt5B,QAAU,CAAC,OACvBs5B,GAAY/H,YAAc//B,GAE1B,IA+KMmoC,GAcAt3G,GACAitE,GAgBA3xC,GA2BAtlC,GACA2rB,GACA41F,GACAC,GACAC,GACAC,GACAC,GAgOAC,GAyBA5kJ,GA4BA6+F,GAlgBFgmD,GAAK,CACPv6B,QAASA,GACT0tB,QAASA,GACT8M,UALc,IAAI7M,GAAa,CAAC8B,GAAakK,MAQ3Cc,GAAY,IAAI,MAChBC,GAAgB,WAClB,SAASA,IACP7uJ,EAAgBuE,KAAMsqJ,GACtBtqJ,KAAK44B,OAAS,EACd54B,KAAKuqJ,QAAU,EACfvqJ,KAAKwqJ,WAAa,EAClBxqJ,KAAKyqJ,YAAc,EACnBzqJ,KAAK0qJ,QAAU,IAAI,MACnB1qJ,KAAK2qJ,YAAc,IAAI,MACvB3qJ,KAAK4qJ,kBAAoB,IAAI,MAC7B5qJ,KAAK6qJ,YAAcrpJ,SAASC,cAAc,OAC1CzB,KAAK6qJ,YAAY1mJ,MAAM2mJ,SAAW,SAClC9qJ,KAAK6qJ,YAAY1mJ,MAAMjD,SAAW,WAClClB,KAAK6qJ,YAAY1mJ,MAAMpD,IAAM,IAC7Bf,KAAK6qJ,YAAY1mJ,MAAMtD,OAAS,IAChCb,KAAK6qJ,YAAY1mJ,MAAM4mJ,cAAgB,MACzC,CAuFA,OAtFAtuJ,EAAa6tJ,EAAe,CAAC,CAC3B9tJ,IAAK,aACLe,MAAO,WACL,OAAOyC,KAAK6qJ,WACd,GACC,CACDruJ,IAAK,QACLe,MAAO,WAEL,IADA,IAAIytJ,EAAShrJ,KAAK8sD,aACXk+F,EAAOlpJ,YACZkpJ,EAAOhnJ,YAAYgnJ,EAAOlpJ,WAE9B,GACC,CACDtF,IAAK,UACLe,MAAO,SAAiB4C,EAAO+C,GAC7BlD,KAAK44B,OAASz4B,EACdH,KAAKuqJ,QAAUrnJ,EACflD,KAAKwqJ,WAAaxqJ,KAAK44B,OAAS,EAChC54B,KAAKyqJ,YAAczqJ,KAAKuqJ,QAAU,EAClCvqJ,KAAK6qJ,YAAY1mJ,MAAMhE,MAAQ,GAAGkL,OAAOlL,EAAO,MAChDH,KAAK6qJ,YAAY1mJ,MAAMjB,OAAS,GAAGmI,OAAOnI,EAAQ,KACpD,GACC,CACD1G,IAAK,gBACLe,MAAO,SAAuBuV,EAAQ8+C,EAAQ0/B,GAC5C,SAAS25D,EAAepjJ,EAAGo2C,EAAGt+C,GAG5B,OAFA0qJ,GAAUa,OAAOrjJ,GACjBwiJ,GAAUz6H,KAAKquB,EAAGt+C,GACX,IAAI0L,OAAOg/I,GAAUc,eAC9B,CACA,SAASC,EAAWvjJ,GAElB,OADAwiJ,GAAUa,OAAOrjJ,GACV,IAAIwD,OAAOg/I,GAAUc,eAC9B,CACA,GAAIr4I,aAAkB25C,GAAa,CAEjC,GADAzsD,KAAK0qJ,QAAQW,sBAAsBv4I,EAAOk8C,kBAClB/qD,IAApB6O,EAAOq3E,eAAqDlmF,IAA3B6O,EAAOq3E,SAAStqD,OAAsB,CACzE,IAAIyrH,EAAc,IAAI,MAAQx4I,EAAOq3E,SAAStqD,OAAOp9B,EAAGqQ,EAAOq3E,SAAStqD,OAAOn9B,EAAG,GAClF1C,KAAK0qJ,QAAQ76G,IAAIy7G,EAAYrgI,eAAenY,EAAOk8C,YAAYu8F,qBACjE,CACAvrJ,KAAK0qJ,QAAQvhH,aAAanpC,KAAK2qJ,aAC/B,IAAIv3D,EAAapzF,KAAK0qJ,QAAQh7H,GAAKkiC,EAAOU,KAAO,SAAW,UACxDzxD,EAAS,KAAS+wD,EAAOa,MAAOzyD,KAAK0qJ,QAAQh7H,IAAMkiC,EAAOa,IAAMb,EAAOU,MACvEvsD,EAAU+M,EAAOg6C,aACrB,QAAyB,IAAdwkC,EAAMt0E,IACfjX,EAAQ5B,MAAM5D,MAAQ6qJ,EAAWt4I,EAAOq3E,SAAS5pF,OACd,gBAA/BuS,EAAOq3E,SAAShnF,aAClB4C,EAAQ5B,MAAMhB,WAAaioJ,EAAWt4I,EAAOq3E,SAAShnF,iBAEnD,CACL,IAAIqoJ,EAAY,MAAUC,YAAYzrJ,KAAK0qJ,QAAQh7H,EAAG4hE,EAAMt0E,IAAIs1C,KAAMg/B,EAAMt0E,IAAIy1C,KAChF1sD,EAAQ5B,MAAM5D,MAAQ0qJ,EAAen4I,EAAOq3E,SAAS5pF,MAAO+wF,EAAMt0E,IAAIzc,MAAOirJ,GAC1C,gBAA/B14I,EAAOq3E,SAAShnF,aAClB4C,EAAQ5B,MAAMhB,WAAa8nJ,EAAen4I,EAAOq3E,SAAShnF,WAAYmuF,EAAMt0E,IAAIzc,MAAOirJ,GAE3F,CACAxrJ,KAAK0qJ,QAAQvhH,aAAanpC,KAAK4qJ,mBAC/B,IAAIzmJ,EAAQ,GAAGkH,OAAOyH,EAAOq3E,WAAa,CAAC,EAAIr3E,EAAOq3E,SAASC,YAAc,yBAA0B,cAAc/+E,OAAOrL,KAAK0qJ,QAAQjoJ,EAAIzC,KAAKwqJ,WAAaxqJ,KAAKwqJ,WAAY,OAAOn/I,QAAQrL,KAAK0qJ,QAAQhoJ,EAAI1C,KAAKyqJ,YAAczqJ,KAAKyqJ,YAAa,OACrP1kJ,EAAQ5B,MAAMivF,WAAaA,EAC3BrtF,EAAQ5B,MAAMunJ,gBAAkBvnJ,EAChC4B,EAAQ5B,MAAMwnJ,aAAexnJ,EAC7B4B,EAAQ5B,MAAMynJ,WAAaznJ,EAC3B4B,EAAQ5B,MAAMvC,UAAYuC,EAC1B4B,EAAQ5B,MAAMtD,OAAS+f,OAAO/f,GAAQs+I,QAAQ,GAC1Cp5I,EAAQhC,aAAe/D,KAAK6qJ,aAC9B7qJ,KAAK6qJ,YAAYpnJ,YAAYsC,EAEjC,CACA,IAAK,IAAI/J,EAAI,EAAGomB,EAAItP,EAAO06C,SAASvxD,OAAQD,EAAIomB,EAAGpmB,IACjDgE,KAAK6rJ,cAAc/4I,EAAO06C,SAASxxD,GAAI41D,EAAQ0/B,EAEnD,GACC,CACD90F,IAAK,SACLe,MAAO,SAAgB+zF,EAAO1/B,GAC5B0/B,EAAMxiC,oBACgB,OAAlB8C,EAAO/C,QACT+C,EAAO9C,oBAET8C,EAAOW,mBAAmBlhD,KAAKugD,EAAO5C,aAAaC,SACnDjvD,KAAK2qJ,YAAYt5I,KAAKugD,EAAOW,oBAC7BvyD,KAAK4qJ,kBAAkBv5I,KAAKugD,EAAO+hC,kBACnC3zF,KAAK6rJ,cAAcv6D,EAAO1/B,EAAQ0/B,EACpC,KAEKg5D,CACT,CAxGoB,GA8GhBwB,IACK,EAOLn9F,GAAa,IAAI,MACjBo9F,GAAU,IAAI,MAClB,SAASC,GAAc1vI,EAASs1C,EAAQ2tD,EAAO58F,GAC7C3iB,KAAKsc,QAAUA,EACf,IAAIsG,EAAWlkB,EAAe4d,EAAS,GACvCtc,KAAK8S,OAAS8P,EAAS,GACvB5iB,KAAK4xD,OAASA,EACd5xD,KAAKu/G,MAAQA,EACbv/G,KAAK4tE,KAAO,IAAI,MAAQ,EAAG,EAAG,GAC9B5tE,KAAK2iB,QAAUA,EACf3iB,KAAKisJ,aAAe,CAClBr+E,KAAM,IAAI,MACVxc,MAAO,EAEX,CAgIA,SAAS86F,GAAep5I,EAAQq5I,EAAav6F,EAAQ1rD,EAAYkmJ,GAC/D1jJ,EAAgBhL,KAAKsC,MACrB,IAAInD,EAAOmD,KACXA,KAAK8S,OAASA,EACd9S,KAAKmsJ,YAAcA,EACnBnsJ,KAAK4xD,OAASA,EACd5xD,KAAKkG,gBAAmC,IAAfA,EAA6BA,EAAa1E,SACnExB,KAAKosJ,UAAYA,EACjBpsJ,KAAKyM,SAAU,EACfzM,KAAKqsJ,gBAAiB,EACtBrsJ,KAAKssJ,OAAS,CACZtrJ,KAAM,EACND,IAAK,EACLZ,MAAO,EACP+C,OAAQ,GAEVlD,KAAK2iB,QAAU,CACb4pI,aAAcvqJ,KAAK2C,GACnB6nJ,iBAAkB,EAAIxqJ,KAAK2C,GAC3B8nJ,UAAU,EACVC,qBAAsB,GACtBC,kBAAmB,MAErB3sJ,KAAK4sJ,OAASd,GACd9rJ,KAAK6sJ,cAAgB,IAAI,MACzB7sJ,KAAK8sJ,aAAe,IAAI,MACxB9sJ,KAAK+sJ,SAAW,IAAIf,GAAc,CAAChsJ,KAAK8S,QAAS9S,KAAK4xD,OAAQ,IAAI,MAAQ,EAAG,EAAG,GAAI5xD,KAAK2iB,SACzF3iB,KAAKgtJ,QAAU,IAAIhB,GAAc,CAAChsJ,KAAK8S,QAAS9S,KAAK4xD,OAAQ,IAAI,MAAQ,EAAG,EAAG,GAAI5xD,KAAK2iB,SACxF3iB,KAAKitJ,aAAejtJ,KAAK+sJ,SACzB/sJ,KAAKktJ,8BAA+B,EACpCltJ,KAAKmtJ,uBAAwB,EAC7BntJ,KAAKotJ,uBAAwB,EAC7BptJ,KAAKqtJ,aAAe,GACpBrtJ,KAAKstJ,OAAS,IAAIxoJ,EAClB9E,KAAKstJ,OAAO33I,QACZ3V,KAAKutJ,gBAAkBvtJ,KAAKstJ,OAAOloJ,iBACnCpF,KAAKwtJ,WAAa,CAAC,CACjBpyJ,IAAKyB,EAAKqJ,WACV2C,KAAM,YACNS,QAAS,SAAiB3B,GACxB9K,EAAK4wJ,UAAU9lJ,EACjB,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,UACNS,QAAS,SAAiB3B,GACxB9K,EAAK6wJ,QAAQ/lJ,EACf,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,YACNS,QAAS,SAAiB3B,GACxB9K,EAAK8wJ,UAAUhmJ,EACjB,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,aACNS,QAAS,SAAiB3B,GACxB9K,EAAK+wJ,WAAWjmJ,EAClB,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,iBACNS,QAAS,SAAiB3B,GACxB9K,EAAK+wJ,WAAWjmJ,EAClB,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,WACNS,QAAS,SAAiB3B,GACxB9K,EAAK6wJ,QAAQ/lJ,EACf,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,aACNS,QAAS,SAAiB3B,GACxB9K,EAAKgxJ,cAAclmJ,EACrB,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,WACNS,QAAS,SAAiB3B,GACxB9K,EAAKgxJ,cAAclmJ,EACrB,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,YACNS,QAAS,SAAiB3B,GACxB9K,EAAKixJ,UAAUnmJ,EACjB,GACC,CACDvM,IAAKyB,EAAKkxJ,mBACVllJ,KAAM,UACNS,QAAS,SAAiB3B,GACxB9K,EAAKmxJ,UAAUrmJ,EACjB,GACC,CACDvM,IAAKyB,EAAKkxJ,mBACVllJ,KAAM,QACNS,QAAS,SAAiB3B,GACxB9K,EAAKmxJ,UAAUrmJ,EACjB,GACC,CACDvM,IAAKoK,OACLqD,KAAM,SACNS,QAAS,WACPzM,EAAKoxJ,cACP,GACC,CACD7yJ,IAAKoK,OACLqD,KAAM,OACNS,QAAS,WACPzM,EAAKqxJ,WACP,GACC,CACD9yJ,IAAKyB,EAAKqJ,WACV2C,KAAM,cACNS,QAAS,SAAiB3B,GACxB9K,EAAKsxJ,YAAYxmJ,EACnB,IAEF,IAAK,IAAI3L,EAAI,EAAGA,EAAIgE,KAAKwtJ,WAAWvxJ,OAAQD,IAAK,CAC/C,IAAIomB,EAAIpiB,KAAKwtJ,WAAWxxJ,GACxBomB,EAAEhnB,IAAIwN,iBAAiBwZ,EAAEvZ,KAAMuZ,EAAE9Y,QACnC,CACAtJ,KAAKiuJ,eACLjuJ,KAAKkuJ,YACLluJ,KAAKqF,QACP,CA4WA,SAAS+oJ,GAAOl8F,EAAQN,EAAQ1rD,GAC9BwC,EAAgBhL,KAAKsC,MACrB,IAAInD,EAAOmD,KACXA,KAAKkyD,OAASA,EACdlyD,KAAK4xD,OAASA,EACd5xD,KAAKkG,gBAAmC,IAAfA,EAA6BA,EAAa1E,SACnExB,KAAKssJ,OAAS,CACZtrJ,KAAM,EACND,IAAK,EACLZ,MAAO,EACP+C,OAAQ,GAEVlD,KAAKquJ,cAAgB,IAAI,MAAQ,EAAG,GACpCruJ,KAAKsuJ,gBAAkB,EACvBtuJ,KAAKuuJ,qBAAuB,IAC5BvuJ,KAAKwuJ,cAAgB,IAAI,MAAQ,EAAG,GACpCxuJ,KAAKyuJ,gBAAkB,EACvBzuJ,KAAKstJ,OAAS,IAAIxoJ,EAClB9E,KAAKstJ,OAAO33I,QACZ3V,KAAKwtJ,WAAa,CAAC,CACjBpyJ,IAAKyB,EAAKqJ,WACV2C,KAAM,YACNS,QAAS,SAAiB3B,GACxB9K,EAAK4wJ,UAAU9lJ,EACjB,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,UACNS,QAAS,SAAiB3B,GACxB9K,EAAK6wJ,QAAQ/lJ,EACf,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,YACNS,QAAS,SAAiB3B,GACxB9K,EAAK8wJ,UAAUhmJ,EACjB,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,aACNS,QAAS,SAAiB3B,GACxB9K,EAAK6xJ,WAAW/mJ,EAClB,GACC,CACDvM,IAAKyB,EAAKqJ,WACV2C,KAAM,WACNS,QAAS,SAAiB3B,GACxB9K,EAAK8xJ,SAAShnJ,EAChB,GACC,CACDvM,IAAKoK,OACLqD,KAAM,SACNS,QAAS,WACPzM,EAAKoxJ,cACP,IAEF,IAAK,IAAIjyJ,EAAI,EAAGA,EAAIgE,KAAKwtJ,WAAWvxJ,OAAQD,IAAK,CAC/C,IAAIomB,EAAIpiB,KAAKwtJ,WAAWxxJ,GACxBomB,EAAEhnB,IAAIwN,iBAAiBwZ,EAAEvZ,KAAMuZ,EAAE9Y,QACnC,CACAtJ,KAAKiuJ,cACP,CAxqBAjC,GAAcxwJ,UAAUozJ,QAAU,WAChC,IAAI3xJ,EAAI,IAAI,MACRwhI,EAAI,IAAI,MACR7+H,EAAI,IAAI,MACRujB,EAAI,IAAI,MACZ,OAAO,SAAU+mI,GACf,IAAI2E,EAA6B,IAAjB7uJ,KAAKu/G,MAAM98G,GAA8B,IAAjBzC,KAAKu/G,MAAM78G,GAA8B,IAAjB1C,KAAKu/G,MAAM7vF,EAU3E,GATAvM,EAAE9R,KAAKrR,KAAK8S,OAAOy2B,QACfslH,EACF1rI,EAAE+rC,SAAS68F,GAAQ+C,2BAA2B5E,KAE9C/mI,EAAE+rC,SAAS68F,GAAQnrC,gBAAgB5gH,KAAKu/G,MAAM98G,EAAGzC,KAAKu/G,MAAM78G,EAAG1C,KAAKu/G,MAAM7vF,IAC1EvM,EAAE+rC,SAAS68F,GAAQ+C,2BAA2B5E,IAC9C/mI,EAAE+rC,SAAS68F,GAAQnrC,iBAAiB5gH,KAAKu/G,MAAM98G,GAAIzC,KAAKu/G,MAAM78G,GAAI1C,KAAKu/G,MAAM7vF,KAE/EvM,EAAEgsC,UAAUlyD,EAAGwhI,EAAG7+H,IACbivJ,EACH,IAAK,IAAI7yJ,EAAI,EAAGA,EAAIgE,KAAKsc,QAAQrgB,SAAUD,EACzCgE,KAAKsc,QAAQtgB,GAAGkF,SAASmQ,KAAKpU,GAGlC,IAAK,IAAIwX,EAAI,EAAGA,EAAIzU,KAAKsc,QAAQrgB,SAAUwY,EACzCzU,KAAKsc,QAAQ7H,GAAGk6C,WAAWt9C,KAAKotH,GAChCz+H,KAAKsc,QAAQ7H,GAAGurG,cAEpB,CACF,CA1BkC,GA2BlCgsC,GAAcxwJ,UAAUuzJ,WAAa,SAAUzyI,GAC7Ctc,KAAKsc,QAAUA,EACf,IAAI0yI,EAAYtwJ,EAAe4d,EAAS,GACxCtc,KAAK8S,OAASk8I,EAAU,EAC1B,EACAhD,GAAcxwJ,UAAUkF,QAClBkpJ,GAAM,CACRh8E,KAAM,IAAI,MACVxc,MAAO,GAEF,SAAU84F,EAAM+E,EAAcC,EAAaC,GAChDnvJ,KAAKovJ,eAAexF,GAAKqF,EAAcC,EAAaC,GACpDjF,EAAKmF,iBAAiBzF,GAAIh8E,KAAMg8E,GAAIx4F,OAChCw4F,GAAIx4F,OACNpxD,KAAK4uJ,QAAQ1E,GAEflqJ,KAAKisJ,aAAerC,EACtB,GAEFoC,GAAcxwJ,UAAU8zJ,WAClBh9G,GAAM,IAAI,MACVitE,GAAQ,IAAI,MACT,SAAUj6G,GACfgtC,GAAIhqC,IAAIhD,EAAM7C,EAAIzC,KAAK4xD,OAAO+hC,iBAAiB3jC,SAAS,GAAI1qD,EAAM5C,EAAI1C,KAAK4xD,OAAO+hC,iBAAiB3jC,SAAS,GAAI,GAChH,IAAInZ,EAAOvE,GAAIr2C,SACfq2C,GAAI5mB,YACJ4mB,GAAIyuE,mBAAmBgrC,GAAQ16I,KAAKrR,KAAK8S,OAAOk8C,aAAaC,UAC7DswD,GAAMluG,KAAKrR,KAAKu/G,OAChBv/G,KAAK8S,OAAO+/E,aAAa0sB,IACzB1oE,GAAQ70C,KAAKitB,IAAIswF,GAAM7vF,EAAI1vB,KAAK4xD,OAAO1wD,SAASwuB,GAChDmnB,GAAQ72C,KAAK8S,OAAOk8C,YAAYu8F,oBAChC,IAAK,IAAIvvJ,EAAI,EAAGA,EAAIgE,KAAKsc,QAAQrgB,SAAUD,EACzCgE,KAAKsc,QAAQtgB,GAAGuzJ,gBAAgBj9G,GAAKuE,EAEzC,GAEFm1G,GAAcxwJ,UAAU6J,QAClBuoE,GAAO,IAAI,MACR,SAAU4hF,EAAqBC,GACpC,GAAoC,IAAhCnvI,EAAWnb,IAAIwY,aAOjB,OANI2C,EAAWnb,IAAI2Y,uBAA6D,IAApC9d,KAAKisJ,aAAar+E,KAAK3xE,SACjE2xE,GAAKtlE,IAAI,EAAG,EAAG,GAAGy4G,mBAAmBgrC,GAAQ16I,KAAKrR,KAAK8S,OAAOk8C,aAAaC,UAE3E2e,GAAKv8D,KAAKrR,KAAKisJ,aAAar+E,MAE9B5tE,KAAK4uJ,QAAQjgG,GAAW0gG,iBAAiBzhF,GAAMttD,EAAWnb,IAAIwY,aAAe6xI,KACtE,EAET,GAAIxvJ,KAAK2iB,QAAQ8pI,UAAYzsJ,KAAKisJ,aAAa76F,MAAO,CACpD,IAAIA,EAAQpxD,KAAKisJ,aAAa76F,MAAQpvD,KAAK43I,IAAI,EAAM55I,KAAK2iB,QAAQ+pI,qBAAsB,GAAO+C,GAC/F,KAAIztJ,KAAKitB,IAAImiC,IAAUpxD,KAAK2iB,QAAQgqI,mBAIlC,OADA3sJ,KAAK4uJ,QAAQjgG,GAAW0gG,iBAAiBrvJ,KAAKisJ,aAAar+E,KAAMxc,KAC1D,EAHPpxD,KAAKisJ,aAAa76F,MAAQ,CAK9B,CACA,OAAO,CACT,GAEF46F,GAAcxwJ,UAAU8F,KAAO,WAC7BtB,KAAKisJ,aAAa76F,MAAQ,CAC5B,EACA46F,GAAcxwJ,UAAU4zJ,gBAClB9mH,GAAS,IAAI,MACb2rB,GAAM,IAAI,MACV41F,GAAe,IAAI,MACnBC,GAAoB,IAAI,MACxBC,GAA0B,IAAI,MAC9BC,GAAgB,IAAI,MACpBC,GAAa,IAAI,MACd,SAAUL,EAAK8F,EAAWC,EAAUR,GACzC,GAAIA,EACFvF,EAAIh8E,KAAKv8D,KAAKrR,KAAK4tE,MACnBg8E,EAAIx4F,MAAQpxD,KAAK2iB,QAAQ6pI,kBAAoBmD,EAASjtJ,EAAIgtJ,EAAUhtJ,OAC/D,CACLunJ,GAAW9kF,WAAWwqF,EAAUD,GAChC,IAAIt+F,EAAQ64F,GAAWhuJ,SACvB,GAAc,IAAVm1D,EACF,OAEF9oB,GAAOj3B,KAAKrR,KAAKu/G,OACjBv/G,KAAK8S,OAAO+/E,aAAavqD,IACzB2rB,GAAIkR,WAAWnlE,KAAK4xD,OAAO1wD,SAAUonC,IACrCuhH,GAAax4I,KAAK4iD,IAAKvoC,YACvBo+H,GAAkBz4I,KAAKrR,KAAK4xD,OAAOsC,IAAIxoC,YACvCq+H,GAAwBv+H,aAAas+H,GAAmBD,IAAcn+H,YACtEo+H,GAAkB8F,UAAU3F,GAAWvnJ,GACvCqnJ,GAAwB6F,UAAU3F,GAAWxnJ,GAC7CunJ,GAAc34I,KAAKy4I,GAAkBj6G,IAAIk6G,KACzCH,EAAIh8E,KAAKpiD,aAAaw+H,GAAe/1F,IACrC21F,EAAIx4F,OAASA,EAAQpxD,KAAK2iB,QAAQ4pI,YACpC,CACA3C,EAAIh8E,KAAKmzC,mBAAmBgrC,GAAQ16I,KAAKrR,KAAK8S,OAAOk8C,aAAaC,UAC9D26F,EAAIx4F,MAAQ,IACdw4F,EAAIh8E,KAAKz+C,SACTy6H,EAAIx4F,OAASw4F,EAAIx4F,MAErB,GAmIF86F,GAAe1wJ,UAAYc,OAAOkB,OAAOkL,EAAgBlN,WACzD0wJ,GAAe1wJ,UAAUD,YAAc2wJ,GACvCA,GAAe1wJ,UAAU0yJ,UAAY,WACnCluJ,KAAKqtJ,aA9RO,KA8RiB,EAC7BrtJ,KAAKqtJ,aA9RK,KA8RiB,EAC3BrtJ,KAAKqtJ,aA9RQ,KA8RiB,EAC9BrtJ,KAAKqtJ,aA9RO,KA8RiB,CAC/B,EACAnB,GAAe1wJ,UAAU2yJ,YAAc,SAAUxmJ,GAC/CA,EAAEkoJ,kBACFloJ,EAAEmoJ,gBACJ,EACA5D,GAAe1wJ,UAAUyyJ,aAAe,WACtC,GAAIjuJ,KAAKkG,aAAe1E,SACtBxB,KAAKssJ,OAAOtrJ,KAAO,EACnBhB,KAAKssJ,OAAOvrJ,IAAM,EAClBf,KAAKssJ,OAAOnsJ,MAAQqF,OAAOuqJ,WAC3B/vJ,KAAKssJ,OAAOppJ,OAASsC,OAAOwqJ,gBACvB,CACL,IAAIj8G,EAAM/zC,KAAKkG,WAAW+pJ,wBACtBzuG,EAAIxhD,KAAKkG,WAAWgqJ,cAAcC,gBACtCnwJ,KAAKssJ,OAAOtrJ,KAAO+yC,EAAI/yC,KAAOwE,OAAO4qJ,YAAc5uG,EAAE6uG,WACrDrwJ,KAAKssJ,OAAOvrJ,IAAMgzC,EAAIhzC,IAAMyE,OAAO8qJ,YAAc9uG,EAAE+uG,UACnDvwJ,KAAKssJ,OAAOnsJ,MAAQ4zC,EAAI5zC,MACxBH,KAAKssJ,OAAOppJ,OAAS6wC,EAAI7wC,MAC3B,CACF,EACAgpJ,GAAe1wJ,UAAUkR,OAAS,SAAUA,GAC1C1M,KAAKyM,QAAUC,CACjB,EACAw/I,GAAe1wJ,UAAUg1J,cAAgB,SAAU9jJ,GACjD1M,KAAKqsJ,eAAiB3/I,CACxB,EACAw/I,GAAe1wJ,UAAUi1J,iBAAmB,SAAUC,GACpD1wJ,KAAKmtJ,sBAAwBuD,CAC/B,EACAxE,GAAe1wJ,UAAUm1J,wBAA0B,SAAUD,GAC3D1wJ,KAAKktJ,6BAA+BwD,CACtC,EACAxE,GAAe1wJ,UAAUo1J,iBAAmB,SAAU7pJ,GACpD/G,KAAKotJ,sBAAwBrmJ,CAC/B,EACAmlJ,GAAe1wJ,UAAUq1J,gBAAkB,WACzC,OAhUQ,IAgUA7wJ,KAAK4sJ,QA/TF,IA+T6B5sJ,KAAK4sJ,SAA+B5sJ,KAAKitJ,eAAiBjtJ,KAAKgtJ,OACzG,EACAd,GAAe1wJ,UAAUs1J,uBAAyB,SAAUlc,EAAQmc,EAAOC,GACzE,IAAIC,EAAajvJ,KAAKwY,IAAIxa,KAAKssJ,OAAOnsJ,MAAOH,KAAKssJ,OAAOppJ,QACtC,IAAf+tJ,EAIJrc,EAAOtsI,KAAKyoJ,EAA4B,GAApB/wJ,KAAKssJ,OAAOnsJ,MAAcH,KAAKssJ,OAAOtrJ,MAAQiwJ,GAAa,GAAMjxJ,KAAKssJ,OAAOppJ,OAASlD,KAAKssJ,OAAOvrJ,IAAMiwJ,GAASC,GAHnIrc,EAAOtsI,IAAI,EAAG,EAIlB,EACA4jJ,GAAe1wJ,UAAU01J,uBAAyB,SAAUtc,EAAQmc,EAAOC,GAC/C,IAAtBhxJ,KAAKssJ,OAAOnsJ,OAAsC,IAAvBH,KAAKssJ,OAAOppJ,OAI3C0xI,EAAOtsI,IAAI,GAAOyoJ,EAA4B,GAApB/wJ,KAAKssJ,OAAOnsJ,MAAcH,KAAKssJ,OAAOtrJ,MAAQhB,KAAKssJ,OAAOnsJ,MAAO,GAAO,GAAMH,KAAKssJ,OAAOppJ,OAASlD,KAAKssJ,OAAOvrJ,IAAMiwJ,GAAShxJ,KAAKssJ,OAAOppJ,QAHlK0xI,EAAOtsI,IAAI,EAAG,EAIlB,EACA4jJ,GAAe1wJ,UAAU8F,KAAO,WAC9BtB,KAAK+sJ,SAASzrJ,OACdtB,KAAKgtJ,QAAQ1rJ,MACf,EACA4qJ,GAAe1wJ,UAAU21J,eACnBjH,GAAO,IAAI,MACR,SAAUkH,GACfpxJ,KAAKitJ,aAAavsJ,OAAOwpJ,GAAMlqJ,KAAK6sJ,cAAe7sJ,KAAK8sJ,aAAcsE,GACtEpxJ,KAAK2J,cAAc,CACjBd,KAAM,SACN+a,OAAQ,SACR+qC,WAAYu7F,IAEhB,GAEFgC,GAAe1wJ,UAAUkF,OAAS,SAAUwpJ,GAC1ClqJ,KAAK8S,OAAO67C,WAAWO,SAASg7F,GAChClqJ,KAAK2J,cAAc,CACjBd,KAAM,SACN+a,OAAQ,SACR+qC,WAAYu7F,GAEhB,EACAgC,GAAe1wJ,UAAU61J,eAAiB,WACxC,OAAOrxJ,KAAK8S,OAAO67C,UACrB,EACAu9F,GAAe1wJ,UAAU81J,eAAiB,SAAUpH,GAClDlqJ,KAAK8S,OAAO67C,WAAWt9C,KAAK64I,EAC9B,EACAgC,GAAe1wJ,UAAU8zJ,WACnBhqJ,GAAQ,IAAI,MACT,WACLA,GAAM6/D,WAAWnlE,KAAK8sJ,aAAc9sJ,KAAK6sJ,eACzC7sJ,KAAKitJ,aAAaqC,UAAUhqJ,IAC5BtF,KAAK2J,cAAc,CACjBd,KAAM,SACN+a,OAAQ,aAEZ,GAEFsoI,GAAe1wJ,UAAU+1J,SAAW,WAClC,OAAOvxJ,KAAK8S,OAAOzS,MAAMoC,CAC3B,EACAypJ,GAAe1wJ,UAAUg2J,SAAW,SAAUnxJ,GAC5CL,KAAK8S,OAAOzS,MAAMiI,IAAIjI,EAAOA,EAAOA,EACtC,EACA6rJ,GAAe1wJ,UAAU6E,MAAQ,SAAU+Z,GACrCA,GAAU,IAGdpa,KAAKwxJ,SAASxxJ,KAAK8S,OAAOzS,MAAMoC,EAAI2X,GACpCpa,KAAK2J,cAAc,CACjBd,KAAM,SACN+a,OAAQ,OACRxJ,OAAQA,IAEZ,EACA8xI,GAAe1wJ,UAAU6J,QACnB8+F,GAAQ,IAAI,MACT,WACL,IAAIstD,EAAUzxJ,KAAKstJ,OAAOloJ,iBACtBoqJ,EAAsBiC,EAAUzxJ,KAAKutJ,gBACzC,GAAIvtJ,KAAK4sJ,SAAWd,GAAY,CAC9B,IAAI2D,EAAgBgC,EAAUzxJ,KAAK0xJ,oBAC/B1xJ,KAAK+sJ,SAAS1nJ,OAAOmqJ,EAAqBC,IAAkBzvJ,KAAKgtJ,QAAQ3nJ,OAAOmqJ,EAAqBC,KACvGzvJ,KAAK2J,cAAc,CACjBd,KAAM,SACN+a,OAAQ,QAGd,CACA,GAAI5jB,KAAKotJ,sBAAuB,CAC9B,IAAIuE,EAAS/wI,OAAO5gB,KAAKqtJ,aA7ZhB,KA6Z0CzsI,OAAO5gB,KAAKqtJ,aA/ZvD,KAgaJuE,EAAShxI,OAAO5gB,KAAKqtJ,aA/ZnB,KA+Z0CzsI,OAAO5gB,KAAKqtJ,aA7ZpD,KA8ZR,GAAe,IAAXsE,GAA6B,IAAXC,EAAgB,CACpC,IAAItsJ,EAAQkqJ,EACRqC,EAAS7xJ,KAAKosJ,YACdyF,EAAOv1I,QAAQrgB,OAAS,IAC1B+D,KAAKgtJ,QAAQ+B,WAAW8C,EAAOv1I,SAC/Btc,KAAKgtJ,QAAQztC,MAAQsyC,EAAOtyC,MACxB,SAAUsyC,EACZ7xJ,KAAKgtJ,QAAQp/E,KAAOikF,EAAOjkF,KAAKpjD,QAEhCxqB,KAAKgtJ,QAAQp/E,KAAKtlE,IAAI,EAAG,EAAG,GAE9B67F,GAAM77F,IAAIhD,EAAQqsJ,EAAQrsJ,EAAQssJ,GAClC5xJ,KAAKgtJ,QAAQsC,UAAUnrD,IACvBnkG,KAAK2J,cAAc,CACjBd,KAAM,SACN+a,OAAQ,cAGd,CACF,CACA5jB,KAAKutJ,gBAAkBkE,CACzB,GAEFvF,GAAe1wJ,UAAU2jB,MAAQ,WAC/Bnf,KAAK4sJ,OAASd,GACd9rJ,KAAK8S,OAAO67C,WAAWt9C,KAAKs9C,GAAWrmD,IAAI,EAAG,EAAG,EAAG,GACtD,EACA4jJ,GAAe1wJ,UAAUiyJ,UAAY,SAAU7jJ,GAC7C,IAAqB,IAAjB5J,KAAKyM,SAAqBzM,KAAK4sJ,SAAWd,GAA9C,CAKA,GAFAliJ,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACF7vJ,KAAK4sJ,SAAWd,GAClB,GAAqB,IAAjBliJ,EAAMkoJ,OAAc,CACtB9xJ,KAAKitJ,aAAa3rJ,OAClB,IAAIywJ,GAAiB,EACrB,GAAInoJ,EAAMooJ,OAAQ,CAChB,IAAIH,EAAS7xJ,KAAKosJ,aAClB2F,EAAiBF,EAAOv1I,QAAQrgB,OAAS,KAEvC+D,KAAKgtJ,QAAQ+B,WAAW8C,EAAOv1I,SAC/Btc,KAAKgtJ,QAAQztC,MAAQsyC,EAAOtyC,MACxB,SAAUsyC,EACZ7xJ,KAAKgtJ,QAAQp/E,KAAOikF,EAAOjkF,KAAKpjD,QAEhCxqB,KAAKgtJ,QAAQp/E,KAAKtlE,IAAI,EAAG,EAAG,GAGlC,CACAtI,KAAKitJ,aAAe8E,EAAiB/xJ,KAAKgtJ,QAAUhtJ,KAAK+sJ,SACzD/sJ,KAAK4sJ,OAASmF,GAAkBnoJ,EAAMqoJ,SAAWjyJ,KAAKmtJ,sBA7c/C,EADH,CA+cN,MAA4B,IAAjBvjJ,EAAMkoJ,SACf9xJ,KAAK4sJ,OA7cQ,GAHT,IAmdJ5sJ,KAAK4sJ,SACP5sJ,KAAK8wJ,uBAAuB9wJ,KAAK8sJ,aAAcljJ,EAAMmnJ,MAAOnnJ,EAAMonJ,OAClEhxJ,KAAK6sJ,cAAcx7I,KAAKrR,KAAK8sJ,eApdpB,IAsdP9sJ,KAAK4sJ,QApdQ,IAodsB5sJ,KAAK4sJ,SAC1C5sJ,KAAKkxJ,uBAAuBlxJ,KAAK8sJ,aAAcljJ,EAAMmnJ,MAAOnnJ,EAAMonJ,OAClEhxJ,KAAK6sJ,cAAcx7I,KAAKrR,KAAK8sJ,cAhC/B,CAkCF,EACAZ,GAAe1wJ,UAAUmyJ,UAAY,SAAU/jJ,GAC7C,IAAqB,IAAjB5J,KAAKyM,SAAqBzM,KAAK4sJ,SAAWd,GAK9C,OAFAliJ,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACE7vJ,KAAK4sJ,QACX,KAneM,EAoeJ5sJ,KAAK6sJ,cAAcx7I,KAAKrR,KAAK8sJ,cAC7B9sJ,KAAK8wJ,uBAAuB9wJ,KAAK8sJ,aAAcljJ,EAAMmnJ,MAAOnnJ,EAAMonJ,OAClEhxJ,KAAKmxJ,cAAcvnJ,EAAMooJ,SAAWhyJ,KAAKktJ,8BAAgCtjJ,EAAMsoJ,UAC/ElyJ,KAAK0xJ,mBAAqB1xJ,KAAKstJ,OAAOloJ,iBACtC,MACF,KAxeS,EAyePpF,KAAK6sJ,cAAcx7I,KAAKrR,KAAK8sJ,cAC7B9sJ,KAAKkxJ,uBAAuBlxJ,KAAK8sJ,aAAcljJ,EAAMmnJ,MAAOnnJ,EAAMonJ,OAClEhxJ,KAAKsvJ,YACL,MACF,KA3ee,EA4ebtvJ,KAAK6sJ,cAAcx7I,KAAKrR,KAAK8sJ,cAC7B9sJ,KAAKkxJ,uBAAuBlxJ,KAAK8sJ,aAAcljJ,EAAMmnJ,MAAOnnJ,EAAMonJ,OAClEhxJ,KAAKmyJ,wBAGX,EACAjG,GAAe1wJ,UAAUoyJ,WAAa,SAAUhkJ,GAC9C,IAAqB,IAAjB5J,KAAKyM,SAAsB6T,EAAWnb,IAAI4Y,SAAW/d,KAAK4sJ,SAAWd,KAAcliJ,EAAMsoJ,SAA7F,CAGAtoJ,EAAMkmJ,iBACN,IAAIxqJ,EAAQ,EACRsE,EAAMwoJ,WACR9sJ,EAAQsE,EAAMwoJ,WAAa,GAClBxoJ,EAAMyoJ,SACf/sJ,GAASsE,EAAMyoJ,OAAS,GAE1B,IAAIj4I,EAAS,EAAc,IAAR9U,EACnB8U,EAASpY,KAAK8M,IAAIsL,EAAQ,KAC1Bpa,KAAKK,MAAM+Z,EAVX,CAWF,EACA8xI,GAAe1wJ,UAAUkyJ,QAAU,SAAU9jJ,IACtB,IAAjB5J,KAAKyM,SAAqBzM,KAAK4sJ,SAAWd,KAG9CliJ,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACN7vJ,KAAK4sJ,OAASd,GACV9rJ,KAAKstJ,OAAOloJ,iBAAmBpF,KAAK0xJ,mBAtgBhB,IAugBtB1xJ,KAAKitJ,aAAa3rJ,OAEtB,EACA4qJ,GAAe1wJ,UAAUqyJ,cAAgB,SAAUjkJ,GACjD,IAAqB,IAAjB5J,KAAKyM,QAKT,OAFA7C,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACEjmJ,EAAM0oJ,QAAQr2J,QACpB,KAAK,EACH+D,KAAK4sJ,OAvhBD,EAwhBJ5sJ,KAAK8wJ,uBAAuB9wJ,KAAK8sJ,aAAcljJ,EAAM0oJ,QAAQ,GAAGvB,MAAOnnJ,EAAM0oJ,QAAQ,GAAGtB,OACxFhxJ,KAAK6sJ,cAAcx7I,KAAKrR,KAAK8sJ,cAC7B,MACF,KAAK,EAED9sJ,KAAK+sJ,SAASzrJ,OACdtB,KAAKgtJ,QAAQ1rJ,OACbtB,KAAK4sJ,OA7hBJ,EA8hBD,IAAI3zI,EAAKrP,EAAM0oJ,QAAQ,GAAGvB,MAAQnnJ,EAAM0oJ,QAAQ,GAAGvB,MAC/C73I,EAAKtP,EAAM0oJ,QAAQ,GAAGtB,MAAQpnJ,EAAM0oJ,QAAQ,GAAGtB,MACnDhxJ,KAAKuyJ,kBAAoBvyJ,KAAKwyJ,oBAAsBxwJ,KAAK0mC,KAAKzvB,EAAKA,EAAKC,EAAKA,GAC7ElZ,KAAKyyJ,YAAczyJ,KAAK8S,OAAOzS,MAAMoC,EACrC,MAEJ,QACEzC,KAAK4sJ,OAASd,GAEpB,EACAI,GAAe1wJ,UAAUsyJ,UAAY,SAAUlkJ,GAC7C,IAAqB,IAAjB5J,KAAKyM,SAAqBzM,KAAK4sJ,SAAWd,GAK9C,OAFAliJ,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACE7vJ,KAAK4sJ,QACX,KAjjBM,EAkjBJ5sJ,KAAK6sJ,cAAcx7I,KAAKrR,KAAK8sJ,cAC7B9sJ,KAAK8wJ,uBAAuB9wJ,KAAK8sJ,aAAcljJ,EAAM0oJ,QAAQ,GAAGvB,MAAOnnJ,EAAM0oJ,QAAQ,GAAGtB,OACxFhxJ,KAAKmxJ,eAAc,GACnBnxJ,KAAK0xJ,mBAAqB1xJ,KAAKstJ,OAAOloJ,iBACtC,MACF,KArjBK,EAsjBH,GAAIkb,EAAWnb,IAAI4Y,QAAS,CAC1B,IAAI9E,EAAKrP,EAAM0oJ,QAAQ,GAAGvB,MAAQnnJ,EAAM0oJ,QAAQ,GAAGvB,MAC/C73I,EAAKtP,EAAM0oJ,QAAQ,GAAGtB,MAAQpnJ,EAAM0oJ,QAAQ,GAAGtB,MACnDhxJ,KAAKuyJ,kBAAoBvwJ,KAAK0mC,KAAKzvB,EAAKA,EAAKC,EAAKA,GAClD,IACIkB,EADWpa,KAAKyyJ,YAAczyJ,KAAKuyJ,kBAAoBvyJ,KAAKwyJ,oBACxCxyJ,KAAK8S,OAAOzS,MAAMoC,EAC1CzC,KAAKK,MAAM+Z,EACb,EAGN,EACA8xI,GAAe1wJ,UAAUwyJ,UAAY,SAAUpkJ,GAC7C,IAAqB,IAAjB5J,KAAKyM,UAA6C,IAAxBzM,KAAKqsJ,eAGnC,OAAQziJ,EAAM8oJ,SACZ,KA9kBU,GA+kBV,KA9kBQ,GA+kBR,KA9kBW,GA+kBX,KA9kBU,GA+kBR1yJ,KAAKqtJ,aAAazjJ,EAAM8oJ,SAA0B,YAAf9oJ,EAAMf,KACzCe,EAAMkmJ,iBACNlmJ,EAAMimJ,kBAGZ,EACA3D,GAAe1wJ,UAAUuyJ,iBAAmB,WAC1C,OAAOvoJ,OAAOzE,GAChB,EACAmrJ,GAAe1wJ,UAAUq1D,QAAU,WACjC,IAAK,IAAI70D,EAAI,EAAGA,EAAIgE,KAAKwtJ,WAAWvxJ,OAAQD,IAAK,CAC/C,IAAIomB,EAAIpiB,KAAKwtJ,WAAWxxJ,GACxBomB,EAAEhnB,IAAIgO,oBAAoBgZ,EAAEvZ,KAAMuZ,EAAE9Y,QACtC,CACF,EACA4iJ,GAAe1wJ,UAAU22J,sBAAwB,WAC/C,IAAI7sJ,EAAQ,IAAI,MAChB,OAAO,WACLA,EAAM6/D,WAAWnlE,KAAK8sJ,aAAc9sJ,KAAK6sJ,eACzC7sJ,KAAK2yJ,sBAAsBryI,EAAWnb,IAAIqZ,iBAAmBlZ,EAAM7C,EAAG6d,EAAWnb,IAAIqZ,iBAAmBlZ,EAAM5C,EAAG,EACnH,CACF,CANiD,GAOjDwpJ,GAAe1wJ,UAAUm3J,sBAAwB,SAAUlwJ,EAAGC,EAAGgtB,GAC/D,IAAI6Y,EAAMvoC,KAAKmsJ,YAAYjrJ,SAC3BqnC,EAAIY,aAAanpC,KAAK8S,OAAOk8C,aAC7BzmB,EAAIqqH,KAAKrqH,EAAI9lC,EAAIA,GACjB8lC,EAAIsqH,KAAKtqH,EAAI7lC,EAAIA,GACjB6lC,EAAIuqH,KAAKvqH,EAAI7Y,EAAIA,GACjB6Y,EAAIY,aAAa4iH,GAAQ16I,KAAKrR,KAAK8S,OAAOk8C,aAAaC,UACvDjvD,KAAK2J,cAAc,CACjBd,KAAM,SACN+a,OAAQ,kBAEZ,EACAsoI,GAAe1wJ,UAAUu3J,eAAiB,SAAUtwJ,EAAGC,EAAGgtB,GACxD,IAAI6Y,EAAMvoC,KAAKmsJ,YAAYjrJ,SAC3BqnC,EAAIqqH,KAAKrqH,EAAI9lC,EAAIA,GACjB8lC,EAAIsqH,KAAKtqH,EAAI7lC,EAAIA,GACjB6lC,EAAIuqH,KAAKvqH,EAAI7Y,EAAIA,GACjB1vB,KAAK2J,cAAc,CACjBd,KAAM,SACN+a,OAAQ,kBAEZ,EACAsoI,GAAe1wJ,UAAUw3J,SAAW,SAAUC,GAC5CjzJ,KAAKmsJ,YAAYjrJ,SAASmQ,KAAK4hJ,GAC/BjzJ,KAAK2J,cAAc,CACjBd,KAAM,SACN+a,OAAQ,kBAEZ,EAgEAwqI,GAAO5yJ,UAAYc,OAAOkB,OAAOkL,EAAgBlN,WACjD4yJ,GAAO5yJ,UAAUD,YAAc6yJ,GAC/BA,GAAO5yJ,UAAU2jB,MAAQ,WACvBnf,KAAKkzJ,OAAS,CAAC,EACflzJ,KAAK2J,cAAc,CACjBd,KAAM,UACNzN,IAAK,CAAC,GAEV,EACAgzJ,GAAO5yJ,UAAUyyJ,aAAe,WAC9B,GAAIjuJ,KAAKkG,aAAe1E,SACtBxB,KAAKssJ,OAAOtrJ,KAAO,EACnBhB,KAAKssJ,OAAOvrJ,IAAM,EAClBf,KAAKssJ,OAAOnsJ,MAAQqF,OAAOuqJ,WAC3B/vJ,KAAKssJ,OAAOppJ,OAASsC,OAAOwqJ,gBACvB,CACL,IAAIj8G,EAAM/zC,KAAKkG,WAAW+pJ,wBACtBzuG,EAAIxhD,KAAKkG,WAAWgqJ,cAAcC,gBACtCnwJ,KAAKssJ,OAAOtrJ,KAAO+yC,EAAI/yC,KAAOwE,OAAO4qJ,YAAc5uG,EAAE6uG,WACrDrwJ,KAAKssJ,OAAOvrJ,IAAMgzC,EAAIhzC,IAAMyE,OAAO8qJ,YAAc9uG,EAAE+uG,UACnDvwJ,KAAKssJ,OAAOnsJ,MAAQ4zC,EAAI5zC,MACxBH,KAAKssJ,OAAOppJ,OAAS6wC,EAAI7wC,MAC3B,CACF,EACAkrJ,GAAO5yJ,UAAU23J,WAAa,SAAUC,GACtC,IAAKpzJ,KAAKkyD,OAMR,OALAlyD,KAAKkzJ,OAAS,CAAC,OACflzJ,KAAK2J,cAAc,CACjBd,KAAM,UACNzN,IAAK,CAAC,IAIV,IAAI82D,EAASlyD,KAAKkyD,OACdmhG,EAAY,IAAI,MACpBA,EAAU76F,IAAIG,OAAO0yF,sBAAsBrrJ,KAAK4xD,OAAO5C,aACvDqkG,EAAU76F,IAAI73D,UAAU2H,IAAI8qJ,EAAU3wJ,EAAG2wJ,EAAU1wJ,EAAG,IAAK4wJ,UAAUtzJ,KAAK4xD,QAAQlnC,IAAI2oI,EAAU76F,IAAIG,QAAQjtC,YAC5G,IAAI/O,EAAY2D,EAAWnb,IAAIuX,MAAMC,WAAa3c,KAAK2sF,eAAiB3sF,KAAK2sF,eAAiB39E,IAC1FmjD,EAAc7xC,EAAWnb,IAAI6X,KAAOhd,KAAKuzJ,YAAcvzJ,KAAKuzJ,YAAcvkJ,IAC1E8lC,EAAQu+G,EAAUphG,uBAAuBC,EAAQlyD,KAAK4xD,OAAQj1C,EAAWw1C,GAC7E,IAAKrd,EAMH,OALA90C,KAAKkzJ,OAAS,CAAC,OACflzJ,KAAK2J,cAAc,CACjBd,KAAM,UACNzN,IAAK,CAAC,IAIV,IAAI83J,EAAS,CAAC,EACd,GAAIp+G,EAAM5uB,SAAW4uB,EAAMz+B,KAAM,CAC/B,IAAI6P,EAAU4uB,EAAM5uB,SAAW4uB,EAAMz+B,KAAK6P,QACd,UAAxB5F,EAAWnb,IAAI8Y,KACjBi1I,EAAS,CACP5mI,MAAOpG,EAAQy4B,YAEgB,aAAxBr+B,EAAWnb,IAAI8Y,KACxBi1I,EAAS,CACP5sG,SAAUpgC,EAAQs9F,eAEX1uE,EAAM5uB,SAAmC,YAAxB5F,EAAWnb,IAAI8Y,KACzCi1I,EAAS,CACPhtI,QAASA,GAEF4uB,EAAMz+B,OACf68I,EAAS,CACP78I,KAAMy+B,EAAMz+B,MAGlB,CACArW,KAAKkzJ,OAASA,EACdlzJ,KAAK2J,cAAc,CACjBd,KAAM,UACNzN,IAAK83J,GAET,EACA9E,GAAO5yJ,UAAUg4J,mBAAqB,SAAUzC,EAAOC,GACrD,OAAO,IAAI,OAASD,EAAQ/wJ,KAAKssJ,OAAOtrJ,MAAQhB,KAAKssJ,OAAOnsJ,MAAQ,EAAI,IAAK6wJ,EAAQhxJ,KAAKssJ,OAAOvrJ,KAAOf,KAAKssJ,OAAOppJ,OAAS,EAAI,EACnI,EACAkrJ,GAAO5yJ,UAAUiyJ,UAAY,SAAU7jJ,GACrCA,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACe,IAAjBjmJ,EAAMkoJ,SACR9xJ,KAAKquJ,cAAgBruJ,KAAKwzJ,mBAAmB5pJ,EAAMmnJ,MAAOnnJ,EAAMonJ,OAChEhxJ,KAAKsuJ,gBAAkB,EACvBtuJ,KAAKyuJ,gBAAkBzuJ,KAAKstJ,OAAOloJ,iBAEvC,EACAgpJ,GAAO5yJ,UAAUmyJ,UAAY,SAAU/jJ,GACrCA,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACN,IAAItnH,EAAMvoC,KAAKwzJ,mBAAmB5pJ,EAAMmnJ,MAAOnnJ,EAAMonJ,OACrDhxJ,KAAKsuJ,iBAAmB/lH,EAAI7d,IAAI1qB,KAAKquJ,eAAepyJ,QACtD,EACAmyJ,GAAO5yJ,UAAUkyJ,QAAU,SAAU9jJ,GACnC,IAAI/M,EAAOmD,KAGX,GAFA4J,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACe,IAAjBjmJ,EAAMkoJ,QACJ9xJ,KAAKsuJ,gBAAkB,IAAM,CAC/B,IAAImD,EAAUzxJ,KAAKstJ,OAAOloJ,iBACtBquJ,EAASzzJ,KAAKwzJ,mBAAmB5pJ,EAAMmnJ,MAAOnnJ,EAAMonJ,OAExD,GAD8BS,EAAUzxJ,KAAKuuJ,oBACf,KACZ,IAAI,OAAUppF,WAAWsuF,EAAQzzJ,KAAKwuJ,eACxCvyJ,SAAW,IAOvB,OANA+D,KAAK2J,cAAc,CACjBd,KAAM,WACNzN,IAAK4E,KAAKkzJ,SAEZlzJ,KAAKwuJ,cAAgBiF,OACrBzzJ,KAAKuuJ,qBAAuB,KAIhCrqC,YAAW,WACTrnH,EAAKs2J,WAAWM,EAClB,GAAG,GACHzzJ,KAAKwuJ,cAAgBiF,EACrBzzJ,KAAKuuJ,oBAAsBvuJ,KAAKyuJ,eAClC,CAEJ,EACAL,GAAO5yJ,UAAUkzJ,WAAa,SAAU9kJ,GACtCA,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACuB,IAAzBjmJ,EAAM0oJ,QAAQr2J,SAChB+D,KAAK0zJ,kBAAoB1zJ,KAAKwzJ,mBAAmB5pJ,EAAM0oJ,QAAQ,GAAGvB,MAAOnnJ,EAAM0oJ,QAAQ,GAAGtB,OAE9F,EACA5C,GAAO5yJ,UAAUmzJ,SAAW,SAAU/kJ,GACpC,IAAI/M,EAAOmD,KACX4J,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACuB,IAAzBjmJ,EAAM0oJ,QAAQr2J,QAAgD,IAAhC2N,EAAM+pJ,eAAe13J,QAC3C+D,KAAKwzJ,mBAAmB5pJ,EAAM+pJ,eAAe,GAAG5C,MAAOnnJ,EAAM+pJ,eAAe,GAAG3C,OAC1EtmI,IAAI1qB,KAAK0zJ,mBAAmBz3J,SAChC,KACTioH,YAAW,WACTrnH,EAAKs2J,WAAWt2J,EAAK62J,kBACvB,GAAG,EAGT,EACAtF,GAAO5yJ,UAAUq1D,QAAU,WACzB,IAAK,IAAI70D,EAAI,EAAGA,EAAIgE,KAAKwtJ,WAAWvxJ,OAAQD,IAAK,CAC/C,IAAIomB,EAAIpiB,KAAKwtJ,WAAWxxJ,GACxBomB,EAAEhnB,IAAIgO,oBAAoBgZ,EAAEvZ,KAAMuZ,EAAE9Y,QACtC,CACF,EAEA,IAAIsqJ,GAAO,WACT,SAASA,EAAK93J,EAAQ+3J,GACpBp4J,EAAgBuE,KAAM4zJ,GACtB5zJ,KAAK8zJ,QAAUh4J,EACfkE,KAAK+zJ,cAAgBF,EACrB7zJ,KAAKyvD,QAAU,IAAI,MAAkBokG,EAAaviG,IAAKuiG,EAAaxiG,OAAQ,EAAG,KAC/ErxD,KAAKg0J,QAAU,IAAI,MAAW,GAC9Bh0J,KAAKuvD,OAAS,IAAI,MAClBvvD,KAAKuvD,OAAO1f,IAAI7vC,KAAKg0J,SACrBh0J,KAAKi0J,MAAQ,IAAI,MACjBj0J,KAAKwxF,SACP,CA4BA,OA3BA/0F,EAAam3J,EAAM,CAAC,CAClBp3J,IAAK,UACLe,MAAO,WACL,IAAI+zD,EAAMtxD,KAAK+zJ,cAAcziG,IACzBM,EAAS5xD,KAAKyvD,QAClBmC,EAAOP,OAASrxD,KAAK+zJ,cAAc1iG,OACnCO,EAAOT,cAAcG,GACrBM,EAAOI,iBAAiB,EAAKV,GAC7BM,EAAOG,yBACP/xD,KAAKg0J,QAAQrlG,WAAWt9C,KAAKrR,KAAK8zJ,QAAQnlG,WAC5C,GACC,CACDnyD,IAAK,SACLe,MAAO,SAAgB2tF,GACrBlrF,KAAKwxF,UACLtG,EAASh3C,QAAQl0C,KAAKi0J,OACtB,IAAI9zJ,EAA2B,IAAnBH,KAAKi0J,MAAM9zJ,MACnB+C,EAA6B,IAApBlD,KAAKi0J,MAAM/wJ,OACpBgxJ,EAAYhpE,EAASgpE,UACzBhpE,EAASgpE,WAAY,EACrBhpE,EAASipE,YAAY,EAAK,EAAKh0J,EAAO+C,GACtCgoF,EAASkpE,OAAM,GAAO,GAAM,GAC5BlpE,EAASx7B,OAAO1vD,KAAKuvD,OAAQvvD,KAAKyvD,SAClCy7B,EAASipE,YAAY,EAAG,EAAGn0J,KAAKi0J,MAAM9zJ,MAAOH,KAAKi0J,MAAM/wJ,QACxDgoF,EAASgpE,UAAYA,CACvB,KAEKN,CACT,CAxCW,GAwDPS,GAAW,CAAC,QAAS,UACrBC,GAAY,CAAC,KAAM,KAAM,KAAM,MACnC,SAASC,GAAiBC,EAAUvgI,GAKlC,IAJA,IAAIO,EAAWP,EAAQE,UACnBsgI,EAAOjgI,EAASv4B,OAChBy4J,EAAQ,IAAI1mJ,WAAWymJ,GACvBtoI,EAAQ8H,EAAQrH,OACX5wB,EAAI,EAAGoC,EAAIo2J,EAASv4J,OAAQD,EAAIoC,IAAKpC,EAE5C04J,EADWvoI,EAAMnwB,GACNkqB,QAAQ3f,QAAUiuJ,EAASx4J,GAIxC,IAFA,IAAI49G,EAAY,GACZ+6C,EAAO,EACJA,EAAOF,GAAM,CAClB,GAAoB,IAAhBC,EAAMC,GAAa,CAGrB,IAFA,IAAIh/I,EAAQg/I,EACRplH,EAAMmlH,EAAMC,GACTA,EAAOF,EAAO,GAAKC,EAAMC,EAAO,KAAOplH,GAAO/a,EAASmgI,GAAMtwG,YAAY7vB,EAASmgI,EAAO,OAC5FA,EAEJ/6C,EAAUv6G,KAAK,CACbsW,MAAOA,EACP7S,IAAK6xJ,EACL9rJ,KAAMwrJ,GAAS9kH,EAAM,IAEzB,GACEolH,CACJ,CACA,OAAO/6C,CACT,CACA,SAASg7C,GAAkBC,GACzB,OAAOA,GAnCE,OAmCeA,EAlCf,QAkC+BA,CAC1C,CACA,IAAIC,GAAY,WACd,SAASA,EAAU7gI,EAAS8gI,EAASC,GACnCv5J,EAAgBuE,KAAM80J,GACtB90J,KAAKk0B,SAAWD,EAChBj0B,KAAK6sB,WAAa,KAClB7sB,KAAKi1J,WAAY,EACjBj1J,KAAKk1J,aAAe,CAClBv/I,MAAO,EACP7S,KAAM,GAER9C,KAAKm1J,cAAe,EACpBn1J,KAAK2wI,QAAU,KACf3wI,KAAKo1J,cAAgB,KACrBp1J,KAAKq1J,WAAaL,EACK,mBAAZD,GACT/0J,KAAKs1J,qBAAuB,EAC5Bt1J,KAAKu1J,gBAAkBR,GAEvB/0J,KAAKw1J,gBAAgBT,GAAS,GAEhC/0J,KAAKmf,QACLnf,KAAKy1J,SAAS,EAChB,CAyPA,OAxPAh5J,EAAaq4J,EAAW,CAAC,CACvBt4J,IAAK,iBACLe,MAAO,SAAwBm4J,EAAaC,GAU1C,GATID,UACFA,EAAc,GAEZC,UACFA,EAAYD,EAAc11J,KAAKs1J,2BAEPrxJ,IAAtBjE,KAAK41J,eACPD,EAAY3zJ,KAAKwY,IAAIxa,KAAK41J,aAAe,EAAGD,IAE1C31J,KAAKu1J,gBAAiB,CACxB,IAAI14J,EAAOmD,KAwBNA,KAAK2wI,UACR3wI,KAAK2wI,QAAU,CAAC,GAElB3wI,KAAK2wI,QAAQlyG,MAAQ,cACrBz+B,KAAKi1J,WAAY,EACbp4J,EAAKw4J,YAA6D,mBAAxCx4J,EAAKw4J,WAAWQ,qBAC5Ch5J,EAAKw4J,WAAWQ,sBAElB71J,KAAKu1J,gBAAgB,CACnB5/I,MAAO+/I,EACP5yJ,IAAK6yJ,EAAY,IAjCN,SAAgBzgJ,GAW3B,GAVArY,EAAKo4J,WAAY,EACbp4J,EAAKw4J,YAA6D,mBAAxCx4J,EAAKw4J,WAAWQ,qBAC5Ch5J,EAAKw4J,WAAWQ,sBAElBh5J,EAAK8zI,QAAU,CACbz7H,KAAMA,EACNupB,MAAO,QACP9oB,MAAO+/I,EACP5yJ,IAAK6yJ,GAEoB,OAAvB94J,EAAKu4J,cAAwB,CAC/B,IAAIhxJ,EAAMvH,EAAKu4J,cACfv4J,EAAKu4J,cAAgB,KACrBv4J,EAAK44J,SAASrxJ,EAChB,CACF,IACa,WACXvH,EAAKo4J,WAAY,EACbp4J,EAAKw4J,YAAiD,mBAA5Bx4J,EAAKw4J,WAAWS,SAC5Cj5J,EAAKw4J,WAAWS,QAAQ,mBAE5B,GAaF,CACF,GACC,CACDt5J,IAAK,eACLe,MAAO,WACL,GAAIyC,KAAK2wI,SAAkC,UAAvB3wI,KAAK2wI,QAAQlyG,MAAmB,CAClDz+B,KAAKk1J,aAAe,CAClBv/I,MAAO3V,KAAK2wI,QAAQh7H,MACpB7S,IAAK9C,KAAK2wI,QAAQ7tI,KAEpB9C,KAAKw1J,gBAAgBx1J,KAAK2wI,QAAQz7H,MAAM,GACxC,IAAI6gJ,GAAuB/1J,KAAK2wI,QAAQ7tI,IAAM,GAAK9C,KAAK41J,aAQxD,GAPIG,GAAuB/1J,KAAK41J,eAC9BG,EAAsB,GAExB/1J,KAAK2wI,QAAU,CACblyG,MAAO,QAETz+B,KAAKg2J,eAAeD,EAAqBA,EAAsB/1J,KAAKs1J,sBACzC,OAAvBt1J,KAAKo1J,cAAwB,CAC/B,IAAIhxJ,EAAMpE,KAAKo1J,cACfp1J,KAAKo1J,cAAgB,KACrBp1J,KAAKy1J,SAASrxJ,EAChB,CACF,CACF,GACC,CACD5H,IAAK,kBACLe,MAAO,SAAyB04J,GAC9B,IAAIC,EAAW,IAAI/3B,SAAS83B,GACxBp2H,EAAS,EACTs2H,EAAaD,EAASn2B,UAAUlgG,GAAQ,GAC5CA,GAAU,EACV,IAAIu2H,EAAcF,EAASn2B,UAAUlgG,GAAQ,GAC7C7/B,KAAK41J,aAAeQ,EACpBp2J,KAAKk1J,aAAapyJ,IAAM9C,KAAKk1J,aAAapyJ,IAAM,EAAId,KAAKwY,IAAIxa,KAAKk1J,aAAapyJ,IAAKszJ,EAAc,GAAKA,EAAc,EACrHv2H,GAAU,EACV7/B,KAAKq2J,YAAcF,EAEnBn2J,KAAKs1J,qBAAuBtzJ,KAAK4pD,KADnB,SACgD,EAAbuqG,IACjD,IAAIG,EAAqBt2J,KAAKk1J,aAAapyJ,IAAM9C,KAAKk1J,aAAav/I,MAAQ,EAC3E,GAAIwgJ,IAAen2J,KAAKk0B,SAAStH,OAAO3wB,QAAUg6J,EAAY/nJ,aAhKlD,GAgK+EooJ,EAAqBH,EAAa,EAC3H,MAAM,IAAI1rJ,MAKZ,IAHA,IAAIwpB,EAAUj0B,KAAKk0B,SACfqiI,EAAWL,EAASn2B,UAAUlgG,GAAQ,GACtC22H,EAAQ,EACLD,EAAW,KAAQC,EAAQlC,GAAUr4J,OAAS,GACnDs6J,GAAY,MACVC,EAEJx2J,KAAKy2J,UAAY,GAAGprJ,OAAOkrJ,EAASl4J,WAAY,KAAKgN,OAAOipJ,GAAUkC,IACtE32H,GAAU,EAKV,IAJA,IAAI+5E,EAAY,GACZ88C,EAAU,IAAIjsG,aAAa6rG,EAAqBH,EAAa,GAC7DQ,EAAW,EACXC,EAAe,IAAIv4B,UAAU83B,GACxB1hJ,EAAI,EAAGA,EAAI6hJ,IAAsB7hJ,EAAG,CAC3C,IAAK,IAAIzY,EAAI,EAAGA,EAAIm6J,IAAcn6J,EAAG,CACnC,IAAI66J,EAASX,EAASn2B,UAAUlgG,GAAQ,GACxCA,GAAU,EACV,IAAIi3H,EAASZ,EAASn2B,UAAUlgG,GAAQ,GACxCA,GAAU,EACV,IAAIvxB,GA9KC,WA8KMwoJ,KA7KL,GA8KFr0J,EAAImyJ,IAtLD,UAsLoBkC,KArLnB,GAqL2D,GAC/Dp0J,EAAIkyJ,KArLF,IAqLsBkC,IApLrB,IACD,WAmL2DD,KAlL1D,KAkLiG,GACpGnnI,EAAIklI,IAlLD,QAkLoBiC,IAAwB,GACnDD,EAAa56J,GAAK,EACdsS,EAAM,GAAKA,EAAM,EACnBsoJ,EAAa56J,GAhLT,EAiLa,IAARsS,IACTsoJ,EAAa56J,GAjLT,GAmLN06J,EAAQC,KAAcl0J,EAAI,IAC1Bi0J,EAAQC,KAAcj0J,EAAI,IAC1Bg0J,EAAQC,KAAcjnI,EAAI,GAC5B,CACAkqF,EAAUv6G,KAAKk1J,GAAiBqC,EAAc3iI,GAChD,CACAj0B,KAAK+2J,eAAiBn9C,EACtB55G,KAAKoqD,MAAQssG,CACf,GACC,CACDl6J,IAAK,YACLe,MAAO,WACLyC,KAAKy1J,UAAUz1J,KAAKg3J,WAAa,GAAKh3J,KAAK41J,aAC7C,GACC,CACDp5J,IAAK,mBACLe,MAAO,SAA0Bwe,GAC/B,OAAOA,aAAmB09F,EAC5B,GACC,CACDj9G,IAAK,eACLe,MAAO,SAAsBwe,EAAS1F,GACpC,OAAO0F,EAAQ4gF,gBAAgB38F,KAAKm0B,UAAU9d,EAAK6P,QAAQ3f,QAASvG,KAAKk0B,SAC3E,GACC,CACD13B,IAAK,kBACLe,MAAO,SAAyBwe,EAASmK,GACvC,OAAOnK,EAAQ4gF,gBAAgB38F,KAAKm0B,UAAUjO,EAAQ3f,QAASvG,KAAKk0B,SACtE,GACC,CACD13B,IAAK,mBACLe,MAAO,WACL,IAAIvB,EACAi7J,EAAaj3J,KAAKm0B,UAClB/1B,EAAI64J,EAAWh7J,OACnB,IAAKD,EAAI,EAAGA,EAAIoC,IAAKpC,EACnBi7J,EAAWj7J,GAAG6wB,WAAa,KAE7B,IAAIqqI,EAAMl3J,KAAK+2J,eAAe/2J,KAAKg3J,WAAah3J,KAAKk1J,aAAav/I,OAClE,IAAK3Z,EAAI,EAAGoC,EAAI84J,EAAIj7J,OAAQD,EAAIoC,IAAKpC,EAUnC,IATA,IAAIm7J,EAASD,EAAIl7J,GACb2Z,EAAQwhJ,EAAOxhJ,MACf7S,EAAMq0J,EAAOr0J,IACbs0J,EAAO,CACT3lC,OAAQwlC,EAAWthJ,GACnBk8G,KAAMolC,EAAWn0J,GACjB+F,KAAMsuJ,EAAOtuJ,KACb4sB,QAAS0hI,EAAO1hI,SAEThhB,EAAIkB,EAAOlB,GAAK3R,IAAO2R,EAC9BwiJ,EAAWxiJ,GAAGoY,WAAauqI,CAGjC,GACC,CACD56J,IAAK,QACLe,MAAO,WACL,IAAI85J,EAAUr3J,KAAKk0B,SAASC,UACxB/1B,EAAIi5J,EAAQp7J,OAChB+D,KAAKm0B,UAAY,IAAIl2B,MAAMG,GAK3B,IAJA,IAAI64J,EAAaj3J,KAAKm0B,UAClBmjI,EAAS,WACX,OAAOt3J,KAAK6sB,UACd,EACS7wB,EAAI,EAAGA,EAAIoC,IAAKpC,EACvBi7J,EAAWj7J,GAAK,CACd6tB,MAAOwtI,EAAQr7J,GAAG6tB,MAClByD,SAAU+pI,EAAQr7J,GAAGsxB,SACrBJ,cAAe,KACfE,YAAa,KACbP,WAAY,KACZuhF,aAAckpD,EAGpB,GACC,CACD96J,IAAK,WACLe,MAAO,SAAkBg6J,GAEvB,GADAv3J,KAAKm1J,cAAe,EAChBoC,GAAYv3J,KAAKk1J,aAAav/I,OAAS4hJ,GAAYv3J,KAAKk1J,aAAapyJ,IACvE9C,KAAKg3J,WAAaO,EAClBv3J,KAAKw3J,iBAAkB,EACvBx3J,KAAKy3J,mBACLz3J,KAAKm1J,cAAe,OAGpB,GADAn1J,KAAKo1J,cAAgBmC,EAChBv3J,KAAK2wI,QAIR,OAAQ3wI,KAAK2wI,QAAQlyG,OACnB,IAAK,OACHz+B,KAAKg2J,eAAeuB,GACpB,MACF,IAAK,QALIv3J,KAMF03J,oBART13J,KAAKg2J,eAAeuB,EAa1B,GACC,CACD/6J,IAAK,gBACLe,MAAO,WACLyC,KAAKq1J,WAAa,IACpB,GACC,CACD74J,IAAK,aACLe,MAAO,SAAoBk0E,GACzB,IAAIkmF,EAAM7C,EAAU8C,KAChB/6J,EAAOmD,KACPkV,EAAOrY,EAAKutD,MACZhmD,EAAmF,GAA5EvH,EAAKw5J,aAAex5J,EAAKm6J,WAAan6J,EAAKq4J,aAAav/I,OAAS87D,GAE5E,OADAkmF,EAAIrvJ,IAAI4M,EAAK9Q,GAAM8Q,EAAK9Q,EAAM,GAAI8Q,EAAK9Q,EAAM,IACtCuzJ,CACT,GACC,CACDn7J,IAAK,cACLe,MAAO,WACL,OAAIyC,KAAKw3J,iBAGTx3J,KAAKk0B,SAASivB,cAAcnjD,MAFnBA,KAAKm0B,SAIhB,KAEK2gI,CACT,CAhRgB,GAiRhB/uI,GAAgB+uI,GAAW,OAAQ,IAAI,OAEvC,IAAI+C,GAAc,WAChB,SAASA,EAAY5uJ,EAAQ7H,GAE3B,GADA3F,EAAgBuE,KAAM63J,GAClB73J,KAAKzE,cAAgBs8J,EACvB,MAAM,IAAIptJ,MAAM,uCAElBzK,KAAKiJ,OAASA,EACdjJ,KAAKoB,MAAO,IAAAke,OAAM/P,EAAM2B,WAAWoP,EAAWnb,IAAImX,QAAQtc,KAAK6I,OAAO,GAAOzH,GAC7EpB,KAAKu9G,cAAe,EACpBv9G,KAAK+2F,MAAQ,KACb/2F,KAAK8F,GAAK,IACZ,CAkCA,OAjCArJ,EAAao7J,EAAa,CAAC,CACzBr7J,IAAK,WACLe,MAAO,WACL,IAAI8O,EAAS,CACXxD,KAAM7I,KAAK6I,KACXI,OAAQjJ,KAAKiJ,QAEXqJ,EAAO/C,EAAM4C,YAAYnS,KAAKoB,KAAMkf,EAAWnb,IAAIgR,MAAMnW,KAAK8F,KAIlE,OAHK,IAAA6M,SAAQL,KACXjG,EAAOjL,KAAOkR,GAETjG,CACT,GACC,CACD7P,IAAK,WACLe,MAAO,WAGL,MAFgB,KAAK8N,OAAOrL,KAAK6I,KAAM,KAAKwC,OAAOrL,KAAKiJ,OAAOxE,KAAK,MACtD8K,EAAMyC,2BAA2BhS,KAAKoB,KAAMkf,EAAWpK,SAASoG,QAAQtc,KAAK6I,MAE7F,GACC,CACDrM,IAAK,cACLe,MAAO,WACL,OAAOyC,KAAK+2F,KACd,GACC,CACDv6F,IAAK,UACLe,MAAO,WACDyC,KAAK+2F,OACP5jC,GAASiC,cAAcp1D,KAAK+2F,MAEhC,KAEK8gE,CACT,CA9CkB,GA+ClBA,GAAYr8J,UAAUqN,KAAO,KAI7B,IAAIivJ,GAAW,SAAUC,GACvB36J,EAAU06J,EAAUC,GACpB,IAJsBxqJ,EAAeC,EAIjCC,GAJkBF,EAIMuqJ,EAJStqJ,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQqwJ,GAAsC,WAAkC,IAAsC3rJ,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASyrJ,EAAS7uJ,EAAQ7H,GACxB,IAAIuJ,EAGJ,GAFAlP,EAAgBuE,KAAM83J,GACtBntJ,EAAQ8C,EAAO/P,KAAKsC,KAAMiJ,EAAQ7H,GAC9B6H,EAAOhN,OAAS,EAClB,MAAM,IAAIwO,MAAM,qDAElB,IAAIwtJ,EAAUv5J,EAAeuK,EAAQ,GAGrC,OAFA0B,EAAMutJ,KAAOD,EAAQ,GACrBttJ,EAAMwtJ,KAAOF,EAAQ,GACdttJ,CACT,CA4DA,OA3DAlO,EAAaq7J,EAAU,CAAC,CACtBt7J,IAAK,mBACLe,MAAO,SAA0B02B,EAAS6jG,GACxC,IACIvvB,EAAQt0E,EAAQmkI,kBAAkBtgC,GACtC,IAAKvvB,EACH,MAAM,IAAI99F,MAAMqtH,EAHR,8FAKV,OAAOvvB,CACT,GACC,CACD/rG,IAAK,QACLe,MAAO,SAAe02B,GACpB,IAAIumC,EAAO,IAAI,MACfx6D,KAAKq4J,OAASr4J,KAAKs4J,iBAAiBrkI,EAASj0B,KAAKk4J,MAClDl4J,KAAKu4J,OAASv4J,KAAKs4J,iBAAiBrkI,EAASj0B,KAAKm4J,MAClD,IAAIp7G,EAAK/8C,KAAKq4J,OAAOn3J,SACjB87C,EAAKh9C,KAAKu4J,OAAOr3J,SACjBytE,EAAW,IAAIlkB,aAAa,CAAC1N,EAAGt6C,EAAGs6C,EAAGr6C,EAAGq6C,EAAGrtB,EAAGstB,EAAGv6C,EAAGu6C,EAAGt6C,EAAGs6C,EAAGttB,IAClE8qC,EAAK94D,aAAa,WAAY,IAAI,MAAgBitE,EAAU,IAC5DnU,EAAKvB,qBACL,IAAIh9C,EAAW,IAAI0xE,GACnB1xE,EAAS45C,UAAU,CACjBG,QAAQ,EACRD,eAAe,EACf24B,YAAY,EACZE,eAAgBtuE,EAAWnb,IAAIkU,GAAGoD,cAEpCzc,KAAKw4J,MAAQ,IAAI1kE,GAAOI,KAAK15B,EAAMv+C,GACnCjc,KAAKw4J,MAAMC,uBACXz4J,KAAKw4J,MAAMv8I,SAASi6C,eAAe,CACjCC,WAAY,IAAI,MAAMn2D,KAAKoB,KAAKb,OAChCwsF,eAAgB/sF,KAAKoB,KAAKmb,SAC1BywE,iBAAkBhtF,KAAKoB,KAAKmb,SAAWvc,KAAKoB,KAAKob,UAEnDxc,KAAKw4J,MAAMv8I,SAASw1E,iBACpBzxF,KAAKw4J,MAAM/qG,QAAU,SAAUirG,EAAYC,GAAc,EACzD34J,KAAK+2F,MAAQ/2F,KAAKw4J,MAClB,IAAIjjE,EAAathE,EAAQ2wB,gBACrB2wC,EAAWt5F,OAAS,IACtB+D,KAAK+2F,MAAQ,IAAI,MACjB/2F,KAAK+2F,MAAMlnD,IAAI7vC,KAAKw4J,OACpB/7C,GAAUC,wBAAwB18G,KAAK+2F,MAAOxB,GAElD,GACC,CACD/4F,IAAK,gBACLe,MAAO,SAAuBw3B,GAC5B,GAAK/0B,KAAKq4J,QAAWr4J,KAAKu4J,QAAWv4J,KAAKw4J,MAA1C,CAGA,IAAI1jG,EAAM90D,KAAKw4J,MAAM5nG,SACrBkE,EAAI6Z,SAAS,GAAGt9D,KAAK0jB,EAAU5L,WAAWnpB,KAAKq4J,OAAO/zI,QACtDwwC,EAAI6Z,SAAS,GAAGt9D,KAAK0jB,EAAU5L,WAAWnpB,KAAKu4J,OAAOj0I,QACtDtkB,KAAKw4J,MAAMC,uBACX3jG,EAAIsF,wBACJtF,EAAI8jG,oBAAqB,CANzB,CAOF,KAEKd,CACT,CA3Ee,CA2EbD,IACFC,GAASt8J,UAAUD,YAAcu8J,GACjCA,GAASt8J,UAAUqN,KAAO,OAM1B,IAAIgwJ,GAAkB,SAAUzoG,GAC9BhzD,EAAUy7J,EAAiBzoG,GAC3B,IAJsB7iD,EAAeC,EAIjCC,GAJkBF,EAIMsrJ,EAJSrrJ,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQmxJ,GAAsC,WAAkC,IAAsCzsJ,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASwsJ,EAAgB5vJ,GACvB,IAAI0B,EACJlP,EAAgBuE,KAAM64J,GACtBluJ,EAAQ8C,EAAO/P,KAAKsC,KAAMiJ,GAC1B,IAAIoc,EAAW,CACbirC,SAAU,CACRC,OAAQ,CACN1nD,KAAM,IACNtL,MAAO,MAETw7J,YAAa,CACXlwJ,KAAM,IACNtL,MAAO,MAETy7J,WAAY,CACVnwJ,KAAM,KACNtL,MAAO,IAAI,MAAQ,IAAK,MAE1BgD,MAAO,CACLsI,KAAM,KACNtL,MAAO,MAETigB,UAAW,CACT3U,KAAM,IACNtL,MAAO,MAET0vD,QAAS,CACPpkD,KAAM,IACNtL,MAAO,GAETkgB,UAAW,CACT5U,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAG,KAG1BizD,aAAczC,GACdiD,eA3CiB,yoEA4CjBv0C,aAAa,EACbg0C,WAAW,EACXnB,YAAY,GAGd,OADA3kD,EAAMkrD,UAAUxwC,GACT1a,CACT,CAqBA,OApBAlO,EAAao8J,EAAiB,CAAC,CAC7Br8J,IAAK,OACLe,MAAO,SAAc01D,GACnBt7B,GAAKh6B,EAAgBk7J,EAAgBr9J,WAAY,OAAQwE,MAAMtC,KAAKsC,KAAMizD,GAC1EjzD,KAAKwY,MAAQy6C,EAAOz6C,KACtB,GACC,CACDhc,IAAK,YACLe,MAAO,SAAmBkM,GACxB,QAAsB,IAAXA,EAAX,CAGAkuB,GAAKh6B,EAAgBk7J,EAAgBr9J,WAAY,YAAawE,MAAMtC,KAAKsC,KAAMyJ,GAC/E,IAAIslF,EAAU,CAAC,EACX/uF,KAAKwY,QACPu2E,EAAQkqE,cAAgB,GAE1Bj5J,KAAK+uF,QAAUA,CANf,CAOF,KAEK8pE,CACT,CApEsB,CAoEpB,OACFA,GAAgBr9J,UAAUgd,OAAQ,EAMlC,IAAI0gJ,GAAe,SAAU9oG,GAC3BhzD,EAAU87J,EAAc9oG,GACxB,IAJsB7iD,EAAeC,EAIjCC,GAJkBF,EAIM2rJ,EAJS1rJ,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQwxJ,GAAsC,WAAkC,IAAsC9sJ,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAAS6sJ,EAAajwJ,GACpB,IAAI0B,EAyBJ,OAxBAlP,EAAgBuE,KAAMk5J,IACtBvuJ,EAAQ8C,EAAO/P,KAAKsC,KAAMiJ,IACpB4sD,UAAU,CACdvF,SAAU,CACRC,OAAQ,CACN1nD,KAAM,IACNtL,MAAO,MAET+vF,aAAc,CACZzkF,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAM,IAAO,EAAM,MAExCk8F,QAAS,CACP5wF,KAAM,IACNtL,MAAO,IAAI,MAAM,YAGrBizD,aAAczC,GACdiD,eA3BiB,0gbA4BjBv0C,aAAa,EACbg0C,WAAW,EACXnB,YAAY,IAEd3kD,EAAMkrD,UAAU5sD,GACT0B,CACT,CAqBA,OApBAlO,EAAay8J,EAAc,CAAC,CAC1B18J,IAAK,OACLe,MAAO,SAAc01D,GACnBt7B,GAAKh6B,EAAgBu7J,EAAa19J,WAAY,OAAQwE,MAAMtC,KAAKsC,KAAMizD,GACvEjzD,KAAKwY,MAAQy6C,EAAOz6C,KACtB,GACC,CACDhc,IAAK,YACLe,MAAO,SAAmBkM,GACxB,QAAsB,IAAXA,EAAX,CAGAkuB,GAAKh6B,EAAgBu7J,EAAa19J,WAAY,YAAawE,MAAMtC,KAAKsC,KAAMyJ,GAC5E,IAAIslF,EAAU,CAAC,EACX/uF,KAAKo5J,gBACPrqE,EAAQsqE,eAAiB,GAE3Br5J,KAAK+uF,QAAUA,CANf,CAOF,KAEKmqE,CACT,CApDmB,CAoDjB,OACFA,GAAa19J,UAAU49J,eAAgB,EAMvC,IAAIE,GAAiB,CACrB,IAAI,MAAQ,QAAU,QAAU,SAAW,IAAI,OAAS,SAAW,QAAU,SAAW,IAAI,MAAQ,QAAU,QAAU,SAAW,IAAI,MAAQ,SAAW,QAAU,SAAW,IAAI,OAAS,QAAU,QAAU,SAAW,IAAI,OAAS,SAAW,QAAU,SAAW,IAAI,OAAS,SAAW,QAAU,SAAW,IAAI,OAAS,QAAU,QAAU,SAAW,IAAI,OAAS,SAAW,OAAS,SAAW,IAAI,MAAQ,QAAU,QAAU,SAAW,IAAI,MAAQ,SAAW,QAAU,SAAW,IAAI,MAAQ,QAAU,QAAU,SAAW,IAAI,MAAQ,SAAW,QAAU,SAAW,IAAI,OAAS,QAAU,QAAU,SAAW,IAAI,OAAS,QAAU,QAAU,SAAW,IAAI,OAAS,QAAU,OAAS,SAAW,IAAI,OAAS,SAAW,QAAU,SAAW,IAAI,OAAS,QAAU,QAAU,SAAW,IAAI,OAAS,QAAU,QAAU,QAAU,IAAI,MAAQ,QAAU,QAAU,SAAW,IAAI,OAAS,QAAU,OAAS,SAAW,IAAI,MAAQ,QAAU,QAAU,SAAW,IAAI,MAAQ,QAAU,QAAU,SAAW,IAAI,OAAS,QAAU,QAAU,QAAU,IAAI,MAAQ,QAAU,QAAU,SAAW,IAAI,MAAQ,QAAU,QAAU,SAAW,IAAI,MAAQ,QAAU,OAAS,SAAW,IAAI,MAAQ,SAAW,OAAS,SAAW,IAAI,OAAS,QAAU,QAAU,SAAW,IAAI,OAAS,QAAU,OAAS,SAAW,IAAI,OAAS,SAAW,QAAU,SAAW,IAAI,OAAS,SAAW,QAAU,UACt2CC,GAAa,SAAUnpG,GACzBhzD,EAAUm8J,EAAYnpG,GACtB,IANsB7iD,EAAeC,EAMjCC,GANkBF,EAMMgsJ,EANS/rJ,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ6xJ,GAAsC,WAAkC,IAAsCntJ,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAOva,SAASktJ,IACP,IAAI5uJ,EAoEJ,OAnEAlP,EAAgBuE,KAAMu5J,IACtB5uJ,EAAQ8C,EAAO/P,KAAKsC,OACd61D,UAAU,CACdvF,SAAU,CACRo7B,aAAc,CACZ7iF,KAAM,IACNtL,MAAOouF,GAAMD,cAEf2B,eAAgB,CACdxkF,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAMouF,GAAMC,WAAY,EAAMD,GAAME,cAEzD4tE,eAAgB,CACd5wJ,KAAM,IACNtL,MAAO,MAETm8J,cAAe,CACb7wJ,KAAM,IACNtL,MAAO,MAETo8J,aAAc,CACZ9wJ,KAAM,IACNtL,MAAO,MAET+vF,aAAc,CACZzkF,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAM,IAAO,EAAM,MAExCq8J,WAAY,CACV/wJ,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAK,KAE1Bs8J,WAAY,CACVhxJ,KAAM,OACNtL,MAAO,IAAI,OAEbupH,YAAa,CACXj+G,KAAM,IACNtL,MAAO,GAETypH,WAAY,CACVn+G,KAAM,IACNtL,MAAO,GAET4vF,cAAe,CACbtkF,KAAM,MACNtL,MAAO+7J,IAETQ,aAAc,CACZjxJ,KAAM,IACNtL,MAAO,GAETw8J,eAAgB,CACdlxJ,KAAM,IACNtL,MAAO,GAET6c,OAAQ,CACNvR,KAAM,IACNtL,MAAO,IAGXizD,aAAczC,GACdiD,eAzEiB,+6GA0EjBv0C,aAAa,EACbg0C,WAAW,EACXnB,YAAY,IAEP3kD,CACT,CACA,OAAOlO,EAAa88J,EACtB,CA3EiB,CA2Ef,OAMF,IAAIS,GAAmB,EAAE,GAAM,EAAK,EAAK,EAAK,GAC1CC,GAAoB,SAAU7pG,GAChChzD,EAAU68J,EAAmB7pG,GAC7B,IALsB7iD,EAAeC,EAKjCC,GALkBF,EAKM0sJ,EALSzsJ,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQuyJ,GAAsC,WAAkC,IAAsC7tJ,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMva,SAAS4tJ,IACP,IAAItvJ,EA4BJ,OA3BAlP,EAAgBuE,KAAMi6J,IACtBtvJ,EAAQ8C,EAAO/P,KAAKsC,OACd61D,UAAU,CACdvF,SAAU,CACRqpG,aAAc,CACZ9wJ,KAAM,IACNtL,MAAO,MAET+vF,aAAc,CACZzkF,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAM,IAAO,EAAM,MAExC48J,MAAO,CACLtxJ,KAAM,IACNtL,MAAO,MAET68J,eAAgB,CACdvxJ,KAAM,MACNtL,MAAOy8J,KAGXxpG,aAAczC,GACdiD,eAhCiB,kuCAiCjBv0C,aAAa,EACbg0C,WAAW,EACXnB,YAAY,IAEP3kD,CACT,CACA,OAAOlO,EAAaw9J,EACtB,CAnCwB,CAmCtB,OAMF,IAAII,GAAiB,EAAE,GAAM,EAAK,EAAK,EAAK,GACxCC,GAA8B,SAAUlqG,GAC1ChzD,EAAUk9J,EAA6BlqG,GACvC,IALsB7iD,EAAeC,EAKjCC,GALkBF,EAKM+sJ,EALS9sJ,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQ4yJ,GAAsC,WAAkC,IAAsCluJ,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAMva,SAASiuJ,EAA4BrxJ,GACnC,IAAI0B,EAqDJ,OApDAlP,EAAgBuE,KAAMs6J,IACtB3vJ,EAAQ8C,EAAO/P,KAAKsC,KAAMiJ,IACpB4sD,UAAU,CACdvF,SAAU,CACRmpG,eAAgB,CACd5wJ,KAAM,IACNtL,MAAO,MAETo8J,aAAc,CACZ9wJ,KAAM,IACNtL,MAAO,MAET+vF,aAAc,CACZzkF,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAM,IAAO,EAAM,MAExC48J,MAAO,CACLtxJ,KAAM,IACNtL,MAAO,MAET68J,eAAgB,CACdvxJ,KAAM,MACNtL,MAAO88J,IAETR,WAAY,CACVhxJ,KAAM,OACNtL,MAAO,IAAI,OAEbupH,YAAa,CACXj+G,KAAM,IACNtL,MAAO,GAETypH,WAAY,CACVn+G,KAAM,IACNtL,MAAO,GAETi9J,WAAY,CACV3xJ,KAAM,KACNtL,MAAO,IAAI,MAAQ,IAAO,MAE5B8d,SAAU,CACRxS,KAAM,KACNtL,MAAO,IAAI,MAAQ,EAAK,GAAK,EAAK,KAGtCizD,aAAczC,GACdiD,eAxDiB,k9GAyDjBv0C,aAAa,EACbg0C,WAAW,EACXnB,YAAY,IAEd3kD,EAAMkrD,UAAU5sD,GACT0B,CACT,CAkBA,OAjBAlO,EAAa69J,EAA6B,CAAC,CACzC99J,IAAK,YACLe,MAAO,SAAmBkM,GACxB,QAAsB,IAAXA,EAAX,CAGAkuB,GAAKh6B,EAAgB28J,EAA4B9+J,WAAY,YAAawE,MAAMtC,KAAKsC,KAAMyJ,GAC3F,IAAIslF,EAAU,CAAC,EACX/uF,KAAKy6J,SACP1rE,EAAQG,QAAU,GAEhBlvF,KAAK4uF,iBACPG,EAAQ0B,gBAAkB,GAE5BzwF,KAAK+uF,QAAUA,CATf,CAUF,KAEKurE,CACT,CA7EkC,CA6EhC,OACFA,GAA4B9+J,UAAUi/J,QAAS,EAC/CH,GAA4B9+J,UAAUozF,gBAAiB,EAMvD,IAAI8rE,GAAmB,SAAUtqG,GAC/BhzD,EAAUs9J,EAAkBtqG,GAC5B,IAJsB7iD,EAAeC,EAIjCC,GAJkBF,EAIMmtJ,EAJSltJ,EACvC,WAAyC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQgzJ,GAAsC,WAAkC,IAAsCtuJ,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAKva,SAASquJ,IACP,IAAI/vJ,EACJlP,EAAgBuE,KAAM06J,GACtB/vJ,EAAQ8C,EAAO/P,KAAKsC,MACpB,IAAIqlB,EAAW,CACbirC,SAAU,CACRsqG,KAAM,CACJ/xJ,KAAM,IACNtL,MAAO,MAETs9J,KAAM,CACJhyJ,KAAM,IACNtL,MAAO,OAGXizD,aAAczC,GACdiD,eAvBe,4PAwBfv0C,aAAa,EACbg0C,WAAW,EACXnB,YAAY,GAGd,OADA3kD,EAAMkrD,UAAUxwC,GACT1a,CACT,CACA,OAAOlO,EAAai+J,EACtB,CA5BuB,CA4BrB,OAEEI,GAAO,WACT,SAASA,IACPr/J,EAAgBuE,KAAM86J,GACtB96J,KAAKkB,SAAW,IAAI,MAAQ,EAAG,EAAG,GAClClB,KAAKK,MAAQ,EACbL,KAAK+6J,YAAc,IAAI,MAAW,EAAG,EAAG,EAAG,EAC7C,CASA,OARAt+J,EAAaq+J,EAAM,CAAC,CAClBt+J,IAAK,MACLe,MAAO,SAAa2D,EAAUb,EAAO06J,GACnC/6J,KAAKkB,SAAWA,EAChBlB,KAAKK,MAAQA,EACbL,KAAK+6J,YAAcA,CACrB,KAEKD,CACT,CAhBW,GAkBPE,GAAmB,WACrB,SAASA,IACPv/J,EAAgBuE,KAAMg7J,EACxB,CAmFA,OAlFAv+J,EAAau+J,EAAkB,CAAC,CAC9Bx+J,IAAK,QACLe,MAAO,SAAe09J,EAAWC,GAC/Bl7J,KAAKoG,gBAAanC,EAClBjE,KAAKm7J,cAAWl3J,EAChBjE,KAAKo7J,WAAY,EACjBp7J,KAAKq7J,SAAWJ,EAChBj7J,KAAKs7J,SAAWJ,EAChBl7J,KAAKu7J,WAAY,CACnB,GACC,CACD/+J,IAAK,WACLe,MAAO,WACL,OAAOyC,KAAKu7J,SACd,GACC,CACD/+J,IAAK,aACLe,MAAO,WACL,YAAkC,IAApByC,KAAKoG,iBAAuD,IAAlBpG,KAAKm7J,QAC/D,GACC,CACD3+J,IAAK,QACLe,MAAO,WACLyC,KAAKoG,WAAaT,KAAKR,MACvB,IAAIq2J,EAAYl7I,EAAWnb,IAAImZ,iBAAmBm9I,KAAyB,EAC3Ez7J,KAAKm7J,SAAWn7J,KAAKoG,WAAao1J,EAClCx7J,KAAKu7J,WAAY,CACnB,GACC,CACD/+J,IAAK,iBACLe,MAAO,WACL,QAA6B,IAAlByC,KAAKq7J,eAAqD,IAAlBr7J,KAAKs7J,WAA6Bt7J,KAAKu7J,YAAcv7J,KAAK07J,aAC3G,MAAO,CACLC,SAAS,GAGb,IAAIp5I,EAAOviB,KAAK47J,aACZl1J,EAAOf,KAAKR,MAChB,GAAIuB,EAAO1G,KAAKm7J,SAGd,OAFA54I,EAAOviB,KAAKs7J,SACZt7J,KAAKmf,QACE,CACLw8I,SAAS,EACTp5I,KAAMA,GAGV,IAAInI,GAAU1T,EAAO1G,KAAKoG,aAAepG,KAAKm7J,SAAWn7J,KAAKoG,YAM9D,OALAmc,EAAKrhB,SAASmQ,KAAKrR,KAAKq7J,SAASn6J,UACjCqhB,EAAKrhB,SAAS0uB,KAAK5vB,KAAKs7J,SAASp6J,SAAUkZ,GAC3CmI,EAAKliB,OAAS,EAAI+Z,GAAUpa,KAAKq7J,SAASh7J,MAAQ+Z,EAASpa,KAAKs7J,SAASj7J,MACzEkiB,EAAKw4I,YAAY1pJ,KAAKrR,KAAKq7J,SAASN,aACpCx4I,EAAKw4I,YAAYc,MAAM77J,KAAKs7J,SAASP,YAAa3gJ,GAC3C,CACLuhJ,SAAS,EACTp5I,KAAMA,EAEV,GACC,CACD/lB,IAAK,QACLe,MAAO,WACLyC,KAAKoG,WAAapG,KAAKm7J,SAAW,EAClCn7J,KAAKu7J,WAAY,CACnB,GACC,CACD/+J,IAAK,QACLe,MAAO,WACAyC,KAAKo7J,YACRp7J,KAAK87J,MAAM97J,KAAK+7J,iBAAiBx5I,KAAMviB,KAAKs7J,UAC5Ct7J,KAAKo7J,WAAY,EAErB,GACC,CACD5+J,IAAK,SACLe,MAAO,WACLyC,KAAKo7J,WAAY,CACnB,GACC,CACD5+J,IAAK,aACLe,MAAO,WACL,OAAO,IAAIu9J,EACb,KAEKE,CACT,CAvFuB,GAmGvB,SAASgB,GAAQjzJ,EAAS3H,GACxBpB,KAAK+I,QAAUA,EACf/I,KAAK8oE,OAAQ,IAAAxpD,OAAM,CACjBF,KAAM,KACLhe,EACL,CACA82D,GAAqB8jG,GAAQxgK,WAC7BwgK,GAAQxgK,UAAUygK,aAAe,SAAUz/J,GACzC,IAAI0/J,EAASl8J,KAAKm8J,SAAS3/J,GACvB4/J,EAASp8J,KAAKq8J,iBAAiBH,GACnC,GAAKE,EAAL,CAIAp8J,KAAKs8J,oBAAoBJ,GACzBE,EAASxsJ,SAASwsJ,EAAQ,IAC1B,IAAK,IAAIpgK,EAAI,EAAGA,EAAIogK,IAAUpgK,EAC5BgE,KAAKs8J,oBAAoB9/J,EAAMR,EAJjC,MAFEgE,KAAKs8J,oBAAoB9/J,EAQ7B,EACAw/J,GAAQxgK,UAAU+gK,UAAY,SAAU//J,EAAKe,GAC3CyC,KAAKi8J,aAAaz/J,GAElB,IAAIiN,EA/BN,SAAsBkX,EAAQ67I,GAG5B,IAFA,IAAIp6I,EAAIzB,EAAO1kB,OACX06F,EAAS,GACJvzE,EAAI,EAAGq5I,EAAK,EAAGA,EAAKr6I,EAAGgB,IAAKq5I,GAAMD,EACzC7lE,EAAOvzE,GAAKzC,EAAOriB,MAAMm+J,EAAIA,EAAKD,GAEpC,OAAO7lE,CACT,CAwBe+lE,CADbn/J,EAAQmS,mBAAmBnS,GAhCR,IAiC+Bf,EAAIP,OAAS,GAC3DmgK,EAAS3yJ,EAAOxN,OACpB,GAAe,IAAXmgK,EAAJ,CAIA,IAAIF,EAASl8J,KAAKm8J,SAAS3/J,GAC3BwD,KAAK28J,iBAAiBT,EAAQE,EAAO/9J,YACrC,IAAK,IAAIrC,EAAI,EAAGA,EAAIogK,IAAUpgK,EAC5BgE,KAAK28J,iBAAiBngK,EAAMR,EAAGyN,EAAOzN,GAJxC,MAFEgE,KAAK28J,iBAAiBngK,EAAKe,EAQ/B,EACAy+J,GAAQxgK,UAAUohK,UAAY,SAAUpgK,GACtC,IAAI0/J,EAASl8J,KAAKm8J,SAAS3/J,GACvB4/J,EAASp8J,KAAKq8J,iBAAiBH,GACnC,IAAKE,EACH,OAAOp8J,KAAKq8J,iBAAiB7/J,GAE/B4/J,EAASxsJ,SAASwsJ,EAAQ,IAE1B,IADA,IAAI7+J,EAAQ,GACHvB,EAAI,EAAGA,EAAIogK,IAAUpgK,EAC5BuB,EAAMvB,GAAKgE,KAAKq8J,iBAAiB7/J,EAAMR,GAEzC,OAAOuB,EAAMkH,KAAK,GACpB,EACAu3J,GAAQxgK,UAAU2gK,SAAW,SAAU3/J,GACrC,OAAOA,EA1DU,KA2DnB,EACAw/J,GAAQxgK,UAAU8gK,oBAAsB,SAAU9/J,GAChDgF,SAASq7J,OAAS,GAAGxxJ,OAAO7O,EAAK,4CACnC,EACAw/J,GAAQxgK,UAAUshK,mBAAqB,WACrC,IAAIC,EAAQ,IAAIp3J,KAGhB,OADAo3J,EAAMC,YAAYD,EAAM9U,cADD,IAEhB8U,CACT,EACAf,GAAQxgK,UAAUmhK,iBAAmB,SAAUngK,EAAKe,GAClDiE,SAASq7J,OAAS,GAAGxxJ,OAAO7O,EAAK,KAAK6O,OAAO9N,EAAO,aAAa8N,OAAOrL,KAAK88J,qBAAqBG,cAAe,UAAU5xJ,OAAOrL,KAAK8oE,MAAM1pD,KAC/I,EACA48I,GAAQxgK,UAAU6gK,iBAAmB,SAAU7/J,GAC7C,IAAI+F,EAAUf,SAASq7J,OAAOr6J,MAAM,IAAI+N,OAAO,WAAWlF,OAAO7O,EAAK,cACtE,OAAO+F,EAAUsJ,mBAAmBtJ,EAAQ,IAAM,EACpD,EACAy5J,GAAQxgK,UAAU0hK,QAAU,SAAU1gK,GACpC,OAAOgF,SAASq7J,OAAOr6J,MAAM,IAAI+N,OAAO,WAAWlF,OAAO7O,EAAK,aACjE,EAoFA,IAAI2gK,GAAW,WACb,SAASA,EAASC,GAChB3hK,EAAgBuE,KAAMm9J,GACtBn9J,KAAKq9J,YAAc,IAAI,MACvBr9J,KAAKs9J,QAAU,KACft9J,KAAKu9J,UAAYH,EACjBp9J,KAAKw9J,cAAgB,IAAIrqG,GAASjG,QAClCltD,KAAKy9J,MAAQ,IAAItqG,GAASjG,QAC1BltD,KAAK09J,cAAgB,IAAI,MACzB19J,KAAKy9J,MAAM5tH,IAAI7vC,KAAK09J,eACpB19J,KAAK29J,aAAe,KACpB39J,KAAK49J,aAAe,KACpB59J,KAAK69J,qBAAuB,EAC5B79J,KAAK89J,UAAY,EACjB99J,KAAK+9J,KAAO,IACd,CAuNA,OAtNAthK,EAAa0gK,EAAU,CAAC,CACtB3gK,IAAK,4BACLe,MAAO,WACLyC,KAAK89J,UAAY99J,KAAK29J,aAAaz8J,SAAS4oB,WAAW9pB,KAAK49J,aAAa18J,UACzEiyD,GAASkD,eAAer2D,KAAK29J,aAAaz8J,SAAUlB,KAAK49J,aAAa18J,SAAUlB,KAAK09J,cAAcx8J,UACnGlB,KAAK09J,cAAcr9J,MAAMiI,IAAI,EAAG,EAAG,GACnCtI,KAAK09J,cAAc19C,eACnBhgH,KAAK09J,cAAc5uG,oBACnB9uD,KAAK09J,cAAc3uG,wBAAwB/uD,KAAKw9J,cAClD,GACC,CACDhhK,IAAK,2BACLe,MAAO,WACLyC,KAAK+9J,KAAKzsE,MAAMviC,wBAAwB/uD,KAAKw9J,cAC/C,GACC,CACDhhK,IAAK,kBACLe,MAAO,SAAyBqM,GAC9B5J,KAAK69J,uBAC6B,IAA9B79J,KAAK69J,qBACP79J,KAAKg+J,4BACkC,IAA9Bh+J,KAAK69J,sBACdj0J,EAAM9N,OAAOizD,wBAAwB/uD,KAAKw9J,cAE9C,GACC,CACDhhK,IAAK,gBACLe,MAAO,SAAuBqM,GAC5B5J,KAAK69J,uBAC6B,IAA9B79J,KAAK69J,sBACP79J,KAAKi+J,4BACmBr0J,EAAM9N,SAAWkE,KAAK29J,aAAe39J,KAAK49J,aAAe59J,KAAK29J,cACpE5uG,wBAAwB/uD,KAAKw9J,gBACR,IAA9Bx9J,KAAK69J,sBACd79J,KAAK+9J,KAAKzsE,MAAMviC,wBAAwB/uD,KAAKw9J,cAEjD,GACC,CACDhhK,IAAK,SACLe,MAAO,SAAgB2gK,GACrB,GAAKA,EAAL,CAIAl+J,KAAK+9J,KAAOG,EACZ,IAAIhzE,EAAWgzE,EAAIhzE,SACft5B,EAASssG,EAAItsG,OACjB,IAAKs5B,EACH,MAAM,IAAIzgF,MAAM,4CAElB,IAAKmnD,EACH,MAAM,IAAInnD,MAAM,0CAElBygF,EAASizE,GAAG1xJ,SAAU,EACjBzM,KAAKs9J,QAIRt9J,KAAKs9J,QAAQn5J,MAAM6C,QAAU,SAH7BhH,KAAKs9J,QAzJb,SAA4Bc,GAiD1B,SAASC,EAAet4J,GACtBA,EAAQ5B,MAAMjD,SAAW,WACzB6E,EAAQ5B,MAAMm6J,OAAS,OACvBv4J,EAAQ5B,MAAMo6J,QAAU,WACxBx4J,EAAQ5B,MAAMq6J,OAAS,iBACvBz4J,EAAQ5B,MAAMpC,aAAe,MAC7BgE,EAAQ5B,MAAMhB,WAAa,cAC3B4C,EAAQ5B,MAAM5D,MAAQ,OACtBwF,EAAQ5B,MAAMs6J,KAAO,yBACrB14J,EAAQ5B,MAAMymF,UAAY,SAC1B7kF,EAAQ5B,MAAM8oD,QAAU,MACxBlnD,EAAQ5B,MAAMoZ,QAAU,OACxBxX,EAAQ5B,MAAMtD,OAAS,KACzB,CACA,GAAI,OAAQyS,UAAW,CACrB,IAAIw+I,EAAStwJ,SAASC,cAAc,UAMpC,OALAqwJ,EAAO3tJ,MAAM6C,QAAU,OACvBq3J,EAAevM,GACfx+I,UAAU6qJ,GAAGO,mBAAmB,gBAAgBC,MAAK,SAAUC,GAC7D,OAAOA,EAnEX,SAAqB9M,GACnBA,EAAO3tJ,MAAM6C,QAAU,GACvB8qJ,EAAO3tJ,MAAM06J,OAAS,UACtB/M,EAAO3tJ,MAAMnD,KAAO,mBACpB8wJ,EAAO3tJ,MAAMhE,MAAQ,QACrB2xJ,EAAOjrJ,YAAc,WACrB,IAAIi4J,EAAiB,KACrB,SACAC,IACED,EAAe11J,oBAAoB,MAAO21J,GAC1CjN,EAAOjrJ,YAAc,WACrBi4J,EAAiB,IACnB,CACA,SAASE,EAAiBC,GACxBA,EAAQr2J,iBAAiB,MAAOm2J,GAChCX,EAASL,KAAK7yE,SAASizE,GAAGe,sBAAsB,SAChDd,EAASL,KAAK7yE,SAASizE,GAAGgB,WAAWF,GACrCnN,EAAOjrJ,YAAc,UACrBi4J,EAAiBG,CACnB,CACAnN,EAAOsN,aAAe,WACpBtN,EAAO3tJ,MAAM8oD,QAAU,KACzB,EACA6kG,EAAOuN,aAAe,WACpBvN,EAAO3tJ,MAAM8oD,QAAU,KACzB,EACA6kG,EAAOwN,QAAU,WACQ,OAAnBR,GAIFxrJ,UAAU6qJ,GAAGoB,eAAe,eAHV,CAChBC,iBAAkB,CAAC,cAAe,mBAEqBb,KAAKK,GAC9DZ,EAASqB,0BAETX,EAAeh8J,KAEnB,CACF,CA8BuB48J,CAAY5N,GA7BnC,SAA2BA,GACzBA,EAAO3tJ,MAAM6C,QAAU,GACvB8qJ,EAAO3tJ,MAAM06J,OAAS,OACtB/M,EAAO3tJ,MAAMnD,KAAO,mBACpB8wJ,EAAO3tJ,MAAMhE,MAAQ,QACrB2xJ,EAAOjrJ,YAAc,eACrBirJ,EAAOsN,aAAe,KACtBtN,EAAOuN,aAAe,KACtBvN,EAAOwN,QAAU,IACnB,CAoB6CK,CAAkB7N,EAC7D,IACOA,CACT,CACA,IAAI9mJ,EAAUxJ,SAASC,cAAc,KAOrC,OANAuJ,EAAQiF,KAAO,qBACfjF,EAAQkJ,UAAY,sBACpBlJ,EAAQ7G,MAAMnD,KAAO,mBACrBgK,EAAQ7G,MAAMhE,MAAQ,QACtB6K,EAAQ7G,MAAMy7J,eAAiB,OAC/BvB,EAAerzJ,GACRA,CACT,CAyEuB60J,CAAkB7/J,MACjCwB,SAAS4S,KAAK3Q,YAAYzD,KAAKs9J,UAIjCt9J,KAAK8/J,SAAWx/I,EAAWnb,IAAI6X,IAC/BsD,EAAWhY,IAAI,OAAO,GACtBtI,KAAK+/J,sBAAsB7B,EAAKhzE,GAChClrF,KAAKggK,2BACDhgK,KAAKu9J,WACPv9J,KAAKu9J,WAAU,EAtBjB,MAFEhyJ,EAAOtB,KAAK,wDA0BhB,GACC,CACDzN,IAAK,wBACLe,MAAO,SAA+B2gK,EAAKhzE,GACzClrF,KAAKq9J,YAAYhsJ,KAAK6sJ,EAAItsG,QAC1BssG,EAAI5sE,MAAMzhD,IAAI7vC,KAAKy9J,OACnBS,EAAI5sE,MAAMzhD,IAAI7vC,KAAKw9J,eACnBx9J,KAAKw9J,cAAc3tH,IAAIquH,EAAI1oG,MAC3Bx1D,KAAK29J,aAAezyE,EAASizE,GAAG8B,cAAc,GAC9CjgK,KAAK49J,aAAe1yE,EAASizE,GAAG8B,cAAc,GAC9C,IAAI3kG,EAAOt7D,KAAKkgK,wBAChBlgK,KAAK29J,aAAa9tH,IAAIyrB,GACtBt7D,KAAK49J,aAAa/tH,IAAIyrB,EAAK9wC,SAC3BxqB,KAAKy9J,MAAM5tH,IAAI7vC,KAAK29J,cACpB39J,KAAKy9J,MAAM5tH,IAAI7vC,KAAK49J,aACtB,GACC,CACDphK,IAAK,2BACLe,MAAO,WACL,IAAIoN,EAAQ3K,KACZA,KAAK29J,aAAa/0J,iBAAiB,eAAe,SAAUgB,GAC1De,EAAMw1J,gBAAgBv2J,EACxB,IACA5J,KAAK29J,aAAa/0J,iBAAiB,aAAa,SAAUgB,GACxDe,EAAMy1J,cAAcx2J,EACtB,IACA5J,KAAK49J,aAAah1J,iBAAiB,eAAe,SAAUgB,GAC1De,EAAMw1J,gBAAgBv2J,EACxB,IACA5J,KAAK49J,aAAah1J,iBAAiB,aAAa,SAAUgB,GACxDe,EAAMy1J,cAAcx2J,EACtB,IACA5J,KAAK29J,aAAa/0J,iBAAiB,gBAAgB,SAAUgB,GAC3De,EAAMw1J,gBAAgBv2J,EACxB,IACA5J,KAAK29J,aAAa/0J,iBAAiB,cAAc,SAAUgB,GACzDe,EAAMy1J,cAAcx2J,EACtB,IACA5J,KAAK49J,aAAah1J,iBAAiB,gBAAgB,SAAUgB,GAC3De,EAAMw1J,gBAAgBv2J,EACxB,IACA5J,KAAK49J,aAAah1J,iBAAiB,cAAc,SAAUgB,GACzDe,EAAMy1J,cAAcx2J,EACtB,GACF,GACC,CACDpN,IAAK,UACLe,MAAO,WACL,GAAKyC,KAAK+9J,KAAV,CAGA,IAAIsC,EAAargK,KAAK+9J,KAClB7yE,EAAWm1E,EAAWn1E,SACtBt5B,EAASyuG,EAAWzuG,OACxB,IAAKs5B,EACH,MAAM,IAAIzgF,MAAM,4CAElBygF,EAASo1E,iBAAiB,MAC1B,IAAIrB,EAAU/zE,EAASizE,GAAGoC,aACtBtB,GACFA,EAAQn8J,MAEVooF,EAASizE,GAAG1xJ,SAAU,EAClBzM,KAAKs9J,UACPt9J,KAAKs9J,QAAQn5J,MAAM6C,QAAU,QAE/BsZ,EAAWhY,IAAI,MAAOtI,KAAK8/J,UAC3B9/J,KAAKwgK,wBAAwB5uG,GACzB5xD,KAAKu9J,WACPv9J,KAAKu9J,WAAU,EAnBjB,CAqBF,GACC,CACD/gK,IAAK,0BACLe,MAAO,SAAiCq0D,GAClC5xD,KAAKq9J,aAAezrG,GACtBA,EAAOvgD,KAAKrR,KAAKq9J,aAEnB,IAAI7nG,EAAOx1D,KAAKw9J,cAAchwG,SAAS,GACnCgI,GACFx1D,KAAK+9J,KAAKzsE,MAAMzhD,IAAI2lB,GAEtBx1D,KAAKw9J,cAAc3uG,OAAOrlD,OAAOxJ,KAAKw9J,eAClCx9J,KAAKy9J,OACPz9J,KAAK+9J,KAAKzsE,MAAM9nF,OAAOxJ,KAAKy9J,OAE9Bz9J,KAAKw9J,cAAgB,KACrBx9J,KAAKy9J,MAAQ,KACbz9J,KAAK09J,cAAgB,KACrB19J,KAAKy9J,MAAQ,KACbz9J,KAAK29J,aAAe,KACpB39J,KAAK49J,aAAe,IACtB,GACC,CACDphK,IAAK,wBACLe,MAAO,WACL,IAAIqzD,EAAW,IAAI,MAAiB,IAAM,IAAM,IAC5C30C,EAAW,IAAI0xE,GACnB1xE,EAAS45C,UAAU,CACjBG,QAAQ,EACRD,eAAe,IAEjB95C,EAASi6C,eAAe,CACtBC,WAAY,IAAI,MAAM,WAExBl6C,EAASw1E,iBACT,IAAIgvE,EAAW,IAAI,MAAK7vG,EAAU30C,GAElC,OADAwkJ,EAASC,SAAS1+J,KAAK2C,GAAK,GACrB87J,CACT,GACC,CACDjkK,IAAK,sBACLe,MAAO,WACL,GAAKyC,KAAK29J,cAAiB39J,KAAK49J,aAAhC,CAGA,IAAI/gK,EAAOmD,KACX,GAAkC,IAA9BnD,EAAKghK,qBAA4B,CACnC1qG,GAASkD,eAAex5D,EAAK8gK,aAAaz8J,SAAUrE,EAAK+gK,aAAa18J,SAAUrE,EAAK6gK,cAAcx8J,UACnG,IAAI21C,EAAOh6C,EAAK8gK,aAAaz8J,SAAS4oB,WAAWjtB,EAAK+gK,aAAa18J,UAC/Dy/J,EAAS9pH,EAAOh6C,EAAKihK,UACzBjhK,EAAK6gK,cAAcr9J,MAAM4qB,eAAe01I,GACxC9jK,EAAKihK,UAAYjnH,CACnB,CARA,CASF,GACC,CACDr6C,IAAK,yBACLe,MAAO,WACL,IAAI2gK,EAAMl+J,KAAK+9J,KACXnsG,EAASssG,EAAItsG,OACbgvG,EAAY5gK,KAAKw9J,cACrBoD,EAAUr3H,OAAO0kB,WACjB2yG,EAAU1/J,SAASoH,IAAI,EAAG,GAAI,GAC9Bs4J,EAAU5gD,eACV4gD,EAAU5xG,YAAYmjC,iBAAiBvgC,EAAO5C,YAAa4xG,EAAUr3H,QACrE20H,EAAI5sE,MAAMviC,wBAAwB6xG,GAC9B5gK,KAAKu9J,WACPv9J,KAAKu9J,WAAU,EAEnB,GACC,CACD/gK,IAAK,YACLe,MAAO,WACL,IAAI2gK,EAAMl+J,KAAK+9J,KACf,OAAOG,GAAOA,EAAIhzE,SAAWgzE,EAAIhzE,SAAShlF,WAAa,IACzD,KAEKi3J,CACT,CAvOe,GA6Of,IAAI0D,GAAct0G,GAAKC,UACnBvmC,GAAOsmC,GAAKtmC,KACZoG,GAAUkgC,GAAKlgC,QACf2H,GAAQu4B,GAAKv4B,MACbs4B,GAAWC,GAAKD,SAMhBw0G,GAAmB,iDAEnBr/J,GAAgB8N,EAAM9N,cAK1B,SAASs/J,GAAgBlyJ,GACvB,IAAI8b,EAAM9b,EAASE,YAAY,KAI/B,OAHI4b,GAAO,IACT9b,EAAWA,EAAS5B,OAAO,EAAG0d,IAEzB9b,CACT,CAYA,SAASmyJ,GAAe11J,EAAKsY,EAAQq9I,QAEnBh9J,IAAZg9J,EACF31J,EAAIxB,MAAM,GAAGuB,OAAOuY,EAAQ,QAAQvY,OAAOrJ,KAAKoyC,MAF9B,IAEoC6sH,GAA0B,MAEhF31J,EAAIxB,MAAM,GAAGuB,OAAOuY,EAAQ,OAEhC,CACA,SAASs9I,KACP,OAAO5gJ,EAAWnb,IAAImW,eAAiBgF,EAAWnb,IAAIkW,SAAWiF,EAAWnb,IAAIkU,GAAG9Y,KACrF,CACA,SAAS4gK,GAAsBP,EAAW76J,GAExC,IADA,IAAI8oD,EAAS+xG,EACN/xG,EAAO/sD,YACZ+sD,EAAO7qD,YAAY6qD,EAAO/sD,YAE5B+sD,EAAOprD,YAAYsC,EACrB,CACA,SAASq7J,GAAqBr4J,GAC5B,OAAOA,EAAQs4J,aAAa,iBAC9B,CACA,SAASC,GAAcv4J,GACrB,OAAOA,EAAQs4J,aAAa,wBAA0Bt4J,EAAQs4J,aAAa,qBAC7E,CACA,IAAIE,GAAU,qDACVC,GAAY,gCACZC,GAAc,yBAgNlB,SAASC,GAAwBrrJ,EAAMsqG,GACrC,OAAOtqG,EAAKoQ,KAAO,GAAKk6F,CAC1B,CACA,SAASghD,GAAoBtrJ,EAAM2F,GACjC,OAAOA,EAASA,SAASirB,aAAa5wB,EACxC,CACA,IAAIurJ,GAAO,SAAU9rJ,GACnB1Y,EAAUwkK,EAAM9rJ,GAChB,IAvRoBvI,EAAeC,EAuR/BC,GAvRgBF,EAuRMq0J,EAvRSp0J,EACrC,WAAuC,GAAuB,oBAAZnG,UAA4BA,QAAQC,UAAW,OAAO,EAAO,GAAID,QAAQC,UAAUC,KAAM,OAAO,EAAO,GAAqB,mBAAVC,MAAsB,OAAO,EAAM,IAAsF,OAAhFC,QAAQjM,UAAUkM,QAAQhK,KAAK2J,QAAQC,UAAUG,QAAS,IAAI,WAAa,MAAY,CAAM,CAAE,MAAOE,GAAK,OAAO,CAAO,CAAE,CADvQk6J,GAAoC,WAAkC,IAAsCx1J,EAAlCsB,EAAQhQ,EAAgB4P,GAAkB,GAAIC,EAA2B,CAAE,IAAII,EAAYjQ,EAAgBqC,MAAMzE,YAAa8Q,EAAShF,QAAQC,UAAUqG,EAAO9N,UAAW+N,EAAY,MAASvB,EAASsB,EAAM5N,MAAMC,KAAMH,WAAc,OAAOpC,EAA2BuC,KAAMqM,EAAS,GAwRna,SAASu1J,EAAKxgK,GACZ,IAAIuJ,EACJlP,EAAgBuE,KAAM4hK,IACtBj3J,EAAQ8C,EAAO/P,KAAKsC,OACd8oE,OAAQ,IAAAxpD,OAAM,CAClBwiJ,eAAgB,WAChBC,WAAY,KACX3gK,GACHuJ,EAAMozJ,KAAO,KACbpzJ,EAAMq3J,cAAgB,IAAIhH,GAC1BrwJ,EAAMs3J,WAAa7gK,GAAQA,EAAKw/J,WAAap/J,SAAS0gK,eAAe,oBAAqB,IAAAC,MAAK3gK,SAAS4gK,uBAAuB,oBAAsB5gK,SAAS4S,KAC9JzJ,EAAM03J,eAAiB13J,EAAMs3J,WAC7Bt3J,EAAM23J,UAAW,EACjB33J,EAAM43J,UAAW,EACjB53J,EAAM63J,WAAY,EAClB73J,EAAM83J,aAAc,EACpB93J,EAAM+3J,iBAAkB,EACxB/3J,EAAM0a,SAAW/E,EACjB,IAAIhV,EAAMC,EACVD,EAAIlB,SAAU,EACdkB,EAAIT,MAAQ,OACZF,EAAMY,OAASD,EACfX,EAAMg4J,SAAW,IAAI3G,GAAQp/J,EAAuB+N,IACpDA,EAAMi4J,kBACFxhK,GAAQA,EAAKikB,UACf1a,EAAM0a,SAAS/c,IAAIlH,EAAKikB,UAE1B1a,EAAMk4J,SAAW,KACjBl4J,EAAMm4J,SAAW,GACjBn4J,EAAMo4J,cAAgB,KACtBp4J,EAAMq4J,SAAW,CAAC,EAClBr4J,EAAMs4J,eAAiB,KACvBt4J,EAAMiY,SAAW,GACjBjY,EAAMu4J,cAAgB,KACtBv4J,EAAMwU,QACFxU,EAAMk3G,OACRv2G,EAAIxB,MAAM,YAAYuB,OAAOV,EAAMk3G,MAAM/lG,KAAKvd,KAAM,eAAe8M,OAAOV,EAAMk3G,MAAM9lG,QAAQxd,KAAM,cAEtG,IAAI1B,EAAOD,EAAuB+N,GA+ClC,OA9CAi3J,EAAKuB,kBAAkB95J,SAAQ,SAAUgX,GACvCA,EAAO3iB,KAAKb,EACd,IACA8N,EAAMy4J,yBACNz4J,EAAM04J,aAAe,IAAI,MACzB14J,EAAMhK,UAAY,IAAI,MACtBgK,EAAM24J,IAAM,CACVh7H,OAAQ,IAAI,MACZi7H,SAAU,IAAI,OAEhB54J,EAAM64J,qBAAuB,IAAI,MACjC74J,EAAM84J,kBAAoB,IAAI,MAC9B94J,EAAM+4J,MAAQ,IAAI,MAClB/4J,EAAMg5J,WAAa,IAAI,MACvBh5J,EAAMi5J,QAAU,CAAC,IAAI,MAAW,IAAI,MAAW,IAAI,MAAW,IAAI,OAClEj5J,EAAMk5J,aAAe,IAAInJ,GACzB/vJ,EAAMm5J,MAAQ,IAAI,MAClBn5J,EAAM4kD,OAAS,IAAI,MACnB5kD,EAAM8kD,QAAU,IAAI,OAAoB,EAAK,EAAK,GAAM,GAAM,IAAK,KACnE9kD,EAAM0kD,UAAY,IAAI,MAAkB,CACtCiB,SAAU,CACRC,OAAQ,CACN1nD,KAAM,IACNtL,MAAO,MAETwmK,WAAY,CACVl7J,KAAM,MACNtL,MAAO,IAAI,MAAQ,KAGvBizD,aAAczC,GACdiD,eAhW8B,6aAiW9Bv0C,aAAa,EACbg0C,WAAW,EACXnB,YAAY,IAEd3kD,EAAMksF,KAAO1jC,GAASoB,mBAAmB,GAAI,GAAIj0C,EAAWnb,IAAI2E,MAAM+U,cACtElU,EAAMq5J,iBAAmB,IAAInL,GAAgB,CAC3CrgJ,OAAO,IAET7N,EAAMwqH,KAAO,CACX8uC,UAAW,MACXC,UAAW,MACXl0C,OAAQ,OAEVrlH,EAAMsV,QAAU,qCACTtV,CACT,CA2+FA,OA1+FAlO,EAAamlK,EAAM,CAAC,CAClBplK,IAAK,4BACLe,MAAO,WACL,OAAOkkH,GAAckB,uBACvB,GACC,CACDnmH,IAAK,sBACLe,MAAO,WACLyC,KAAK+9J,KAAKzsE,MAAMxiC,oBAChB,IAAK,IAAI9yD,EAAI,EAAGA,EAAIgE,KAAK+9J,KAAKzsE,MAAM9jC,SAASvxD,OAAQD,IACnD,GAAyC,qBAArCgE,KAAK+9J,KAAKzsE,MAAM9jC,SAASxxD,GAAG6M,KAA6B,CAC3D,IAAIs7J,EAAQnkK,KAAK+9J,KAAKzsE,MAAM9jC,SAASxxD,GACrCgE,KAAKqjK,aAAahyJ,KAAK8yJ,EAAMljK,OAAO2wD,OAAOW,oBAC3CvyD,KAAKokK,OAAOpkK,KAAKqjK,aAAcrjK,KAAKsjK,KACpCtjK,KAAKW,UAAUwkE,WAAWg/F,EAAMroK,OAAOoF,SAAUijK,EAAMjjK,UACvDijK,EAAMjjK,SAASikE,WAAWnlE,KAAKsjK,IAAIh7H,OAAQtoC,KAAKW,WAChDwjK,EAAMroK,OAAOoF,SAASmQ,KAAKrR,KAAKsjK,IAAIh7H,QACpC67H,EAAMljK,OAAOgnD,KAAO,IACpBk8G,EAAMljK,OAAO2wD,OAAO0sG,QAAUt+J,KAAKsjK,IAAIC,SAAS7gK,EAChDyhK,EAAMljK,OAAO2wD,OAAO7wD,IAAMf,KAAKsjK,IAAIC,SAAS7gK,EAC5CyhK,EAAMljK,OAAO2wD,OAAOtoC,MAAQtpB,KAAKsjK,IAAIC,SAAS9gK,EAC9C0hK,EAAMljK,OAAO2wD,OAAO5wD,MAAQhB,KAAKsjK,IAAIC,SAAS9gK,EAC9C0hK,EAAMljK,OAAO2wD,OAAOU,KAAOtyD,KAAKW,UAAU1E,SAAW+D,KAAKsjK,IAAIC,SAAS7zI,EACvEy0I,EAAMljK,OAAO2wD,OAAOa,IAAMzyD,KAAKW,UAAU1E,SAAW+D,KAAKsjK,IAAIC,SAAS7zI,EACtEy0I,EAAMljK,OAAO2wD,OAAOG,wBACtB,CAEJ,GACC,CACDv1D,IAAK,OACLe,MAAO,WACL,IAAIqjK,EAAY5gK,KAAKiiK,WACjBv6G,EAAOn4C,EAAM9N,cAAc,MAAO,CACpC4iK,MAAO,gBAETlD,GAAsBP,EAAWl5G,GACjC1nD,KAAKiiK,WAAav6G,EAClB,IAAI48G,EAAO9iK,SAAS+iK,yBAQpB,GAPAD,EAAK7gK,YAAYzD,KAAKwkK,SAAW/iK,GAAc,MAAO,CACpD4iK,MAAO,wBACN5iK,GAAc,IAAK,CAAC,EAAG,yBAC1B6iK,EAAK7gK,YAAYzD,KAAKykK,aAAehjK,GAAc,MAAO,CACxD4iK,MAAO,qBACN5iK,GAAc,IAAK,CAAC,EAAG,MAC1Bm/J,EAAUn9J,YAAY6gK,GACJ,OAAdtkK,KAAK+9J,KACP,OAAO,EAET,IAAIlhK,EAAOmD,KACXA,KAAK0kK,aAAa,kCAClB,IACE1kK,KAAK2kK,WACL3kK,KAAK4kK,iBACL5kK,KAAK6iK,SAAW,IAAI1hK,EAAQ,CAC1BjB,MAAO,GACPjE,OAAQ,GACRkE,MAAO,GACPC,OAAQ,GACRG,MAAO,OACPM,OAAQ,MAEV2E,OAAOzE,IAAI6H,iBAAiB,WAAW,SAAUgB,GAC/C/M,EAAKgoK,WAAWj7J,EAClB,IACApE,OAAOzE,IAAI6H,iBAAiB,SAAS,SAAUgB,GAC7C/M,EAAKioK,SAASl7J,EAChB,IACA5J,KAAK+kK,gBAAkB,IAAI7Y,GAAelsJ,KAAK+9J,KAAKvoG,KAAMx1D,KAAK+9J,KAAKx+C,MAAOv/G,KAAK+9J,KAAKnsG,OAAQ5xD,KAAK+9J,KAAK7yE,SAAShlF,YAAY,WAC1H,OAAOrJ,EAAKmoK,YACd,IACAhlK,KAAK+kK,gBAAgBn8J,iBAAiB,UAAU,SAAUjB,GAIxD,OAHI2Y,EAAWnb,IAAIlE,OAAO8F,IACxBlK,EAAKooK,sBAECt9J,EAAEic,QACR,IAAK,SACH/mB,EAAK8M,cAAc,CACjBd,KAAM,SACN8lD,WAAYhnD,EAAEgnD,aAEhB,MACF,IAAK,OACH9xD,EAAK8M,cAAc,CACjBd,KAAM,OACNuR,OAAQzS,EAAEyS,SAEZ,MACF,QACEvd,EAAK8M,cAAc,CACjBd,KAAMlB,EAAEic,SAGd/mB,EAAK8M,cAAc,CACjBd,KAAM,cAERhM,EAAK4lK,aAAc,CACrB,IACA,IAAIvE,EAAMl+J,KAAK+9J,KACf/9J,KAAKklK,QAAU,IAAI9W,GAAO8P,EAAI1oG,KAAM0oG,EAAItsG,OAAQssG,EAAIhzE,SAAShlF,YAC7DlG,KAAKklK,QAAQt8J,iBAAiB,WAAW,SAAUgB,GACjD/M,EAAKsoK,QAAQv7J,EACf,IACA5J,KAAKklK,QAAQt8J,iBAAiB,YAAY,SAAUgB,GAClD/M,EAAKyrC,OAAO1+B,EACd,GACF,CAAE,MAAOM,GACP,GAAmB,cAAfA,EAAM3L,MAA0C,gDAAlB2L,EAAMc,QACtChL,KAAK0kK,aAAa,uCACb,MAAIx6J,EAAMc,QAAQmB,OAAO,UAAY,GAI1C,MADAnM,KAAK0kK,aAAa,iCACZx6J,EAHNlK,KAAK0kK,aAAax6J,EAAMc,QAI1B,CACA,OAAO,CACT,CACA,IAAIo6J,EAAOplK,KAAK8oE,OAAS9oE,KAAK8oE,MAAMzmD,KACpC,GAAI+iJ,EAAM,CACR,IAAIv8J,EAAO7I,KAAK8oE,OAAS9oE,KAAK8oE,MAAMjgE,KACpC7I,KAAKqiB,KAAK+iJ,EAAM,CACdjyC,SAAUtqH,EACVw8J,cAAc,GAElB,CACA,OAAO,CACT,GACC,CACD7oK,IAAK,OACLe,MAAO,WACLyC,KAAK0kK,aAAa,+BAClB1kK,KAAK8iK,SAASz5J,SAAQ,SAAUi8J,GAC9BA,EAAIC,QACN,IACAvlK,KAAK8iK,SAAS7mK,OAAS,EACvB+D,KAAKwlK,OACLxlK,KAAK+9J,KAAO,IACd,GACC,CACDvhK,IAAK,eACLe,MAAO,SAAsBkoK,GAC3B,IAAI1/J,EAAUvE,SAASC,cAAc,OACrCsE,EAAQrE,aAAa,QAAS,gBAC9BqE,EAAQtC,YAAYjC,SAASC,cAAc,MAAMgC,YAAYjC,SAASmP,eAAe80J,IACrFtE,GAAsBnhK,KAAKiiK,WAAYl8J,EACzC,GACC,CACDvJ,IAAK,cACLe,MAAO,WACL4jK,GAAsBnhK,KAAKiiK,WAAYjiK,KAAK+9J,KAAK7yE,SAAShlF,WAC5D,GACC,CACD1J,IAAK,yBACLe,MAAO,SAAgCuL,GACrC,IAAIq1J,EAAKn+J,KAAK+9J,KAAK7yE,SAASizE,GACxBA,GAAMA,EAAG1xJ,QACXzM,KAAK+9J,KAAK7yE,SAASo1E,iBAAiBx3J,GAGtCnF,sBAAsBmF,EACxB,GACC,CACDtM,IAAK,WACLe,MAAO,WACL,IAAI2gK,EAAM,CACR/9J,MAAOH,KAAKiiK,WAAWyD,YACvBxiK,OAAQlD,KAAKiiK,WAAW0D,cAEtBC,EAAe,CACjBC,uBAAuB,EACvBnrG,OAAO,EACPorG,oBAAoB,GAElBxlJ,EAAWnb,IAAIyV,YACjBgrJ,EAAahrJ,WAAY,GAE3BsjJ,EAAI6H,WAAa,IAAIzb,GACrB4T,EAAIhzE,SAAW,IAAI,MAAe06E,GAClC1H,EAAIhzE,SAAS86E,UAAUv5J,QAAU6T,EAAWnb,IAAIlE,OAAO8F,GACvDm3J,EAAIhzE,SAAS86E,UAAUC,YAAa,EACpC/H,EAAIhzE,SAAS86E,UAAUn9J,KAAO,MAC9BmiF,GAAaz1D,KAAK2oI,EAAIhzE,UACjBk2E,GAAqBlD,EAAIhzE,SAASg7E,eACrC5lJ,EAAWhY,IAAI,YAAY,GAExBg5J,GAAcpD,EAAIhzE,SAASg7E,eAC9B5lJ,EAAWhY,IAAI,MAAM,GAEvB41J,EAAIhzE,SAASgpE,WAAY,EACzBgK,EAAIhzE,SAASi7E,cAAc3gK,OAAO4gK,kBAClClI,EAAIhzE,SAASm7E,QAAQnI,EAAI/9J,MAAO+9J,EAAIh7J,QACpCg7J,EAAIhzE,SAASo7E,cAAchmJ,EAAWnb,IAAIkU,GAAG9Y,MAAOqgB,QAAQN,EAAWnb,IAAIkU,GAAGoD,cAC9EyhJ,EAAIhzE,SAASq7E,aACbrI,EAAI6H,WAAWM,QAAQnI,EAAI/9J,MAAO+9J,EAAIh7J,QACtCg7J,EAAItsG,OAAS,IAAI,MAAkBtxC,EAAWnb,IAAI0V,OAAQqjJ,EAAI/9J,MAAQ+9J,EAAIh7J,OAAQod,EAAWnb,IAAI2V,QAASwF,EAAWnb,IAAI4V,QACzHmjJ,EAAItsG,OAAOT,cAAc7wC,EAAWnb,IAAI0V,QACxCqjJ,EAAItsG,OAAO1wD,SAASwuB,EAAIpP,EAAWnb,IAAI6V,YACvCkjJ,EAAItsG,OAAOG,yBACXmsG,EAAItsG,OAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOziD,SACtCyyJ,EAAItsG,OAAO0D,OAAO5oD,OAAOymD,GAASjF,OAAOC,QACzC+vG,EAAItsG,OAAO0D,OAAO5oD,OAAOymD,GAASjF,OAAOI,gBACzC4vG,EAAIsI,UAAY,IAAI,MACpBtI,EAAI5sE,MAAQ,IAAI,MAChB,IAAI/wF,EAAQ2gK,KACZhD,EAAI5sE,MAAMt0E,IAAM,IAAI,MAAIzc,EAAO+f,EAAWnb,IAAI2V,QAASwF,EAAWnb,IAAI4V,QACtEmjJ,EAAI1oG,KAAO,IAAIrC,GAASjG,QACxBgxG,EAAI5sE,MAAMzhD,IAAIquH,EAAI1oG,MAClB0oG,EAAI3+C,MAAQ,IAAIpsD,GAASjG,QACzBgxG,EAAI1oG,KAAK3lB,IAAIquH,EAAI3+C,OACjB2+C,EAAIuI,eAAiB,IAAI,MACzBvI,EAAIwI,cAAgB,IAAI,MACxBxI,EAAIwI,cAAc7oD,kBAAmB,EACrCqgD,EAAIuI,eAAe52H,IAAIquH,EAAIwI,eAC3BxI,EAAIyI,eAAiB,IAAI,MACzBzI,EAAIyI,eAAe9oD,kBAAmB,EACtCqgD,EAAIwI,cAAc72H,IAAIquH,EAAIyI,gBAC1B,IAAIC,EAAU,IAAI,MAAiB,SAAU,KAC7CA,EAAQ1lK,SAASoH,IAAI,EAAG,KAAO,GAC/Bs+J,EAAQtxG,OAAO5oD,OAAOymD,GAASjF,OAAOE,aACtCw4G,EAAQ90E,YAAa,EACrB80E,EAAQ3lK,OAAOgnD,KAAO,IACtB2+G,EAAQ3lK,OAAOb,OAASkgB,EAAWnb,IAAIlE,OAAOb,OAC9CwmK,EAAQ3lK,OAAO2wD,OAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOM,WACjD,IAAIq4G,EAAa3I,EAAIhzE,SAAS47E,gBAC1BC,EAAgB/kK,KAAK8M,IAAIovJ,EAAI/9J,MAAO+9J,EAAIh7J,QAAU2jK,EACtDD,EAAQ3lK,OAAO+lK,QAAQ7mK,MAAQ4mK,EAC/BH,EAAQ3lK,OAAO+lK,QAAQ9jK,OAAS6jK,EAChCH,EAAQ9qK,OAAOoF,SAASoH,IAAI,EAAK,EAAK,GACtC41J,EAAI5sE,MAAMzhD,IAAI+2H,GACd1I,EAAI5sE,MAAMzhD,IAAI+2H,EAAQ9qK,QACtB,IAAImrK,EAAS,IAAI,MAAa,SAC9BA,EAAO3xG,OAAO5oD,OAAOymD,GAASjF,OAAOE,aACrC8vG,EAAI5sE,MAAMzhD,IAAIo3H,GACd/I,EAAInhJ,KAAO,IAAI62I,GAAKsK,EAAI1oG,KAAM0oG,EAAItsG,QAClC,IAAIs1G,EAAchJ,EAAI/9J,MAAQ0mK,EAC1BM,EAAejJ,EAAIh7J,OAAS2jK,EAChC3I,EAAIkJ,aAAe,IAAI,MAAkBF,EAAaC,EAAc,CAClElD,UAAW,MACXC,UAAW,MACXl0C,OAAQ,MACRq3C,aAAa,IAEXnJ,EAAIhzE,SAASg7E,aAAa7E,aAAa,yBACzCnD,EAAIkJ,aAAazN,aAAe,IAAI,MACpCuE,EAAIkJ,aAAazN,aAAa9wJ,KAAO,OAEvCq1J,EAAIoJ,cAAgB,IAAI,MAAkBJ,EAAaC,EAAc,CACnElD,UAAW,MACXC,UAAW,MACXl0C,OAAQ,MACRq3C,aAAa,IAEfnJ,EAAIqJ,cAAgB,IAAI,MAAkBL,EAAaC,EAAc,CACnElD,UAAW,MACXC,UAAW,MACXl0C,OAAQ,MACRq3C,aAAa,IAEfnJ,EAAIsJ,cAAgB,IAAI,MAAkBN,EAAaC,EAAc,CACnElD,UAAW,MACXC,UAAW,MACXl0C,OAAQ,MACRq3C,aAAa,IAEfnJ,EAAIuJ,SAAWvJ,EAAIqJ,cACnBrJ,EAAIwJ,SAAWxJ,EAAIsJ,cACnBtJ,EAAIyJ,UAAYzJ,EAAIkJ,aAChBlJ,EAAIhzE,SAASg7E,aAAa7E,aAAa,sBACzCnD,EAAI0J,cAAgB,IAAI,MAAkBV,EAAaC,EAAc,CACnElD,UAAW,MACXC,UAAW,MACXl0C,OAAQ,MACRnnH,KAAM,MACNw+J,aAAa,IAEfnJ,EAAI2J,cAAgB,IAAI,MAAkBX,EAAaC,EAAc,CACnElD,UAAW,MACXC,UAAW,MACXl0C,OAAQ,MACRnnH,KAAM,MACNw+J,aAAa,IAEfnJ,EAAI4J,cAAgB,IAAI,MAAkBZ,EAAaC,EAAc,CACnElD,UAAW,MACXC,UAAW,MACXl0C,OAAQ,MACRnnH,KAAM,MACNw+J,aAAa,IAEfnJ,EAAIuJ,SAAWvJ,EAAI0J,cACnB1J,EAAIwJ,SAAWxJ,EAAI2J,cACnB3J,EAAIyJ,UAAYzJ,EAAI4J,eAEpB9nK,KAAKuL,OAAOtB,KAAK,sDAEnBi0J,EAAI6J,WAAa,IAAI,MAAkBb,EAAaC,EAAc,CAChElD,UAAW,MACXC,UAAW,MACXl0C,OAAQ,MACRq3C,aAAa,IAEfnJ,EAAI8J,WAAa,IAAI,MAAkBd,EAAaC,EAAc,CAChElD,UAAW,MACXC,UAAW,MACXl0C,OAAQ,MACRq3C,aAAa,IAEfrnK,KAAK+9J,KAAOG,EACZl+J,KAAKioK,cACLjoK,KAAKkoK,YAAsC,UAA1B5nJ,EAAWnb,IAAIkZ,QAChCre,KAAKiiK,WAAWx+J,YAAYy6J,EAAI6H,WAAWj5G,cAC3C,IAAIq7G,EAAQ,IAAIliK,EAChBkiK,EAAMjiK,WAAW/B,MAAMjD,SAAW,WAClCinK,EAAMjiK,WAAW/B,MAAMmlB,MAAQ,IAC/B6+I,EAAMjiK,WAAW/B,MAAMm6J,OAAS,IAChCt+J,KAAKiiK,WAAWx+J,YAAY0kK,EAAMjiK,YAClClG,KAAKooK,KAAOD,EACZnoK,KAAKooK,KAAKjlD,KAAK7iG,EAAWnb,IAAIyB,IAChC,GACC,CACDpK,IAAK,iBACLe,MAAO,WACL,IAAIV,EAAOmD,KACXwF,OAAOoD,iBAAiB,UAAU,WAChC/L,EAAKwrK,WACP,GACF,GACC,CACD7rK,IAAK,wBACLe,MAAO,SAA+B+qK,GACpC,IAAKA,EACH,OAAOtmK,KAAKumK,SAASlqK,WAIvB,IAFA,IAAIE,EAAO+pK,EACPE,EAAS,EACNxoK,KAAKgjK,SAASljK,eAAevB,IAClCA,EAAO,GAAG8M,OAAOi9J,EAAU,MAAMj9J,OAAOm9J,EAAOnqK,WAAY,KAC3DmqK,IAEF,OAAOjqK,CACT,GACC,CACD/B,IAAK,aACLe,MAAO,SAAoBiiH,GACzB,IAAKA,EACH,OAAO,KAET,IAAIjhH,EAAOyB,KAAKyoK,sBAAsBjpD,EAAOjhH,MAO7C,OANAihH,EAAOjhH,KAAOA,EACdyB,KAAKgjK,SAASzkK,GAAQihH,EACtBx/G,KAAK+9J,KAAKx+C,MAAM1vE,IAAI2vE,GAChBA,EAAOG,iBACT3/G,KAAK+9J,KAAK4I,eAAe92H,IAAI2vE,EAAOG,mBAE/BphH,CACT,GACC,CACD/B,IAAK,gBACLe,MAAO,SAAuBiiH,GAC5B,IAAIjhH,EAAO,GACPnD,EAAM,KACNokH,aAAkB7oD,IACpBp4D,EAAOihH,EAAOjhH,KACdnD,EAAMokH,GACqB,iBAAXA,IAChBjhH,EAAOihH,EACPpkH,EAAM4E,KAAKgjK,SAASzkK,IAEjBnD,GAAQ4E,KAAKgjK,SAASljK,eAAevB,IAASyB,KAAKgjK,SAASzkK,KAAUnD,IAGvEmD,IAASyB,KAAKijK,iBAChBjjK,KAAKijK,oBAAiBh/J,UAEjBjE,KAAKgjK,SAASzkK,GACrBnD,EAAI+mH,UACJniH,KAAKyiK,aAAc,EACrB,GACC,CACDjmK,IAAK,iBACLe,MAAO,SAAwBuL,GAC7B,IAAK,IAAIvK,KAAQyB,KAAKgjK,SAChBhjK,KAAKgjK,SAASljK,eAAevB,IAC/BuK,EAAS9I,KAAKgjK,SAASzkK,GAG7B,GACC,CACD/B,IAAK,qBACLe,MAAO,WACL,GAAKyC,KAAK+9J,MAAS/9J,KAAK+9J,KAAKx+C,MAA7B,CAGA,IAAK,IAAIhhH,KAAQyB,KAAKgjK,SAChBhjK,KAAKgjK,SAASljK,eAAevB,IAC/ByB,KAAKgjK,SAASzkK,GAAM4jH,UAGxBniH,KAAKgjK,SAAW,CAAC,CANjB,CAOF,GACC,CACDxmK,IAAK,wBACLe,MAAO,SAA+BuL,GACpC,GAAK9I,KAAK+9J,MAAS/9J,KAAK+9J,KAAKx+C,MAG7B,IAAK,IAAIhhH,KAAQyB,KAAKgjK,SAChBhjK,KAAKgjK,SAASljK,eAAevB,IAASyB,KAAKgjK,SAASzkK,aAAiBkjH,IACvE34G,EAAS9I,KAAKgjK,SAASzkK,GAG7B,GACC,CACD/B,IAAK,oBACLe,MAAO,SAA2BgB,GAChCA,EAAOA,GAAQyB,KAAKijK,eACpB,IAAIyF,EAAM,KACNxiC,EAAQ,KAOZ,OANAlmI,KAAK2oK,uBAAsB,SAAUnpD,GACnCkpD,EAAMlpD,EACFA,EAAOjhH,OAASA,IAClB2nI,EAAQ1mB,EAEZ,IACO0mB,GAASwiC,CAClB,GACC,CACDlsK,IAAK,mBACLe,MAAO,WACL,IAAImrK,EAAM,KAMV,OALA1oK,KAAK4oK,gBAAe,SAAUppD,GACxBA,aAAkB2N,KACpBu7C,EAAMlpD,EAEV,IACOkpD,CACT,GACC,CACDlsK,IAAK,uBACLe,MAAO,SAA8B02B,GACnC,IAAKA,EACH,OAAO,KAET,IAAIqqB,EAAQ,KAMZ,OALAt+C,KAAK2oK,uBAAsB,SAAUnpD,GAC/BA,EAAO5xF,eAAiBqG,IAC1BqqB,EAAQkhE,EAEZ,IACOlhE,CACT,GACC,CACD9hD,IAAK,aACLe,MAAO,WACL,OAAOjB,OAAOyO,KAAK/K,KAAKgjK,SAC1B,GACC,CACDxmK,IAAK,yBACLe,MAAO,WACL,IAAIqY,EAAQ,EAIZ,OAHA5V,KAAK2oK,uBAAsB,WACzB,OAAO/yJ,GACT,IACOA,CACT,GACC,CACDpZ,IAAK,mBACLe,MAAO,WACL,OAAOyC,KAAKijK,cACd,GACC,CACDzmK,IAAK,mBACLe,MAAO,SAA0BgB,GAC1ByB,KAAKgjK,SAASzkK,KAGnByB,KAAKijK,eAAiB1kK,EACxB,GACC,CACD/B,IAAK,MACLe,MAAO,WACL,IAAI6mC,EAASpkC,KACb,IAAKA,KAAKsiK,SAAU,CAElB,GADAtiK,KAAKsiK,UAAW,EACZtiK,KAAKuiK,SAEP,YADAviK,KAAKuiK,UAAW,GAGlBviK,KAAK+kK,gBAAgBr4J,QAAO,GAC5B1M,KAAKgiK,cAAc6G,SACnB7oK,KAAK8oK,wBAAuB,WAC1B,OAAO1kI,EAAO2kI,SAChB,GACF,CACF,GACC,CACDvsK,IAAK,OACLe,MAAO,WACDyC,KAAKsiK,WACPtiK,KAAKgpK,wBACLhpK,KAAKipK,uBACLjpK,KAAK+kK,gBAAgBr4J,QAAO,GAC5B1M,KAAKgiK,cAAckH,QACnBlpK,KAAKuiK,UAAW,EAEpB,GACC,CACD/lK,IAAK,gBACLe,MAAO,SAAuBkP,GAC5BzM,KAAK0iK,gBAAkBj2J,EACvBzM,KAAK+kK,gBAAgBvU,cAAc/jJ,EACrC,GACC,CACDjQ,IAAK,YACLe,MAAO,WACLyC,KAAKyiK,aAAc,EACnB,IAAIvE,EAAMl+J,KAAK+9J,KACfG,EAAI/9J,MAAQH,KAAKiiK,WAAWyD,YAC5BxH,EAAIh7J,OAASlD,KAAKiiK,WAAW0D,aAC7BzH,EAAItsG,OAAOP,OAAS6sG,EAAI/9J,MAAQ+9J,EAAIh7J,OACpCg7J,EAAItsG,OAAOT,cAAc7wC,EAAWnb,IAAI0V,QACxCqjJ,EAAItsG,OAAOG,yBACXmsG,EAAIhzE,SAASm7E,QAAQnI,EAAI/9J,MAAO+9J,EAAIh7J,QACpCg7J,EAAI6H,WAAWM,QAAQnI,EAAI/9J,MAAO+9J,EAAIh7J,QACtClD,KAAK2J,cAAc,CACjBd,KAAM,UAEV,GACC,CACDrM,IAAK,0BACLe,MAAO,SAAiC4C,EAAO+C,EAAQmb,GACrD,IAAI6/I,EAAMl+J,KAAK+9J,KAEXoL,EAAwB,UAD5B9qJ,EAASA,GAAU,SAC8B,aAAXA,EAClC+qJ,EAAQD,EAAa,EAAI,GAC7BjL,EAAIkJ,aAAaf,QAAQ+C,EAAQjpK,EAAO+C,GACxCg7J,EAAIoJ,cAAcjB,QAAQ+C,EAAQjpK,EAAO+C,GACzCg7J,EAAIqJ,cAAclB,QAAQ+C,EAAQjpK,EAAO+C,GACzCg7J,EAAIsJ,cAAcnB,QAAQ+C,EAAQjpK,EAAO+C,GACrCg7J,EAAI0J,eACN1J,EAAI0J,cAAcvB,QAAQ+C,EAAQjpK,EAAO+C,GAEvCg7J,EAAI2J,eACN3J,EAAI2J,cAAcxB,QAAQ+C,EAAQjpK,EAAO+C,GAEvCg7J,EAAI4J,eACN5J,EAAI4J,cAAczB,QAAQ+C,EAAQjpK,EAAO+C,GAEvCimK,IACFjL,EAAI6J,WAAW1B,QAAQlmK,EAAO+C,GAC9Bg7J,EAAI8J,WAAW3B,QAAQlmK,EAAO+C,GAElC,GACC,CACD1G,IAAK,UACLe,MAAO,WACL,IAAIw6D,EAAS/3D,KACb,GAAIA,KAAKuiK,SAGP,OAFAviK,KAAKsiK,UAAW,OAChBtiK,KAAKuiK,UAAW,GAGlBviK,KAAKooK,KAAK/iK,SACVrF,KAAK8oK,wBAAuB,WAC1B,OAAO/wG,EAAOgxG,SAChB,IACA/oK,KAAKqpK,YACDrpK,KAAKyiK,cACPziK,KAAKspK,YACLtpK,KAAKyiK,aAAeniJ,EAAWnb,IAAIgY,eAA2C,UAA1BmD,EAAWnb,IAAIkZ,OAEvE,GACC,CACD7hB,IAAK,oBACLe,MAAO,WACL,IAAI6C,EAAS,EAIb,OAHAJ,KAAK4oK,gBAAe,SAAUppD,GAC5Bp/G,EAAS4B,KAAK8M,IAAI1O,EAAQo/G,EAAO76D,gBAAgB5c,eAAe3nC,OAClE,IACOA,EAASJ,KAAK+kK,gBAAgBxT,UACvC,GACC,CACD/0J,IAAK,SACLe,MAAO,SAAgBgsC,EAAQ+5H,GAC7B,IAAIiG,EAASvpK,KACbA,KAAK0jK,MAAM17H,YACXhoC,KAAK4oK,gBAAe,SAAUppD,GAC5B+pD,EAAO/F,qBAAqBnyJ,KAAKmuG,EAAO76D,gBAAgB5c,gBACxDwhI,EAAO/F,qBAAqBr6H,aAAaq2E,EAAOxwD,aAAa7lB,aAAaI,GAC1EggI,EAAO/F,qBAAqBx6E,eAAeugF,EAAO9F,mBAClD8F,EAAO7F,MAAM8F,MAAMD,EAAO9F,kBAC5B,IACAzjK,KAAK0jK,MAAMv7H,UAAUm7H,EAAIh7H,QACzBtoC,KAAK2jK,WAAWtyJ,KAAKk4B,GAAQ0lB,SAC7Bq0G,EAAIh7H,OAAOa,aAAanpC,KAAK2jK,YAC7B,IAAInpJ,EAAMxa,KAAK0jK,MAAMlpJ,IACjB1L,EAAM9O,KAAK0jK,MAAM50J,IACrB9O,KAAK4jK,QAAQ,GAAGt7J,IAAIkS,EAAI/X,EAAG+X,EAAI9X,EAAG8X,EAAIkV,GACtC1vB,KAAK4jK,QAAQ,GAAGt7J,IAAIwG,EAAIrM,EAAG+X,EAAI9X,EAAG8X,EAAIkV,GACtC1vB,KAAK4jK,QAAQ,GAAGt7J,IAAIkS,EAAI/X,EAAGqM,EAAIpM,EAAG8X,EAAIkV,GACtC1vB,KAAK4jK,QAAQ,GAAGt7J,IAAIkS,EAAI/X,EAAG+X,EAAI9X,EAAGoM,EAAI4gB,GACtC,IAAK,IAAI1zB,EAAI,EAAGomB,EAAIpiB,KAAK4jK,QAAQ3nK,OAAQD,EAAIomB,EAAGpmB,IAC9CgE,KAAK4jK,QAAQ5nK,GAAGmtC,aAAanpC,KAAK2jK,YAEpCL,EAAIC,SAASj7J,IAAItG,KAAKitB,IAAIjvB,KAAK4jK,QAAQ,GAAGnhK,EAAIzC,KAAK4jK,QAAQ,GAAGnhK,GAAIT,KAAKitB,IAAIjvB,KAAK4jK,QAAQ,GAAGlhK,EAAI1C,KAAK4jK,QAAQ,GAAGlhK,GAAIV,KAAKitB,IAAIjvB,KAAK4jK,QAAQ,GAAGl0I,EAAI1vB,KAAK4jK,QAAQ,GAAGl0I,IAAIzE,eAAe,GACrL,GACC,CACDzuB,IAAK,aACLe,MAAO,WACL,IAAI2gK,EAAMl+J,KAAK+9J,KACf,GAAIz9I,EAAWnb,IAAI6X,IAAK,CACtB,QAA6B,IAAlBkhJ,EAAI5sE,MAAMt0E,KAAyC,OAAlBkhJ,EAAI5sE,MAAMt0E,IAAc,CAClE,IAAIzc,EAAQ2gK,KACZhD,EAAI5sE,MAAMt0E,IAAM,IAAI,MAAIzc,GACxBP,KAAKypK,uBAAuB,CAC1BzsJ,IAAKsD,EAAWnb,IAAI6X,KAExB,EAx8BR,SAAwBA,EAAKsrB,EAAQloC,GACnC4c,EAAIs1C,KAAOhqB,EAASloC,EAASkgB,EAAWnb,IAAI+V,cAC5C8B,EAAIy1C,IAAMnqB,EAASloC,EAASkgB,EAAWnb,IAAIgW,YAC7C,CAs8BQuuJ,CAAexL,EAAI5sE,MAAMt0E,IAAKkhJ,EAAItsG,OAAO1wD,SAASwuB,EAAG1vB,KAAK2pK,oBAC5D,MAAWzL,EAAI5sE,MAAMt0E,MACnBkhJ,EAAI5sE,MAAMt0E,SAAM/Y,EAChBjE,KAAKypK,uBAAuB,CAC1BzsJ,IAAKsD,EAAWnb,IAAI6X,MAG1B,GACC,CACDxgB,IAAK,YACLe,MAAO,gBACoC0G,IAArCjE,KAAK4pK,6BAA6C5pK,KAAK4pK,gCAAkC5pK,KAAKwiK,WAChGxiK,KAAK6pK,cAEP7pK,KAAK+kK,gBAAgB1/J,SACrBrF,KAAK2oK,uBAAsB,SAAUnpD,GACnCA,EAAO5xF,aAAavoB,QACtB,IACIib,EAAWnb,IAAIkY,YAAcrd,KAAK8iK,SAAS7mK,SAAW+D,KAAKwiK,WAAaxiK,KAAK8pK,gBAC/E9pK,KAAK+pK,UAEF/pK,KAAK8iK,SAAS7mK,QAAW+D,KAAKwiK,WAAcxiK,KAAK8pK,gBACpD9pK,KAAKgqK,cAEPhqK,KAAKiqK,aACDjqK,KAAK+9J,KAAK7yE,SAASizE,GAAG1xJ,SACxBzM,KAAKkqK,MAAMC,qBAEf,GACC,CACD3tK,IAAK,YACLe,MAAO,WACL,IAAI2gK,EAAMl+J,KAAK+9J,KACfG,EAAI5sE,MAAMxiC,oBACVovG,EAAItsG,OAAO9C,oBACX9uD,KAAKoqK,sBAAsBpqK,KAAK2pK,qBAChC3pK,KAAKqqK,qBACLnM,EAAIhzE,SAASo/E,gBAAgB,MAC7BpM,EAAIhzE,SAASkpE,QACbp0J,KAAKuqK,aAAajqJ,EAAWnb,IAAIkZ,OACnC,GACC,CACD7hB,IAAK,eACLe,MAAO,SAAsB8gB,GAC3B,IAAI6/I,EAAMl+J,KAAK+9J,KACX7yE,EAAWgzE,EAAIhzE,SACnBA,EAASh3C,QAAQl0C,KAAK8jK,OACP,SAAXzlJ,IACF6/I,EAAItsG,OAAO44G,MAAQtM,EAAItsG,OAAO1wD,SAASwuB,EACvCwuI,EAAIsI,UAAUn1G,OAAS,EACR,aAAXhzC,EACF6/I,EAAIsI,UAAUnhK,OAAO64J,EAAItsG,QAEzBssG,EAAIsI,UAAU70G,gBAAgBusG,EAAItsG,OAAQtxC,EAAWnb,IAAI0V,SAG7D,IAAIgsJ,EAAa3I,EAAIhzE,SAAS47E,gBAG9B,OAFA9mK,KAAKyqK,wBAAwBzqK,KAAK8jK,MAAM3jK,MAAQ0mK,EAAY7mK,KAAK8jK,MAAM5gK,OAAS2jK,EAAYxoJ,GAC5Fre,KAAK0qK,mBACGrsJ,GACN,IAAK,QACL,IAAK,OACHre,KAAK2qK,aAAazM,EAAItsG,QAAQ,GAC9B,MACF,IAAK,SACL,IAAK,YACHs5B,EAAS0/E,gBAAe,GACxB1/E,EAAS2/E,WAAW,EAAG,EAAG7qK,KAAK8jK,MAAM3jK,MAAQ,EAAGH,KAAK8jK,MAAM5gK,QAC3DgoF,EAASipE,YAAY,EAAG,EAAGn0J,KAAK8jK,MAAM3jK,MAAQ,EAAGH,KAAK8jK,MAAM5gK,QAC5DlD,KAAK2qK,aAAa3qK,KAAK+9J,KAAKyI,UAAUsE,QAAoB,cAAXzsJ,GAC/C6sE,EAAS2/E,WAAW7qK,KAAK8jK,MAAM3jK,MAAQ,EAAG,EAAGH,KAAK8jK,MAAM3jK,MAAQ,EAAGH,KAAK8jK,MAAM5gK,QAC9EgoF,EAASipE,YAAYn0J,KAAK8jK,MAAM3jK,MAAQ,EAAG,EAAGH,KAAK8jK,MAAM3jK,MAAQ,EAAGH,KAAK8jK,MAAM5gK,QAC/ElD,KAAK2qK,aAAa3qK,KAAK+9J,KAAKyI,UAAUuE,QAAoB,cAAX1sJ,GAC/C6sE,EAAS0/E,gBAAe,GACxB,MACF,IAAK,WACH5qK,KAAK2qK,aAAa3qK,KAAK+9J,KAAKyI,UAAUsE,SAAS,EAAO5M,EAAI6J,YAC1D/nK,KAAK2qK,aAAa3qK,KAAK+9J,KAAKyI,UAAUuE,SAAS,EAAO7M,EAAI8J,YAC1D98E,EAASo/E,gBAAgB,MACzBtqK,KAAK6jK,aAAavzG,SAASsqG,KAAKr9J,MAAQ2gK,EAAI6J,WAAW57G,QACvDnsD,KAAK6jK,aAAavzG,SAASuqG,KAAKt9J,MAAQ2gK,EAAI8J,WAAW77G,QACvD+xG,EAAIhzE,SAASv7B,iBAAiB3vD,KAAK6jK,cAGvC3F,EAAI6H,WAAWr2G,OAAOwuG,EAAI5sE,MAAO4sE,EAAItsG,QACjCtxC,EAAWnb,IAAI4X,MAAQmhJ,EAAInhJ,OAASmhJ,EAAIhzE,SAASizE,GAAG1xJ,SACtDyxJ,EAAInhJ,KAAK2yC,OAAOw7B,EAEpB,GACC,CACD1uF,IAAK,oBACLe,MAAO,WACL,IAAI2gK,EAAMl+J,KAAK+9J,KACXx9J,EAAQ2gK,KACRhD,IACEA,EAAI5sE,MAAMt0E,KACZkhJ,EAAI5sE,MAAMt0E,IAAIzc,MAAM+H,IAAI/H,GAE1B29J,EAAIhzE,SAASo7E,cAAchmJ,EAAWnb,IAAIkU,GAAG9Y,MAAOqgB,QAAQN,EAAWnb,IAAIkU,GAAGoD,eAEhFzc,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,qBACLe,MAAO,WACL,IAAI2gK,EAAMl+J,KAAK+9J,KACXx9J,EAAQ2gK,KACRhD,GAAOA,EAAI5sE,MAAMt0E,KACnBkhJ,EAAI5sE,MAAMt0E,IAAIzc,MAAM+H,IAAI/H,GAE1BP,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,yBACLe,MAAO,SAAgCkM,GACrCzJ,KAAK+9J,KAAKvoG,KAAK7E,UAAS,SAAUv1D,IAC3BA,aAAe,OAAQA,aAAe,OAAgBA,aAAe,QAASA,EAAI6gB,oBAAoB0xE,KACzGvyF,EAAI6gB,SAAS45C,UAAUpsD,GACvBrO,EAAI6gB,SAASmwC,aAAc,EAE/B,GACF,GACC,CACD5vD,IAAK,aACLe,MAAO,SAAoBwJ,EAAIikK,EAAcC,GAC3C,IAAI/M,EAAMl+J,KAAK+9J,KACXmN,EAAKhN,EAAIhzE,SAASg7E,aAClBjxJ,EAAMi2J,EAAG7J,aAAa,sBACtBz/D,EAAas8D,EAAIhzE,SAAS0W,WAC9B,GAAK76F,EAAL,CAIAm3J,EAAIhzE,SAASo/E,gBAAgBW,GAC7B,IAAIE,EAAMvpE,EAAWv5F,IAAI4iK,EAAc9+G,SAASi/G,eAChDF,EAAGG,YAAYH,EAAGI,WAAYH,GAC9BjN,EAAIhzE,SAASo/E,gBAAgBU,GAC7B,IAAIO,EAAK3pE,EAAWv5F,IAAI2iK,GAAcQ,mBAClCvnF,EAAK2d,EAAWv5F,IAAI2iK,EAAa7+G,SAASi/G,eAC9CF,EAAGO,gBAAgBP,EAAGQ,YAAaH,GACnCA,EAAGprK,MAAQ6qK,EAAa7qK,MACxBorK,EAAGroK,OAAS8nK,EAAa9nK,OACzBgoK,EAAGS,qBAAqBT,EAAGQ,YAAaR,EAAGU,kBAAmBV,EAAGI,WAAYrnF,EAAI,GACjFinF,EAAGS,qBAAqBT,EAAGQ,YAAaz2J,EAAI42J,wBAAyBX,EAAGI,WAAYH,EAAK,GACzFl2J,EAAI62J,iBAAiB,CAACZ,EAAGU,kBAAmB32J,EAAI42J,yBAZhD,MAFE52J,EAAI62J,iBAAiB,CAACZ,EAAGU,kBAAmB,MAehD,GACC,CACDpvK,IAAK,eACLe,MAAO,SAAsBq0D,EAAQm6G,EAAYjwK,GAC/CiwK,EAAaA,IAAc,EAC3BjwK,EAASA,GAAU,KACnB,IAAIoiK,EAAMl+J,KAAK+9J,KAIf,GAHAG,EAAIhzE,SAASo7E,cAAchmJ,EAAWnb,IAAIkU,GAAG9Y,MAAOqgB,QAAQN,EAAWnb,IAAIkU,GAAGoD,cAC9EyhJ,EAAIhzE,SAASo/E,gBAAgBxuK,GAC7BoiK,EAAIhzE,SAASkpE,QACT8J,EAAIhzE,SAASizE,GAAG1xJ,QAClByxJ,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,OADjC,CAIAssG,EAAIhzE,SAASo7E,cAAc,EAAU,GACrCpI,EAAIhzE,SAASo/E,gBAAgBpM,EAAIsJ,eACjCtJ,EAAIhzE,SAASq7E,aACbrI,EAAIhzE,SAASo7E,cAAchmJ,EAAWnb,IAAIkU,GAAG9Y,MAAOqgB,QAAQN,EAAWnb,IAAIkU,GAAGoD,cAC9EyhJ,EAAIhzE,SAASo/E,gBAAgBpM,EAAIkJ,cACjClJ,EAAIhzE,SAASkpE,QACb,IAAI4X,EAA8C,OAA7BhsK,KAAKisK,oBACtBC,EAAelsK,KAAKmsK,mBACpBC,EAAOJ,GAAkB1rJ,EAAWnb,IAAIuY,GACxC0uJ,GACFpsK,KAAKqsK,YAAW,EAAMnO,EAAIkJ,aAAclJ,EAAIsJ,eAEV,YAAhClnJ,EAAWnb,IAAIoZ,aACjBve,KAAKssK,+BAA+B16G,EAAQssG,EAAIkJ,cACP,aAAhC9mJ,EAAWnb,IAAIoZ,eACxB2/I,EAAIhzE,SAASo/E,gBAAgBpM,EAAIkJ,cACjClJ,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,IAE7Bw6G,GACFpsK,KAAKqsK,YAAW,EAAO,KAAM,MAE/B,IAAI9uJ,EAAUyuJ,GAAkB1rJ,EAAWnb,IAAIoY,QAAQxW,GACnDuW,EAAO0uJ,GAAkB1rJ,EAAWnb,IAAImY,KACxCivG,EAA0B,OAAjB2/C,GAA4D,MAAnCA,EAAa3+C,UAAUtxG,SACzDswJ,EAAYH,GAAQ7uJ,GAAWgvG,GAAUjvG,GAAQyuJ,EAAa7N,EAAIoJ,cAAgBxrK,EAClF0wK,EAAYtO,EAAIkJ,aAChBgF,GACFpsK,KAAKysK,WAAWD,EAAWtO,EAAIsJ,cAAetJ,EAAIkJ,aAAazN,aAAc4S,EAAWrO,EAAIqJ,cAAerJ,EAAIoJ,eAC1GhqJ,GAASyuJ,GAAex/C,GAAWhvG,IACtCivJ,EAAYD,EACZA,EAAYzwK,EACZoiK,EAAIhzE,SAASo/E,gBAAgBiC,GAC7BrO,EAAIhzE,SAASn6B,wBAAwBy7G,EAAUrgH,QAAS,MAG1D+xG,EAAIhzE,SAASo/E,gBAAgBiC,GAC7BrO,EAAIhzE,SAASn6B,wBAAwBy7G,EAAUrgH,QAAS,IAEtD5uC,IACFivJ,EAAYD,EACZA,EAAYhgD,GAAUjvG,GAAQyuJ,EAAa7N,EAAIqJ,cAAgBzrK,EAC9C,MAAb0wK,GACFxsK,KAAK0sK,eAAe96G,EAAQssG,EAAIkJ,aAAcoF,EAAWD,IAG7DvsK,KAAK2sK,iBAAiB/6G,EAAQssG,EAAIkJ,aAAcmF,GAC5ChgD,IACF2xC,EAAIhzE,SAASo/E,gBAAgBpM,EAAIkJ,cACjClJ,EAAIhzE,SAASn6B,wBAAwBw7G,EAAUpgH,QAAS,GACxDogH,EAAYrO,EAAIkJ,aAChBpnK,KAAK4sK,cAAcV,EAAct6G,EAAQ26G,EAAWrO,EAAIuJ,SAAUvJ,EAAIwJ,SAAUxJ,EAAIyJ,WAC/ErqJ,GAASyuJ,IACZ7N,EAAIhzE,SAASo/E,gBAAgBxuK,GAC7BoiK,EAAIhzE,SAASn6B,wBAAwBw7G,EAAUpgH,QAAS,KAG5DqgH,EAAYD,EACRjvJ,IACFivJ,EAAYR,EAAa7N,EAAIsJ,cAAgB1rK,EAC7CkE,KAAK6sK,aAAaL,EAAWD,GAC7BC,EAAYD,GAEVR,IACFQ,EAAYzwK,EACZkE,KAAK8sK,mBAAmBN,EAAWD,GAAW,GAjEhD,CAmEF,GACC,CACD/vK,IAAK,qBACLe,MAAO,SAA4BivK,EAAWO,EAAczxG,GAC1Dt7D,KAAKuvD,OAAO1f,IAAI,IAAIikD,GAAOM,KAAKp0F,KAAK62F,KAAM72F,KAAKqvD,YAChDrvD,KAAK+9J,KAAK7yE,SAASo/E,gBAAgByC,GACnC/sK,KAAK+9J,KAAK7yE,SAASkpE,QACf94F,GACFt7D,KAAKqvD,UAAUiB,SAASC,OAAOhzD,MAAQivK,EAAUrgH,QACjDnsD,KAAKqvD,UAAUiB,SAASyzG,WAAWxmK,MAAM+K,IAAI,KAAO,EAAK,MACzDtI,KAAK+9J,KAAK7yE,SAASx7B,OAAO1vD,KAAKuvD,OAAQvvD,KAAKyvD,UAE5CzvD,KAAK+9J,KAAK7yE,SAASj6B,sCAAsCu7G,EAAWlsJ,EAAWnb,IAAI2E,MAAM+U,aAE7F,GACC,CACDriB,IAAK,iBACLe,MAAO,SAAwBq0D,EAAQo7G,EAAgBC,EAAgBF,GACrE,IACI7O,EADOl+J,KACI+9J,KACf/9J,KAAKgkK,iBAAiB1zG,SAASC,OAAOhzD,MAAQ0vK,EAAe9gH,QAC7DnsD,KAAKgkK,iBAAiB1zG,SAASyoG,YAAYx7J,MAAQyvK,EAAerT,aAClE35J,KAAKgkK,iBAAiB1zG,SAAS0oG,WAAWz7J,MAAM+K,IAAI0kK,EAAe7sK,MAAO6sK,EAAe9pK,QACzFlD,KAAKgkK,iBAAiB1zG,SAAS/vD,MAAMhD,MAAQ,IAAI,MAAM+iB,EAAWnb,IAAIoY,QAAQhd,OAC9EP,KAAKgkK,iBAAiB1zG,SAAS9yC,UAAUjgB,MAAQ+iB,EAAWnb,IAAIoY,QAAQC,UACxExd,KAAKgkK,iBAAiB1zG,SAAS7yC,UAAUlgB,MAAQ,IAAI,MAAQ+iB,EAAWnb,IAAIoY,QAAQE,UAAW6C,EAAWnb,IAAIoY,QAAQE,WACtHygJ,EAAIhzE,SAASo/E,gBAAgByC,GAC7B7O,EAAIhzE,SAASv7B,iBAAiB3vD,KAAKgkK,iBACrC,GACC,CACDxnK,IAAK,mBACLe,MAAO,WACL,GAAK+iB,EAAWnb,IAAIlE,OAAO8F,GAA3B,CAGA,IAAIm3J,EAAMl+J,KAAK+9J,KACXmP,EAAsBhP,EAAIhzE,SAASiiF,kBACnCC,EAAiBlP,EAAIhzE,SAASmiF,oBAC9BC,EAAoBpP,EAAIhzE,SAASqiF,uBACjC3gB,EAASsR,EAAIhzE,SAASzsD,MAC1BmuH,EAAO4gB,YAAY,OACnB5gB,EAAO6gB,QAAQltK,MAAMmtK,SAAS,EAAG,EAAG,EAAG,GACvC9gB,EAAO6gB,QAAQj1J,MAAMm1J,SAAQ,GAC7B/gB,EAAOge,gBAAe,GACtB,IAAK,IAAI5uK,EAAI,EAAGA,EAAIkiK,EAAI5sE,MAAM9jC,SAASvxD,OAAQD,IAC7C,GAAmC,qBAA/BkiK,EAAI5sE,MAAM9jC,SAASxxD,GAAG6M,KAA6B,CACrD,IAAIs7J,EAAQjG,EAAI5sE,MAAM9jC,SAASxxD,GACP,MAApBmoK,EAAMljK,OAAOmjB,MACf+/I,EAAMljK,OAAOmjB,IAAM,IAAI,MAAkB+/I,EAAMljK,OAAO+lK,QAAQ7mK,MAAOgkK,EAAMljK,OAAO+lK,QAAQ9jK,OAAQlD,KAAKm1H,MACvGgvC,EAAMljK,OAAO2wD,OAAOG,0BAEtBoyG,EAAMljK,OAAO2sK,eAAezJ,GAC5BjG,EAAIhzE,SAASo/E,gBAAgBnG,EAAMljK,OAAOmjB,KAC1C85I,EAAIhzE,SAASkpE,QACb8J,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO6yE,EAAMljK,OAAO2wD,OAC9C,CAEFssG,EAAIhzE,SAASo/E,gBAAgB4C,EAAqBE,EAAgBE,EAvBlE,CAwBF,GACC,CACD9wK,IAAK,wBACLe,MAAO,WAEL,IADA,IAAIswK,EAAW7tK,KAAK+9J,KAAK4I,eAChB3qK,EAAI,EAAGA,EAAI6xK,EAASrgH,SAASvxD,OAAQD,IAE5C,GADoB6xK,EAASrgH,SAASxxD,GACpBwxD,SAASvxD,OAAS,EAClC,OAAO,EAGX,OAAO,CACT,GACC,CACDO,IAAK,mBACLe,MAAO,SAA0Bq0D,EAAQ46G,EAAWO,GAClD,IAAI/I,EAAmB,IAAInL,GAEvBqF,EADOl+J,KACI+9J,KACfG,EAAIhzE,SAASo7E,cAAc,QAAS,GACpCpI,EAAIhzE,SAASo/E,gBAAgBkC,GAC7BtO,EAAIhzE,SAASkpE,OAAM,GAAM,GAAO,GAJrBp0J,KAKF8tK,yBACP5P,EAAIwI,cAAcn9H,OAAS20H,EAAI1oG,KAAKjsB,OACpC20H,EAAIyI,eAAep9H,OAAS20H,EAAI3+C,MAAMh2E,OACtC20H,EAAIhzE,SAASx7B,OAAOwuG,EAAIuI,eAAgB70G,IAExCssG,EAAIhzE,SAAS97B,kBAEf8uG,EAAIhzE,SAASo/E,gBAAgByC,GAC7B7O,EAAIhzE,SAASn6B,wBAAwBy7G,EAAUrgH,QAAS,IACxD63G,EAAiB1zG,SAASC,OAAOhzD,MAAQivK,EAAUrgH,QACnD63G,EAAiB1zG,SAAS0oG,WAAWz7J,MAAM+K,IAAIkkK,EAAUrsK,MAAOqsK,EAAUtpK,QAC1Eg7J,EAAIhzE,SAASv7B,iBAAiBq0G,EAChC,GACC,CACDxnK,IAAK,+BACLe,MAAO,SAAsCwwK,GAC3C,IAAKA,EACH,OAAO,EAET,IAAI7P,EAAMl+J,KAAK+9J,KACXiQ,EAAQ9P,EAAIhzE,SAASiiF,kBACzBjP,EAAIhzE,SAASo/E,gBAAgByD,GAC7B,IAAIhlK,EAAUm1J,EAAIhzE,SAASg7E,aACvB75J,EAAStD,EAAQklK,uBAAuBllK,EAAQ2iK,aAEpD,OADAxN,EAAIhzE,SAASo/E,gBAAgB0D,GACzB3hK,IAAWtD,EAAQmlK,uBACrBluK,KAAKuL,OAAOtB,KAAK,sDACV,EAGX,GACC,CACDzN,IAAK,gBACLe,MAAO,SAAuB2uK,EAAct6G,EAAQu8G,EAAQC,EAASC,EAASC,GAC5E,IAIIC,EAJAC,EAAc,IAAI9nD,GAAiBJ,oBACnCmoD,EAAc,IAAI/nD,GAAiBS,qBACnCunD,GAAgB,IAAI,OAAU9tD,gBAAgB,GAAK,GAAK,IACxD+tD,EAAiB,IAAI,MAErBzQ,EAAMl+J,KAAK+9J,KAIf,QAHwC,IAA7BwQ,IACTA,EAA2BvuK,KAAK4uK,6BAA6BR,IAE1DG,EAAL,CAGA,IAAIjzG,EAAO4wG,EAAa3+C,UACxBjyD,EAAKyuG,QAAQ7L,EAAItsG,QACjBssG,EAAIhzE,SAASo7E,cAAc,QAAS,GACpCpI,EAAIhzE,SAASo/E,gBAAgB8D,GAC7BlQ,EAAIhzE,SAASkpE,QACb8J,EAAIhzE,SAASo/E,gBAAgB+D,GAC7BnQ,EAAIhzE,SAASkpE,QACb8J,EAAIhzE,SAASo/E,gBAAgBgE,GAC7BpQ,EAAIhzE,SAASkpE,QACb8J,EAAIhzE,SAASo/E,gBAAgB8D,GAC7Bx8G,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOI,gBAClC4vG,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,GAC/BA,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOC,QAClC+vG,EAAI5sE,MAAMu9E,iBAAmBL,EAC7BtQ,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,GAC/BssG,EAAIhzE,SAASo/E,gBAAgB+D,GAC7Bz8G,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOC,QAClC+vG,EAAI5sE,MAAMu9E,iBAAmBJ,EAC7BvQ,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,GAC/BssG,EAAI5sE,MAAMu9E,iBAAmB,KAC7Bj9G,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOziD,SAClCkjK,EAAet9J,KAAKiqD,EAAKtM,aAAaC,SACtC0+B,GAAanyF,UAAUgyF,YAAYV,kBAAkBqF,iBAAiBu8E,EAAeC,GACrF/8G,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOK,qBAClC2vG,EAAIhzE,SAASo/E,gBAAgBgE,GAC7BpQ,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,GAC/B,IAAI63D,EAAKnuD,EAAKr/C,SACdwtG,EAAGn5D,SAASu1D,SAAStoH,MAAQ6wK,EAAQjiH,QACrCs9D,EAAGn5D,SAASy1D,SAASxoH,MAAQ8wK,EAAQliH,QACrCs9D,EAAGn5D,SAAS21D,UAAU1oH,MAAQ+wK,EAAQniH,QACtCyF,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOC,QAClC+vG,EAAIhzE,SAASo/E,gBAAgB6D,GAC7BjQ,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,GAC/BA,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOziD,QAlClC,CAmCF,GACC,CACDjP,IAAK,iCACLe,MAAO,SAAwCq0D,EAAQm7G,GACrD,IAAI7O,EAAMl+J,KAAK+9J,KACfG,EAAIhzE,SAASo/E,gBAAgByC,GAC7Bn7G,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOziD,SAClCyyJ,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,GAC/BA,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOG,qBAClC6vG,EAAIhzE,SAASg7E,aAAa4I,WAAU,GAAO,GAAO,GAAO,GACzD5Q,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,GAC/BssG,EAAIhzE,SAASg7E,aAAa4I,WAAU,GAAM,GAAM,GAAM,GACtDl9G,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOE,aAClC8vG,EAAIhzE,SAASx7B,OAAOwuG,EAAI5sE,MAAO1/B,GAC/BA,EAAO0D,OAAOhtD,IAAI6qD,GAASjF,OAAOziD,QACpC,GACC,CACDjP,IAAK,eACLe,MAAO,SAAsBivK,EAAWO,GACtC,IAAIgC,EAAgB,IAAI7V,GACxB,QAAyB,IAAdsT,QAAqD,IAAjBO,EAA/C,CAGA,IAAI7O,EAAMl+J,KAAK+9J,KACfG,EAAIhzE,SAASo7E,cAAchmJ,EAAWnb,IAAIkU,GAAG9Y,MAAOqgB,QAAQN,EAAWnb,IAAIkU,GAAGoD,cAC9EyhJ,EAAIhzE,SAASo/E,gBAAgByC,GAC7B7O,EAAIhzE,SAASkpE,QACb2a,EAAcz+G,SAASC,OAAOhzD,MAAQivK,EAAUrgH,QAChD4iH,EAAcz+G,SAASg9B,aAAa/vF,MAAM+K,IAAI,EAAMkkK,EAAUrsK,MAAO,EAAMqsK,EAAUtpK,QACrF6rK,EAAcz+G,SAASmpC,QAAQl8F,MAAM+K,IAAIgY,EAAWnb,IAAIkU,GAAG9Y,OACvDwuK,EAAc3V,gBAAkB94I,EAAWnb,IAAIkU,GAAGoD,cACpDsyJ,EAAcl5G,UAAU,CACtBujG,cAAe94I,EAAWnb,IAAIkU,GAAGoD,cAEnCsyJ,EAAc3iH,aAAc,GAE9B8xG,EAAIhzE,SAASv7B,iBAAiBo/G,EAd9B,CAeF,GACC,CACDvyK,IAAK,aACLe,MAAO,SAAoB0vK,EAAgB+B,EAAcC,EAAiBlC,EAAcmC,EAAYC,GAClG,IAAIC,EAAc,IAAI7V,GAClB8V,EAAmB,IAAIpV,GACvBqV,EAAoB,IAAIhV,GACxBiV,EAAS,IAAI,MACjB,GAAKtC,GAAmB+B,GAAiBC,GAAoBlC,GAAiBmC,GAAeC,EAA7F,CAGA,IAAIjR,EAAMl+J,KAAK+9J,KACX/2C,EAAahlH,KAAKyvD,IAAwB,GAApB,MAAUy7D,QAAgBgxC,EAAItsG,OAAON,KAC/D89G,EAAY9+G,SAASmpG,eAAel8J,MAAQ0vK,EAAe9gH,QAC3DijH,EAAY9+G,SAASqpG,aAAap8J,MAAQ0xK,EAC1CG,EAAY9+G,SAASopG,cAAcn8J,MAAQyxK,EAAa7iH,QACxDijH,EAAY9+G,SAASg9B,aAAa/vF,MAAM+K,IAAI,EAAM2kK,EAAe9sK,MAAO,EAAM8sK,EAAe/pK,QAC7FksK,EAAY9+G,SAASspG,WAAWr8J,MAAM+K,IAAI41J,EAAItsG,OAAOU,KAAM4rG,EAAItsG,OAAOa,KACtE28G,EAAY9+G,SAASupG,WAAWt8J,MAAQ2gK,EAAItsG,OAAO+hC,iBACnDy7E,EAAY9+G,SAASw2D,YAAYvpH,MAAQ2gK,EAAItsG,OAAOP,OACpD+9G,EAAY9+G,SAAS02D,WAAWzpH,MAAQypH,EACxCk3C,EAAI1oG,KAAKjsB,OAAOmpB,aAAa68G,GAC7BH,EAAY9+G,SAASwpG,aAAav8J,MAAQ+iB,EAAWnb,IAAI2E,MAAM6U,iBAAmB4wJ,EAAO9sK,EACzF2sK,EAAY9+G,SAASypG,eAAex8J,MAAQ,EAAMyC,KAAK2pK,oBACvDyF,EAAY9+G,SAASl2C,OAAO7c,MAAQ+iB,EAAWnb,IAAI2E,MAAM8U,WACzDs/I,EAAIhzE,SAASo/E,gBAAgB6E,GAC7BjR,EAAIhzE,SAASv7B,iBAAiBy/G,GAC9BC,EAAiB/+G,SAAS6pG,MAAM58J,MAAQ4xK,EAAYhjH,QACpDkjH,EAAiB/+G,SAASg9B,aAAa/vF,MAAM+K,IAAI,EAAM6mK,EAAYhvK,MAAO,EAAMgvK,EAAYjsK,QAC5FmsK,EAAiB/+G,SAASqpG,aAAap8J,MAAQ0xK,EAC/C/Q,EAAIhzE,SAASo/E,gBAAgB4E,GAC7BhR,EAAIhzE,SAASv7B,iBAAiB0/G,GAC9BC,EAAkBh/G,SAAS6pG,MAAM58J,MAAQ2xK,EAAW/iH,QACpDmjH,EAAkBh/G,SAASmpG,eAAel8J,MAAQ0vK,EAAe9gH,QACjEmjH,EAAkBh/G,SAASg9B,aAAa/vF,MAAM+K,IAAI,EAAM4mK,EAAW/uK,MAAO,EAAM+uK,EAAWhsK,QAC3FosK,EAAkBh/G,SAASqpG,aAAap8J,MAAQ0xK,EAChDK,EAAkBh/G,SAASupG,WAAWt8J,MAAQ2gK,EAAItsG,OAAO+hC,iBACzD27E,EAAkBh/G,SAASw2D,YAAYvpH,MAAQ2gK,EAAItsG,OAAOP,OAC1Di+G,EAAkBh/G,SAAS02D,WAAWzpH,MAAQypH,EAC9C,IAAIhqG,EAAMkhJ,EAAI5sE,MAAMt0E,IAChBA,IACFsyJ,EAAkBh/G,SAASkqG,WAAWj9J,MAAM+K,IAAI0U,EAAIs1C,KAAMt1C,EAAIy1C,KAC9D68G,EAAkBh/G,SAASj1C,SAAS9d,MAAM+K,IAAI0U,EAAIzc,MAAM0iB,EAAGjG,EAAIzc,MAAMw5B,EAAG/c,EAAIzc,MAAM09C,EAAG39B,EAAWnb,IAAIiW,WAElGk0J,EAAkB7U,SAAWn6I,EAAWnb,IAAI6X,KAAOsyJ,EAAkB1gF,iBAAmBtuE,EAAWnb,IAAIkU,GAAGoD,cAC5G6yJ,EAAkBz5G,UAAU,CAC1B4kG,OAAQn6I,EAAWnb,IAAI6X,IACvB4xE,eAAgBtuE,EAAWnb,IAAIkU,GAAGoD,cAEpC6yJ,EAAkBljH,aAAc,GAElC8xG,EAAIhzE,SAASo/E,gBAAgByC,GAC7B7O,EAAIhzE,SAASv7B,iBAAiB2/G,EA1C9B,CA2CF,GACC,CACD9yK,IAAK,QACLe,MAAO,WAEDyC,KAAKklK,SACPllK,KAAKklK,QAAQ/lJ,QAEfnf,KAAKwvK,UAAY,KACjBxvK,KAAKyvK,qBACLzvK,KAAK0vK,aAr7CA,GAs7CL1vK,KAAK2vK,gBACD3vK,KAAK+9J,OACP5qG,GAASzC,UAAU1wD,KAAK+9J,KAAKx+C,OAC7Bv/G,KAAK+9J,KAAKgI,WAAW5mJ,SAEvBnf,KAAK4vK,eACP,GACC,CACDpzK,IAAK,cACLe,MAAO,WACLyC,KAAK+kK,gBAAgB5lJ,QACrBnf,KAAK+kK,gBAAgBtU,kBAAiB,GACtCzwJ,KAAK+kK,gBAAgBpU,yBAAwB,GAC7C3wJ,KAAK6vK,YACL7vK,KAAK8vK,aACL9vK,KAAK+vK,YACP,GACC,CACDvzK,IAAK,YACLe,MAAO,WACDyC,KAAKklK,SACPllK,KAAKklK,QAAQ/lJ,QAEfnf,KAAK0vK,aA78CA,GA88CL1vK,KAAKgwK,cACLhwK,KAAK2oK,uBAAsB,SAAUnpD,GACnCA,EAAOywD,oBAAoB,CAAC,GAC5BzwD,EAAO6D,0BACT,GACF,GACC,CACD7mH,IAAK,UACLe,MAAO,SAAiByyH,GACtB,IAAIkgD,GAAc,IAAA/N,MAAKhY,GAAGC,UAAUlhJ,KAAK,CACvC8mH,OAAQA,KAEV,IAAKkgD,EAEH,OADAlwK,KAAKuL,OAAOrB,MAAM,oDACX65G,QAAQ7jF,OAAO,IAAIz1B,MAAM,qDAKlC,GAHAzK,KAAK2J,cAAc,CACjBd,KAAM,cAEJ7I,KAAKgjK,SAAShjK,KAAKijK,0BAA2BxhD,GAAe,CAC/D,IAAI3qD,EAAa,KASjB,OARIo5G,EAAY1uB,cAAgB//B,GAC9B3qD,EAAa92D,KAAKgjK,SAAShjK,KAAKijK,gBACvBiN,EAAY1uB,cAAgBp/F,KACrC0U,EAAa92D,KAAKgjK,SAAShjK,KAAKijK,gBAAgB/uI,UAEnC,IAAIg8I,EAAYp5G,EAAY,CACzC4yF,YAAakY,EAAK3hJ,UAEJkwJ,SAASxR,MAAK,SAAUzpJ,GACtC,OAAOA,CACT,GACF,CACA,OAAIlV,KAAKgjK,SAAShjK,KAAKijK,0BAA2B91C,GACzCpJ,QAAQ7jF,OAAO,IAAIz1B,MAAM,wDAE3Bs5G,QAAQ7jF,OAAO,IAAIz1B,MAAM,6BAClC,GACC,CACDjO,IAAK,OACLe,MAAO,SAAc01D,EAAQ7xD,GAC3B,IAAIgvK,EAASpwK,KACboB,GAAO,IAAAke,OAAM,CAAC,EAAGle,EAAM,CACrB2H,QAAS/I,OAENA,KAAKqlB,SAASlgB,IAAI2Z,IAAIC,YACrB/e,KAAK8iK,SAAS7mK,SAChB+D,KAAK8iK,SAASz5J,SAAQ,SAAUi8J,GAC9BA,EAAIC,QACN,IACAvlK,KAAK8iK,SAAS7mK,OAAS,GAEpBmF,EAAKX,WACRT,KAAKmf,OAAM,IAGfnf,KAAKgiK,cAAc7iJ,QACnBnf,KAAK2J,cAAc,CACjBd,KAAM,UACN8Z,QAASvhB,EACT6xD,OAAQA,IAEV,IAAIqyG,EAAM,IAAIzvJ,EACd7V,KAAK8iK,SAASzjK,KAAKimK,GACnBA,EAAI18J,iBAAiB,gBAAgB,SAAUjB,GAC7CyoK,EAAOzmK,cAAchC,EAAEsO,WACzB,IACAjW,KAAK6iK,SAASxhK,KAAKrB,KAAKiiK,YACxB,IAAIoO,EAAY,SAAmBC,GACjC,IAAIC,EAAWH,EAAOtN,SAAS36J,QAAQm9J,GAUvC,OATkB,IAAdiL,GACFH,EAAOtN,SAAS5gI,OAAOquI,EAAU,GAEnCH,EAAOvN,SAASvhK,OAChB8uK,EAAOI,gBACPlL,EAAImL,OAAO,CACT5nK,KAAM,cACNynK,SAAUA,IAELA,CACT,EACA,OAn5CN,SAAoBr9G,EAAQ7xD,EAAMkkK,GAChC,OAAO,IAAIvhD,SAAQ,SAAUC,GAC3B,GAAIshD,EAAIoL,eACN,MAAM,IAAIjmK,MAAM,uBAElB66J,EAAImL,OAAO,CACT5nK,KAAM,aAERoqD,EA5FJ,SAA+BA,EAAQ7xD,GACrC,KAAK,IAAA8R,UAAS+/C,GACZ,OAAOA,EAET,IAAI09G,EAAepP,GAAQj1J,KAAK2mD,GAChC,GAAI09G,EAAc,CAChB,IAAIC,EAAgBlyK,EAAeiyK,EAAc,GAC7CE,EAAiBD,EAAc,GAC/B5gD,OAA4B,IAAnB6gD,EAA4B,MAAQA,EAC7C/qK,EAAK8qK,EAAc,GAGvB,OAFA5gD,EAASA,EAAOvvG,cAChB3a,EAAKA,EAAG48B,cACAstF,GACN,IAAK,MACH/8D,EAAS,mCAAmC5nD,OAAOvF,EAAI,QACvD,MACF,IAAK,MACHmtD,EAAS,mCAAmC5nD,OAAOvF,EAAI,QACvD,MACF,IAAK,OACHmtD,EAAS,mCAAmC5nD,OAAOvF,GACnD,MACF,IAAK,OACHmtD,EAAS,gDAAgD5nD,OAAOvF,EAAG2a,cAAe,SAClF,MACF,IAAK,OACHwyC,EAAS,gCAAgC5nD,OAAOvF,EAAG2a,cAAe,eAClE,MACF,QACE,MAAM,IAAIhW,MAAM,mCAKpB,OAHArJ,EAAK+xH,SAAWnD,EAChB5uH,EAAKyN,SAAW,GAAGxD,OAAOvF,EAAI,KAAKuF,OAAO2kH,GAC1C5uH,EAAK0vK,WAAa,MACX79G,CACT,CACA,IAAI89G,EAAiBvP,GAAUl1J,KAAK2mD,GACpC,GAAI89G,EAAgB,CAClB,IAAIC,EAAWD,EAAe,GAAGtwJ,cAKjC,OAJAwyC,EAAS,2DAA2D5nD,OAAO2lK,EAAU,wBACrF5vK,EAAK+xH,SAAW,UAChB/xH,EAAKyN,SAAW,GAAGxD,OAAO2lK,EAAU,SACpC5vK,EAAK0vK,WAAa,MACX79G,CACT,CAOA,MANwB,QAApB7xD,EAAK0vK,iBAA4C7sK,IAApB7C,EAAK0vK,aACpC1vK,EAAK0vK,WAAa,MACbrP,GAAYhjK,KAAKw0D,KACpBA,EAAS1jD,EAAMQ,WAAWkjD,KAGvBA,CACT,CAwCag+G,CAAsBh+G,EAAQ7xD,GACvC,IAAI8vK,GAAY,IAAA/O,MAAKhY,GAAGv6B,QAAQ1mH,KAAK,CACnCL,KAAMzH,EAAK0vK,WACX79G,OAAQA,KAEV,IAAKi+G,EACH,MAAM,IAAIzmK,MAAMq2J,IAElB,IAAIjyJ,EAAWzN,EAAKyN,UAAYqiK,EAAUC,YAAYl+G,GACtD,GAAIpkD,EAAU,CACZ,IACIuiK,EAAwB1yK,EADD6Q,EAAMyF,cAAcnG,GACkB,GAC7DtQ,EAAO6yK,EAAsB,GAC7BC,EAAUD,EAAsB,IACpC,IAAAl7J,UAAW9U,EAAM,CACf7C,KAAMA,EACN8yK,QAASA,EACTxiK,SAAUA,GAEd,EA1DJ,SAA0BzN,GACxB,IAAI6M,EAAS7M,EAAK6M,OAClB,QAAsBhK,IAAlB7C,EAAK+xH,SAAwB,CAC/B,IAAIm+C,GAAY,IAAAnP,MAAKhY,GAAG7M,QAAQp0I,KAAK,CACnC8mH,OAAQ5uH,EAAK+xH,YAEf,IAAIm+C,EAGF,MAAM,IAAI7mK,MAAM,kDAFhBwD,EAASqjK,EAAUrjK,SAAU,CAIjC,CACA,QAAehK,IAAXgK,QAAyChK,IAAjB7C,EAAKiwK,QAAuB,CACtD,IAAIE,GAAa,IAAApP,MAAKhY,GAAG7M,QAAQp0I,KAAK,CACpC+L,IAAK7T,EAAKiwK,WAERE,IACFtjK,EAASsjK,EAAWtjK,SAAU,EAElC,MACqBhK,IAAjB7C,EAAKiwK,SAAwD,SAA/BjwK,EAAKiwK,QAAQ5wJ,gBAC7Crf,EAAK6M,QAAS,EACd7M,EAAKX,WAAY,QAEJwD,IAAXgK,QACkBhK,IAAhB7C,EAAK6M,QAAwB7M,EAAK6M,SAAWA,GAC/C7M,EAAK2H,QAAQwC,OAAOtB,KAAK,oCAG7B7I,EAAK6M,OAASA,IAAU,CAC1B,CA6BIujK,CAAiBpwK,GACjB,IAAIqwK,GAAa,IAAAppK,KAAIjH,EAAM,qBAC3B,KAAK,IAAAmyH,aAAYk+C,KACfA,EAAa/0C,KAAK7+F,MAAM4zI,KACNA,EAAWpsJ,SAE3B,IADA,IAAIta,EAAO,CAAC,cACHm/H,EAAW,EAAGwnC,EAAW3mK,EAAK9O,OAAQiuI,EAAWwnC,IAAYxnC,EAAU,CAC9E,IAAI1tI,EAAMuO,EAAKm/H,GACX3sI,GAAQ,IAAA8K,KAAIopK,EAAWpsJ,SAAU7oB,IAChC,IAAA+2H,aAAYh2H,IACf+iB,EAAWhY,IAAI9L,EAAKe,EAExB,CAGJ,IAAIo0K,EAAS,IAAIT,EAAUj+G,EAAQ7xD,GACnCuwK,EAAO5oK,QAAU3H,EAAK2H,QACtBu8J,EAAI18J,iBAAiB,UAAU,WAC7B,OAAO+oK,EAAOpjD,OAChB,IACAojD,EAAO/oK,iBAAiB,YAAY,SAAUgB,GACxCA,EAAMgoK,kBAAoBhoK,EAAMioK,MAAQ,EAC1C7Q,GAAe2Q,EAAOpmK,OAAQ,WAAY3B,EAAMkoK,OAASloK,EAAMioK,OAE/D7Q,GAAe2Q,EAAOpmK,OAAQ,WAElC,IACAnB,QAAQ1D,KAAK,SAsBbs9G,EArBc2tD,EAAOtvJ,OAAOs8I,MAAK,SAAUzpJ,GAOzC,OANA9K,QAAQuyE,QAAQ,SAChBv7E,EAAK2H,QAAQwC,OAAOxB,KAAK,qBACzBu7J,EAAImL,OAAO,CACT5nK,KAAM,eACNqM,KAAMA,IAEDA,CACT,IAAG68J,OAAM,SAAU7nK,GAWjB,MAVAE,QAAQuyE,QAAQ,SAChBv7E,EAAK2H,QAAQwC,OAAOzB,MAAMI,EAAMc,SAC5Bd,EAAM4zB,OACR18B,EAAK2H,QAAQwC,OAAOzB,MAAMI,EAAM4zB,OAElC18B,EAAK2H,QAAQwC,OAAOrB,MAAM,mBAC1Bo7J,EAAImL,OAAO,CACT5nK,KAAM,eACNqB,MAAOA,IAEHA,CACR,IAEF,GACF,CAo0Ca8nK,CAAW/+G,EAAQ7xD,EAAMkkK,GAAK3G,MAAK,SAAUzpJ,GAClD,OAp0CR,SAAoBA,EAAM9T,EAAMkkK,GAC9B,GAAIA,EAAIoL,eACN,OAAO3sD,QAAQ7jF,OAAO,IAAIz1B,MAAM,wBAElC66J,EAAImL,OAAO,CACT5nK,KAAM,YAER,IAAIyoK,GAAY,IAAAnP,MAAKhY,GAAG7M,QAAQp0I,KAAK,CACnC8mH,OAAQ5uH,EAAK+xH,SACbl+G,IAAK7T,EAAKiwK,QACVn8J,KAAMA,KAER,IAAKo8J,EACH,OAAOvtD,QAAQ7jF,OAAO,IAAIz1B,MAAM,mCAElC,IAAIwwB,EAAS,IAAIq2I,EAAUp8J,EAAM9T,GAMjC,OALA65B,EAAOlyB,QAAU3H,EAAK2H,QACtBu8J,EAAI18J,iBAAiB,UAAU,WAC7B,OAAOqyB,EAAOszF,OAChB,IACAnkH,QAAQ1D,KAAK,SACNu0B,EAAO4C,QAAQ8gI,MAAK,SAAUsT,GAMnC,OALA7nK,QAAQuyE,QAAQ,SAChB2oF,EAAImL,OAAO,CACT5nK,KAAM,cACNqM,KAAM+8J,IAEDA,CACT,IAAGF,OAAM,SAAU7nK,GAYjB,MAXAE,QAAQuyE,QAAQ,SAChBv7E,EAAK8I,MAAQA,EACb9I,EAAK2H,QAAQwC,OAAOzB,MAAMI,EAAMc,SAC5Bd,EAAM4zB,OACR18B,EAAK2H,QAAQwC,OAAOzB,MAAMI,EAAM4zB,OAElC18B,EAAK2H,QAAQwC,OAAOrB,MAAM,kBAC1Bo7J,EAAImL,OAAO,CACT5nK,KAAM,cACNqB,MAAOA,IAEHA,CACR,GACF,CA0xCegoK,CAAWh9J,EAAM9T,EAAMkkK,EAChC,IAAG3G,MAAK,SAAU7rJ,GAChB,IAAIvU,EAAO6xK,EAAO+B,QAAQr/J,EAAQ1R,GAClC,OAAOivK,EAAU9xK,EACnB,IAAGwzK,OAAM,SAAUzyK,GAGjB,MAFA8wK,EAAO7kK,OAAOrB,MAAM,uBACpBkmK,EAAO7kK,OAAOzB,MAAMxK,GACd+wK,EAAU/wK,EAClB,GACF,GACC,CACD9C,IAAK,SACLe,MAAO,SAAgBgB,GACrByB,KAAKoyK,cAAc7zK,GAAQyB,KAAKqyK,oBAChCryK,KAAK8vK,aACDxvJ,EAAWnb,IAAIlE,OAAO8F,IACxB/G,KAAKilK,qBAET,GACC,CACDzoK,IAAK,kBACLe,MAAO,SAAyB+0K,GAC9BtyK,KAAKuyK,iBACL,IAAI11K,EAAOmD,KACPw/G,EAASx/G,KAAKisK,oBAClB,GAAe,OAAXzsD,EAAJ,CAIA,IACEx/G,KAAKwyK,WAAa,IAAI1d,GAAUt1C,EAAO5xF,aAAc0kJ,EAAU,CAC7Dzc,oBAAqB,WACnBh5J,EAAK8M,cAAc,CACjBd,KAAM,uBACN41B,MAAO,CACLg0I,UAAW51K,EAAK61K,aAChBzd,WAAWp4J,EAAK21K,YAAa31K,EAAK21K,WAAWvd,YAGnD,EACAa,QAAS,SAAiB9qJ,GACxBnO,EAAK01K,iBACL11K,EAAK0O,OAAOrB,MAAMc,EACpB,GAEJ,CAAE,MAAOrD,GAEP,YADA3H,KAAKuL,OAAOrB,MAAM,kDAEpB,CACAlK,KAAK2yK,oBArBL,MAFE3yK,KAAKuL,OAAOrB,MAAM,qDAwBtB,GACC,CACD1N,IAAK,kBACLe,MAAO,WACsB,OAAvByC,KAAK+iK,gBAGT/iK,KAAK0yK,cAAe,EACpBE,cAAc5yK,KAAK+iK,eACnB/iK,KAAK+iK,cAAgB,KACjB/iK,KAAKwyK,YACPxyK,KAAK2J,cAAc,CACjBd,KAAM,uBACN41B,MAAO,CACLg0I,UAAWzyK,KAAK0yK,aAChBzd,UAAWj1J,KAAKwyK,WAAWvd,aAInC,GACC,CACDz4J,IAAK,qBACLe,MAAO,WACLyC,KAAK0yK,cAAe,EACpB,IAAIG,EAAe,IAAOvyJ,EAAWnb,IAAIyY,OACzCi1J,EAAejyJ,OAAO6X,MAAMo6I,GAAgB,EAAIA,EAChD,IAAIh2K,EAAOmD,KACPu/G,EAAQ1iH,EAAKkhK,KAAKx+C,MAClBC,EAASx/G,KAAKisK,oBACdzsD,IACFA,EAAOiE,qBACPjE,EAAO6D,2BACPrjH,KAAKykK,aAAatgK,MAAM8oD,QAAU,GAEpCjtD,KAAK+iK,cAAgB+P,aAAY,WAQ/B,GAPAj2K,EAAK8M,cAAc,CACjBd,KAAM,uBACN41B,MAAO,CACLg0I,UAAW51K,EAAK61K,aAChBzd,UAAWp4J,EAAK21K,WAAWvd,aAG3Bp4J,EAAK21K,WAAWrd,aAAc,CAChC51C,EAAMp8D,cAActmD,EAAK21K,YACzB31K,EAAKk2K,mBAAmBl2K,EAAK21K,YAC7B31K,EAAK2zK,cAAc,UAAUnlK,OAAOxO,EAAK21K,WAAWxb,WAAY,QAAQ3rJ,OAAOxO,EAAK21K,WAAW5c,aAAc,qBAAqBvqJ,OAAOxO,EAAK21K,WAAW/b,YACzJ,IACE55J,EAAK21K,WAAWQ,WAClB,CAAE,MAAOrrK,GAGP,OAFA9K,EAAK0O,OAAOrB,MAAM,+BAClBrN,EAAK01K,gBAEP,CACA11K,EAAK4lK,aAAc,CACrB,CACF,GAAGoQ,EACL,GACC,CACDr2K,IAAK,iBACLe,MAAO,WACsB,OAAvByC,KAAK+iK,gBAGT6P,cAAc5yK,KAAK+iK,eACnB/iK,KAAKwyK,WAAWS,gBAChBjzK,KAAKwyK,WAAa,KAClBxyK,KAAK+iK,cAAgB,KACrB/iK,KAAK2J,cAAc,CACjBd,KAAM,uBACN41B,MAAO,OAEX,GACC,CACDjiC,IAAK,UACLe,MAAO,SAAiBu5D,EAAY11D,GAClC,IAAI88J,EAAMl+J,KAAK+9J,KACXmV,EAAa,KACjB,GAAI9xK,EAAKX,UAGP,OAFAT,KAAKwwK,gBACLxwK,KAAKmzK,gBAAgBr8G,GACd,KAOT,GALA92D,KAAKuyK,iBACAnxK,GAASA,EAAKikK,eACjBrlK,KAAK8oE,MAAMxnD,KAAO,KAClBthB,KAAK8oE,MAAMlmD,SAAW,MAEF,YAAlBk0C,EAAWhxD,GAAkB,CAC/B,IAAImuB,EAAU6iC,EACV11D,EAAKyN,SACPolB,EAAQ11B,KAAO01B,EAAQ11B,MAAQwiK,GAAgB3/J,EAAKyN,UAAU6zB,cACrDthC,EAAKgyK,cACdn/I,EAAQ11B,KAAO01B,EAAQ11B,MAAQwiK,GAAgB3/J,EAAKgyK,eAAe1wI,cAEnEzO,EAAQ11B,KAAO,WAAW8M,OAAOjK,EAAK+xH,SAAU,aAElD+/C,EAAalzK,KAAKqzK,WAAW,IAAI5xD,GAAcxtF,EAAQ11B,KAAM01B,IAC7Dj0B,KAAKijK,eAAiBiQ,EACtB,IAAIn7I,EAAO/3B,KAAK+J,OAKhB,GAJA/J,KAAKuL,OAAOxB,KAAK,UAAUsB,OAAOjK,EAAKyN,SAAU,MAAMxD,OAAO0sB,EAAK5L,MAAO,YAAY9gB,OAAO0sB,EAAKlR,MAAO,YAAYxb,OAAO0sB,EAAKvD,SAAU,eAAenpB,OAAO0sB,EAAKgR,OAAQ,eAC1K,IAAAv+B,UAASxK,KAAK8oE,MAAMrmD,OACtBwR,EAAQ6wB,eAAe9kD,KAAK8oE,MAAMrmD,MAEhCrhB,EAAKua,aAAe,GAAI2E,EAAWnb,IAAIuW,WACzC,OAAQta,EAAK+xH,UACX,IAAK,MACHnzH,KAAK6vK,UAAU,SACf,MACF,IAAK,MACL,IAAK,OACL,IAAK,OA9qDjB,SAA0B57I,GACxB,IAAIq/I,GAAc,EAQlB,OAPAr/I,EAAQye,kBAAiB,SAAUC,GACjCA,EAAUrI,gBAAe,SAAUpkB,GAC7BA,EAAQoH,WACVgmJ,GAAc,EAElB,GACF,IACOA,CACT,CAqqDkBC,CAAiBt/I,GAGnBj0B,KAAK6vK,UAAU,SAFf7vK,KAAK6vK,UAAU,SAIjB,MACF,QACE7vK,KAAK6vK,UAAU,gBAInB7vK,KAAK6vK,UAAU,UAEnB,KAA6B,WAAlB/4G,EAAWhxD,KACpB9F,KAAKwzK,UACLN,EAAalzK,KAAKyzK,UAAU38G,IAmB9B,OAjBAonG,EAAItsG,OAAOG,yBACX/xD,KAAKiqK,aACL/L,EAAI1oG,KAAK9G,iBACT1uD,KAAK8vK,aACL9vK,KAAK+kK,gBAAgBvT,SAASlxI,EAAWnb,IAAI8V,YAAcjb,KAAK2pK,qBAChE3pK,KAAK2vK,gBACDrvJ,EAAWnb,IAAIsW,gBACjBzb,KAAK0zK,mBAEHpzJ,EAAWnb,IAAIlE,OAAO8F,IACxB/G,KAAKilK,sBAEHjlK,KAAK8oE,MAAMvmD,OACbviB,KAAKuiB,KAAKviB,KAAK8oE,MAAMvmD,aACdviB,KAAK8oE,MAAMvmD,MAEpBviB,KAAKwwK,gBACE0C,CACT,GACC,CACD12K,IAAK,UACLe,MAAO,WACDyC,KAAK2zK,YACP3zK,KAAK2zK,UAAUplD,QACfvuH,KAAK2zK,UAAY,MAEnB3zK,KAAKoyK,cAAcpyK,KAAKmsK,oBACxBnsK,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,SACLe,MAAO,SAAgB01D,GACrB,IAAI2gH,EAAS5zK,KACbA,KAAKwzK,UACL,IAAItC,GAAY,IAAA/O,MAAKhY,GAAGv6B,QAAQ1mH,KAAK,CACnC+pD,OAAQA,KAEV,IAAKi+G,EAEH,OADAlxK,KAAKuL,OAAOrB,MAAM42J,IACX/8C,QAAQ7jF,OAAO,IAAIz1B,MAAMq2J,KAElC,IAAI6Q,EAAS3xK,KAAK2zK,UAAY,IAAIzC,EAAUj+G,EAAQ,CAClDhlD,QAAQ,IAGV,OADA0jK,EAAO5oK,QAAU/I,KACV2xK,EAAOtvJ,OAAOs8I,MAAK,SAAUzpJ,GAClC,IAAIo8J,GAAY,IAAAnP,MAAKhY,GAAG7M,QAAQp0I,KAAK,CACnC8mH,OAAQ,UAEV,IAAKshD,EACH,MAAM,IAAI7mK,MA/vDG,kDAiwDf,IAAIwwB,EAAS,IAAIq2I,EAAUp8J,GAE3B,OADA+lB,EAAOlyB,QAAU6qK,EACV34I,EAAO4C,QAAQ8gI,MAAK,SAAU7nG,GACnC88G,EAAOH,UAAU38G,EACnB,GACF,IAAGi7G,OAAM,SAAU7nK,GACjB0pK,EAAOroK,OAAOrB,MAAM,0BACpB0pK,EAAOroK,OAAOzB,MAAMI,EACtB,GACF,GACC,CACD1N,IAAK,YACLe,MAAO,SAAmBu5D,GACxBA,EAAWprC,YACX,IAAIwgJ,EAAe,IAAI/+C,GAAa,SAAUr2D,GAC9Co1G,EAAa3+C,UAAUj4D,OAAOhtD,IAAI6qD,GAASjF,OAAOC,QAClD,IAAI+kH,EAAalzK,KAAKqzK,WAAWnH,GAEjC,OADAlsK,KAAKyiK,aAAc,EACZyQ,CACT,GACC,CACD12K,IAAK,eACLe,MAAO,WACL,IAAIggH,GAAe,EAInB,OAHAv9G,KAAK2oK,uBAAsB,SAAUnpD,GACnCjC,EAAeA,GAAgBiC,EAAOjC,cACxC,IACOA,CACT,GACC,CACD/gH,IAAK,kBACLe,MAAO,WACL,IAEIvB,EACAoC,EAHAvB,EAAOmD,KACPk+J,EAAMl+J,KAAK+9J,KAGX8V,EAAW,GACf,IAAK73K,EAAI,EAAGA,EAAIkiK,EAAI3+C,MAAM/xD,SAASvxD,SAAUD,EAAG,CAC9C,IAAI0U,EAAQwtJ,EAAI3+C,MAAM/xD,SAASxxD,GACzB0U,aAAiBimD,IACrBk9G,EAASx0K,KAAKqR,EAElB,CACA,IAAK1U,EAAI,EAAGA,EAAI63K,EAAS53K,SAAUD,EACjC63K,EAAS73K,GAAG6yD,OAAOrlD,OAAOqqK,EAAS73K,IAErCkoH,YAAW,WACT,IAAI/+F,EAAUtoB,EAAK+lB,SACnB,IAAK5mB,EAAI,EAAGoC,EAAI+mB,EAAQlpB,OAAQD,EAAIoC,IAAKpC,EAAG,CAC1C,IAAIZ,EAAM+pB,EAAQnpB,GACdZ,EAAImiH,cACNniH,EAAI0qD,QAEF1qD,EAAI04K,eACN5V,EAAI3+C,MAAM1vE,IAAIz0C,EAAI04K,cAEtB,CACF,GAAG,GACL,GACC,CACDt3K,IAAK,aACLe,MAAO,SAAoBw2K,EAASx1K,GAClC,IAKMkkB,EACA5Z,EANF22G,EAASx/G,KAAKisK,kBAAkB1tK,GACpC,IAAKihH,EACH,MAAM,IAAI/0G,MAAM,kCAOlB,YAAgBxG,IAAZ8vK,KAGA,IAAA7gK,UAAS6gK,KACXA,EAAU/xK,KAAK8M,IAAIc,SAASmkK,EAAS,IAAK,IAExCv0D,EAAO5xF,aAAak3B,eAAeivH,KACrC/zK,KAAKgwK,cACLhwK,KAAKg0K,qBAZDvxJ,EAAO+8F,EAASA,EAAO5xF,aAAaqmJ,iBAAmB,EACvDprK,EAAO4Z,EAAO,EAAI,gBAAgBpX,OAAOoX,GAAQ,kBAC9C,iBAAiBpX,OAAOoX,EAAM,MAAMpX,OAAOxC,EAAM,IAa5D,GACC,CACDrM,IAAK,UACLe,MAAO,WACL,IAAI22K,EAASl0K,KACb,GAAIA,KAAKwiK,UACPxiK,KAAKuL,OAAOtB,KAAK,yCADnB,CAIAjK,KAAKwiK,WAAY,EACjBxiK,KAAK2J,cAAc,CACjBd,KAAM,eAER7I,KAAKm0K,kBACLn0K,KAAK+9J,KAAKgI,WAAW5mJ,QACrB,IAAIi1J,EAAiB,GACrBp0K,KAAK2oK,uBAAsB,SAAUnpD,GAC/BA,EAAOjC,gBACT62D,EAAe/0K,KAAKmgH,EAAOuqD,UAAUpL,MAAK,WACxC,OAAO,IAAI56C,SAAQ,SAAUC,GAC3BxE,EAAO6D,2BACPW,GACF,GACF,IAEJ,IACA,IAAInnH,EAAOmD,KACXA,KAAK6iK,SAASxhK,KAAKrB,KAAKiiK,YACxBl+C,QAAQU,IAAI2vD,GAAgBzV,MAAK,WAC/B9hK,EAAKgmK,SAASvhK,OACdzE,EAAK4lK,aAAc,EACnB5lK,EAAK2zK,gBACL0D,EAAOvqK,cAAc,CACnBd,KAAM,iBAERhM,EAAK2lK,WAAY,CACnB,GA5BA,CA6BF,GACC,CACDhmK,IAAK,aACLe,MAAO,WACLyC,KAAK2oK,uBAAsB,SAAUnpD,GACnCA,EAAO60D,iBACT,GACF,GACC,CACD73K,IAAK,gBACLe,MAAO,SAAuB+2K,GAC5B,IAAIj+C,EACJi+C,OAAwBrwK,IAAbqwK,EAAyB,GAAKA,EACzC,IAAI90D,EAASx/G,KAAKisK,oBAClB,GAAIzsD,EAAQ,CACV6W,EAAQ7W,EAAO5xF,aAAarvB,KAC5B,IAAIijB,EAAMg+F,EAAO+0D,OAAO/0D,EAAO8C,cAC/B+T,GAAS70G,EAAM,MAAWnW,OAAOmW,EAAI1F,KAAKvd,KAAM,SAAW,EAC7D,MACE83H,EAAQ/5H,OAAOyO,KAAK/K,KAAKgjK,UAAU/mK,OAAS,EAAI,UAAY,UAE9Do6H,GAASi+C,EACTt0K,KAAK2J,cAAc,CACjBd,KAAM,eACNqM,KAAMmhH,GAEV,GACC,CACD75H,IAAK,gBACLe,MAAO,WACLyC,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,yBACLe,MAAO,WACL,IAAIi3K,EAASx0K,KACT6f,EAAU,GACd7f,KAAK2oK,uBAAsB,SAAUnpD,GACnC,GAAmC,IAA/BA,EAAOi1D,oBAAX,CAGA,IAAIz4J,EAAWwjG,EAAOuD,sBAAsB,GAAKvD,EAAOK,mBACpD60D,EAAYp0J,EAAWnb,IAAIyW,QAAQC,QACnCzK,EAAMouG,EAAO+C,OAAO,CACtBvmG,SAAUA,EACVF,KAAM44J,EAAU,GAAG54J,KAAKhW,GACxBiW,QAAS24J,EAAU,GAAG34J,QAAQjW,GAC9BmW,SAAUy4J,EAAU,GAAGz4J,SAASnW,KAE7BsL,GAMLojK,EAAO7qK,cAAc,CACnBd,KAAM,WACNyb,MAAOlT,EAAIkT,MACX/lB,KAAMihH,EAAOjhH,OAEfihH,EAAO8C,WAAWlxG,EAAIkT,OACtBzE,EAAQxgB,KAAKmgH,EAAOjhH,OAXdihH,EAAOm1D,aAAelzD,GAAckB,yBACtC6xD,EAAOjpK,OAAOtB,KAAK,2CAA2CoB,OAAOo2G,GAAckB,yBAXvF,CAsBF,IACI9iG,EAAQ5jB,OAAS,GACnB+D,KAAKuL,OAAOvB,OAAO,oDAAoDqB,OAAOwU,EAAQpb,KAAK,OAE/F,GACC,CACDjI,IAAK,WACLe,MAAO,SAAkB+jB,GACvBA,EAAOA,GAAQthB,KAAK8oE,OAAS9oE,KAAK8oE,MAAMxnD,MAAQ,GAChDthB,KAAK2oK,uBAAsB,SAAUnpD,GACnC,OAAOA,EAAOqwD,UAAUvuJ,EAC1B,GACF,GACC,CACD9kB,IAAK,cACLe,MAAO,SAAqBoe,GAI1B,IAHA,IAAIC,EAAU0E,EAAWnb,IAAIyW,QACzBg5J,EAAW,CAACj5J,GAAU2E,EAAWpK,SAASyF,OAAQ2E,EAAWpK,SAASyF,OAAQrf,OAAOyO,KAAK6Q,GAAS,IACnG0F,EAAO,KACFtlB,EAAI,GAAIslB,GAAQtlB,EAAI44K,EAAS34K,SAAUD,EAC9CskB,EAAWhY,IAAI,SAAUssK,EAAS54K,KAClCslB,EAAO1F,EAAQ0E,EAAWnb,IAAIwW,UAE5B3b,KAAKuL,OAAOtB,KAAK,mBAAoBoB,OAAOiV,EAAWnb,IAAIwW,OAAQ,MAGvE3b,KAAK60K,SAASvzJ,EAChB,GACC,CACD9kB,IAAK,YACLe,MAAO,SAAmBoe,GACxB,IAAI2F,EAAOthB,KAAK8oE,OAAS9oE,KAAK8oE,MAAMxnD,KAChCA,EACFthB,KAAK60K,SAASvzJ,GAEdthB,KAAK80K,YAAYn5J,EAErB,GACC,CACDnf,IAAK,WACLe,MAAO,SAAkBgB,GACvB,IAAIihH,EAASx/G,KAAKisK,kBAAkB1tK,GACpC,OAAOihH,EAASA,EAAOm1D,WAAa,CACtC,GACC,CACDn4K,IAAK,aACLe,MAAO,SAAoB+mB,EAAO/lB,GAChC,IAAIihH,EAASx/G,KAAKisK,kBAAkB1tK,GAChCw2K,EAASv1D,EAASA,EAAO8C,WAAWh+F,IAAU,EAIlD,OAHIA,GAASywJ,IAAWzwJ,GACtBtkB,KAAKuL,OAAOtB,KAAK,kBAAkBoB,OAAOiZ,EAAO,mDAE5CywJ,CACT,GACC,CACDv4K,IAAK,MACLe,MAAO,SAAa+mB,EAAO+9F,GACzB,IAAI7C,EAASx/G,KAAKisK,kBAAkB,IACpC,IAAKzsD,EACH,OAAO,KAET,IAAIpuG,EAAMouG,EAAOh+F,IAAI8C,EAAO+9F,GAc5B,MAbmB,YAAfjxG,EAAIoxG,OACNxiH,KAAK2J,cAAc,CACjBd,KAAM,WACNyb,MAAOlT,EAAIkT,MACX/lB,KAAMihH,EAAOjhH,OAES,YAAf6S,EAAIoxG,QACbxiH,KAAK2J,cAAc,CACjBd,KAAM,aACNyb,MAAOlT,EAAIkT,MACX/lB,KAAMihH,EAAOjhH,OAGV6S,EAAI2mB,IACb,GACC,CACDv7B,IAAK,SACLe,MAAO,SAAgB+mB,EAAO/lB,GAC5B,IAAIihH,EAASx/G,KAAKisK,kBAAkB1tK,GACpC,OAAOihH,EAASA,EAAO+0D,OAAOjwJ,GAAS,IACzC,GACC,CACD9nB,IAAK,SACLe,MAAO,SAAgBikB,EAAKjjB,GAC1B,IAAIihH,EAASx/G,KAAKisK,kBAAkB1tK,GACpC,IAAKihH,EACH,OAAQ,EAEV,IAAIpuG,EAAMouG,EAAO+C,OAAO/gG,GACxB,OAAIpQ,GACFpR,KAAK2J,cAAc,CACjBd,KAAM,WACNyb,MAAOlT,EAAIkT,MACX/lB,KAAMA,IAED6S,EAAIkT,QAEL,CACV,GACC,CACD9nB,IAAK,YACLe,MAAO,SAAmB+mB,EAAO/lB,GAC/B,IAAIihH,EAASx/G,KAAKisK,kBAAkB1tK,GAC/BihH,IAGLA,EAAOw1D,UAAU1wJ,GACjBtkB,KAAK2J,cAAc,CACjBd,KAAM,aACNyb,MAAOA,EACP/lB,KAAMA,IAEV,GACC,CACD/B,IAAK,UACLe,MAAO,SAAiB+mB,EAAO4+F,EAAM3kH,GACnCyB,KAAKyiK,aAAc,EACnB,IAAIjjD,EAASx/G,KAAKisK,kBAAkB1tK,GACpC,OAAOihH,EAASA,EAAOy1D,QAAQ3wJ,EAAO4+F,GAAQ,IAChD,GACC,CACD1mH,IAAK,eACLe,MAAO,SAAsBue,GAC3B9b,KAAKk1K,UAAYp5J,EACjB,IAAI4rC,EAAO1nD,KAAKwkK,SACZ98G,IACFA,EAAKvjD,MAAM8oD,QA3jER,IA2jEkBnxC,EAA6B,EAAM,EA3jErD,IA4jECA,IACM4rC,EAAKytH,qBAAqB,KAAK,GACrCjhK,UA7jEC,IA6jEW4H,EAA+B,sBAAwB,uBAGzE9b,KAAK2J,cAAc,CACjBd,KAAM,kBACNqM,KAnkEG,IAmkEG4G,GAEV,GACC,CACDtf,IAAK,0BACLe,MAAO,WACL,GAzkEK,IAykEDyC,KAAKk1K,UAAT,CAGA,IAAIE,EAAU,GACdp1K,KAAK2oK,uBAAsB,SAAUnpD,GACnC,IAAIsF,EAAStF,EAAO61D,qBAChBvwD,GACFswD,EAAQ/1K,KAAKylH,EAEjB,IACIswD,IAAY,KAGhBp1K,KAAKs1K,SAAWF,EAChBp1K,KAAKuL,OAAOxB,KAAK,6BACjB/J,KAAK0vK,aAvlEE,GAwlEP1vK,KAAK+kK,gBAAgBnU,kBAAiB,GAdtC,CAeF,GACC,CACDp0J,IAAK,sBACLe,MAAO,WACL,GA7lEO,IA6lEHyC,KAAKk1K,UAAT,CAGAl1K,KAAK+kK,gBAAgBzjK,OACrBtB,KAAK+kK,gBAAgBnU,kBAAiB,GACtC,IAAK,IAAI50J,EAAI,EAAGA,EAAIgE,KAAKs1K,SAASr5K,SAAUD,EAC1CgE,KAAKs1K,SAASt5K,GAAG+D,QAEnBC,KAAKs1K,SAAW,GAChBt1K,KAAKuL,OAAOxB,KAAK,wCACjB/J,KAAK0vK,aAxmEA,GAymEL1vK,KAAK+vK,YATL,CAUF,GACC,CACDvzK,IAAK,wBACLe,MAAO,WACL,GA7mEO,IA6mEHyC,KAAKk1K,UAAT,CAGAl1K,KAAK+kK,gBAAgBzjK,OACrBtB,KAAK+kK,gBAAgBnU,kBAAiB,GACtC,IAAK,IAAI50J,EAAI,EAAGA,EAAIgE,KAAKs1K,SAASr5K,SAAUD,EAC1CgE,KAAKs1K,SAASt5K,GAAGu5K,UAEnBv1K,KAAKs1K,SAAW,GAChBt1K,KAAKuL,OAAOxB,KAAK,0CACjB/J,KAAK0vK,aAxnEA,GAynEL1vK,KAAKyiK,aAAc,EACnBziK,KAAK+vK,YAVL,CAWF,GACC,CACDvzK,IAAK,yBACLe,MAAO,WACL,GA/nEK,IA+nEDyC,KAAKk1K,UAAT,CAGA,IAAIM,EAAkB,GAMtB,GALAx1K,KAAK2oK,uBAAsB,SAAUnpD,GAC/BA,aAAkBiC,IAAiBjC,EAAOi1D,oBAAsB,GAClEe,EAAgBn2K,KAAKmgH,EAEzB,IAC+B,IAA3Bg2D,EAAgBv5K,OAApB,CAGA,IAAI6oH,EAAS0wD,EAAgB,GAAGC,oBAC3B3wD,IAGL9kH,KAAKs1K,SAAW,CAACxwD,GACjB9kH,KAAKuL,OAAOxB,KAAK,0CACjB/J,KAAK0vK,aA/oEC,GAgpEN1vK,KAAK+kK,gBAAgBtU,kBAAiB,GACtCzwJ,KAAK+kK,gBAAgBpU,wBAAwB7rC,EAAO4wD,yBACpD11K,KAAKyiK,aAAc,EAVnB,CATA,CAoBF,GACC,CACDjmK,IAAK,qBACLe,MAAO,WACL,GAvpEM,IAupEFyC,KAAKk1K,UAAT,CAGAl1K,KAAK+kK,gBAAgBzjK,OACrB,IAAK,IAAItF,EAAI,EAAGA,EAAIgE,KAAKs1K,SAASr5K,SAAUD,EAC1CgE,KAAKs1K,SAASt5K,GAAG+D,QAEnBC,KAAKs1K,SAAW,GAChBt1K,KAAKuL,OAAOxB,KAAK,uCACjB/J,KAAK0vK,aAlqEA,GAmqEL1vK,KAAK+kK,gBAAgBtU,kBAAiB,GACtCzwJ,KAAK+kK,gBAAgBpU,yBAAwB,GAC7C3wJ,KAAK+vK,YAVL,CAWF,GACC,CACDvzK,IAAK,uBACLe,MAAO,WACL,GAxqEM,IAwqEFyC,KAAKk1K,UAAT,CAGAl1K,KAAK+kK,gBAAgBzjK,OACrB,IAAK,IAAItF,EAAI,EAAGA,EAAIgE,KAAKs1K,SAASr5K,SAAUD,EAC1CgE,KAAKs1K,SAASt5K,GAAGu5K,UAEnBv1K,KAAKs1K,SAAW,GAChBt1K,KAAKuL,OAAOxB,KAAK,yCACjB/J,KAAK0vK,aAnrEA,GAorEL1vK,KAAK+kK,gBAAgBtU,kBAAiB,GACtCzwJ,KAAK+kK,gBAAgBpU,yBAAwB,GAC7C3wJ,KAAKyiK,aAAc,CAVnB,CAWF,GACC,CACDjmK,IAAK,UACLe,MAAO,SAAiBqM,GACtB,GAAK0W,EAAWnb,IAAI6Y,SAGO,OAAvBhe,KAAK+iK,eA5rEH,IA+rEF/iK,KAAKk1K,YAGLl1K,KAAK+kK,gBAAgBlU,kBAAzB,CAGA,IAAI58H,EAAU,KAoBd,GAnBIrqB,EAAMxO,IAAIib,MACZ4d,EAAUrqB,EAAMxO,IAAIib,KAAK6P,QAAQy4B,WAAW/wB,aAC5C5tB,KAAKwvK,UAAY5lK,EAAMxO,IAAIib,MAClBzM,EAAMxO,IAAI8qB,SACnB+N,EAAUrqB,EAAMxO,IAAI8qB,QAAQy4B,WAAW/wB,aACvC5tB,KAAKwvK,UAAY5lK,EAAMxO,IAAI8qB,SAClBtc,EAAMxO,IAAIkxB,OACnB2H,EAAUrqB,EAAMxO,IAAIkxB,MAAMsB,aAC1B5tB,KAAKwvK,UAAY5lK,EAAMxO,IAAIkxB,OAClB1iB,EAAMxO,IAAIkrD,UACnBryB,EAAUrqB,EAAMxO,IAAIkrD,SAASryB,QAC7Bj0B,KAAKwvK,UAAY5lK,EAAMxO,IAAIkrD,UAE3BtmD,KAAKwvK,UAAY,KAMfv7I,EAAS,CACX,IAAIurF,EAASx/G,KAAK21K,qBAAqB1hJ,GACnCurF,IACFo2D,EAAiBp2D,GACjBx/G,KAAKyiK,aAAc,EAEvB,MACEziK,KAAK2oK,sBAAsBiN,GAC3B51K,KAAKyiK,aAAc,EAErBziK,KAAKg0K,mBACLh0K,KAAK2J,cAAcC,EAhCnB,CAiBA,SAASgsK,EAAiBp2D,GACxBA,EAAOywD,oBAAoBrmK,EAAMxO,KACjCokH,EAAO6D,0BACT,CAaF,GACC,CACD7mH,IAAK,aACLe,MAAO,SAAoBqM,GACzB,GAAK5J,KAAKsiK,UAAatiK,KAAK0iK,gBAG5B,OAAQ94J,EAAM8oJ,SACZ,IAAK,IAAIlkJ,WAAW,GACd8R,EAAWnb,IAAI+Y,SACjBle,KAAK61K,0BAEP,MACF,IAAK,IAAIrnK,WAAW,GACd8R,EAAWnb,IAAI+Y,SACjBle,KAAK81K,yBAEP,MACF,IAAK,IAAItnK,WAAW,GAClB,OAAQxO,KAAKk1K,WACX,KA1vEC,EA2vECl1K,KAAK+1K,sBACL,MACF,KA5vEA,EA6vEE/1K,KAAKg2K,qBAGT,MACF,IAAK,IAAIxnK,WAAW,GAClB,OAAQxO,KAAKk1K,WACX,KApwEC,EAqwECl1K,KAAKgpK,wBACL,MACF,KAtwEA,EAuwEEhpK,KAAKipK,uBAGT,MACF,IAAK,IAAIz6J,WAAW,GAClB5E,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACNvvI,EAAWhY,IAAI,MAAOgY,EAAWnb,IAAIuY,IACrC1d,KAAKyiK,aAAc,EACnB,MACF,KAAK,IACH74J,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACN7vJ,KAAK2oK,uBAAsB,SAAUnpD,GACnCA,EAAOy2D,kBACPz2D,EAAO6D,0BACT,IACArjH,KAAKg0K,mBACLh0K,KAAKyiK,aAAc,EACnB,MACF,KAAK,IACH74J,EAAMkmJ,iBACNlmJ,EAAMimJ,kBACN7vJ,KAAK2oK,uBAAsB,SAAUnpD,GACnCA,EAAO02D,kBACP12D,EAAO6D,0BACT,IACArjH,KAAKg0K,mBACLh0K,KAAKyiK,aAAc,EAGzB,GACC,CACDjmK,IAAK,WACLe,MAAO,SAAkBqM,GAClB5J,KAAKsiK,UAAatiK,KAAK0iK,iBAGxB94J,EAAM8oJ,UAAY,IAAIlkJ,WAAW,IACnCxO,KAAKm2K,wBAET,GACC,CACD35K,IAAK,mBACLe,MAAO,WACL,IACI8Y,EACA6P,EAFAnc,EAAO/J,KAAKykK,aAAa0Q,qBAAqB,KAAK,GAGnDv/J,EAAQ,EAIZ,IAHA5V,KAAK2oK,uBAAsB,SAAUnpD,GACnC5pG,GAAS4pG,EAAOi1D,mBAClB,IACO1qK,EAAKjI,YACViI,EAAK/F,YAAY+F,EAAKjI,YAExB,GAAc,IAAV8T,EAAJ,CAIA,IAAIwgK,EAAY,GAAG/qK,OAAOF,OAAOyK,GAAQ,SAASvK,OAAiB,IAAVuK,EAAc,IAAM,GAAI,aAC1D,OAAnB5V,KAAKwvK,YACP4G,GAAa,oBAEf,IAAIC,EAAa,GACbC,EAAQ,GACRC,EAAY,GAChB,GAAIv2K,KAAKwvK,qBAAqBvpJ,GAAM,CAElCC,GADA7P,EAAOrW,KAAKwvK,WACGtpJ,QACfowJ,EAAQjgK,EAAK9X,KACb,IAAI2N,EAA6B,KAAlBmK,EAAKnK,SAAkBf,OAAOgD,aAAakI,EAAKnK,UAAY,GAC3EmqK,EAAa,GAAGhrK,OAAOgL,EAAKtQ,QAAQ0hB,SAAU,MAAMpc,OAAOgL,EAAKgQ,QAAQhb,OAAOa,EAAU,YAAYb,OAAO6a,EAAQiB,OAAO8G,MAAO,KAAK5iB,OAAO6a,EAAQ2D,MAAMoE,OAAO5iB,OAAO6a,EAAQmB,WAAWhc,OAAO6a,EAAQwG,OAAO5G,OAAQ,KAC3NuwJ,GAAcC,EACdC,EAAY,WAAWlrK,OAAOgL,EAAKnV,SAASuB,EAAE08I,QAAQ,GAAG9gJ,WAAY,UAAUgN,OAAOgL,EAAKnV,SAASwB,EAAEy8I,QAAQ,GAAG9gJ,WAAY,UAAUgN,OAAOgL,EAAKnV,SAASwuB,EAAEyvH,QAAQ,GAAG9gJ,WAAY,IACvL,MAAW2B,KAAKwvK,qBAAqBnjJ,IACnCnG,EAAUlmB,KAAKwvK,UACf6G,EAAa,GAAGhrK,OAAO6a,EAAQ2D,MAAM0G,UAAW,YAAYllB,OAAO6a,EAAQiB,OAAO8G,MAAO,KAAK5iB,OAAO6a,EAAQ2D,MAAMoE,OAAO5iB,OAAO6a,EAAQmB,WAAWhc,OAAO6a,EAAQwG,OAAO5G,SACjK9lB,KAAKwvK,qBAAqBx7I,GACnCqiJ,EAAa,SAAShrK,OAAOrL,KAAKwvK,UAAUvhJ,OACnCjuB,KAAKwvK,qBAAqBljH,KACnC+pH,EAAa,YAAYhrK,OAAOrL,KAAKwvK,UAAUvhJ,QAEjDlkB,EAAKtG,YAAYjC,SAASmP,eAAeylK,IACtB,KAAfC,IACFtsK,EAAKtG,YAAYjC,SAASC,cAAc,OACxCsI,EAAKtG,YAAYjC,SAASmP,eAAe0lK,KAEzB,KAAdE,IACFxsK,EAAKtG,YAAYjC,SAASC,cAAc,OACxCsI,EAAKtG,YAAYjC,SAASmP,eAAe4lK,KAE3Cv2K,KAAKykK,aAAatgK,MAAM8oD,QAAU,CAjClC,MAFEjtD,KAAKykK,aAAatgK,MAAM8oD,QAAU,CAoCtC,GACC,CACDzwD,IAAK,aACLe,MAAO,WACL,GAAIyC,KAAKs1K,SAAU,CAEjB,IADA,IAAIzjB,EAAS,KACJ71J,EAAI,EAAGA,EAAIgE,KAAKs1K,SAASr5K,SAAUD,EAAG,CAC7C,IAAIw6K,EAAax2K,KAAKs1K,SAASt5K,GAAGowJ,YAClC,GAAIoqB,EAAWl6J,QAAQrgB,OAAS,EAAG,CACjC,GAAI41J,EAAQ,CACVA,EAAS,KACT,KACF,CACAA,EAAS2kB,CACX,CACF,CACA,GAAI3kB,EACF,OAAOA,CAEX,CACA,MAAO,CACLv1I,QAAS,GACTijG,MAAO,IAAI,MAAQ,EAAG,EAAG,GAE7B,GACC,CACD/iH,IAAK,aACLe,MAAO,WACL,IAAIuqC,EAAc,IAAI,MAClBQ,EAAS,IAAI,MACjBR,EAAYE,YACZhoC,KAAK4oK,gBAAe,SAAUppD,GAC5B13E,EAAY0hI,MAAMhqD,EAAO76D,gBAAgB7c,YAC3C,IACAA,EAAYK,UAAUG,GACtBtoC,KAAK+kK,gBAAgB/R,SAAS1qH,EAAOnZ,UACrCnvB,KAAK2J,cAAc,CACjBd,KAAM,aAEV,GACC,CACDrM,IAAK,kBACLe,MAAO,SAAyB2oB,GAC9B,IAAIoiB,EAAS,IAAI,MACbk3E,EAASx/G,KAAK21K,qBAAqBzvJ,EAAQy4B,WAAW/wB,cAC1D,GAAK4xF,EAAL,CAGA,GAAIt5F,EAAQgH,cACVob,EAAOj3B,KAAK6U,EAAQgH,mBACf,CAKL,IAJA,IAAIzqB,EAAI,EACJC,EAAI,EACJgtB,EAAI,EACJ+mJ,EAASvwJ,EAAQ0G,OAAO3wB,OACnBD,EAAI,EAAGA,EAAIy6K,IAAUz6K,EAAG,CAC/B,IAAIiB,EAAIipB,EAAQ0G,OAAO5wB,GAAGkF,SAC1BuB,GAAKxF,EAAEwF,EAAIg0K,EACX/zK,GAAKzF,EAAEyF,EAAI+zK,EACX/mJ,GAAKzyB,EAAEyyB,EAAI+mJ,CACb,CACAnuI,EAAOhgC,IAAI7F,EAAGC,EAAGgtB,EACnB,CACA4Y,EAAOa,aAAaq2E,EAAOj2E,QAAQpa,SACnCnvB,KAAK+kK,gBAAgB/R,SAAS1qH,GAC9BtoC,KAAK2J,cAAc,CACjBd,KAAM,aAnBR,CAqBF,GACC,CACDrM,IAAK,eACLe,MAAO,SAAsB8Y,GAC3B,IAAIiyB,EAAS,IAAI,MACbk3E,EAASx/G,KAAK21K,qBAAqBt/J,EAAK6P,QAAQy4B,WAAW/wB,cAC1D4xF,IAGLl3E,EAAOj3B,KAAKgF,EAAKnV,UACjBonC,EAAOa,aAAaq2E,EAAOj2E,QAAQpa,SACnCnvB,KAAK+kK,gBAAgB/R,SAAS1qH,GAC9BtoC,KAAK2J,cAAc,CACjBd,KAAM,cAEV,GACC,CACDrM,IAAK,qBACLe,MAAO,SAA4B+qC,EAAQrB,EAAcjrB,GACvD,IAAI06J,EAAkB,IAAI,MAAQ,EAAK,EAAK,GAC5CpuI,EAAOhgC,IAAI,EAAK,EAAK,GACrB,IAAIsN,EAAQ,EAOZ,OANA5V,KAAK2oK,uBAAsB,SAAUnpD,GAC/BA,EAAOm3D,mBAAmBD,EAAiBzvI,EAAcjrB,GAAYwjG,EAAOK,qBAC9Ev3E,EAAOuH,IAAI6mI,GACX9gK,IAEJ,IACc,IAAVA,IAGJ0yB,EAAO4N,aAAatgC,GACpB0yB,EAAOnZ,UACA,EACT,GACC,CACD3yB,IAAK,iBACLe,MAAO,SAAwBye,GAC7B,IAAIsd,EAAU,IAAI,MAAQ,EAAK,EAAK,GAChC2N,EAAejrB,EAAW2lJ,GAAsBD,GAChD1hK,KAAK22K,mBAAmBr9I,EAAS2N,EAAcjrB,IACjDhc,KAAK+kK,gBAAgB/R,SAAS15H,GAC9Bt5B,KAAK2J,cAAc,CACjBd,KAAM,eAGR7I,KAAKuL,OAAOtB,KAAK,qDAErB,GACC,CACDzN,IAAK,aACLe,MAAO,SAAoB4C,EAAO+C,GAChC,IAyBI0zK,EAnBanlH,EAHAH,EAHb4sG,EAAMl+J,KAAK+9J,KACXmJ,EAAchJ,EAAIhzE,SAAShlF,WAAW/F,MACtCgnK,EAAejJ,EAAIhzE,SAAShlF,WAAWhD,OAO3C,SAAS2zK,IACP,IAAIC,EAEJ,GADkBvnK,EAAM8D,eACJ9D,EAAM/D,YAAYE,OAAQ,CAC5C,IAAIqrK,EAASv1K,SAASC,cAAc,UAChCu1K,EAAgBD,EAAO7Q,WAAW,MACtC6Q,EAAO52K,WAAkB8D,IAAV9D,EAAsB+mK,EAAc/mK,EACnD42K,EAAO7zK,YAAoBe,IAAXf,EAAuBikK,EAAejkK,EACtD8zK,EAAcC,UAAU/Y,EAAIhzE,SAAShlF,WAAY,EAAG,EAAG6wK,EAAO52K,MAAO42K,EAAO7zK,QAC5E4zK,EAAUC,EAAOG,UAAU,YAC7B,MACEJ,EAAU5Y,EAAIhzE,SAAShlF,WAAWgxK,UAAU,aAE9C,OAAOJ,CACT,CAGA,GAFA5zK,EAASA,GAAU/C,OAEL8D,IAAV9D,QAAkC8D,IAAXf,GAAwB/C,IAAU+mK,GAAehkK,IAAWikK,EACrFyP,EAAgBC,QACX,CACL,IAAIhlH,EAAiBqsG,EAAItsG,OAAOP,OAC5BS,EAAcosG,EAAItsG,OAAON,IAGzB6lH,GA9BW7lH,EA4Be4sG,EAAItsG,OAAON,IA3BlCtvD,KAAKyvD,IAAI,MAAUC,SAAS,GAAMJ,IA4BhBtvD,KAAKwY,IAAI0jJ,EAAI/9J,MAAO+9J,EAAIh7J,QACkBg7J,EAAIh7J,QACnEk0K,EAAaj3K,EAAQ+C,EACzBg7J,EAAIhzE,SAASi7E,cAAc,GAC3BjI,EAAItsG,OAAOP,OAAS+lH,EACpBlZ,EAAItsG,OAAON,KA/BIG,EA+BU0lH,EAAwBn1K,KAAKwY,IAAI48J,EAAY,GA9B1B,EAArC,MAAU7lH,SAASvvD,KAAKwvD,KAAKC,KA+BpCysG,EAAItsG,OAAOG,yBACXmsG,EAAIhzE,SAASmsF,qBAAqBl3K,EAAO+C,EAAQ,GACjDlD,KAAKuqK,aAAajqJ,EAAWnb,IAAIkZ,QACjCu4J,EAAgBC,IAChB3Y,EAAIhzE,SAASi7E,cAAc3gK,OAAO4gK,kBAClClI,EAAItsG,OAAOP,OAASQ,EACpBqsG,EAAItsG,OAAON,IAAMQ,EACjBosG,EAAItsG,OAAOG,yBACXmsG,EAAIhzE,SAASmsF,qBAAqBnZ,EAAI/9J,MAAO+9J,EAAIh7J,OAAQsC,OAAO4gK,kBAChEpmK,KAAKyiK,aAAc,CACrB,CACA,OAAOmU,CACT,GACC,CACDp6K,IAAK,iBACLe,MAAO,SAAwBuW,EAAU3T,EAAO+C,GAC9C,IAAIo0K,EAAMt3K,KAAKu3K,WAAWp3K,EAAO+C,GACjCqM,EAAMqE,aAAa0jK,EAAKxjK,EAC1B,GACC,CACDtX,IAAK,OACLe,MAAO,SAAc6D,GACnB,IAAIo2K,EAASx3K,KACbA,KAAKy3K,QAAQr2K,EAAK+xH,UAAUwrC,MAAK,SAAU+Y,GACzC,IAAI5jK,EAAW0jK,EAAOxU,SAASwU,EAAOvU,gBAAgB/uI,SAAS31B,KAC/DgR,EAAM0E,SAASyjK,EAAY5jK,EAAU1S,EAAK+xH,UAC1CqkD,EAAOhH,gBACPgH,EAAO7tK,cAAc,CACnBd,KAAM,iBAEV,IAAGkpK,OAAM,SAAU7nK,GACjBstK,EAAOjsK,OAAOrB,MAAM,yBACpBstK,EAAOjsK,OAAOzB,MAAMI,GACpBstK,EAAOhH,gBACPgH,EAAO7tK,cAAc,CACnBd,KAAM,gBACNqB,MAAOA,GAEX,GACF,GACC,CACD1N,IAAK,mBACLe,MAAO,WACL,IAAIo6K,EAAU,CAAC,CAAC,OAAQ,KAAM,CAAC,MAAO,KAAM,CAAC,SAAU,KAAO,CAAC,OAAQ,KAAO,CAAC,QAAS/2J,OAAO0gE,YAC3F+nB,EAAY,EAIhB,GAHArpG,KAAK2oK,uBAAsB,SAAUnpD,GACnCnW,GAAamW,EAAO5xF,aAAa+mB,cACnC,IACI00D,EAAY,EAEd,IADA,IAAI5jG,EAA+B,IAAjBzF,KAAK43K,UAAmBvuE,EACjCrtG,EAAI,EAAGA,EAAI27K,EAAQ17K,SAAUD,EACpC,GAAIyJ,EAAckyK,EAAQ37K,GAAG,GAAI,CAC/BgE,KAAK63K,sBAAsBF,EAAQ37K,GAAG,IACtC,KACF,CAGN,GACC,CACDQ,IAAK,wBACLe,MAAO,SAA+Bie,GAChCA,IAAe8E,EAAWnb,IAAIqW,YAChCxb,KAAKuL,OAAOvB,OAAO,6CAA8CqB,OAAOmQ,EAAY,4BAEtF8E,EAAWnb,IAAIqW,WAAaA,CAC9B,GACC,CACDhf,IAAK,eACLe,MAAO,WACLyC,KAAK2iK,SAASpG,UAAUv8J,KAAK8oE,MAAMg5F,eAAgBplC,KAAKC,UAAU38H,KAAKqlB,SAASnF,UAAS,IAC3F,GACC,CACD1jB,IAAK,kBACLe,MAAO,WACL,IACE,IAAIs/J,EAAS78J,KAAK2iK,SAAS/F,UAAU58J,KAAK8oE,MAAMg5F,gBAC5C9hJ,EAAQ68I,EAASngC,KAAK7+F,MAAMg/H,GAAU,CAAC,EAC3C78J,KAAKqlB,SAAStF,WAAWC,GAAO,EAClC,CAAE,MAAOrY,GACP3H,KAAKuL,OAAOrB,MAAM,wBAAwBmB,OAAO1D,EAAEqD,SACrD,CACF,GACC,CACDxO,IAAK,gBACLe,MAAO,WACLyC,KAAKqlB,SAASlG,OAChB,GACC,CACD3iB,IAAK,aACLe,MAAO,SAAoB6D,GACL,iBAATA,IACTA,EAAOwgK,EAAKj/I,QAAQiC,SAASxjB,IAE3BA,EAAKkgB,OACPthB,KAAK8oE,MAAMxnD,KAAO,OAEpB,IAAAhC,OAAMtf,KAAK8oE,MAAO1nE,GACdA,EAAKikB,UACPrlB,KAAKsI,IAAIlH,EAAKikB,UAEhBrlB,KAAK8oE,MAAMlmD,SAAWxhB,EAAKwhB,SAC3B5iB,KAAK2vK,gBACDvuK,EAAKihB,MACPriB,KAAKqiB,KAAKjhB,EAAKihB,KAAM,CACnB8wG,SAAU/xH,EAAKyH,OAGfzH,EAAKua,SACP2E,EAAWnb,IAAIwW,OAASva,EAAKua,QAE3Bva,EAAKkgB,MACPthB,KAAK6vK,UAAUzuK,EAAKua,QAElB3b,KAAK8oE,MAAMvmD,OACbviB,KAAKuiB,KAAKviB,KAAK8oE,MAAMvmD,aACdviB,KAAK8oE,MAAMvmD,MAEpB,IAAIi9F,EAASx/G,KAAKisK,oBACdzsD,IACFA,EAAO5xF,aAAakqJ,oBAChB,IAAAttK,UAASpJ,EAAKqhB,OAChB+8F,EAAO5xF,aAAak3B,eAAe1jD,EAAKqhB,MAE1CziB,KAAK+3K,YACL/3K,KAAK+vK,aAET,GACC,CACDvzK,IAAK,OACLe,MAAO,SAAcgB,GACnB,IAAIihH,EAASx/G,KAAKisK,kBAAkB1tK,GACpC,IAAKihH,EACH,MAAO,CAAC,EAEV,IAAIvrF,EAAUurF,EAAO5xF,aACjBk1B,EAAW7uB,EAAQ6uB,SACvB,MAAO,CACLh9C,GAAIg9C,EAASh9C,IAAMmuB,EAAQ11B,MAAQ,UACnC83H,MAAOvzE,EAASuzE,OAASvzE,EAASuzE,MAAM5xH,KAAK,MAAQ,eACrD0nB,MAAO8H,EAAQ0gB,eACf9tB,MAAOoN,EAAQ+jJ,eACfxjJ,SAAUP,EAAQgkJ,kBAClBlvI,OAAQ9U,EAAQikJ,gBAEpB,GACC,CACD17K,IAAK,YACLe,MAAO,SAAmB46K,EAASC,GACjC,IAAIC,EAAO,KAIX,GAHIF,EAAQtvK,OAASivJ,GAASt8J,UAAUqN,OACtCwvK,EAAOvgB,IAEI,OAATugB,EACF,MAAM,IAAI5tK,MAAM,+BAA+BY,OAAO8sK,EAAQtvK,OAEhE,IACE,IAAIka,EAAS,IAAIs1J,EAAKF,EAAQlvK,OAAQkvK,EAAQ/2K,MAC9CpB,KAAKs4K,gBAAgBv1J,EACvB,CAAE,MAAO7Y,GACP,GAAKkuK,EAGH,MAAMluK,EAFNlK,KAAKuL,OAAOzB,MAAM,uCAAuCuB,OAAOnB,EAAMc,SAI1E,CACAhL,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,kBACLe,MAAO,SAAyBg7K,GAC9B,IAAI/4D,EAASx/G,KAAKisK,oBACdsM,EAAYzyH,OAAS05D,IACvB+4D,EAAYzyH,MAAM05D,EAAO5xF,cACzB5tB,KAAK+9J,KAAKx+C,MAAM1vE,IAAI0oI,EAAYzE,gBAElC,IAAIx3J,EAAUtc,KAAK4iB,SACnBtG,EAAQA,EAAQrgB,QAAUs8K,CAC5B,GACC,CACD/7K,IAAK,qBACLe,MAAO,SAA4Bw3B,GAEjC,IADA,IAAIyjJ,EAAOx4K,KAAK4iB,SACP5mB,EAAI,EAAGoC,EAAIo6K,EAAKv8K,OAAQD,EAAIoC,IAAKpC,EACpCw8K,EAAKx8K,GAAGmnD,eACVq1H,EAAKx8K,GAAGmnD,cAAcpuB,EAG5B,GACC,CACDv4B,IAAK,gBACLe,MAAO,WACL,IAAIi7K,EAAOx4K,KAAK8oE,MAAMlmD,SAEtB,GADA5iB,KAAK4iB,SAAW,GACZ41J,EACF,IAAK,IAAIx8K,EAAI,EAAGoC,EAAIo6K,EAAKv8K,OAAQD,EAAIoC,IAAKpC,EACxCgE,KAAKgjB,UAAUw1J,EAAKx8K,IAAI,EAG9B,GACC,CACDQ,IAAK,eACLe,MAAO,SAAsB+mB,GAC3B,IAAIlpB,EAAM4E,KAAK4iB,SAAS0B,GACxB,IAAKlpB,EACH,MAAM,IAAIqP,MAAM,2BAA2BY,OAAOiZ,EAAO,oBAE3DlpB,EAAI4zC,UACJhvC,KAAK4iB,SAASsf,OAAO5d,EAAO,GAC5BtkB,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,SACLe,MAAO,SAAgB6D,GACrB,OAAOsjB,GAAUI,MAAM9kB,KAAKy4K,UAAS,IAAAviK,UAAW9U,EAAM,CACpDs3K,SAAS,EACTrzJ,UAAU,EACV9C,MAAM,KAEV,GACC,CACD/lB,IAAK,YACLe,MAAO,SAAmB6D,GACxB,OAAOsjB,GAAUe,SAASzlB,KAAKy4K,UAAS,IAAAviK,UAAW9U,EAAM,CACvDs3K,SAAS,EACTrzJ,UAAU,EACV9C,MAAM,KAEV,GACC,CACD/lB,IAAK,eACLe,MAAO,SAAsBwhH,EAAe45D,GAC1C,IAAI91E,EAAM,CAAC,EACP8xE,EAAW,EACX51D,IACF41D,EAAW51D,EAAc41D,YAE3B,IAAIiE,EAAat4J,EAAWpK,SAAS0F,QAAQ0E,EAAWnb,IAAIwW,QACxD+qH,EAAUiyC,OACK10K,IAAf20K,GAA4BA,EAAW38K,OAAS04K,GAClDjuC,GAAU,EACV7jC,EAAIlnF,OAAS,SACJ2E,EAAWnb,IAAIwW,SAAW2E,EAAWpK,SAASyF,SACvDknF,EAAIlnF,OAAS2E,EAAWnb,IAAIwW,QAI9B,IAFA,IAAIk9J,EAAW,GACXC,GAAY,EACP98K,EAAI,EAAGoC,EAAIu2K,EAAU34K,EAAIoC,IAAKpC,EACrC68K,EAAS78K,GAAK+iH,EAAcw1D,OAAOv4K,GAAG0qI,QAAQA,EAAUkyC,EAAW58K,GAAK,OACnE,IAAA2W,SAAQkmK,EAAS78K,MACpB88K,GAAY,GAMhB,OAHKA,IACHj2E,EAAIvhF,KAAOu3J,GAENh2E,CACT,GACC,CACDrmG,IAAK,WACLe,MAAO,SAAkB6D,GACvB,IAAIq9B,EAAQ,CAAC,EACbr9B,GAAO,IAAA8U,UAAW9U,EAAM,CACtBs3K,SAAS,EACTrzJ,UAAU,EACV9C,MAAM,IAER,IAAIi9F,EAASx/G,KAAKisK,oBAClB,GAAe,OAAXzsD,EAAiB,CACnB,IAAIvrF,EAAUurF,EAAO5xF,aACjBk1B,EAAW7uB,EAAQ6uB,SACvB,GAAIA,EAASh9C,GAAI,CACf,IAAIkqH,EAASltE,EAASktE,OAAS,GAAG3kH,OAAOy3C,EAASktE,OAAQ,KAAO,GACjEvxF,EAAMpc,KAAO2tG,EAASltE,EAASh9C,EACjC,CACA,IAAI2c,EAAOwR,EAAQggJ,iBACN,IAATxxJ,IACFgc,EAAMhc,KAAOA,EAEjB,CACA,IAAIs2J,EAAW/4K,KAAKg5K,aAAax5D,EAAQp+G,EAAKs3K,SAC1CK,EAASp9J,SACX8iB,EAAM9iB,OAASo9J,EAASp9J,QAEtBo9J,EAASz3J,OACXmd,EAAMnd,KAAOy3J,EAASz3J,MAIxB,IAFA,IAAIhF,EAAUtc,KAAK4iB,SACfq2J,EAAe,GACVj9K,EAAI,EAAGoC,EAAIke,EAAQrgB,OAAQD,EAAIoC,IAAKpC,EAC3Ci9K,EAAaj9K,GAAKsgB,EAAQtgB,GAAGiiH,WAQ/B,GANI3hG,EAAQrgB,OAAS,IACnBwiC,EAAM7b,SAAWq2J,GAEf73K,EAAKmhB,OACPkc,EAAMlc,KAAOviB,KAAKuiB,QAEhBnhB,EAAKikB,SAAU,CACjB,IAAI/S,EAAOtS,KAAKqlB,SAASnF,UAAS,IAC7B,IAAAvN,SAAQL,KACXmsB,EAAMpZ,SAAW/S,EAErB,CACA,OAAOmsB,CACT,GACC,CACDjiC,IAAK,MACLe,MAAO,SAAakL,EAAOlL,GACzB,OAAO+iB,EAAWjY,IAAII,EAAOlL,EAC/B,GACC,CACDf,IAAK,wBACLe,MAAO,SAA+B6C,GACpC,IAAIusF,EAAiB3qF,KAAK8M,IAAI9O,KAAK+9J,KAAKnsG,OAAO1wD,SAASwuB,EAAItvB,EAASkgB,EAAWnb,IAAIuX,MAAME,gBAAiB0D,EAAWnb,IAAI2V,SACtH1Z,EAAO,CACTurF,eAAgBA,GAElB3sF,KAAK2oK,uBAAsB,SAAUnpD,GACnCA,EAAOtpD,eAAe90D,EACxB,IACA,IAAK,IAAIpF,EAAI,EAAGoC,EAAI4B,KAAK4iB,SAAS3mB,OAAQD,EAAIoC,IAAKpC,EAAG,CACpD,IAAIZ,EAAM4E,KAAK4iB,SAAS5mB,GACpBZ,EAAIo9J,OACNp9J,EAAIo9J,MAAMv8I,SAASi6C,eAAe90D,EAEtC,CACqB,OAAjBpB,KAAKklK,UACPllK,KAAKklK,QAAQv4E,eAAiBA,EAElC,GACC,CACDnwF,IAAK,qBACLe,MAAO,WACgB,OAAjByC,KAAKklK,UACHllK,KAAK+9J,KAAKzsE,MAAMt0E,IAClBhd,KAAKklK,QAAQ3R,YAAcvzJ,KAAK+9J,KAAKzsE,MAAMt0E,IAAIy1C,IAE/CzyD,KAAKklK,QAAQ3R,iBAActvJ,EAGjC,GACC,CACDzH,IAAK,yBACLe,MAAO,SAAgC2pB,GACrClnB,KAAK2oK,uBAAsB,SAAUnpD,GAEnC,IADA,IAAIsE,EAAWtE,EAAOoC,UACb5lH,EAAI,EAAGoC,EAAI0lH,EAAS7nH,OAAQD,EAAIoC,IAAKpC,EAAG,CAC/C,IAAIooH,EAAON,EAAS9nH,GACpBkrB,EAAQk9F,EAAKtvD,IAAKsvD,EAAKnoG,SACzB,CACF,GACF,GACC,CACDzf,IAAK,mBACLe,MAAO,SAA0BkM,GAC/B,IAAIs7G,EAAellH,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,IAAmBA,UAAU,GAC9EqnB,EAAUrnB,UAAU5D,OAAS,QAAsBgI,IAAjBpE,UAAU,GAAmBA,UAAU,QAAKoE,EAClFjE,KAAK2oK,uBAAsB,SAAUnpD,GACnC,OAAOA,EAAO05D,kBAAkBzvK,EAAQs7G,EAAc79F,EACxD,IACA,IAAK,IAAIlrB,EAAI,EAAGoC,EAAI4B,KAAK4iB,SAAS3mB,OAAQD,EAAIoC,IAAKpC,EAAG,CACpD,IAAIZ,EAAM4E,KAAK4iB,SAAS5mB,GACpBZ,EAAIo9J,QACNp9J,EAAIo9J,MAAMv8I,SAAS45C,UAAUpsD,GAC7BrO,EAAIo9J,MAAMv8I,SAASmwC,aAAc,EAErC,CACF,GACC,CACD5vD,IAAK,mBACLe,MAAO,WACLyC,KAAK2oK,uBAAsB,SAAUnpD,GACnCA,EAAOtpD,eAAe,CACpB96C,SAAUkF,EAAWnb,IAAIiW,UAE7B,GACF,GACC,CACD5e,IAAK,cACLe,MAAO,WACL,IAAI47K,EAAUn5K,KACd,GAA8B,UAA1BsgB,EAAWnb,IAAIkZ,OAKjB,OAJIre,KAAKkqK,OACPlqK,KAAKkqK,MAAMkP,eAEbp5K,KAAKkqK,MAAQ,MAGVlqK,KAAKkqK,QACRlqK,KAAKkqK,MAAQ,IAAI/M,IAAS,WACxBgc,EAAQrQ,wBAAuB,WAC7B,OAAOqQ,EAAQpQ,SACjB,IACAoQ,EAAQ1W,aAAc,EACtB0W,EAAQ9Q,WACV,KAEFroK,KAAKkqK,MAAMx9J,OAAO1M,KAAK+9J,KACzB,GACC,CACDvhK,IAAK,yBACLe,MAAO,WACL,IAAI87K,EAAUr5K,KACV+G,EAAK,SAAYhL,EAAO8/G,IAC1B9/G,GAAQ,IAAA4C,SAAQ5C,GAASA,EAAQ,CAACA,IAC5BsN,SAAQ,SAAUnF,GACtBm1K,EAAQh0J,SAASzc,iBAAiB,UAAUyC,OAAOnH,GAAO23G,EAC5D,GACF,EACA90G,EAAG,kBAAkB,WACnB,IAAIwlH,EAAS8sD,EAAQlN,mBACN,OAAX5/C,IACJA,EAAOiB,UAAUltG,EAAWnb,IAAIgR,MAAMoD,GAAGI,OACzC0/J,EAAQ5W,aAAc,EACxB,IACA17J,EAAG,oBAAoB,WACrB,IAAIwlH,EAAS8sD,EAAQlN,mBACN,OAAX5/C,IACJA,EAAOgB,UAAUtxG,SAASurG,gBAC1B6xD,EAAQ5W,aAAc,EACxB,IACA17J,EAAG,YAAY,WACbsyK,EAAQC,mBACV,IACAvyK,EAAG,MAAM,WACP,GAAIuZ,EAAWnb,IAAIuY,KAAO4jJ,GAAc+X,EAAQtb,KAAK7yE,SAASg7E,cAC5DmT,EAAQ9tK,OAAOtB,KAAK,8CACpBqW,EAAWhY,IAAI,MAAM,OAChB,CACL,IAAImB,EAAS,CACXolF,iBAAkBvuE,EAAWnb,IAAIuY,IAEnC27J,EAAQ5P,uBAAuBhgK,EACjC,CACF,IACA1C,EAAG,YAAY,WACTuZ,EAAWnb,IAAI8X,WAAamkJ,GAAqBiY,EAAQtb,KAAK7yE,SAASg7E,gBACzEmT,EAAQ9tK,OAAOtB,KAAK,oDACpBqW,EAAWhY,IAAI,YAAY,IAE7B+wK,EAAQtJ,YACV,IACAhpK,EAAG,YAAY,WACbsyK,EAAQE,oBACV,IACAxyK,EAAG,kBAAkB,WACnBsyK,EAAQE,oBACV,IACAxyK,EAAG,kBAAkB,SAAUyyK,GAC7B,IAAItb,EAAMmb,EAAQtb,KACdG,GACFA,EAAIhzE,SAASo7E,cAAchmJ,EAAWnb,IAAIkU,GAAG9Y,MAAOqgB,QAAQN,EAAWnb,IAAIkU,GAAGoD,cAEhF48J,EAAQI,iBAAiB,CACvB7qF,eAAgB4qF,EAAIj8K,QAEtB87K,EAAQtJ,YACV,IACAhpK,EAAG,mBAAmB,SAAUyyK,GAC9BH,EAAQI,iBAAiB,CACvB98J,UAAW68J,EAAIj8K,QAEjB87K,EAAQtJ,YACV,IACAhpK,EAAG,aAAa,SAAUyyK,GACxB,IAAI/vK,EAAS,CACXwsD,UAAWujH,EAAIj8K,MACfgxF,cAAejuE,EAAWnb,IAAIlE,OAAO4H,MAEnCq1J,EAAMmb,EAAQtb,KACdG,IACFA,EAAIhzE,SAAS86E,UAAUv5J,QAAUhF,QAAQgC,EAAOwsD,YAElDojH,EAAQI,iBAAiBhwK,GAAQ,GAC7BA,EAAOwsD,WACTojH,EAAQpU,sBACRoU,EAAQK,uBAAuBj9D,GAAUL,0BAEzCi9D,EAAQK,uBAAuBj9D,GAAUE,yBAE3C08D,EAAQ5W,aAAc,CACxB,IACA17J,EAAG,eAAe,SAAUyyK,GACtBl5J,EAAWnb,IAAIlE,OAAO8F,KACxBsyK,EAAQI,iBAAiB,CACvBlrF,cAAeirF,EAAIj8K,QAClB,GACH87K,EAAQ5W,aAAc,EAE1B,IACA17J,EAAG,iBAAiB,SAAUyyK,GAC5B,IAAK,IAAIx9K,EAAI,EAAGA,EAAIq9K,EAAQtb,KAAKzsE,MAAM9jC,SAASvxD,OAAQD,SACRiI,IAA1Co1K,EAAQtb,KAAKzsE,MAAM9jC,SAASxxD,GAAGiF,SACrBo4K,EAAQtb,KAAKzsE,MAAM9jC,SAASxxD,GAClCiF,OAAOb,OAASo5K,EAAIj8K,MAC1B87K,EAAQ5W,aAAc,EAG5B,IACA17J,EAAG,OAAO,WACRsyK,EAAQjR,KAAKjlD,KAAK7iG,EAAWnb,IAAIyB,IACnC,IACAG,EAAG,CAAC,MAAO,gBAAiB,iBAAiB,WAC3CsyK,EAAQpP,aACRoP,EAAQ5W,aAAc,CACxB,IACA17J,EAAG,YAAY,WACb,IAAIqU,EAAWkF,EAAWnb,IAAIiW,UAC1BA,EAAW,GAAKA,EAAW,IAC7Bi+J,EAAQ9tK,OAAOtB,KAAK,oCAEtBovK,EAAQM,mBACRN,EAAQ5W,aAAc,CACxB,IACA17J,EAAG,kBAAkB,SAAUyyK,GACzBA,EAAIj8K,QAAU87K,EAAQzB,WACxByB,EAAQ9tK,OAAOtB,KAAK,yGAExB,IACAlD,EAAG,UAAU,WACXsyK,EAAQnR,YAAsC,UAA1B5nJ,EAAWnb,IAAIkZ,QACnCg7J,EAAQ5W,aAAc,CACxB,IACA17J,EAAG,CAAC,eAAgB,YAAY,WAC9BsyK,EAAQtJ,YACV,IACAhpK,EAAG,cAAc,WACfsyK,EAAQtJ,aACR,IAAIxjD,EAAS8sD,EAAQlN,mBACjB5/C,IACFA,EAAOgB,UAAUtxG,SAASurG,gBAC1B6xD,EAAQ5W,aAAc,EAE1B,IACA17J,EAAG,CAAC,OAAQ,OAAQ,KAAM,aAAc,gBAAiB,oBAAqB,sBAAsB,WAClGsyK,EAAQ5W,aAAc,CACxB,GACF,GACC,CACDjmK,IAAK,MACLe,MAAO,SAAa0L,EAAQ1L,GAC1B+iB,EAAWhY,IAAIW,EAAQ1L,EACzB,GACC,CACDf,IAAK,SACLe,MAAO,SAAgBinH,EAAYlnF,GACjC,IAAIkiF,EAASx/G,KAAKisK,oBAClB,GAAKzsD,EAAL,CAGA,IAAIo6D,EAAMp1D,GACN,IAAAtxG,UAASsxG,KACXo1D,EAAM/Y,GAAYhjI,MAAM2mF,GAAYxoG,UAEtCwjG,EAAOt8F,OAAO02J,EAAKt8I,GACnBt9B,KAAKwvK,UAAY,KACjBxvK,KAAKg0K,mBACLh0K,KAAKyiK,aAAc,CARnB,CASF,GACC,CACDjmK,IAAK,OACLe,MAAO,SAAcinH,GACnB,IAMMj8E,EACAloC,EACAw5K,EAPFh9K,EAAOmD,KACPu/G,EAAQv/G,KAAK+9J,KAAKx+C,MAClB39G,EAAY,GAsChB,YAA0B,IAAf4iH,GAnCLj8E,EAAMg3E,EAAMr+G,SACZb,EAAQxD,EAAKkoK,gBAAgBxT,WAAajxI,EAAWnb,IAAI8V,aACzD4+J,EAAQ,IAAI,OACVC,kBAAkBj9K,EAAKkoK,gBAAgB1T,iBAL9B,OAMfzvJ,EAAY,CAAC2mC,EAAI9lC,EAAG8lC,EAAI7lC,EAAG6lC,EAAI7Y,EAAGrvB,EAAOw5K,EAAMp3K,EAAGo3K,EAAMn3K,EAAGm3K,EAAMnqJ,GAVhD,IAWKngB,EAAMuC,cAAclQ,EAAW6oD,gBAEvD,WAC4B,KAAtB+5D,EAAWvoH,SACbuoH,EAAa,IAAIn5G,OAAOm5G,IAE1B,IAAIse,EAAUte,EAAW,GAEzB,GADA5iH,EAAY2N,EAAMqC,gBAAgB4yG,EAAWv3G,OAAO,GAAIw9C,cAlBvC,MAmBbq4E,EAA0B,CAC5B,GAAgB,MAAZA,EAIF,YADAjmI,EAAK0O,OAAOtB,KAAK,4CAA4CoB,OAAOy3H,EAAS,QAAQz3H,OAvBxE,IAuB6F,cAF1GzJ,EAAU,IAAM,CAKpB,CACA,IAAI6/F,EAAe5kG,EAAKmlK,cACpB+X,EAAUt4E,EAAam6D,aAC3Bme,EAAQ74K,SAASmQ,KAAKkuG,EAAMr+G,UAC5B64K,EAAQ15K,MAAQxD,EAAKkoK,gBAAgBxT,WACrCwoB,EAAQhf,YAAY1pJ,KAAKxU,EAAKkoK,gBAAgB1T,kBAC9C,IAAI2oB,EAAUv4E,EAAam6D,aAC3Boe,EAAQ94K,SAASoH,IAAI1G,EAAU,GAAIA,EAAU,GAAIA,EAAU,IACvD/E,EAAKovK,qBACP+N,EAAQ94K,SAASwpB,IAAI7tB,EAAKovK,oBAAoB/qK,UAEhD84K,EAAQ35K,MAAQuB,EAAU,GAC1Bo4K,EAAQjf,YAAYkf,aAAa,IAAI,MAAMr4K,EAAU,GAAIA,EAAU,GAAIA,EAAU,GAlClE,QAmCf6/F,EAAaq6D,MAAMie,EAASC,EAC9B,CAIAn5C,GACOrc,EACT,GACC,CACDhoH,IAAK,cACLe,MAAO,WACL,IAAIV,EAAOmD,KACPu/G,EAAQv/G,KAAK+9J,KAAKx+C,MAClB9d,EAAezhG,KAAKgiK,cAIxB,GAHKvgE,EAAai6D,cAChBj6D,EAAa9rF,QAEV8rF,EAAay4E,WAAlB,CAGA,IAAI9oK,EAAMqwF,EAAas6D,iBACvB,GAAI3qJ,EAAIuqJ,QAAS,CACf,IAAI9mI,EAAOzjB,EAAImR,KACfg9F,EAAMr+G,SAASmQ,KAAKwjB,EAAK3zB,UACzBrE,EAAKkoK,gBAAgBvT,SAAS38H,EAAKx0B,MAAQigB,EAAWnb,IAAI8V,aAC1Dpe,EAAKkoK,gBAAgBzT,eAAez8H,EAAKkmI,aACzC/6J,KAAK2J,cAAc,CACjBd,KAAM,cAERhM,EAAK4lK,aAAc,CACrB,CAXA,CAYF,GACC,CACDjmK,IAAK,YACLe,MAAO,SAAmBkF,EAAGC,EAAGgtB,GAC9B1vB,KAAK+kK,gBAAgBhS,eAAetwJ,EAAGC,EAAGgtB,GAC1C1vB,KAAK2J,cAAc,CACjBd,KAAM,cAER7I,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,SACLe,MAAO,SAAgBkF,EAAGC,EAAGgtB,GAC3B1vB,KAAK+kK,gBAAgBrkK,QAAO,IAAI,OAAau5K,aAAa,IAAI,MAAMx3K,EAAGC,EAAGgtB,EAAG,SAC7E1vB,KAAK2J,cAAc,CACjBd,KAAM,cAER7I,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,QACLe,MAAO,SAAe6c,GACpB,GAAIA,GAAU,EACZ,MAAM,IAAIzI,WAAW,qCAEvB3R,KAAK+kK,gBAAgB1kK,MAAM+Z,GAC3Bpa,KAAK2J,cAAc,CACjBd,KAAM,cAER7I,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,SACLe,MAAO,SAAgBye,GACrB,QAAiB/X,IAAb+X,EAGF,OAFAhc,KAAKm6K,sBACLn6K,KAAKyiK,aAAc,GAGrB,QAAqBx+J,IAAjB+X,EAAS5gB,MAAsB,SAAU4gB,EAAS5gB,KAAO,YAAa4gB,EAAS5gB,KAOjF,MANI,SAAU4gB,EAAS5gB,IACrB4E,KAAKo6K,aAAap+J,EAAS5gB,IAAIib,MAE/BrW,KAAKq6K,gBAAgBr+J,EAAS5gB,IAAI8qB,cAEpClmB,KAAKyiK,aAAc,GAGrB,QAAqBx+J,IAAjB+X,EAAS5gB,KAAkC,KAAb4gB,EAAiB,CACjD,IAAI49J,EAAM/Y,GAAYhjI,MAAM7hB,GAC5B,QAAkB/X,IAAd21K,EAAI1vK,MAGN,OAFAlK,KAAKm6K,eAAeP,QACpB55K,KAAKyiK,aAAc,EAGvB,CACAziK,KAAK8vK,aACL9vK,KAAKyiK,aAAc,CACrB,GACC,CACDjmK,IAAK,SACLe,MAAO,SAAgBye,EAAU5b,GAC/B,IAAIo/G,EAASx/G,KAAKisK,oBAClB,IAAKzsD,EACH,OAAOqhD,GAAYyZ,OAEjBt+J,aAAoB7Q,SACtB6Q,EAAW6kJ,GAAYhjI,MAAM7hB,IAE/B,IAAI5K,EAAMouG,EAAO+6D,OAAOv+J,EAAU5b,GAKlC,OAJIgR,IACFouG,EAAO6D,2BACPrjH,KAAKyiK,aAAc,GAEdrxJ,CACT,GACC,CACD5U,IAAK,YACLe,MAAO,SAAmBi9K,EAAcC,GACtC,IAAIj7D,EAASx/G,KAAKisK,kBAAkBwO,GACpC,IAAKj7D,EACH,OAAO,EAET,IAAInpG,EAAOmpG,EAAO5xF,aAAawqI,kBAAkBoiB,GACjD,GAAa,OAATnkK,EACF,OAAO,EAET,IAAIkyB,EAAMlyB,EAAKnV,SAASspB,QAKxB,OAJAxqB,KAAK+9J,KAAKx+C,MAAM3wD,6BAChB5uD,KAAK+9J,KAAKnsG,OAAOhD,6BACjB5uD,KAAK+9J,KAAKx+C,MAAM1sB,aAAatqD,GAC7BA,EAAImyI,QAAQ16K,KAAK+9J,KAAKnsG,QACf,CACLnvD,EAAmB,IAAf8lC,EAAI9lC,EAAI,GAAazC,KAAK+9J,KAAK59J,MACnCuC,EAAmB,IAAf,EAAM6lC,EAAI7lC,GAAW1C,KAAK+9J,KAAK76J,OAEvC,GACC,CACD1G,IAAK,OACLe,MAAO,SAAck9K,GACnB,IAAIj7D,EAASx/G,KAAKisK,kBAAkBwO,GAC/Bj7D,IAGLA,EAAO5xF,aAAa+sJ,OACpBn7D,EAAOoC,UAAUv4G,SAAQ,SAAUmY,GACb,OAAhBA,EAAI1F,KAAKhW,IAAkC,OAAnB0b,EAAIzF,QAAQjW,KACtC0b,EAAI+7F,cAAe,EAEvB,IACF,GACC,CACD/gH,IAAK,YACLe,MAAO,WACL,IAAIV,EAAOmD,KAwDPw/G,EAAS3iH,EAAKovK,oBACdh4I,EAAUurF,EAASA,EAAO5xF,aAAe,KAC7C,OAAIqG,GAAWA,EAAQmnG,aA5CvB,SAAuBnnG,GACrB,IACIwhE,EAfN,SAAyBtyE,GACvB,IAAIunD,EAAQ,IAAI,MACZC,EAAQ,IAAI,MACZC,EAAQ,IAAI,MAChBznD,EAAEy3J,aAAalwG,EAAOC,EAAOC,GAC7BF,EAAMh/C,YACNi/C,EAAMj/C,YACNk/C,EAAMl/C,YACN,IAAImvJ,EAAS,IAAI,MAGjB,OAFAA,EAAO5sH,WACP4sH,EAAOC,UAAUpwG,EAAOC,EAAOC,GACxBiwG,CACT,CAGYE,CADCl+K,EAAKkhK,KAAKvoG,KACUxG,aAC3BoR,EAAK,IAAI,MAAQ,EAAG,EAAG,EAAG,GAC1BhqB,EAAU,IAAI,MAAQ,EAAG,EAAG,EAAG,GAC/B4kI,EAAM,KACN39F,EAAK,KACTppD,EAAQnG,aAAY,SAAUzX,GACxBA,EAAKkjB,YAAcljB,EAAKkjB,WAAW+/F,UACrC0hD,EAAM3kK,EAAKkjB,WAAW+/F,QACtBj8C,EAAKhnE,EAAKnV,SACVk/D,EAAG93D,IAAI+0E,EAAG56E,EAAG46E,EAAG36E,EAAG26E,EAAG3tD,EAAG,GACzB0wC,EAAGj3B,aAAassD,GAChBulF,EAAIt5K,aAAa,KAAM0+D,EAAG39D,EAAEpE,YAC5B28K,EAAIt5K,aAAa,KAAM0+D,EAAG19D,EAAErE,YAC5B28K,EAAIt5K,aAAa,KAAM0+D,EAAG1wC,EAAErxB,YAC5B28K,EAAIC,gBAAgB,MACpBD,EAAIC,gBAAgB,MAExB,IACAhnJ,EAAQkxB,eAAc,SAAU+1H,GAC9B,GAAIA,EAAO3hJ,YAAc2hJ,EAAO3hJ,WAAW+/F,QAAS,CAClD0hD,EAAME,EAAO3hJ,WAAW+/F,QACxBj8C,EAAK69F,EAAOC,cACZ/6G,EAAG93D,IAAI+0E,EAAG56E,EAAG46E,EAAG36E,EAAG26E,EAAG3tD,EAAG,GACzB,IAAIwc,EAAKgvI,EAAOE,kBACL,OAAPlvI,EACFk0B,EAAGj3B,aAAassD,IAEhBr/C,EAAQ9tC,IAAI4jC,EAAGzpC,EAAGypC,EAAGxpC,EAAGwpC,EAAGxc,EAAG,GAC9B0wC,EAAGvwB,IAAIuG,GACPgqB,EAAGj3B,aAAassD,GAChBr/C,EAAQ9tC,IAAI4jC,EAAGzpC,EAAGypC,EAAGxpC,EAAGwpC,EAAGxc,EAAG,GAC9B0mB,EAAQjN,aAAassD,GACrBr1B,EAAG11C,IAAI0rB,IAET4kI,EAAIt5K,aAAa,IAAK0+D,EAAG39D,EAAEpE,YAC3B28K,EAAIt5K,aAAa,IAAK0+D,EAAG19D,EAAErE,YAC3B28K,EAAIt5K,aAAa,IAAK0+D,EAAG1wC,EAAErxB,WAC7B,CACF,GACF,CAIEg9K,CAAcpnJ,IACI,IAAIqnJ,eACHC,kBAAkBtnJ,EAAQmnG,cAExC,IACT,GACC,CACD5+H,IAAK,OACLe,MAAO,WACL+iB,EAAWhY,IAAI,CACbgT,gBAAgB,EAChBD,SAAU,EACVkC,QAAS,CACPxW,IAAI,EACJyW,UAAW,KAEbnE,GAAI,CACF9Y,MAAO,YAGXP,KAAK2oK,uBAAsB,SAAUnpD,GAInC,IAHA,IAAIh+F,EAAM,GACNyS,EAAUurF,EAAO5xF,aACjBrS,EAAUo9F,GAAWtwG,IAAIiY,EAAWnb,IAAIoW,SACnCvf,EAAI,EAAGA,EAAIi4B,EAAQikJ,gBAAiBl8K,IAAK,CAChD,IAAIw/K,EAAevnJ,EAAQqnB,QAAQt/C,GAAGiyB,MAClCwtJ,EAAgBlgK,EAAQi+F,cAAcgiE,GAC1Ch6J,EAAIxlB,GAAK,CACPggB,SAAU,SAAS3Q,OAAOmwK,GAC1B1/J,KAAM,KACNC,QAAS,CAAC,KAAM,CACdxb,MAAOk7K,EACPrhK,OAAQ,KAEV6B,SAAU,KAEd,CACAujG,EAAOqwD,UAAUruJ,EACnB,GACF,KAEKogJ,CACT,CArkGW,CAqkGTl5J,IACF,IAAAhJ,QAAOkiK,GACP,CACE3hJ,QAAS2hJ,GAAK3hJ,QACdkjJ,kBAAmB,GACnB52G,KAAMA,GACN49F,GAAIA,GACJh0I,MAAOs6F,GACP52F,SAAUuhG,GACV93F,UAAWi4F,GACXmgE,SAAU/iE,GACVh2F,QAAS+B,GACTW,SAAU/E,EACV/Q,MAAOA,EACP2uJ,IAAK,CACH/gD,eAAgBA,MAIpB,IAAIliF,GAAS,WACX,IAAIj+B,EAAI,SAAWi9B,EAAG3X,EAAG4X,EAAI9X,GAC3B,IAAK8X,EAAKA,GAAM,CAAC,EAAG9X,EAAI6X,EAAEh+B,OAAQmmB,IAAK8X,EAAGD,EAAE7X,IAAME,GAElD,OAAO4X,CACT,EACIC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACV2gJ,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,KACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,KACVC,EAAM,CAAC,EAAG,KACVC,EAAM,CAAC,EAAG,KACVC,EAAM,CAAC,EAAG,KACVC,EAAM,CAAC,EAAG,KACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,EAAM,CAAC,EAAG,IACVC,GAAM,CAAC,EAAG,IACVC,GAAM,CAAC,EAAG,KACVC,GAAM,CAAC,EAAG,KACVC,GAAM,CAAC,EA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C,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,EAAG,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAAC,GAAI,GAAI,CAA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L,EAAE8hL,GAAM,CAAC,EAAG,MAAO9hL,EAAE8hL,GAAM,CAAC,EAAG,MAAO9hL,EAAE8hL,GAAM,CAAC,EAAG,MAAO9hL,EAAE8hL,GAAM,CAAC,EAAG,MAAO9hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EAAG,MAAO/hL,EAAE+hL,GAAM,CAAC,EA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","sources":["webpack://miewer/./node_modules/miew/dist/miew.module.js"],"sourcesContent":["/** Miew - 3D Molecular Viewer v0.10.0+20220125.134627.b36f6a2-mod\nCopyright (c) 2015-2022 EPAM Systems, Inc. */\n\nimport { find, forEach, remove, omitBy, findKey, isNumber, assign, forIn, isEmpty, isEqual, isString, isPlainObject, get, set, merge, cloneDeep, filter, isArray, fill, clone, isUndefined, isArrayBuffer, isTypedArray, pick, fromPairs, zip, isBoolean, invert, findIndex, head, defaults as defaults$2, slice, sortBy, keys } from 'lodash';\nimport { Vector3, Box3, Sphere, MathUtils, Vector2, DataTexture, LuminanceFormat, UnsignedByteType, UVMapping, ClampToEdgeWrapping, LinearFilter, Object3D, Group, Matrix4, WebGLRenderer, MeshBasicMaterial, Scene, Mesh, PlaneBufferGeometry, OrthographicCamera, RawShaderMaterial, PerspectiveCamera, StereoCamera, Raycaster, BufferAttribute, InstancedBufferGeometry, LineSegments, Line, LessEqualDepth, Color, SphereBufferGeometry, InstancedBufferAttribute, BufferGeometry, Matrix3, CylinderBufferGeometry as CylinderBufferGeometry$1, Uint16BufferAttribute, RGBFormat, RepeatWrapping, NearestFilter, UniformsUtils, UniformsLib, DoubleSide, Material, Ray, ShaderMaterial, FrontSide, BackSide, Plane, Vector4, LineBasicMaterial, Layers, Quaternion, AxesHelper, CylinderGeometry, RGBAFormat, WebGL1Renderer, PCFShadowMap, Fog, DirectionalLight, AmbientLight, WebGLRenderTarget, DepthTexture, UnsignedShortType, FloatType, NoBlending, Euler } from 'three';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  Object.defineProperty(subClass, \"prototype\", {\n    value: Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    }),\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayLikeToArray$1(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _unsupportedIterableToArray$1(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray$1(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray$1(o, minLen);\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray$1(arr, i) || _nonIterableRest();\n}\n\nvar __assign = (undefined && undefined.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar defaults$1 = {\r\n    lines: 12,\r\n    length: 7,\r\n    width: 5,\r\n    radius: 10,\r\n    scale: 1.0,\r\n    corners: 1,\r\n    color: '#000',\r\n    fadeColor: 'transparent',\r\n    animation: 'spinner-line-fade-default',\r\n    rotate: 0,\r\n    direction: 1,\r\n    speed: 1,\r\n    zIndex: 2e9,\r\n    className: 'spinner',\r\n    top: '50%',\r\n    left: '50%',\r\n    shadow: '0 0 1px transparent',\r\n    position: 'absolute',\r\n};\r\nvar Spinner = /** @class */ (function () {\r\n    function Spinner(opts) {\r\n        if (opts === void 0) { opts = {}; }\r\n        this.opts = __assign(__assign({}, defaults$1), opts);\r\n    }\r\n    /**\r\n     * Adds the spinner to the given target element. If this instance is already\r\n     * spinning, it is automatically removed from its previous target by calling\r\n     * stop() internally.\r\n     */\r\n    Spinner.prototype.spin = function (target) {\r\n        this.stop();\r\n        this.el = document.createElement('div');\r\n        this.el.className = this.opts.className;\r\n        this.el.setAttribute('role', 'progressbar');\r\n        css(this.el, {\r\n            position: this.opts.position,\r\n            width: 0,\r\n            zIndex: this.opts.zIndex,\r\n            left: this.opts.left,\r\n            top: this.opts.top,\r\n            transform: \"scale(\" + this.opts.scale + \")\",\r\n        });\r\n        if (target) {\r\n            target.insertBefore(this.el, target.firstChild || null);\r\n        }\r\n        drawLines(this.el, this.opts);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops and removes the Spinner.\r\n     * Stopped spinners may be reused by calling spin() again.\r\n     */\r\n    Spinner.prototype.stop = function () {\r\n        if (this.el) {\r\n            if (typeof requestAnimationFrame !== 'undefined') {\r\n                cancelAnimationFrame(this.animateId);\r\n            }\r\n            else {\r\n                clearTimeout(this.animateId);\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n            this.el = undefined;\r\n        }\r\n        return this;\r\n    };\r\n    return Spinner;\r\n}());\r\n/**\r\n * Sets multiple style properties at once.\r\n */\r\nfunction css(el, props) {\r\n    for (var prop in props) {\r\n        el.style[prop] = props[prop];\r\n    }\r\n    return el;\r\n}\r\n/**\r\n * Returns the line color from the given string or array.\r\n */\r\nfunction getColor(color, idx) {\r\n    return typeof color == 'string' ? color : color[idx % color.length];\r\n}\r\n/**\r\n * Internal method that draws the individual lines.\r\n */\r\nfunction drawLines(el, opts) {\r\n    var borderRadius = (Math.round(opts.corners * opts.width * 500) / 1000) + 'px';\r\n    var shadow = 'none';\r\n    if (opts.shadow === true) {\r\n        shadow = '0 2px 4px #000'; // default shadow\r\n    }\r\n    else if (typeof opts.shadow === 'string') {\r\n        shadow = opts.shadow;\r\n    }\r\n    var shadows = parseBoxShadow(shadow);\r\n    for (var i = 0; i < opts.lines; i++) {\r\n        var degrees = ~~(360 / opts.lines * i + opts.rotate);\r\n        var backgroundLine = css(document.createElement('div'), {\r\n            position: 'absolute',\r\n            top: -opts.width / 2 + \"px\",\r\n            width: (opts.length + opts.width) + 'px',\r\n            height: opts.width + 'px',\r\n            background: getColor(opts.fadeColor, i),\r\n            borderRadius: borderRadius,\r\n            transformOrigin: 'left',\r\n            transform: \"rotate(\" + degrees + \"deg) translateX(\" + opts.radius + \"px)\",\r\n        });\r\n        var delay = i * opts.direction / opts.lines / opts.speed;\r\n        delay -= 1 / opts.speed; // so initial animation state will include trail\r\n        var line = css(document.createElement('div'), {\r\n            width: '100%',\r\n            height: '100%',\r\n            background: getColor(opts.color, i),\r\n            borderRadius: borderRadius,\r\n            boxShadow: normalizeShadow(shadows, degrees),\r\n            animation: 1 / opts.speed + \"s linear \" + delay + \"s infinite \" + opts.animation,\r\n        });\r\n        backgroundLine.appendChild(line);\r\n        el.appendChild(backgroundLine);\r\n    }\r\n}\r\nfunction parseBoxShadow(boxShadow) {\r\n    var regex = /^\\s*([a-zA-Z]+\\s+)?(-?\\d+(\\.\\d+)?)([a-zA-Z]*)\\s+(-?\\d+(\\.\\d+)?)([a-zA-Z]*)(.*)$/;\r\n    var shadows = [];\r\n    for (var _i = 0, _a = boxShadow.split(','); _i < _a.length; _i++) {\r\n        var shadow = _a[_i];\r\n        var matches = shadow.match(regex);\r\n        if (matches === null) {\r\n            continue; // invalid syntax\r\n        }\r\n        var x = +matches[2];\r\n        var y = +matches[5];\r\n        var xUnits = matches[4];\r\n        var yUnits = matches[7];\r\n        if (x === 0 && !xUnits) {\r\n            xUnits = yUnits;\r\n        }\r\n        if (y === 0 && !yUnits) {\r\n            yUnits = xUnits;\r\n        }\r\n        if (xUnits !== yUnits) {\r\n            continue; // units must match to use as coordinates\r\n        }\r\n        shadows.push({\r\n            prefix: matches[1] || '',\r\n            x: x,\r\n            y: y,\r\n            xUnits: xUnits,\r\n            yUnits: yUnits,\r\n            end: matches[8],\r\n        });\r\n    }\r\n    return shadows;\r\n}\r\n/**\r\n * Modify box-shadow x/y offsets to counteract rotation\r\n */\r\nfunction normalizeShadow(shadows, degrees) {\r\n    var normalized = [];\r\n    for (var _i = 0, shadows_1 = shadows; _i < shadows_1.length; _i++) {\r\n        var shadow = shadows_1[_i];\r\n        var xy = convertOffset(shadow.x, shadow.y, degrees);\r\n        normalized.push(shadow.prefix + xy[0] + shadow.xUnits + ' ' + xy[1] + shadow.yUnits + shadow.end);\r\n    }\r\n    return normalized.join(', ');\r\n}\r\nfunction convertOffset(x, y, degrees) {\r\n    var radians = degrees * Math.PI / 180;\r\n    var sin = Math.sin(radians);\r\n    var cos = Math.cos(radians);\r\n    return [\r\n        Math.round((x * cos + y * sin) * 1000) / 1000,\r\n        Math.round((-x * sin + y * cos) * 1000) / 1000,\r\n    ];\r\n}\n\nvar Timer = function () {\n  function Timer() {\n    _classCallCheck(this, Timer);\n    this.startTime = 0;\n    this.oldTime = 0;\n    this.elapsedTime = 0;\n    this.running = false;\n  }\n  _createClass(Timer, [{\n    key: \"start\",\n    value: function start() {\n      this.startTime = Timer.now();\n      this.oldTime = this.startTime;\n      this.running = true;\n    }\n  }, {\n    key: \"stop\",\n    value: function stop() {\n      this.getElapsedTime();\n      this.running = false;\n    }\n  }, {\n    key: \"getElapsedTime\",\n    value: function getElapsedTime() {\n      this.update();\n      return this.elapsedTime;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var delta = 0;\n      if (this.running) {\n        var newTime = Timer.now();\n        delta = 0.001 * (newTime - this.oldTime);\n        this.oldTime = newTime;\n        this.elapsedTime += delta;\n      }\n      return delta;\n    }\n  }]);\n  return Timer;\n}();\nTimer.now = function () {\n  var p = typeof window !== 'undefined' && window.performance;\n  return p && p.now ? p.now.bind(p) : Date.now;\n}();\n\nvar now = Timer.now;\nfunction createElement$2(tag, id, css) {\n  var element = document.createElement(tag);\n  element.id = id;\n  element.style.cssText = css;\n  return element;\n}\nvar Stats = function () {\n  function Stats() {\n    _classCallCheck(this, Stats);\n    this.domElement = createElement$2('div', 'stats', 'padding:8px');\n    this._text = createElement$2('p', 'fps', 'margin:0;color:silver;font-size:large');\n    this.domElement.appendChild(this._text);\n    this._startTime = now();\n    this._prevTime = this._startTime;\n    this._deltas = new Array(20);\n    this._index = 0;\n    this._total = 0.0;\n    this._count = 0;\n  }\n  _createClass(Stats, [{\n    key: \"end\",\n    value: function end() {\n      var time = now();\n      var delta = time - this._startTime;\n      if (this._count < this._deltas.length) {\n        this._count++;\n      } else {\n        this._total -= this._deltas[this._index];\n      }\n      this._total += delta;\n      this._deltas[this._index] = delta;\n      this._index = (this._index + 1) % this._deltas.length;\n      this.ms = this._total / this._count;\n      this.fps = 1000 / this.ms;\n      if (time > this._prevTime + 1000) {\n        this._text.textContent = this.fps.toPrecision(2);\n        this._prevTime = time;\n      }\n      return time;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this._startTime = this.end();\n    }\n  }, {\n    key: \"show\",\n    value: function show(on) {\n      if (on === undefined) {\n        on = true;\n      }\n      this.domElement.style.display = on ? 'block' : 'none';\n    }\n  }]);\n  return Stats;\n}();\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _isNativeReflectConstruct$23() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct$23()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction isUndefOrEqual(param, value) {\n  return !param || param === value;\n}\nfunction EventDispatcher() {\n  this._handlers = {};\n}\nEventDispatcher.prototype.addEventListener = function (type, callback, context) {\n  var handlers = this._handlers[type];\n  if (!handlers) {\n    this._handlers[type] = [];\n    handlers = this._handlers[type];\n  }\n  var params = [callback, context];\n  function _checkPar(par) {\n    return par[0] === params[0] && par[1] === params[1];\n  }\n  if (find(handlers, _checkPar) === undefined) {\n    handlers.push(params);\n  }\n};\nEventDispatcher.prototype.removeEventListener = function (type, callback, context) {\n  var self = this;\n  forEach(self._handlers, function (handler, ev) {\n    remove(handler, function (values) {\n      return isUndefOrEqual(type, ev) && isUndefOrEqual(callback, values[0]) && isUndefOrEqual(context, values[1] || self);\n    });\n  });\n  this._handlers = omitBy(self._handlers, function (handler) {\n    return handler.length === 0;\n  });\n};\nEventDispatcher.prototype.dispatchEvent = function (event) {\n  var self = this;\n  forEach(this._handlers[event.type], function (callback) {\n    var context = callback[1] || self;\n    callback[0].apply(context, [event]);\n  });\n};\n\nvar priorities = {\n  debug: 0,\n  info: 1,\n  report: 2,\n  warn: 3,\n  error: 4\n};\nfunction Logger() {\n  EventDispatcher.call(this);\n  this.console = false;\n  this._priority = priorities.warn;\n}\nLogger.prototype = Object.create(EventDispatcher.prototype);\nLogger.prototype.constructor = Logger;\nLogger.prototype.instantiate = function () {\n  return new Logger();\n};\nfunction verify(number) {\n  if (!isNumber(number)) {\n    throw new Error('Wrong log level specified!');\n  }\n  return number;\n}\nObject.defineProperty(Logger.prototype, 'level', {\n  get: function get() {\n    var _this = this;\n    return findKey(priorities, function (value) {\n      return value === _this._priority;\n    });\n  },\n  set: function set(level) {\n    this._priority = verify(priorities[level]);\n  }\n});\nLogger.prototype.levels = function () {\n  return Object.keys(priorities);\n};\nLogger.prototype.message = function (level, message) {\n  var priority = verify(priorities[level]);\n  this._message(priority, message);\n};\nLogger.prototype.debug = function (message) {\n  this._message(priorities.debug, message);\n};\nLogger.prototype.info = function (message) {\n  this._message(priorities.info, message);\n};\nLogger.prototype.report = function (message) {\n  this._message(priorities.report, message);\n};\nLogger.prototype.warn = function (message) {\n  this._message(priorities.warn, message);\n};\nLogger.prototype.error = function (message) {\n  this._message(priorities.error, message);\n};\nLogger.prototype._message = function (priority, message) {\n  if (priority < this._priority) {\n    return;\n  }\n  var level = findKey(priorities, function (value) {\n    return value === priority;\n  });\n  message = String(message);\n  if (this.console) {\n    var output = \"miew:\".concat(level, \": \").concat(message);\n    if (level === 'error') {\n      console.error(output);\n    } else if (level === 'warn') {\n      console.warn(output);\n    } else {\n      console.log(output);\n    }\n  }\n  this.dispatchEvent({\n    type: 'message',\n    level: level,\n    message: message\n  });\n};\nvar logger = new Logger();\n\nfunction _createSuper$22(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$22(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$22() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar browserType = {\n  DEFAULT: 0,\n  SAFARI: 1\n};\nfunction encodeQueryComponent(text, excludeExp) {\n  var encode = function encode(code) {\n    return String.fromCharCode(parseInt(code.substr(1), 16));\n  };\n  return encodeURIComponent(text).replace(excludeExp, encode).replace(/%20/g, '+');\n}\nfunction decodeQueryComponent(text) {\n  return decodeURIComponent(text.replace(/\\+/g, ' '));\n}\nfunction getUrlParameters(url) {\n  url = url || window.location.search;\n  var query = url.substring(url.indexOf('?') + 1);\n  var search = /([^&=]+)=?([^&]*)/g;\n  var result = [];\n  var match;\n  while ((match = search.exec(query)) !== null) {\n    result.push([decodeQueryComponent(match[1]), decodeQueryComponent(match[2])]);\n  }\n  return result;\n}\nfunction getUrlParametersAsDict(url) {\n  var result = {};\n  var a = getUrlParameters(url);\n  for (var i = 0; i < a.length; ++i) {\n    var _a$i = _slicedToArray(a[i], 2),\n        key = _a$i[0],\n        value = _a$i[1];\n    result[key] = value;\n  }\n  return result;\n}\nfunction resolveURL(str) {\n  if (typeof URL !== 'undefined') {\n    try {\n      if (typeof window !== 'undefined') {\n        return new URL(str, window.location).href;\n      }\n      return new URL(str).href;\n    } catch (error) {\n    }\n  }\n  if (typeof document !== 'undefined') {\n    var anchor = document.createElement('a');\n    anchor.href = str;\n    return anchor.href;\n  }\n  return str;\n}\nfunction generateRegExp(symbolStr) {\n  var symbolList = [];\n  for (var i = 0, n = symbolStr.length; i < n; ++i) {\n    symbolList[symbolList.length] = symbolStr[i].charCodeAt(0).toString(16);\n  }\n  var listStr = symbolList.join('|');\n  return new RegExp(\"%(?:\".concat(listStr, \")\"), 'gi');\n}\nfunction createElement$1(tag, attrs, content) {\n  var element = document.createElement(tag);\n  var i;\n  var n;\n  if (attrs) {\n    var keys = Object.keys(attrs);\n    for (i = 0, n = keys.length; i < n; ++i) {\n      var key = keys[i];\n      element.setAttribute(key, attrs[key]);\n    }\n  }\n  if (content) {\n    if (!(content instanceof Array)) {\n      content = [content];\n    }\n    for (i = 0, n = content.length; i < n; ++i) {\n      var child = content[i];\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child));\n      } else if (child instanceof HTMLElement) {\n        element.appendChild(child);\n      }\n    }\n  }\n  return element;\n}\nfunction deriveClass(cls, base, members, statics) {\n  cls.prototype = assign(Object.create(base.prototype), {\n    constructor: cls\n  }, members);\n  if (statics) {\n    assign(cls, statics);\n  }\n  return cls;\n}\nfunction deriveDeep(obj, needZeroOwnProperties) {\n  var res = obj;\n  var i;\n  var n;\n  if (obj instanceof Array) {\n    res = new Array(obj.length);\n    for (i = 0, n = obj.length; i < n; ++i) {\n      res[i] = deriveDeep(obj[i]);\n    }\n  } else if (obj instanceof Object) {\n    res = Object.create(obj);\n    var keys = Object.keys(obj);\n    for (i = 0, n = keys.length; i < n; ++i) {\n      var key = keys[i];\n      var value = obj[key];\n      var copy = deriveDeep(value);\n      if (copy !== value) {\n        res[key] = copy;\n      }\n    }\n    if (needZeroOwnProperties && Object.keys(res).length > 0) {\n      res = Object.create(res);\n    }\n  }\n  return res;\n}\nfunction hexColor(color) {\n  var hex = \"0000000\".concat(color.toString(16)).substr(-6);\n  return \"#\".concat(hex);\n}\nfunction DebugTracer(namespace) {\n  var enabled = false;\n  this.enable = function (on) {\n    enabled = on;\n  };\n  var indent = 0;\n  var methods = Object.keys(namespace);\n  function wrap(method_, name_) {\n    return function () {\n      var spaces = DebugTracer.spaces.substr(0, indent * 2);\n      if (enabled) {\n        logger.debug(\"\".concat(spaces + name_, \" {\"));\n      }\n      indent++;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var result = method_.apply(this, args);\n      indent--;\n      if (enabled) {\n        logger.debug(\"\".concat(spaces, \"} // \").concat(name_));\n      }\n      return result;\n    };\n  }\n  for (var i = 0, n = methods.length; i < n; ++i) {\n    var name = methods[i];\n    var method = namespace[name];\n    if (method instanceof Function && name !== 'constructor') {\n      namespace[name] = wrap(method, name);\n    }\n  }\n}\nDebugTracer.spaces = '                                                                                          ';\nvar OutOfMemoryError = function (_Error) {\n  _inherits(OutOfMemoryError, _Error);\n  var _super = _createSuper$22(OutOfMemoryError);\n  function OutOfMemoryError(message) {\n    var _this;\n    _classCallCheck(this, OutOfMemoryError);\n    _this = _super.call(this);\n    _this.name = 'OutOfMemoryError';\n    _this.message = message;\n    return _this;\n  }\n  return _createClass(OutOfMemoryError);\n}( _wrapNativeSuper(Error));\nfunction allocateTyped(TypedArrayName, size) {\n  var result = null;\n  try {\n    result = new TypedArrayName(size);\n  } catch (e) {\n    if (e instanceof RangeError) {\n      throw new OutOfMemoryError(e.message);\n    } else {\n      throw e;\n    }\n  }\n  return result;\n}\nfunction bytesToBase64(\nbuffer) {\n  var bytes = new Uint8Array(buffer);\n  var binary = '';\n  for (var i = 0; i < bytes.byteLength; i++) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return window.btoa(binary);\n}\nfunction bytesFromBase64(\nstr) {\n  var binary = window.atob(str);\n  var bytes = new Uint8Array(binary.length);\n  for (var i = 0; i < bytes.length; ++i) {\n    bytes[i] = binary[i].charCodeAt(0);\n  }\n  return bytes.buffer;\n}\nfunction arrayToBase64(\narray,\nTypedArrayClass) {\n  return bytesToBase64(new TypedArrayClass(array).buffer);\n}\nfunction arrayFromBase64(\nstr,\nTypedArrayClass) {\n  return Array.prototype.slice.call(new TypedArrayClass(bytesFromBase64(str)));\n}\nfunction compareOptionsWithDefaults(opts, defOpts) {\n  var optsStr = [];\n  if (defOpts && opts) {\n    var keys = Object.keys(opts);\n    for (var p = 0; p < keys.length; ++p) {\n      var key = keys[p];\n      var value = opts[key];\n      if (!(value instanceof Object) && typeof defOpts[key] !== 'undefined' && defOpts[key] !== value) {\n        optsStr.push(\"\".concat(key, \":\").concat(value));\n      }\n    }\n    if (optsStr.length > 0) {\n      return \"!\".concat(optsStr.join());\n    }\n  }\n  return '';\n}\nfunction isAlmostPlainObject(o) {\n  if (isPlainObject(o)) {\n    return true;\n  }\n  var proto = o && Object.getPrototypeOf(o);\n  return !!proto && !proto.hasOwnProperty('constructor') && isAlmostPlainObject(proto);\n}\nfunction objectsDiff(src, dst) {\n  var diff = {};\n  forIn(src, function (srcValue, key) {\n    var dstValue = dst[key];\n    if (isAlmostPlainObject(srcValue) && isAlmostPlainObject(dstValue)) {\n      var deepDiff = objectsDiff(srcValue, dstValue);\n      if (!isEmpty(deepDiff)) {\n        diff[key] = deepDiff;\n      }\n    } else if (!isEqual(srcValue, dstValue)) {\n      diff[key] = srcValue;\n    }\n  });\n  return diff;\n}\nfunction forInRecursive(object, callback) {\n  function iterateThrough(obj, prefix) {\n    forIn(obj, function (value, key) {\n      var newPref = prefix + (prefix.length > 0 ? '.' : '');\n      if (value instanceof Object) {\n        iterateThrough(value, newPref + key);\n      } else if (value !== undefined) {\n        callback(value, newPref + key);\n      }\n    });\n  }\n  iterateThrough(object, '');\n}\nfunction enquoteString(value) {\n  if (isString(value)) {\n    return \"\\\"\".concat(value.replace(/\"/g, '\\\\\"'), \"\\\"\");\n  }\n  return value;\n}\nfunction unquoteString(value) {\n  if (!isString(value)) {\n    return value;\n  }\n  if (value[0] === '\"' && value[value.length - 1] === '\"') {\n    value = value.slice(1, value.length - 1);\n    return value.replace(/\\\\\"/g, '\"');\n  }\n  if (value[0] === \"'\" && value[value.length - 1] === \"'\") {\n    value = value.slice(1, value.length - 1);\n    return value.replace(/\\\\'/g, \"'\");\n  }\n  throw new SyntaxError(\"Incorrect string format, can't unqute it\");\n}\nfunction getFileExtension(fileName) {\n  return fileName.slice(Math.max(0, fileName.lastIndexOf('.')) || Infinity);\n}\nfunction splitFileName(fileName) {\n  var ext = getFileExtension(fileName);\n  var name = fileName.slice(0, fileName.length - ext.length);\n  return [name, ext];\n}\nfunction dataUrlToBlob(url) {\n  var parts = url.split(/[:;,]/);\n  var partsCount = parts.length;\n  if (partsCount >= 3 && parts[partsCount - 2] === 'base64') {\n    return new Blob([bytesFromBase64(parts[partsCount - 1])]);\n  }\n  return null;\n}\nfunction getBrowser() {\n  if (navigator.vendor && navigator.vendor.indexOf('Apple') > -1 && navigator.userAgent && navigator.userAgent.indexOf('CriOS') === -1 && navigator.userAgent.indexOf('FxiOS') === -1) {\n    return browserType.SAFARI;\n  }\n  return browserType.DEFAULT;\n}\nfunction shotOpen(url) {\n  if (typeof window !== 'undefined') {\n    window.open().document.write(\"<body style=\\\"margin:0\\\"><img src=\\\"\".concat(url, \"\\\" /></body>\"));\n  }\n}\nfunction shotDownload(dataUrl, filename) {\n  if (!dataUrl || dataUrl.substr(0, 5) !== 'data:') {\n    return;\n  }\n  if (!filename) {\n    filename = ['screenshot-', +new Date(), '.png'].join('');\n  }\n  if (typeof window !== 'undefined' && window.navigator && window.navigator.msSaveBlob) {\n    window.navigator.msSaveBlob(dataUrlToBlob(dataUrl), filename);\n  } else if (typeof document !== 'undefined') {\n    var link = document.createElement('a');\n    link.download = filename;\n    link.innerHTML = 'download';\n    link.href = window.URL.createObjectURL(dataUrlToBlob(dataUrl));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\nfunction download(data, filename, type) {\n  var blobData = new Blob([data]);\n  if (!filename) {\n    filename = ['data', +new Date()].join('');\n  }\n  if (!type) {\n    filename += blobData.type || '.bin';\n  } else {\n    filename += \".\".concat(type);\n  }\n  if (typeof window !== 'undefined' && window.navigator && window.navigator.msSaveBlob) {\n    window.navigator.msSaveBlob(blobData, filename);\n  } else if (typeof document !== 'undefined') {\n    var link = document.createElement('a');\n    link.download = filename;\n    link.innerHTML = 'download';\n    link.href = window.URL.createObjectURL(blobData);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n}\nfunction copySubArrays$2(src, dst, indices, itemSize) {\n  for (var i = 0, n = indices.length; i < n; ++i) {\n    for (var j = 0; j < itemSize; ++j) {\n      dst[i * itemSize + j] = src[indices[i] * itemSize + j];\n    }\n  }\n}\nfunction shallowCloneNode(node) {\n  var newNode = node.cloneNode(true);\n  newNode.worldPos = node.worldPos;\n  return newNode;\n}\nvar unquotedStringRE = /^[a-zA-Z0-9_]*$/;\nvar enquoteHelper = ['\"', '', '\"'];\nfunction correctSelectorIdentifier(value) {\n  if (unquotedStringRE.test(value)) {\n    return value;\n  }\n  enquoteHelper[1] = value;\n  return enquoteHelper.join('');\n}\nfunction concatTypedArraysUnsafe(first, second) {\n  var result = new first.constructor(first.length + second.length);\n  result.set(first);\n  result.set(second, first.length);\n  return result;\n}\nfunction mergeTypedArraysUnsafe(array) {\n  if (array.length <= 0) {\n    return null;\n  }\n  var size = array.reduce(function (acc, cur) {\n    return acc + cur.length;\n  }, 0);\n  var result = new array[0].constructor(size);\n  for (var i = 0, start = 0; i < array.length; i++) {\n    var count = array[i].length;\n    result.set(array[i], start);\n    start += count;\n  }\n  return result;\n}\nvar utils = {\n  browserType: browserType,\n  encodeQueryComponent: encodeQueryComponent,\n  decodeQueryComponent: decodeQueryComponent,\n  getUrlParameters: getUrlParameters,\n  getUrlParametersAsDict: getUrlParametersAsDict,\n  resolveURL: resolveURL,\n  generateRegExp: generateRegExp,\n  createElement: createElement$1,\n  deriveClass: deriveClass,\n  deriveDeep: deriveDeep,\n  hexColor: hexColor,\n  DebugTracer: DebugTracer,\n  OutOfMemoryError: OutOfMemoryError,\n  allocateTyped: allocateTyped,\n  bytesFromBase64: bytesFromBase64,\n  bytesToBase64: bytesToBase64,\n  arrayFromBase64: arrayFromBase64,\n  arrayToBase64: arrayToBase64,\n  compareOptionsWithDefaults: compareOptionsWithDefaults,\n  objectsDiff: objectsDiff,\n  forInRecursive: forInRecursive,\n  enquoteString: enquoteString,\n  unquoteString: unquoteString,\n  getBrowser: getBrowser,\n  shotOpen: shotOpen,\n  shotDownload: shotDownload,\n  copySubArrays: copySubArrays$2,\n  shallowCloneNode: shallowCloneNode,\n  correctSelectorIdentifier: correctSelectorIdentifier,\n  getFileExtension: getFileExtension,\n  splitFileName: splitFileName,\n  download: download,\n  concatTypedArraysUnsafe: concatTypedArraysUnsafe,\n  mergeTypedArraysUnsafe: mergeTypedArraysUnsafe\n};\n\nfunction _createSuper$21(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$21(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$21() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar JobHandle = function (_EventDispatcher) {\n  _inherits(JobHandle, _EventDispatcher);\n  var _super = _createSuper$21(JobHandle);\n  function JobHandle() {\n    var _this;\n    _classCallCheck(this, JobHandle);\n    _this = _super.call(this);\n    _this._shouldCancel = false;\n    return _this;\n  }\n  _createClass(JobHandle, [{\n    key: \"cancel\",\n    value: function cancel() {\n      this._shouldCancel = true;\n      this.dispatchEvent({\n        type: 'cancel'\n      });\n    }\n  }, {\n    key: \"shouldCancel\",\n    value: function shouldCancel() {\n      return this._shouldCancel;\n    }\n  }, {\n    key: \"notify\",\n    value: function notify(event) {\n      this.dispatchEvent({\n        type: 'notification',\n        slaveEvent: event\n      });\n    }\n  }]);\n  return JobHandle;\n}(EventDispatcher);\n\nvar VERSION = 0;\nvar defaults = {\n  modes: {\n    BS: {\n      atom: 0.23,\n      bond: 0.15,\n      space: 0.5,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32\n      }\n    },\n    VW: {\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 8,\n        high: 16,\n        ultra: 32\n      }\n    },\n    LN: {\n      multibond: true,\n      showarom: true,\n      offsarom: 0.2,\n      chunkarom: 10,\n      atom: 0.23,\n      lineWidth: 2\n    },\n    LC: {\n      bond: 0.2,\n      space: 0.0,\n      multibond: true,\n      aromrad: 0.1,\n      showarom: true,\n      polyComplexity: {\n        poor: 3,\n        low: 4,\n        medium: 6,\n        high: 12,\n        ultra: 32\n      }\n    },\n    SA: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60\n      }\n    },\n    SE: {\n      zClip: false,\n      probeRadius: 1.5,\n      subset: '',\n      wireframe: false,\n      polyComplexity: {\n        poor: 6,\n        low: 8,\n        medium: 16,\n        high: 30,\n        ultra: 60\n      }\n    },\n    QS: {\n      isoValue: 0.5,\n      gaussLim: {\n        poor: 1.5,\n        low: 2.0,\n        medium: 2.5,\n        high: 3.0,\n        ultra: 4.0\n      },\n      scale: 1.0,\n      wireframe: false,\n      gridSpacing: {\n        poor: 2,\n        low: 1.5,\n        medium: 1,\n        high: 0.5,\n        ultra: 0.25\n      },\n      subset: '',\n      zClip: false\n    },\n    CS: {\n      probeRadius: 1.4,\n      isoValue: 1.5,\n      wireframe: false,\n      probePositions: 30,\n      polyComplexity: {\n        poor: 0.5,\n        low: 1.0,\n        medium: 1.5,\n        high: 1.75,\n        ultra: 2.0\n      },\n      subset: '',\n      zClip: false\n    },\n    TR: {\n      radius: 0.3,\n      polyComplexity: {\n        poor: 12,\n        low: 16,\n        medium: 32,\n        high: 64,\n        ultra: 64\n      }\n    },\n    TU: {\n      radius: 0.3,\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34\n      }\n    },\n    CA: {\n      radius: 0.3,\n      depth: 0.25,\n      ss: {\n        helix: {\n          width: 1.0,\n          arrow: 2.0\n        },\n        strand: {\n          width: 1.0,\n          arrow: 2.0\n        }\n      },\n      heightSegmentsRatio: 1.5,\n      tension: -0.7,\n      polyComplexity: {\n        poor: 4,\n        low: 6,\n        medium: 10,\n        high: 18,\n        ultra: 34\n      }\n    },\n    TX: {\n      template: '{{Chain}}.{{Residue}}{{Sequence}}.{{Name}}',\n      horizontalAlign: 'center',\n      verticalAlign: 'middle',\n      dx: 0,\n      dy: 0,\n      dz: 1,\n      fg: 'none',\n      bg: '0x202020',\n      showBg: true\n    },\n    VD: {\n      kSigma: 1.0,\n      kSigmaMed: 2.0,\n      kSigmaMax: 4.0,\n      frame: true,\n      isoMode: false,\n      polyComplexity: {\n        poor: 2,\n        low: 3,\n        medium: 4,\n        high: 8,\n        ultra: 10\n      }\n    }\n  },\n  colorers: {\n    EL: {\n      carbon: -1\n    },\n    UN: {\n      color: 0xffffff\n    },\n    CO: {\n      subset: 'charged',\n      color: 0xff0000,\n      baseColor: 0xffffff\n    },\n    CB: {\n      color: 0x909090,\n      factor: 0.6\n    },\n    SQ: {\n      gradient: 'rainbow'\n    },\n    TM: {\n      gradient: 'temp',\n      min: 5,\n      max: 40\n    },\n    OC: {\n      gradient: 'reds'\n    },\n    HY: {\n      gradient: 'blue-red'\n    },\n    MO: {\n      gradient: 'rainbow'\n    }\n  },\n  antialias: true,\n  camFov: 45.0,\n  camNear: 0.5,\n  camFar: 100.0,\n  camDistance: 2.5,\n  radiusToFit: 1.0,\n  fogNearFactor: 0.5,\n  fogFarFactor: 1,\n  fogAlpha: 1.0,\n  fogColor: 0x000000,\n  fogColorEnable: false,\n  palette: 'JM',\n  resolution: 'medium',\n  autoResolution: false\n  ,\n  autoPreset: true,\n  preset: 'default',\n  presets: {\n    default: [{\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF'\n    }],\n    empty: [],\n    wire: [{\n      mode: 'LN',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF'\n    }],\n    small: [{\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'all',\n      material: 'SF'\n    }],\n    macro: [{\n      mode: 'CA',\n      colorer: 'SS',\n      selector: 'not hetatm',\n      material: 'SF'\n    }, {\n      mode: 'BS',\n      colorer: 'EL',\n      selector: 'hetatm and not water',\n      material: 'SF'\n    }]\n  },\n  objects: {\n    line: {\n      color: 0xffffffff,\n      dashSize: 0.3,\n      gapSize: 0.05\n    }\n  },\n  bg: {\n    color: 0x202020,\n    transparent: false\n  },\n  draft: {\n    clipPlane: false,\n    clipPlaneFactor: 0.5,\n    clipPlaneSpeed: 0.00003\n  },\n  plugins: {},\n  axes: true,\n  fog: true,\n  fps: true,\n  zSprites: true,\n  isoSurfaceFakeOpacity: true,\n  suspendRender: true,\n  nowater: false,\n  autobuild: true,\n  fxaa: true,\n  outline: {\n    on: false,\n    color: 0x000000,\n    threshold: 0.1,\n    thickness: 1\n  },\n  ao: false,\n  shadow: {\n    on: false,\n    type: 'random'\n    ,\n    radius: 1.0\n  },\n  autoRotation: 0.0,\n  maxfps: 30,\n  fbxprec: 4,\n  autoRotationAxisFixed: true,\n  zooming: true,\n  picking: true,\n  pick: 'atom',\n  editing: false,\n  aromatic: false,\n  singleUnit: true,\n  stereo: 'NONE',\n  interpolateViews: true,\n  transparency: 'prepass',\n  translationSpeed: 2,\n  debug: {\n    example: 3.5,\n    text: 'hello!',\n    good: true,\n    ssaoKernelRadius: 0.7,\n    ssaoFactor: 0.7,\n    stereoBarrel: 0.25\n  },\n  use: {\n    multiFile: false\n  }\n};\nfunction Settings() {\n  EventDispatcher.call(this);\n  this.old = null;\n  this.now = {};\n  this._changed = {};\n  this.reset();\n}\nutils.deriveClass(Settings, EventDispatcher, {\n  defaults: defaults,\n  set: function set$1(path, value) {\n    if (isString(path)) {\n      var oldValue = get(this.now, path);\n      if (oldValue !== value) {\n        set(this.now, path, value);\n        this._notifyChange(path, value);\n      }\n    } else {\n      var diff = utils.objectsDiff(path, this.now);\n      if (!isEmpty(diff)) {\n        merge(this.now, diff);\n        this._notifyChanges(diff);\n      }\n    }\n  },\n  get: function get$1(path, defaultValue) {\n    return get(this.now, path, defaultValue);\n  },\n  reset: function reset() {\n    var diff = utils.objectsDiff(defaults, this.now);\n    this.now = cloneDeep(defaults);\n    this.old = null;\n    this._notifyChanges(diff);\n    this._changed = {};\n  },\n  checkpoint: function checkpoint() {\n    this.old = cloneDeep(this.now);\n    this._changed = {};\n  },\n  _notifyChange: function _notifyChange(path, value) {\n    this._changed[path] = true;\n    this.dispatchEvent({\n      type: \"change:\".concat(path),\n      value: value\n    });\n  },\n  _notifyChanges: function _notifyChanges(diff) {\n    var _this = this;\n    utils.forInRecursive(diff, function (deepValue, deepPath) {\n      _this._notifyChange(deepPath, deepValue);\n    });\n  },\n  changed: function changed() {\n    if (!this.old) {\n      return [];\n    }\n    var old = this.old,\n        now = this.now;\n    var keys = filter(Object.keys(this._changed), function (key) {\n      return get(old, key) !== get(now, key);\n    });\n    return keys;\n  },\n  applyDiffs: function applyDiffs(diffs) {\n    if (diffs.hasOwnProperty('VERSION') && diffs.VERSION !== VERSION) {\n      throw new Error('Settings version does not match!');\n    }\n    delete diffs.VERSION;\n    this.reset();\n    this.set(diffs);\n  },\n  getDiffs: function getDiffs(versioned) {\n    var diffs = utils.objectsDiff(this.now, defaults);\n    if (versioned) {\n      diffs.VERSION = VERSION;\n    }\n    return diffs;\n  },\n  setPluginOpts: function setPluginOpts(plugin, opts) {\n    defaults.plugins[plugin] = cloneDeep(opts);\n    this.now.plugins[plugin] = cloneDeep(opts);\n  }\n});\nvar settings$1 = new Settings();\n\nvar repIndex = 0;\nfunction asBoolean(value) {\n  return !(!value || value === '0' || isString(value) && value.toLowerCase() === 'false');\n}\nvar adapters = {\n  string: String,\n  number: Number,\n  boolean: asBoolean\n};\nvar cL1Ass = '=';\nvar cOptsSep = '!';\nvar cL2Ass = ':';\nvar cLSep = ',';\nvar cCommonIgnoreSymbols = '$;@/?';\nfunction getLevel1ExcludedExpr() {\n  var cLevel1Ignores = ':,';\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel1Ignores);\n}\nfunction getLevel2ExcludedExpr() {\n  var cLevel2Ignores = ' ';\n  return utils.generateRegExp(cCommonIgnoreSymbols + cLevel2Ignores);\n}\nvar cL1ExclExpr = getLevel1ExcludedExpr();\nfunction encodeQueryComponentL1(value) {\n  return utils.encodeQueryComponent(value, cL1ExclExpr);\n}\nvar cL2ExclExpr = getLevel2ExcludedExpr();\nfunction encodeQueryComponentL2(value) {\n  return utils.encodeQueryComponent(value, cL2ExclExpr);\n}\nfunction ensureRepList(opts) {\n  var reps = opts.reps;\n  if (!reps) {\n    var presets = settings$1.now.presets;\n    var preset = opts.preset || settings$1.now.preset;\n    reps = presets[preset];\n    if (!reps) {\n      logger.warn(\"Unknown preset \\\"\".concat(preset, \"\\\"\"));\n      var _Object$keys = Object.keys(presets);\n      var _Object$keys2 = _slicedToArray(_Object$keys, 1);\n      preset = _Object$keys2[0];\n      reps = presets[preset];\n    }\n    opts.preset = preset;\n    opts.reps = utils.deriveDeep(reps, true);\n  }\n}\nfunction ensureRepAssign(opts, prop, value) {\n  ensureRepList(opts);\n  var rep = opts.reps[repIndex];\n  if (rep.hasOwnProperty(prop)) {\n    repIndex = opts.reps.length;\n    opts.reps[repIndex] = utils.deriveDeep(rep, true);\n  }\n  if (value !== undefined) {\n    opts.reps[repIndex][prop] = value;\n  }\n}\nfunction addObject(opts, params, options) {\n  if (opts._objects === undefined) {\n    opts._objects = [];\n  }\n  var _options = _slicedToArray(options, 2),\n      type = _options[0],\n      newOpts = _options[1];\n  var newObj = {\n    type: type,\n    params: params\n  };\n  if (newOpts !== undefined) {\n    newObj.opts = newOpts;\n  }\n  opts._objects[opts._objects.length] = newObj;\n}\nfunction parseParams(str, params) {\n  var sep = str.indexOf(',');\n  if (sep >= 0) {\n    params.push(str.substr(sep + 1).split(','));\n    return str.substr(0, sep);\n  }\n  return str;\n}\nfunction extractArgs(input, defaultsDict, params) {\n  if (input) {\n    var bang = input.indexOf(cOptsSep);\n    var inputVal = parseParams(input.substr(0, bang >= 0 ? bang : undefined), params);\n    if (bang >= 0) {\n      var args = input.substr(bang + 1).split(cLSep);\n      input = inputVal;\n      if (defaultsDict) {\n        var defaults = defaultsDict[input];\n        var opts = utils.deriveDeep(defaults, true);\n        args.forEach(function (arg) {\n          var pair = arg.split(cL2Ass, 2);\n          var key = decodeURIComponent(pair[0]);\n          var value = decodeURIComponent(pair[1]);\n          var adapter = adapters[_typeof(get(defaults, key))];\n          if (adapter) {\n            set(opts, key, adapter(value));\n          } else {\n            logger.warn(\"Unknown argument \\\"\".concat(key, \"\\\" for option \\\"\").concat(input, \"\\\"\"));\n          }\n        });\n        if (Object.keys(opts).length > 0) {\n          input = [input, opts];\n        }\n      }\n    } else {\n      input = inputVal;\n    }\n  }\n  return input;\n}\nvar actions = {\n  l: 'load',\n  load: String,\n  t: 'type',\n  type: String,\n  v: 'view',\n  view: String,\n  u: 'unit',\n  unit: Number,\n  menu: asBoolean,\n  o: 'object',\n  object: function object(value, opts) {\n    var params = [];\n    var options = extractArgs(value, settings$1.defaults.objects, params);\n    if (!Array.isArray(options)) {\n      options = [options];\n    }\n    addObject(opts, params[0], options);\n  },\n  p: 'preset',\n  preset: function preset(value, opts) {\n    opts.preset = value;\n    opts.reps = null;\n    ensureRepList(opts);\n  },\n  r: 'rep',\n  rep: function rep(value, opts) {\n    ensureRepList(opts);\n    repIndex = Number(value);\n    repIndex = repIndex <= opts.reps.length ? repIndex < 0 ? 0 : repIndex : opts.reps.length;\n    if (repIndex === opts.reps.length) {\n      opts.reps[repIndex] = repIndex > 0 ? utils.deriveDeep(opts.reps[repIndex - 1], true) : utils.deriveDeep(settings$1.defaults.presets.default[0], true);\n    }\n  },\n  s: 'select',\n  select: function select(value, opts) {\n    ensureRepAssign(opts, 'selector', value);\n  },\n  m: 'mode',\n  mode: function mode(value, opts) {\n    ensureRepAssign(opts, 'mode', extractArgs(value, settings$1.defaults.modes));\n  },\n  c: 'color',\n  color: function color(value, opts) {\n    ensureRepAssign(opts, 'colorer', extractArgs(value, settings$1.defaults.colorers));\n  },\n  mt: 'material',\n  material: function material(value, opts) {\n    ensureRepAssign(opts, 'material', extractArgs(value, settings$1.defaults.materials));\n  },\n  dup: function dup(value, opts) {\n    ensureRepList(opts);\n    var reps = opts.reps;\n    var rep = reps[repIndex];\n    repIndex = reps.length;\n    reps[repIndex] = utils.deriveDeep(rep, true);\n  },\n  ar: 'autoResolution'\n};\nfunction _fromArray(entries) {\n  repIndex = 0;\n  var opts = {};\n  for (var i = 0, n = entries.length; i < n; ++i) {\n    var\n    entry = entries[i];\n    var\n    key = entry[0];\n    var\n    value = entry[1];\n    if (actions.hasOwnProperty(key)) {\n      var\n      action = actions[key];\n      while (isString(action)) {\n        key = action;\n        action = actions[key];\n      }\n      if (typeof action === 'function') {\n        var result = action(value, opts);\n        if (result !== undefined) opts[key] = result;\n      }\n    } else {\n      var adapter = adapters[_typeof(get(settings$1.defaults, key))];\n      if (adapter) {\n        set(opts, \"settings.\".concat(key), adapter(value));\n      } else {\n        logger.warn(\"Unknown option \\\"\".concat(key, \"\\\"\"));\n      }\n    }\n  }\n  return opts;\n}\nfunction fromAttr(attr) {\n  return _fromArray(utils.getUrlParameters(\"?\".concat(attr || '')));\n}\nfunction fromURL(url) {\n  return _fromArray(utils.getUrlParameters(url));\n}\nfunction _processOptsForURL(opts) {\n  var str = [];\n  var i = 0;\n  utils.forInRecursive(opts, function (value, key) {\n    str[i++] = encodeQueryComponentL2(key) + cL2Ass + encodeQueryComponentL2(value);\n  });\n  return str.join(cLSep);\n}\nfunction _processArgsForURL(args) {\n  if (!isArray(args)) {\n    return args;\n  }\n  if (args.length < 2) {\n    return args[0];\n  }\n  return \"\".concat(args[0]).concat(cOptsSep).concat(_processOptsForURL(args[1]));\n}\nfunction _processObjForURL(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined;\n  }\n  var res = objOpts.type;\n  if (isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += \",\".concat(objOpts.params.join(','));\n  }\n  if (objOpts.opts) {\n    res += cOptsSep + _processOptsForURL(objOpts.opts);\n  }\n  return res;\n}\nfunction toURL(opts) {\n  var stringList = [];\n  var idx = 0;\n  function checkAndAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      stringList[idx++] = encodeQueryComponentL1(prefix) + cL1Ass + encodeQueryComponentL1(value);\n    }\n  }\n  function addReps(repList) {\n    if (!repList) {\n      return;\n    }\n    for (var i = 0, n = repList.length; i < n; ++i) {\n      if (isEmpty(repList[i])) {\n        continue;\n      }\n      checkAndAdd('r', i);\n      checkAndAdd('s', repList[i].selector);\n      checkAndAdd('m', _processArgsForURL(repList[i].mode));\n      checkAndAdd('c', _processArgsForURL(repList[i].colorer));\n      checkAndAdd('mt', _processArgsForURL(repList[i].material));\n    }\n  }\n  function addObjects(objList) {\n    if (!objList) {\n      return;\n    }\n    for (var i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('o', _processObjForURL(objList[i]));\n    }\n  }\n  checkAndAdd('l', opts.load);\n  checkAndAdd('u', opts.unit);\n  checkAndAdd('p', opts.preset);\n  addReps(opts.reps);\n  addObjects(opts._objects);\n  checkAndAdd('v', opts.view);\n  utils.forInRecursive(opts.settings, function (value, key) {\n    if (key === 'preset') {\n      return;\n    }\n    checkAndAdd(key, value);\n  });\n  var url = '';\n  if (typeof window !== 'undefined') {\n    var _window = window,\n        location = _window.location;\n    url = \"\".concat(location.protocol, \"//\").concat(location.host).concat(location.pathname);\n  }\n  if (stringList.length > 0) {\n    url += \"?\".concat(stringList.join('&'));\n  }\n  return url;\n}\nfunction _processOptsForScript(opts) {\n  var str = [];\n  var i = 0;\n  utils.forInRecursive(opts, function (value, key) {\n    str[i++] = \"\".concat(key, \"=\").concat(utils.enquoteString(value));\n  });\n  return str.join(' ');\n}\nfunction _processArgsForScript(args) {\n  if (!isArray(args)) {\n    return args;\n  }\n  if (args.length < 2) {\n    return args[0];\n  }\n  return \"\".concat(args[0], \" \").concat(_processOptsForScript(args[1]));\n}\nfunction _processObjForScript(objOpts) {\n  if (!objOpts || !objOpts.type) {\n    return undefined;\n  }\n  var res = objOpts.type;\n  if (isArray(objOpts.params) && objOpts.params.length > 0) {\n    res += \" \".concat(objOpts.params.map(utils.enquoteString).join(' '));\n  }\n  if (objOpts.opts) {\n    res += \" \".concat(_processOptsForScript(objOpts.opts));\n  }\n  return res;\n}\nfunction _processRepsForScript(rep, index) {\n  var repString = [];\n  var strIdx = 0;\n  function localAdd(prefix, value) {\n    if (value !== null && value !== undefined) {\n      repString[strIdx++] = prefix + value;\n    }\n  }\n  if (isEmpty(rep)) {\n    return null;\n  }\n  localAdd('', index);\n  localAdd('s=', utils.enquoteString(rep.selector));\n  localAdd('m=', _processArgsForScript(rep.mode));\n  localAdd('c=', _processArgsForScript(rep.colorer));\n  localAdd('mt=', _processArgsForScript(rep.material));\n  return repString.join(' ');\n}\nfunction toScript(opts) {\n  var commandsList = [];\n  var idx = 0;\n  function checkAndAdd(command, value, saveQuotes) {\n    if (value !== null && value !== undefined) {\n      var quote = typeof value === 'string' && saveQuotes ? '\"' : '';\n      commandsList[idx++] = \"\".concat(command, \" \").concat(quote).concat(value).concat(quote).trim();\n    }\n  }\n  function addReps(repList) {\n    if (!repList) {\n      return;\n    }\n    for (var i = 0, n = repList.length; i < n; ++i) {\n      checkAndAdd('rep', _processRepsForScript(repList[i], i));\n    }\n  }\n  function addObjects(objList) {\n    if (!objList) {\n      return;\n    }\n    for (var i = 0, n = objList.length; i < n; ++i) {\n      checkAndAdd('', _processObjForScript(objList[i]));\n    }\n  }\n  checkAndAdd('set', 'autobuild false');\n  checkAndAdd('load', opts.load, true);\n  checkAndAdd('unit', opts.unit);\n  checkAndAdd('preset', opts.preset);\n  addReps(opts.reps);\n  addObjects(opts._objects);\n  utils.forInRecursive(opts.settings, function (value, key) {\n    if (key === 'preset') {\n      return;\n    }\n    checkAndAdd(\"set \".concat(key), value, true);\n  });\n  checkAndAdd('view', opts.view);\n  checkAndAdd('set', 'autobuild true');\n  return commandsList.join('\\n');\n}\nvar options$1 = {\n  fromURL: fromURL,\n  fromAttr: fromAttr,\n  adapters: adapters,\n  toURL: toURL,\n  toScript: toScript\n};\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar Atom$2 = function () {\n  function Atom(residue, name, type, position, role, het, serial, location, occupancy, temperature, charge) {\n    _classCallCheck(this, Atom);\n    this.index = -1;\n    this.residue = residue;\n    this.name = name;\n    this.element = type;\n    this.position = position;\n    this.role = role;\n    this.mask = 1 | 0;\n    this.het = het;\n    this.serial = serial;\n    this.location = (location || ' ').charCodeAt(0);\n    this.occupancy = occupancy || 1;\n    this.temperature = temperature;\n    this.charge = charge;\n    this.hydrogenCount = -1;\n    this.radicalCount = 0;\n    this.valence = -1;\n    this.bonds = [];\n    this.flags = 0x0000;\n    if (type.name === 'H') {\n      this.flags |= Atom.Flags.HYDROGEN;\n    } else if (type.name === 'C') {\n      this.flags |= Atom.Flags.CARBON;\n    }\n  }\n  _createClass(Atom, [{\n    key: \"isHet\",\n    value: function isHet() {\n      return this.het;\n    }\n  }, {\n    key: \"isHydrogen\",\n    value: function isHydrogen() {\n      return this.element.number === 1;\n    }\n  }, {\n    key: \"getVisualName\",\n    value: function getVisualName() {\n      var name = this.name;\n      if (name.length > 0) {\n        return name;\n      }\n      return this.element.name.trim();\n    }\n  }, {\n    key: \"forEachBond\",\n    value: function forEachBond(process) {\n      var bonds = this.bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        process(bonds[i]);\n      }\n    }\n  }, {\n    key: \"getFullName\",\n    value: function getFullName() {\n      var name = '';\n      if (this.residue !== null) {\n        if (this.residue._chain !== null) {\n          name += \"\".concat(this.residue._chain.getName(), \".\");\n        }\n        name += \"\".concat(this.residue._sequence, \".\");\n      }\n      name += this.name;\n      return name;\n    }\n  }]);\n  return Atom;\n}();\n_defineProperty(Atom$2, \"Flags\", {\n  CARBON: 0x0001,\n  HYDROGEN: 0x0008,\n  NONPOLARH: 0x1008\n});\n\nvar Element$a = _createClass(function Element(number, name, fullName, weight, radius, radiusBonding, hValency) {\n  _classCallCheck(this, Element);\n  this.number = number;\n  this.name = name;\n  this.fullName = fullName;\n  this.weight = weight;\n  this.radius = radius;\n  this.radiusBonding = radiusBonding;\n  this.hydrogenValency = hValency;\n});\n_defineProperty(Element$a, \"Constants\", {\n  U1: 1,\n  Lead: 2,\n  U2: 3,\n  Wing: 4,\n  U18: 18\n});\n_defineProperty(Element$a, \"Role\", {\n  N: Element$a.Constants.U1,\n  CA: Element$a.Constants.Lead,\n  C: Element$a.Constants.U2,\n  O: Element$a.Constants.Wing,\n  SG: Element$a.Constants.U18\n});\n_defineProperty(Element$a, \"ByAtomicNumber\", [\nnull, new Element$a(1, 'H', 'Hydrogen', 1.008, 1.2, 0.23, [1]), new Element$a(2, 'HE', 'Helium', 4.003, 1.4, 0.93, [0]), new Element$a(3, 'LI', 'Lithium', 6.941, 1.82, 0.68, [1]), new Element$a(4, 'BE', 'Beryllium', 9.012, 1.7, 0.35, [2]), new Element$a(5, 'B', 'Boron', 10.81, 2.08, 0.83, [3]), new Element$a(6, 'C', 'Carbon', 12.011, 1.95, 0.68, [4]), new Element$a(7, 'N', 'Nitrogen', 14.007, 1.85, 0.68, [3, 5]), new Element$a(8, 'O', 'Oxygen', 15.999, 1.7, 0.68, [2, 4]), new Element$a(9, 'F', 'Fluorine', 18.998, 1.73, 0.64, [1]), new Element$a(10, 'NE', 'Neon', 20.18, 1.54, 1.12, [0]), new Element$a(11, 'NA', 'Sodium', 22.99, 2.27, 0.97, [1]), new Element$a(12, 'MG', 'Magnesium', 24.305, 1.73, 1.1, [2]), new Element$a(13, 'AL', 'Aluminum', 26.981, 2.05, 1.35, [3]), new Element$a(14, 'SI', 'Silicon', 28.086, 2.1, 1.2, [4]), new Element$a(15, 'P', 'Phosphorus', 30.974, 2.08, 0.75, [3, 5]), new Element$a(16, 'S', 'Sulfur', 32.07, 2, 1.02, [2, 4, 6]), new Element$a(17, 'CL', 'Chlorine', 35.453, 1.97, 0.99, [1, 3, 5, 7]), new Element$a(18, 'AR', 'Argon', 39.948, 1.88, 1.57, [0]), new Element$a(19, 'K', 'Potassium', 39.1, 2.75, 1.33, [1]), new Element$a(20, 'CA', 'Calcium', 40.08, 1.973, 0.99, [2]), new Element$a(21, 'SC', 'Scandium', 44.956, 1.7, 1.44, [0]), new Element$a(22, 'TI', 'Titanium', 47.88, 1.7, 1.47, [0]), new Element$a(23, 'V', 'Vanadium', 50.941, 1.7, 1.33, [0]), new Element$a(24, 'CR', 'Chromium', 52, 1.7, 1.35, [0]), new Element$a(25, 'MN', 'Manganese', 54.938, 1.7, 1.35, [0]), new Element$a(26, 'FE', 'Iron', 55.847, 1.7, 1.34, [0]), new Element$a(27, 'CO', 'Cobalt', 58.93, 1.7, 1.33, [0]), new Element$a(28, 'NI', 'Nickel', 58.69, 1.63, 1.5, [0]), new Element$a(29, 'CU', 'Copper', 63.55, 1.4, 1.52, [0]), new Element$a(30, 'ZN', 'Zinc', 65.39, 1.39, 1.45, [0]), new Element$a(31, 'GA', 'Gallium', 69.72, 1.87, 1.22, [3]), new Element$a(32, 'GE', 'Germanium', 72.61, 1.7, 1.17, [4]), new Element$a(33, 'AS', 'Arsenic', 74.92, 1.85, 1.21, [3, 5]), new Element$a(34, 'SE', 'Selenium', 78.96, 1.9, 1.22, [2, 4, 6]), new Element$a(35, 'BR', 'Bromine', 79.9, 2.1, 1.21, [1, 3, 5, 7]), new Element$a(36, 'KR', 'Krypton', 83.8, 2.02, 1.91, [0]), new Element$a(37, 'RB', 'Rubidium', 85.47, 1.7, 1.47, [1]), new Element$a(38, 'SR', 'Strontium', 87.62, 1.7, 1.12, [2]), new Element$a(39, 'Y', 'Yttrium', 88.91, 1.7, 1.78, [0]), new Element$a(40, 'ZR', 'Zirconium', 91.22, 1.7, 1.56, [0]), new Element$a(41, 'NB', 'Niobium', 92.91, 1.7, 1.48, [0]), new Element$a(42, 'MO', 'Molybdenum', 95.94, 1.7, 1.47, [0]), new Element$a(43, 'TC', 'Technetium', 98.91, 1.7, 1.35, [0]), new Element$a(44, 'RU', 'Ruthenium', 101.07, 1.7, 1.4, [0]), new Element$a(45, 'RH', 'Rhodium', 102.91, 1.7, 1.45, [0]), new Element$a(46, 'PD', 'Palladium', 106.42, 1.63, 1.5, [0]), new Element$a(47, 'AG', 'Silver', 107.87, 1.72, 1.59, [0]), new Element$a(48, 'CD', 'Cadmium', 112.41, 1.58, 1.69, [0]), new Element$a(49, 'IN', 'Indium', 114.82, 1.93, 1.63, [3]), new Element$a(50, 'SN', 'Tin', 118.71, 2.17, 1.46, [2, 4]), new Element$a(51, 'SB', 'Antimony', 121.75, 2.2, 1.46, [3, 5]), new Element$a(52, 'TE', 'Tellurium', 127.6, 2.06, 1.47, [2, 4, 6]), new Element$a(53, 'I', 'Iodine', 126.91, 2.15, 1.4, [1, 3, 5, 7]), new Element$a(54, 'XE', 'Xenon', 131.29, 2.16, 1.98, [0]), new Element$a(55, 'CS', 'Cesium', 132.91, 1.7, 1.67, [1]), new Element$a(56, 'BA', 'Barium', 137.33, 1.7, 1.34, [2]), new Element$a(57, 'LA', 'Lanthanum', 138.91, 1.7, 1.87, [0]), new Element$a(58, 'CE', 'Cerium', 140.12, 1.7, 1.83, [0]), new Element$a(59, 'PR', 'Praseodymium', 140.91, 1.7, 1.82, [0]), new Element$a(60, 'ND', 'Neodymium', 144.24, 1.7, 1.81, [0]), new Element$a(61, 'PM', 'Promethium', 144.9, 1.7, 1.8, [0]), new Element$a(62, 'SM', 'Samarium', 150.36, 1.7, 1.8, [0]), new Element$a(63, 'EU', 'Europium', 151.96, 1.7, 1.99, [0]), new Element$a(64, 'GD', 'Gadolinium', 157.25, 1.7, 1.79, [0]), new Element$a(65, 'TB', 'Terbium', 158.93, 1.7, 1.76, [0]), new Element$a(66, 'DY', 'Dysprosium', 162.5, 1.7, 1.75, [0]), new Element$a(67, 'HO', 'Holmium', 164.93, 1.7, 1.74, [0]), new Element$a(68, 'ER', 'Erbium', 167.26, 1.7, 1.73, [0]), new Element$a(69, 'TM', 'Thulium', 168.93, 1.7, 1.72, [0]), new Element$a(70, 'YB', 'Ytterbium', 173.04, 1.7, 1.94, [0]), new Element$a(71, 'LU', 'Lutetium', 174.97, 1.7, 1.72, [0]), new Element$a(72, 'HF', 'Hafnium', 178.49, 1.7, 1.57, [0]), new Element$a(73, 'TA', 'Tantalum', 180.95, 1.7, 1.43, [0]), new Element$a(74, 'W', 'Tungsten', 183.85, 1.7, 1.37, [0]), new Element$a(75, 'RE', 'Rhenium', 186.21, 1.7, 1.35, [0]), new Element$a(76, 'OS', 'Osmium', 190.2, 1.7, 1.37, [0]), new Element$a(77, 'IR', 'Iridium', 192.22, 1.7, 1.32, [0]), new Element$a(78, 'PT', 'Platinum', 195.08, 1.72, 1.5, [0]), new Element$a(79, 'AU', 'Gold', 196.97, 1.66, 1.5, [0]), new Element$a(80, 'HG', 'Mercury', 200.59, 1.55, 1.7, [0]), new Element$a(81, 'TL', 'Thallium', 204.38, 1.96, 1.55, [1, 3]), new Element$a(82, 'PB', 'Lead', 207.2, 2.02, 1.54, [2, 4]), new Element$a(83, 'BI', 'Bismuth', 208.98, 1.7, 1.54, [3, 5]), new Element$a(84, 'PO', 'Polonium', 210, 1.7, 1.68, [2, 4, 6]), new Element$a(85, 'AT', 'Astatine', 210, 1.7, 1.7, [1, 3, 5, 7]), new Element$a(86, 'RN', 'Radon', 222, 1.7, 2.4, [0]), new Element$a(87, 'FR', 'Francium', 223, 1.7, 2, [1]), new Element$a(88, 'RA', 'Radium', 226.03, 1.7, 1.9, [2]), new Element$a(89, 'AC', 'Actinium', 227.03, 1.7, 1.88, [0]), new Element$a(90, 'TH', 'Thorium', 232.04, 1.7, 1.79, [0]), new Element$a(91, 'PA', 'Protactinium', 231.04, 1.7, 1.61, [0]), new Element$a(92, 'U', 'Uranium', 238.03, 1.86, 1.58, [0]), new Element$a(93, 'NP', 'Neptunium', 237.05, 1.7, 1.55, [0]), new Element$a(94, 'PU', 'Plutonium', 239.1, 1.7, 1.53, [0]), new Element$a(95, 'AM', 'Americium', 243.1, 1.7, 1.51, [0]), new Element$a(96, 'CM', 'Curium', 247.1, 1.7, 1.5, [0]), new Element$a(97, 'BK', 'Berkelium', 247.1, 1.7, 1.5, [0]), new Element$a(98, 'CF', 'Californium', 252.1, 1.7, 1.5, [0]), new Element$a(99, 'ES', 'Einsteinium', 252.1, 1.7, 1.5, [0]), new Element$a(100, 'FM', 'Fermium', 257.1, 1.7, 1.5, [0]), new Element$a(101, 'MD', 'Mendelevium', 256.1, 1.7, 1.5, [0]), new Element$a(102, 'NO', 'Nobelium', 259.1, 1.7, 1.5, [0]), new Element$a(103, 'LR', 'Lawrencium', 260.1, 1.7, 1.5, [0]), new Element$a(104, 'RF', 'Rutherfordium', 261, 1.7, 1.6, [0]), new Element$a(105, 'DB', 'Dubnium', 262, 1.7, 1.6, [0]), new Element$a(106, 'SG', 'Seaborgium', 263, 1.7, 1.6, [0]), new Element$a(107, 'BH', 'Bohrium', 262, 1.7, 1.6, [0]), new Element$a(108, 'HS', 'Hassium', 265, 1.7, 1.6, [0]), new Element$a(109, 'MT', 'Meitnerium', 268, 1.7, 1.6, [0])\n]);\n_defineProperty(Element$a, \"ByName\", {\n  D: new Element$a(1, 'D', 'Deuterium', 2.014, 1.2, 0.23, [1]),\n  T: new Element$a(1, 'T', 'Tritium', 3.016, 1.2, 0.23, [1])\n});\n(function () {\n  var byAtomicNumber = Element$a.ByAtomicNumber;\n  var byName = Element$a.ByName;\n  for (var i = 0, n = byAtomicNumber.length; i < n; ++i) {\n    var element = byAtomicNumber[i];\n    if (element) {\n      byName[element.name] = element;\n    }\n  }\n})();\nElement$a.getByName = function (element) {\n  var type = Element$a.ByName[element];\n  if (!type) {\n    type = Element$a.ByName[element] = new Element$a(0, element, 'Unknown', 0, 1.0, 0.01, [0]);\n  }\n  return type;\n};\n\nvar cBondTypes = {\n  UNKNOWN: 0,\n  COVALENT: 1,\n  AROMATIC: 2\n};\nfunction getAtomPos(atom) {\n  return atom.position;\n}\nvar Bond$5 = function () {\n  function Bond(left, right, order, type, fixed) {\n    _classCallCheck(this, Bond);\n    this._left = left;\n    this._right = right;\n    this._fixed = fixed;\n    this._index = -1;\n    if (left > right) {\n      throw new Error('In a bond atom indices must be in increasing order');\n    }\n    this._order = order;\n    this._type = type;\n  }\n  _createClass(Bond, [{\n    key: \"getLeft\",\n    value: function getLeft() {\n      return this._left;\n    }\n  }, {\n    key: \"getRight\",\n    value: function getRight() {\n      return this._right;\n    }\n  }, {\n    key: \"getOrder\",\n    value: function getOrder() {\n      return this._order;\n    }\n  }, {\n    key: \"calcLength\",\n    value: function calcLength() {\n      return this._left.position.distanceTo(this._right.position);\n    }\n  }, {\n    key: \"_forEachNeighbour\",\n    value: function _forEachNeighbour(currAtom, process) {\n      var bonds = currAtom.bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        process(bonds[i]._left !== currAtom ? bonds[i]._left : bonds[i]._right);\n      }\n    }\n  }, {\n    key: \"forEachLevelOne\",\n    value: function forEachLevelOne(process) {\n      var left = this._left;\n      var right = this._right;\n      this._forEachNeighbour(left, function (atom) {\n        if (atom === right) {\n          return;\n        }\n        process(atom);\n      });\n      this._forEachNeighbour(right, function (atom) {\n        if (atom === left) {\n          return;\n        }\n        process(atom);\n      });\n    }\n  }, {\n    key: \"forEachLevelTwo\",\n    value: function forEachLevelTwo(process) {\n      var left = this._left;\n      var right = this._right;\n      var self = this;\n      self._forEachNeighbour(left, function (atom) {\n        if (atom === right) {\n          return;\n        }\n        self._forEachNeighbour(atom, function (l2Atom) {\n          if (l2Atom === left) {\n            return;\n          }\n          process(l2Atom);\n        });\n      });\n      self._forEachNeighbour(right, function (atom) {\n        if (atom === left) {\n          return;\n        }\n        self._forEachNeighbour(atom, function (l2Atom) {\n          if (l2Atom === right) {\n            return;\n          }\n          process(l2Atom);\n        });\n      });\n    }\n  }, {\n    key: \"_fixDir\",\n    value: function _fixDir(refPoint, currDir, posGetter) {\n      var rightCount = 0;\n      var leftCount = 0;\n      var tmpVec = refPoint.clone();\n      function checkDir(atom) {\n        tmpVec.copy(posGetter(atom));\n        tmpVec.sub(refPoint);\n        var dotProd = currDir.dot(tmpVec);\n        if (dotProd > 0) {\n          ++rightCount;\n        } else {\n          ++leftCount;\n        }\n      }\n      function checkCarbon(atom) {\n        if (atom.element.name === 'C') {\n          checkDir(atom);\n        }\n      }\n      var stages = [[this.forEachLevelOne, checkCarbon], [this.forEachLevelOne, checkDir], [this.forEachLevelTwo, checkCarbon], [this.forEachLevelTwo, checkDir]];\n      for (var stageId = 0; stageId < stages.length; ++stageId) {\n        stages[stageId][0].call(this, stages[stageId][1]);\n        if (leftCount > rightCount) {\n          return currDir.multiplyScalar(-1);\n        }\n        if (leftCount < rightCount) {\n          return currDir;\n        }\n      }\n      return currDir;\n    }\n  }, {\n    key: \"calcNormalDir\",\n    value: function calcNormalDir(posGetter) {\n      var left = this._left;\n      var right = this._right;\n      var first = left;\n      var second = right;\n      posGetter = posGetter === undefined ? getAtomPos : posGetter;\n      if (left.bonds.length > right.bonds.length) {\n        first = right;\n        second = left;\n      }\n      var third = first;\n      var maxNeibs = 0;\n      var _second = second,\n          bonds = _second.bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        var another = bonds[i]._left;\n        if (bonds[i]._left === second) {\n          another = bonds[i]._right;\n        }\n        if (another.bonds.length > maxNeibs && another !== first) {\n          third = another;\n          maxNeibs = another.bonds.length;\n        }\n      }\n      var secondPos = posGetter(second);\n      var firstV = posGetter(first).clone().sub(secondPos);\n      var secondV = posGetter(third).clone().sub(secondPos);\n      secondV.crossVectors(firstV, secondV);\n      if (secondV.lengthSq() < 0.0001) {\n        secondV.set(0, 1, 0);\n      }\n      firstV.normalize();\n      secondV.normalize();\n      firstV.crossVectors(secondV, firstV);\n      if (firstV.lengthSq() < 0.0001) {\n        firstV.set(0, 1, 0);\n      }\n      firstV.normalize();\n      return this._fixDir(secondPos, firstV, posGetter);\n    }\n  }]);\n  return Bond;\n}();\n_defineProperty(Bond$5, \"BondType\", cBondTypes);\nBond$5.prototype.BondType = cBondTypes;\n\nvar cNucleicControlNames = [\"C3'\", 'C3*', 'P', 'H5T', 'H3T'];\nvar cNucleicWing1Names = ['OP1', 'O1P'];\nvar cNucleicWing2Names = ['OP2', 'O2P'];\nvar cCylinderSource = [\"C3'\", 'C3*', 'C1', \"C1'\", 'C1*', 'P'];\nvar cCylinderTarget = [{\n  types: ['A', 'DA', 'G', 'DG'],\n  atoms: ['N1']\n}, {\n  types: ['C', 'DC'],\n  atoms: ['N3']\n}, {\n  types: ['T', 'DT', 'U', 'DU'],\n  atoms: ['O4']\n}];\nvar Residue$1 = function () {\n  function Residue(chain, type, sequence, icode) {\n    _classCallCheck(this, Residue);\n    this._chain = chain;\n    this._component = null;\n    this._type = type;\n    this._sequence = sequence;\n    this._icode = icode;\n    this._mask = 1 | 0;\n    this._index = -1;\n    this._atoms = [];\n    this._secondary = null;\n    this._firstAtom = null;\n    this._leadAtom = null;\n    this._wingAtom = null;\n    this._lastAtom = null;\n    this._controlPoint = null;\n    this._midPoint = null;\n    this._wingVector = null;\n    this._cylinders = null;\n    this._isValid = true;\n    this._het = false;\n    this._molecule = null;\n    this.temperature = null;\n    this.occupancy = null;\n  }\n  _createClass(Residue, [{\n    key: \"getChain\",\n    value: function getChain() {\n      return this._chain;\n    }\n  }, {\n    key: \"getMolecule\",\n    value: function getMolecule() {\n      return this._molecule;\n    }\n  }, {\n    key: \"getType\",\n    value: function getType() {\n      return this._type;\n    }\n  }, {\n    key: \"getSequence\",\n    value: function getSequence() {\n      return this._sequence;\n    }\n  }, {\n    key: \"getSecondary\",\n    value: function getSecondary() {\n      return this._secondary;\n    }\n  }, {\n    key: \"getICode\",\n    value: function getICode() {\n      return this._icode;\n    }\n  }, {\n    key: \"addAtom\",\n    value: function addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge) {\n      var atom = new Atom$2(this, name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n      var complex = this._chain.getComplex();\n      complex.addAtom(atom);\n      this._atoms.push(atom);\n      this._het = this._het || het;\n      return atom;\n    }\n  }, {\n    key: \"getAtomCount\",\n    value: function getAtomCount() {\n      return this._atoms.length;\n    }\n  }, {\n    key: \"forEachAtom\",\n    value: function forEachAtom(process) {\n      var atoms = this._atoms;\n      for (var i = 0, n = atoms.length; i < n; ++i) {\n        if (process(atoms[i])) {\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"_findAtomByName\",\n    value: function _findAtomByName(name) {\n      var res = null;\n      this.forEachAtom(function (atom) {\n        if (atom.name === name) {\n          res = atom;\n          return true;\n        }\n        return false;\n      });\n      return res;\n    }\n  }, {\n    key: \"_findFirstAtomInList\",\n    value: function _findFirstAtomInList(names) {\n      var res = null;\n      for (var i = 0; i < names.length; ++i) {\n        res = this._findAtomByName(names[i]);\n        if (res !== null) {\n          return res;\n        }\n      }\n      return res;\n    }\n  }, {\n    key: \"collectMask\",\n    value: function collectMask() {\n      var mask = 0xffffffff;\n      var atoms = this._atoms;\n      for (var i = 0, n = atoms.length; i < n; ++i) {\n        mask &= atoms[i].mask;\n      }\n      this._mask = mask;\n    }\n  }, {\n    key: \"getCylinderTargetList\",\n    value: function getCylinderTargetList() {\n      var type = this._type._name;\n      for (var i = 0, n = cCylinderTarget.length; i < n; ++i) {\n        for (var j = 0, m = cCylinderTarget[i].types.length; j < m; ++j) {\n          if (type === cCylinderTarget[i].types[j]) {\n            return cCylinderTarget[i].atoms;\n          }\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"_detectLeadWing\",\n    value: function _detectLeadWing(dst, next, getAtomPosition) {\n      var leadAtom = this._findFirstAtomInList(cNucleicControlNames);\n      var wingStart = this._findFirstAtomInList(cNucleicWing1Names);\n      var wingEnd = this._findFirstAtomInList(cNucleicWing2Names);\n      if (wingStart === null && next !== null) {\n        wingStart = next._findFirstAtomInList(cNucleicWing1Names);\n      }\n      if (wingEnd === null && next !== null) {\n        wingEnd = next._findFirstAtomInList(cNucleicWing2Names);\n      }\n      if (leadAtom === null || wingStart === null || wingEnd === null) {\n        return;\n      }\n      dst._leadAtom = leadAtom;\n      dst._controlPoint = getAtomPosition(leadAtom);\n      dst._wingVector = getAtomPosition(wingEnd).clone().sub(getAtomPosition(wingStart));\n      dst._isValid = true;\n      var cylSource = this._findFirstAtomInList(cCylinderSource);\n      var targetList = this.getCylinderTargetList();\n      var cylTarget = targetList !== null ? this._findFirstAtomInList(targetList) : null;\n      if (cylSource === null || cylTarget === null) {\n        return;\n      }\n      dst._cylinders = [getAtomPosition(cylSource), getAtomPosition(cylTarget)];\n    }\n  }, {\n    key: \"calcWing\",\n    value: function calcWing(prevLeadPos, currLeadPos, prevWingPos, prevWing) {\n      var vectorA = currLeadPos.clone().sub(prevLeadPos);\n      var vectorB = prevLeadPos.clone().sub(prevWingPos);\n      vectorB.crossVectors(vectorA, vectorB);\n      vectorB.crossVectors(vectorA, vectorB).normalize();\n      if (prevWing !== null && prevWing.length() > 0.0001) {\n        var needToNegate = vectorB.length() > 0.0001 && Math.abs(prevWing.angleTo(vectorB)) > Math.PI / 2;\n        if (needToNegate) {\n          vectorB.negate();\n        }\n      }\n      return vectorB;\n    }\n  }, {\n    key: \"_innerFinalize\",\n    value: function _innerFinalize(prevRes, prev, nextRes, dst, chainAsNucleic, getAtomPosition) {\n      var bFirstInChain = prev === null;\n      var lp = getAtomPosition(this._leadAtom);\n      var currLeadPos = new Vector3(lp.x, lp.y, lp.z);\n      if (chainAsNucleic) {\n        this._detectLeadWing(dst, nextRes, getAtomPosition);\n        return;\n      }\n      if (bFirstInChain) {\n        dst._midPoint = getAtomPosition(this._firstAtom).clone();\n      } else {\n        var prevLeadPos = prev._controlPoint;\n        dst._midPoint = prevLeadPos.clone().lerp(currLeadPos, 0.5);\n        dst._wingVector = this.calcWing(prevLeadPos, currLeadPos, getAtomPosition(prevRes._wingAtom), prev._wingVector);\n      }\n      dst._controlPoint = currLeadPos;\n    }\n  }, {\n    key: \"_finalize2\",\n    value: function _finalize2(prev, next, asNucleic) {\n      this._innerFinalize(prev, prev, next, this, asNucleic, function (atom) {\n        return atom.position;\n      });\n    }\n  }, {\n    key: \"isConnected\",\n    value: function isConnected(anotherResidue) {\n      if (this._chain !== anotherResidue._chain) {\n        return false;\n      }\n      if (this === anotherResidue) {\n        return true;\n      }\n      var res = false;\n      this.forEachAtom(function (atom) {\n        var bonds = atom.bonds;\n        for (var i = 0, n = bonds.length; i < n; ++i) {\n          var bond = bonds[i];\n          if (bond._left.residue === anotherResidue || bond._right.residue === anotherResidue) {\n            res = true;\n            return true;\n          }\n        }\n        return false;\n      });\n      return res;\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      var self = this;\n      var _this$_atoms = _slicedToArray(this._atoms, 1);\n      this._firstAtom = _this$_atoms[0];\n      this._lastAtom = this._atoms[this._atoms.length - 1];\n      this._leadAtom = null;\n      this._wingAtom = null;\n      var tempCount = 0;\n      var temperature = 0;\n      var occupCount = 0;\n      var occupancy = 0;\n      this.forEachAtom(function (a) {\n        if (self._leadAtom === null) {\n          if (a.role === Element$a.Constants.Lead) {\n            self._leadAtom = a;\n          }\n        }\n        if (self._wingAtom === null) {\n          if (a.role === Element$a.Constants.Wing) {\n            self._wingAtom = a;\n          }\n        }\n        if (a.temperature) {\n          temperature += a.temperature;\n          tempCount++;\n        }\n        if (a.occupancy) {\n          occupancy += a.occupancy;\n          occupCount++;\n        }\n        return self._leadAtom !== null && self._wingAtom !== null;\n      });\n      if (tempCount > 0) {\n        this.temperature = temperature / tempCount;\n      }\n      if (occupCount > 0) {\n        this.occupancy = occupancy / occupCount;\n      }\n      if (this._leadAtom === null || this._wingAtom === null) {\n        this._isValid = false;\n      }\n      if (this._leadAtom === null) {\n        this._leadAtom = this._firstAtom;\n      }\n      if (this._wingAtom === null) {\n        this._wingAtom = this._lastAtom;\n      }\n    }\n  }]);\n  return Residue;\n}();\n\nvar ResidueType$1 = function () {\n  function ResidueType(name, fullName, letterCode) {\n    _classCallCheck(this, ResidueType);\n    this._name = name;\n    this._fullName = fullName;\n    this.letterCode = letterCode;\n    this.flags = 0x0000;\n  }\n  _createClass(ResidueType, [{\n    key: \"getName\",\n    value: function getName() {\n      return this._name;\n    }\n  }]);\n  return ResidueType;\n}();\n_defineProperty(ResidueType$1, \"StandardTypes\", {\n  ALA: new ResidueType$1('ALA', 'Alanine', 'A'),\n  ARG: new ResidueType$1('ARG', 'Arginine', 'R'),\n  ASN: new ResidueType$1('ASN', 'Asparagine', 'N'),\n  ASP: new ResidueType$1('ASP', 'Aspartic Acid', 'D'),\n  CYS: new ResidueType$1('CYS', 'Cysteine', 'C'),\n  GLN: new ResidueType$1('GLN', 'Glutamine', 'Q'),\n  GLU: new ResidueType$1('GLU', 'Glutamic Acid', 'E'),\n  GLY: new ResidueType$1('GLY', 'Glycine', 'G'),\n  HIS: new ResidueType$1('HIS', 'Histidine', 'H'),\n  ILE: new ResidueType$1('ILE', 'Isoleucine', 'I'),\n  LEU: new ResidueType$1('LEU', 'Leucine', 'L'),\n  LYS: new ResidueType$1('LYS', 'Lysine', 'K'),\n  MET: new ResidueType$1('MET', 'Methionine', 'M'),\n  PHE: new ResidueType$1('PHE', 'Phenylalanine', 'F'),\n  PRO: new ResidueType$1('PRO', 'Proline', 'P'),\n  PYL: new ResidueType$1('PYL', 'Pyrrolysine', 'O'),\n  SEC: new ResidueType$1('SEC', 'Selenocysteine', 'U'),\n  SER: new ResidueType$1('SER', 'Serine', 'S'),\n  THR: new ResidueType$1('THR', 'Threonine', 'T'),\n  TRP: new ResidueType$1('TRP', 'Tryptophan', 'W'),\n  TYR: new ResidueType$1('TYR', 'Tyrosine', 'Y'),\n  VAL: new ResidueType$1('VAL', 'Valine', 'V'),\n  A: new ResidueType$1('A', 'Adenine', 'A'),\n  C: new ResidueType$1('C', 'Cytosine', 'C'),\n  G: new ResidueType$1('G', 'Guanine', 'G'),\n  I: new ResidueType$1('I', 'Inosine', 'I'),\n  T: new ResidueType$1('T', 'Thymine', 'T'),\n  U: new ResidueType$1('U', 'Uracil', 'U'),\n  DA: new ResidueType$1('DA', 'Adenine', 'A'),\n  DC: new ResidueType$1('DC', 'Cytosine', 'C'),\n  DG: new ResidueType$1('DG', 'Guanine', 'G'),\n  DI: new ResidueType$1('DI', 'Inosine', 'I'),\n  DT: new ResidueType$1('DT', 'Thymine', 'T'),\n  DU: new ResidueType$1('DU', 'Uracil', 'U'),\n  '+A': new ResidueType$1('+A', 'Adenine', 'A'),\n  '+C': new ResidueType$1('+C', 'Cytosine', 'C'),\n  '+G': new ResidueType$1('+G', 'Guanine', 'G'),\n  '+I': new ResidueType$1('+I', 'Inosine', 'I'),\n  '+T': new ResidueType$1('+T', 'Thymine', 'T'),\n  '+U': new ResidueType$1('+U', 'Uracil', 'U'),\n  WAT: new ResidueType$1('WAT', 'Water', ''),\n  H2O: new ResidueType$1('H2O', 'Water', ''),\n  HOH: new ResidueType$1('HOH', 'Water', ''),\n  DOD: new ResidueType$1('DOD', 'Water', ''),\n  UNK: new ResidueType$1('UNK', 'Unknown', ''),\n  UNL: new ResidueType$1('UNL', 'Unknown Ligand', '')\n});\n_defineProperty(ResidueType$1, \"Flags\", {\n  PROTEIN: 0x0001,\n  BASIC: 0x0002,\n  ACIDIC: 0x0004,\n  POLAR: 0x0008,\n  NONPOLAR: 0x0010,\n  AROMATIC: 0x0020,\n  NUCLEIC: 0x0100,\n  PURINE: 0x0200,\n  PYRIMIDINE: 0x0400,\n  DNA: 0x0800,\n  RNA: 0x1000,\n  WATER: 0x10000\n});\nfunction _addFlag(flag, list) {\n  for (var i = 0, n = list.length; i < n; ++i) {\n    var res = ResidueType$1.StandardTypes[list[i]];\n    if (res) {\n      res.flags |= flag;\n    }\n  }\n}\nvar Flags = ResidueType$1.Flags;\n_addFlag(Flags.WATER, ['WAT', 'H2O', 'HOH', 'DOD']);\n_addFlag(Flags.PROTEIN, ['ALA', 'ARG', 'ASN', 'ASP', 'CYS', 'GLY', 'GLU', 'GLN', 'HIS', 'ILE', 'LEU', 'LYS', 'MET', 'PHE', 'PRO', 'PYL', 'SEC', 'SER', 'THR', 'TRP', 'TYR', 'VAL']);\n_addFlag(Flags.BASIC, ['ARG', 'HIS', 'LYS']);\n_addFlag(Flags.ACIDIC, ['ASP', 'GLU']);\n_addFlag(Flags.POLAR, ['ASN', 'CYS', 'GLN', 'SER', 'THR', 'TYR']);\n_addFlag(Flags.NONPOLAR, ['ALA', 'ILE', 'LEU', 'MET', 'PHE', 'PRO', 'TRP', 'VAL', 'GLY']);\n_addFlag(Flags.AROMATIC, ['PHE', 'TRP', 'TYR']);\n_addFlag(Flags.NUCLEIC, ['A', 'G', 'I', 'DA', 'DG', 'DI', '+A', '+G', '+I', 'C', 'T', 'U', 'DC', 'DT', 'DU', '+C', '+T', '+U']);\n_addFlag(Flags.PURINE, ['A', 'G', 'I', 'DA', 'DG', 'DI', '+A', '+G', '+I']);\n_addFlag(Flags.PYRIMIDINE, ['C', 'T', 'U', 'DC', 'DT', 'DU', '+C', '+T', '+U']);\n_addFlag(Flags.DNA, ['DA', 'DG', 'DI', 'DC', 'DT', 'DU']);\n_addFlag(Flags.RNA, ['A', 'G', 'I', 'C', 'T', 'U']);\nvar hydro = {\n  ILE: 4.5,\n  VAL: 4.2,\n  LEU: 3.8,\n  PHE: 2.8,\n  CYS: 2.5,\n  MET: 1.9,\n  ALA: 1.8,\n  GLY: -0.4,\n  THR: -0.7,\n  SER: -0.8,\n  TRP: -0.9,\n  TYR: -1.3,\n  PRO: -1.6,\n  HIS: -3.2,\n  GLU: -3.5,\n  GLN: -3.5,\n  ASP: -3.5,\n  ASN: -3.5,\n  LYS: -3.9,\n  ARG: -4.5\n};\nfunction _addParam(param, list) {\n  var keys = Object.keys(list);\n  for (var i = 0, n = keys.length; i < n; ++i) {\n    var key = keys[i];\n    var value = list[key];\n    ResidueType$1.StandardTypes[key][param] = value;\n  }\n}\n_addParam('hydrophobicity', hydro);\n\nvar ChainType = {\n  UNKNOWN: 0,\n  PROTEIN: 1,\n  NUCLEIC: 2\n};\nvar Chain$2 = function () {\n  function Chain(complex, name) {\n    _classCallCheck(this, Chain);\n    this._complex = complex;\n    this._name = name;\n    this._mask = 1 | 0;\n    this._index = -1;\n    this._residues = [];\n    this.minSequence = Number.POSITIVE_INFINITY;\n    this.maxSequence = Number.NEGATIVE_INFINITY;\n  }\n  _createClass(Chain, [{\n    key: \"getComplex\",\n    value: function getComplex() {\n      return this._complex;\n    }\n  }, {\n    key: \"getName\",\n    value: function getName() {\n      return this._name;\n    }\n  }, {\n    key: \"getResidues\",\n    value: function getResidues() {\n      return this._residues;\n    }\n  }, {\n    key: \"_determineType\",\n    value: function _determineType() {\n      var residues = this._residues;\n      var _ResidueType$Flags = ResidueType$1.Flags,\n          PROTEIN = _ResidueType$Flags.PROTEIN,\n          NUCLEIC = _ResidueType$Flags.NUCLEIC;\n      this.type = ChainType.UNKNOWN;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        var flags = residues[i]._type.flags;\n        if ((flags & NUCLEIC) !== 0) {\n          this.type = ChainType.NUCLEIC;\n          break;\n        } else if ((flags & PROTEIN) !== 0) {\n          this.type = ChainType.PROTEIN;\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"findResidue\",\n    value: function findResidue(seqNum, iCode) {\n      var residues = this._residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        var res = residues[i];\n        if (res._sequence === seqNum && res._icode === iCode) {\n          return [res, i];\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      this._determineType();\n      var residues = this._residues;\n      var prev = null;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        var next = i + 1 < n ? residues[i + 1] : null;\n        var curr = residues[i];\n        {\n          curr._finalize2(prev, next, this.type === ChainType.NUCLEIC);\n          prev = curr;\n        }\n      }\n      if (residues.length > 1 && residues[1]._wingVector) {\n        var p = residues[1]._wingVector;\n        residues[0]._wingVector = new Vector3(p.x, p.y, p.z);\n      } else if (residues.length > 0) {\n        residues[0]._wingVector = new Vector3(1, 0, 0);\n      }\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var residues = this._residues;\n      var prev = null;\n      var prevData = null;\n      var frameRes = frameData._residues;\n      var n = residues.length;\n      function getAtomPos(atom) {\n        return frameData.getAtomPos(atom.index);\n      }\n      for (var i = 0; i < n; ++i) {\n        var curr = residues[i];\n        var currData = frameRes[curr._index];\n        var nextRes = i + 1 < n ? residues[i + 1] : null;\n        curr._innerFinalize(prev, prevData, nextRes, currData, this.type === ChainType.NUCLEIC, getAtomPos);\n        prev = curr;\n        prevData = currData;\n      }\n      frameRes[residues[0]._index]._wingVector = n > 1 ? frameRes[residues[1]._index]._wingVector : new Vector3(1, 0, 0);\n    }\n  }, {\n    key: \"addResidue\",\n    value: function addResidue(name, sequence, iCode) {\n      var type = this._complex.getResidueType(name);\n      if (type === null) {\n        type = this._complex.addResidueType(name);\n      }\n      var residue = new Residue$1(this, type, sequence, iCode);\n      this._complex.addResidue(residue);\n      this._residues.push(residue);\n      if (type.flags & (ResidueType$1.Flags.NUCLEIC | ResidueType$1.Flags.PROTEIN)) {\n        if (this.maxSequence < sequence) {\n          this.maxSequence = sequence;\n        }\n        if (this.minSequence > sequence) {\n          this.minSequence = sequence;\n        }\n      }\n      return residue;\n    }\n  }, {\n    key: \"getResidueCount\",\n    value: function getResidueCount() {\n      return this._residues.length;\n    }\n  }, {\n    key: \"forEachResidue\",\n    value: function forEachResidue(process) {\n      var residues = this._residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        process(residues[i]);\n      }\n    }\n  }, {\n    key: \"collectMask\",\n    value: function collectMask() {\n      var mask = 0xffffffff;\n      var residues = this._residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        mask &= residues[i]._mask;\n      }\n      this._mask = mask;\n    }\n  }]);\n  return Chain;\n}();\n\nvar _StructuralElement$ge;\nvar StructuralElement = function () {\n  function StructuralElement(type, init, term) {\n    _classCallCheck(this, StructuralElement);\n    this.type = type;\n    this.generic = StructuralElement.genericByType[this.type] || 'loop';\n    this.init = init;\n    this.term = term;\n  }\n  _createClass(StructuralElement, [{\n    key: \"_finalize\",\n    value: function _finalize(serialAtomMap, residueHash, complex) {\n      if (this.init instanceof Residue$1 && this.term instanceof Residue$1) {\n        return;\n      }\n      var start = complex.splitUnifiedSerial(this.init);\n      var end = complex.splitUnifiedSerial(this.term);\n      for (var chainId = start.chain; chainId <= end.chain; chainId++) {\n        for (var serialId = start.serial; serialId <= end.serial; serialId++) {\n          for (var iCode = start.iCode; iCode <= end.iCode; iCode++) {\n            var hashCode = complex.getUnifiedSerial(chainId, serialId, iCode);\n            if (residueHash[hashCode]) {\n              residueHash[hashCode]._secondary = this;\n            }\n          }\n        }\n      }\n      this.init = residueHash[this.init];\n      this.term = residueHash[this.term];\n    }\n  }]);\n  return StructuralElement;\n}();\nStructuralElement.Type = {\n  STRAND: 'E',\n  BRIDGE: 'B',\n  HELIX_310: 'G',\n  HELIX_ALPHA: 'H',\n  HELIX_PI: 'I',\n  HELIX: 'X',\n  TURN_310: '3',\n  TURN_ALPHA: '4',\n  TURN_PI: '5',\n  TURN: 'T',\n  BEND: 'S',\n  COIL: 'C'\n};\nStructuralElement.Generic = {\n  STRAND: 'strand',\n  HELIX: 'helix',\n  LOOP: 'loop'\n};\nvar StructuralElementType$5 = StructuralElement.Type;\nvar StructuralElementGeneric = StructuralElement.Generic;\nStructuralElement.genericByType = (_StructuralElement$ge = {}, _defineProperty(_StructuralElement$ge, StructuralElementType$5.STRAND, StructuralElementGeneric.STRAND), _defineProperty(_StructuralElement$ge, StructuralElementType$5.HELIX_310, StructuralElementGeneric.HELIX), _defineProperty(_StructuralElement$ge, StructuralElementType$5.HELIX_ALPHA, StructuralElementGeneric.HELIX), _defineProperty(_StructuralElement$ge, StructuralElementType$5.HELIX_PI, StructuralElementGeneric.HELIX), _defineProperty(_StructuralElement$ge, StructuralElementType$5.HELIX, StructuralElementGeneric.HELIX), _StructuralElement$ge);\n\nfunction _createSuper$20(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$20(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$20() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar StructuralElementType$4 = StructuralElement.Type;\nvar typeByPDBHelixClass = {\n  1: StructuralElementType$4.HELIX_ALPHA,\n  3: StructuralElementType$4.HELIX_PI,\n  5: StructuralElementType$4.HELIX_310\n};\nvar Helix$3 = function (_StructuralElement) {\n  _inherits(Helix, _StructuralElement);\n  var _super = _createSuper$20(Helix);\n  function Helix(helixClass, init, term, serial, name, comment, length) {\n    var _this;\n    _classCallCheck(this, Helix);\n    _this = _super.call(this, typeByPDBHelixClass[helixClass] || StructuralElement.Type.HELIX, init, term);\n    _this.serial = serial;\n    _this.name = name;\n    _this.comment = comment;\n    _this.length = length;\n    return _this;\n  }\n  return _createClass(Helix);\n}(StructuralElement);\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get.apply(this, arguments);\n}\n\nfunction _createSuper$1$(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1$(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1$() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Strand$3 = function (_StructuralElement) {\n  _inherits(Strand, _StructuralElement);\n  var _super = _createSuper$1$(Strand);\n  function Strand(sheet, init, term, sense, atomCur, atomPrev) {\n    var _this;\n    _classCallCheck(this, Strand);\n    _this = _super.call(this, StructuralElement.Type.STRAND, init, term);\n    _this.sheet = sheet;\n    _this.sense = sense;\n    _this.atomCur = atomCur;\n    _this.atomPrev = atomPrev;\n    return _this;\n  }\n  _createClass(Strand, [{\n    key: \"_finalize\",\n    value: function _finalize(serialAtomMap, residueHash, complex) {\n      _get(_getPrototypeOf(Strand.prototype), \"_finalize\", this).call(this, serialAtomMap, residueHash, complex);\n      var as = this.atomCur;\n      if (as !== null && !Number.isNaN(as)) {\n        this.atomCur = serialAtomMap[as];\n      }\n      as = this.atomPrev;\n      if (as !== null && !Number.isNaN(as)) {\n        this.atomPrev = serialAtomMap[as];\n      }\n    }\n  }]);\n  return Strand;\n}(StructuralElement);\n\nvar Sheet$3 = function () {\n  function Sheet(name, width) {\n    _classCallCheck(this, Sheet);\n    this._name = name;\n    this._width = width;\n    this._strands = [];\n  }\n  _createClass(Sheet, [{\n    key: \"getName\",\n    value: function getName() {\n      return this._name;\n    }\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this._width;\n    }\n  }, {\n    key: \"addStrand\",\n    value: function addStrand(strand) {\n      this._strands.push(strand);\n      this._width = this._strands.length;\n    }\n  }, {\n    key: \"addEmptyStrand\",\n    value: function addEmptyStrand() {\n      this._strands.push(new Strand$3(null, null, null, null, null, null));\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize(serialAtomMap, residueHash, complex) {\n      var s = this._strands;\n      for (var i = 0, n = s.length; i < n; ++i) {\n        s[i]._finalize(serialAtomMap, residueHash, complex);\n      }\n      if (!this._width) {\n        this._width = s.length;\n      }\n      if (s.length !== this._width) {\n        throw new Error(\"Sheet \".concat(this._name, \" is inconsistent.\"));\n      }\n    }\n  }]);\n  return Sheet;\n}();\n\nvar SGroup$1 = function () {\n  function SGroup(id, name, position, atoms, saveNode) {\n    _classCallCheck(this, SGroup);\n    this._id = id;\n    this._name = name;\n    this._position = position || new Vector3();\n    this._atoms = atoms || [];\n    this._charge = 0;\n    this._repeat = 1;\n    this._center = null;\n    this.xmlNodeRef = saveNode || null;\n  }\n  _createClass(SGroup, [{\n    key: \"getName\",\n    value: function getName() {\n      return this._name;\n    }\n  }, {\n    key: \"getPosition\",\n    value: function getPosition() {\n      return this._position;\n    }\n  }, {\n    key: \"getCentralPoint\",\n    value: function getCentralPoint() {\n      return this._center;\n    }\n  }, {\n    key: \"_rebuildSGroupOnAtomChange\",\n    value: function _rebuildSGroupOnAtomChange() {\n      var nLimon = 100000000;\n      if (this._center === null) {\n        return;\n      }\n      var bLow = new Vector3(nLimon, nLimon, nLimon);\n      var bHight = new Vector3(-nLimon, -nLimon, -nLimon);\n      for (var j = 0, n = this._atoms.length; j < n; j++) {\n        var aPos = this._atoms[j].position;\n        bLow.set(Math.min(bLow.x, aPos.x), Math.min(bLow.y, aPos.y), Math.min(bLow.z, aPos.z));\n        bHight.set(Math.max(bHight.x, aPos.x), Math.max(bHight.y, aPos.y), Math.max(bHight.z, aPos.z));\n      }\n      this._center.addVectors(bLow, bHight);\n      this._center.multiplyScalar(0.5);\n    }\n  }]);\n  return SGroup;\n}();\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nvar parser$1 = function () {\n  var o = function o(k, v, _o, l) {\n    for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n    }\n    return _o;\n  },\n      $V0 = [1, 4],\n      $V1 = [1, 5],\n      $V2 = [1, 6],\n      $V3 = [1, 7],\n      $V4 = [1, 8],\n      $V5 = [1, 9],\n      $V6 = [1, 11],\n      $V7 = [1, 12],\n      $V8 = [5, 7, 8, 11],\n      $V9 = [1, 17],\n      $Va = [1, 22],\n      $Vb = [1, 20],\n      $Vc = [1, 21],\n      $Vd = [5, 7, 8, 11, 19];\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      error: 2,\n      Program: 3,\n      Expression: 4,\n      EOF: 5,\n      Selector: 6,\n      OR: 7,\n      AND: 8,\n      NOT: 9,\n      '(': 10,\n      ')': 11,\n      SELECTOR: 12,\n      NAMED_SELECTOR: 13,\n      SELECTOR_RANGED: 14,\n      RangeList: 15,\n      SELECTOR_NAMED: 16,\n      NameList: 17,\n      Range: 18,\n      ',': 19,\n      NUMBER: 20,\n      ':': 21,\n      Name: 22,\n      IDENTIFIER: 23,\n      STRING: 24,\n      $accept: 0,\n      $end: 1\n    },\n    terminals_: {\n      2: 'error',\n      5: 'EOF',\n      7: 'OR',\n      8: 'AND',\n      9: 'NOT',\n      10: '(',\n      11: ')',\n      12: 'SELECTOR',\n      13: 'NAMED_SELECTOR',\n      14: 'SELECTOR_RANGED',\n      16: 'SELECTOR_NAMED',\n      19: ',',\n      20: 'NUMBER',\n      21: ':',\n      23: 'IDENTIFIER',\n      24: 'STRING'\n    },\n    productions_: [0, [3, 2], [4, 1], [4, 3], [4, 3], [4, 2], [4, 3], [6, 1], [6, 1], [6, 2], [6, 2], [15, 1], [15, 3], [18, 1], [18, 3], [17, 1], [17, 3], [22, 1], [22, 1], [22, 1]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n    , $$\n    , _$\n    ) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 1:\n          return $$[$0 - 1];\n        case 3:\n          this.$ = yy.keyword('or')($$[$0 - 2], $$[$0]);\n          break;\n        case 4:\n          this.$ = yy.keyword('and')($$[$0 - 2], $$[$0]);\n          break;\n        case 5:\n          this.$ = yy.keyword('not')($$[$0]);\n          break;\n        case 6:\n          this.$ = $$[$0 - 1];\n          break;\n        case 7:\n          this.$ = yy.keyword($$[$0])();\n          break;\n        case 8:\n          this.$ = yy.GetSelector($$[$0].toLowerCase().slice(1, $$[$0].length));\n          break;\n        case 9:\n        case 10:\n          this.$ = yy.keyword($$[$0 - 1])($$[$0]);\n          break;\n        case 11:\n          this.$ = new yy.RangeList($$[$0]);\n          break;\n        case 12:\n        case 16:\n          this.$ = $$[$0 - 2].append($$[$0]);\n          break;\n        case 13:\n          this.$ = new yy.Range(Number($$[$0]));\n          break;\n        case 14:\n          this.$ = new yy.Range(Number($$[$0 - 2]), Number($$[$0]));\n          break;\n        case 15:\n          this.$ = new yy.ValueList($$[$0]);\n          break;\n      }\n    },\n    table: [{\n      3: 1,\n      4: 2,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, {\n      1: [3]\n    }, {\n      5: [1, 10],\n      7: $V6,\n      8: $V7\n    }, o($V8, [2, 2]), {\n      4: 13,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, {\n      4: 14,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, o($V8, [2, 7]), o($V8, [2, 8]), {\n      15: 15,\n      18: 16,\n      20: $V9\n    }, {\n      17: 18,\n      20: $Va,\n      22: 19,\n      23: $Vb,\n      24: $Vc\n    }, {\n      1: [2, 1]\n    }, {\n      4: 23,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, {\n      4: 24,\n      6: 3,\n      9: $V0,\n      10: $V1,\n      12: $V2,\n      13: $V3,\n      14: $V4,\n      16: $V5\n    }, o($V8, [2, 5]), {\n      7: $V6,\n      8: $V7,\n      11: [1, 25]\n    }, o($V8, [2, 9], {\n      19: [1, 26]\n    }), o($Vd, [2, 11]), o($Vd, [2, 13], {\n      21: [1, 27]\n    }), o($V8, [2, 10], {\n      19: [1, 28]\n    }), o($Vd, [2, 15]), o($Vd, [2, 17]), o($Vd, [2, 18]), o($Vd, [2, 19]), o([5, 7, 11], [2, 3], {\n      8: $V7\n    }), o($V8, [2, 4]), o($V8, [2, 6]), {\n      18: 29,\n      20: $V9\n    }, {\n      20: [1, 30]\n    }, {\n      20: $Va,\n      22: 31,\n      23: $Vb,\n      24: $Vc\n    }, o($Vd, [2, 12]), o($Vd, [2, 14]), o($Vd, [2, 16])],\n    defaultActions: {\n      10: [2, 1]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    },\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          tstack = [],\n          vstack = [null],\n          lstack = [],\n          table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          TERROR = 2,\n          EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer = Object.create(this.lexer);\n      var sharedState = {\n        yy: {}\n      };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer;\n      sharedState.yy.parser = this;\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n      }\n      var yyloc = lexer.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer.options && lexer.options.ranges;\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer.lex() || EOF;\n        if (typeof token !== 'number') {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      var symbol,\n          state,\n          action,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          var errStr = '';\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push(\"'\" + this.terminals_[p] + \"'\");\n            }\n          }\n          if (lexer.showPosition) {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n          } else {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n          }\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: yyloc,\n            expected: expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            {\n              yyleng = lexer.yyleng;\n              yytext = lexer.yytext;\n              yylineno = lexer.yylineno;\n              yyloc = lexer.yylloc;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n            r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n            if (typeof r !== 'undefined') {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }\n  };\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      setInput: function setInput(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      },\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      unput: function unput(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      reject: function reject() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n            text: '',\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      },\n      less: function less(n) {\n        this.unput(this.match.slice(n));\n      },\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, '');\n      },\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, '');\n      },\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join('-');\n        return pre + this.upcomingInput() + '\\n' + c + '^';\n      },\n      test_match: function test_match(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      },\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === '') {\n          return this.EOF;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: '',\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      lex: function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions['INITIAL'].rules;\n        }\n      },\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return 'INITIAL';\n        }\n      },\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: {\n        'case-insensitive': true\n      },\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        switch ($avoiding_name_collisions) {\n          case 0\n          :\n            break;\n          case 1:\n            return 20;\n          case 2:\n            return 7;\n          case 3:\n            return 8;\n          case 4:\n            return 9;\n          case 5:\n            return 12;\n          case 6:\n            return 16;\n          case 7:\n            return 14;\n          case 8:\n            return 10;\n          case 9:\n            return 11;\n          case 10:\n            return 19;\n          case 11:\n            return 21;\n          case 12:\n            return '<=';\n          case 13:\n            return '>=';\n          case 14:\n            return '<';\n          case 15:\n            return '>';\n          case 16:\n            yy_.yytext = yy_.yytext.substr(1, yy_.yyleng - 2);\n            return 24;\n          case 17:\n            return 13;\n          case 18:\n            return 23;\n          case 19:\n            return 5;\n          case 20:\n            return 'INVALID';\n        }\n      },\n      rules: [/^(?:\\s+)/i, /^(?:(-?(?:[1-9][0-9]+|[0-9]))\\b)/i, /^(?:OR\\b)/i, /^(?:AND\\b)/i, /^(?:NOT\\b)/i, /^(?:((ALL|NONE|HETATM|PROTEIN|BASIC|ACIDIC|CHARGED|POLAR|NONPOLAR|AROMATIC|NUCLEIC|PURINE|PYRIMIDINE|WATER|POLARH|NONPOLARH))\\b)/i, /^(?:((NAME|ELEM|TYPE|RESIDUE|ICODE|CHAIN|ALTLOC))\\b)/i, /^(?:((SERIAL|SEQUENCE|RESIDX))\\b)/i, /^(?:\\()/i, /^(?:\\))/i, /^(?:,)/i, /^(?::)/i, /^(?:<=)/i, /^(?:>=)/i, /^(?:<)/i, /^(?:>)/i, /^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i, /^(?:(@[_A-Z0-9]+))/i, /^(?:([_A-Z0-9]+))/i, /^(?:$)/i, /^(?:.)/i],\n      conditions: {\n        INITIAL: {\n          rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20],\n          inclusive: true\n        }\n      }\n    };\n    return lexer;\n  }();\n  parser.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  Parser.prototype = parser;\n  parser.Parser = Parser;\n  return new Parser();\n}();\nvar SelectionParser = {\n  parser: parser$1\n};\n\nfunction _createSuper$1_(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1_(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1_() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Range = function () {\n  function Range(min, max) {\n    _classCallCheck(this, Range);\n    this.min = min;\n    this.max = typeof max === 'undefined' ? min : max;\n  }\n  _createClass(Range, [{\n    key: \"includes\",\n    value: function includes(value) {\n      return this.min <= value && value <= this.max;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var min = this.min,\n          max = this.max;\n      return min === max ? String(min) : [min, max].join(':');\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.min, this.max];\n    }\n  }]);\n  return Range;\n}();\nvar List = function () {\n  function List(arg) {\n    _classCallCheck(this, List);\n    if (arg instanceof this.constructor) {\n      return arg;\n    }\n    if (arg instanceof Array) {\n      this._values = arg.slice(0);\n    } else if (arg) {\n      this._values = [arg];\n    } else {\n      this._values = [];\n    }\n  }\n  _createClass(List, [{\n    key: \"append\",\n    value: function append(value) {\n      var values = this._values;\n      values[values.length] = value;\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(value) {\n      var values = this._values;\n      var index = values.indexOf(value);\n      if (index >= 0) {\n        values.splice(index, 1);\n      }\n      return this;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return this._values.join(',');\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      var values = this._values;\n      var result = [];\n      for (var i = 0, n = values.length; i < n; ++i) {\n        var value = values[i];\n        result[i] = value.toJSON ? value.toJSON() : value;\n      }\n      return result;\n    }\n  }]);\n  return List;\n}();\nvar RangeList = function (_List) {\n  _inherits(RangeList, _List);\n  var _super = _createSuper$1_(RangeList);\n  function RangeList() {\n    _classCallCheck(this, RangeList);\n    return _super.apply(this, arguments);\n  }\n  _createClass(RangeList, [{\n    key: \"includes\",\n    value: function includes(value) {\n      var list = this._values;\n      for (var i = 0, n = list.length; i < n; ++i) {\n        if (list[i].includes(value)) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return RangeList;\n}(List);\nvar valuesArray = [];\nvar ValueList = function (_List2) {\n  _inherits(ValueList, _List2);\n  var _super2 = _createSuper$1_(ValueList);\n  function ValueList(arg, upperOnly) {\n    var _this;\n    _classCallCheck(this, ValueList);\n    var list = _this = _super2.call(this, arg);\n    if (upperOnly) {\n      _this.upperOnly = true;\n      var values = list._values;\n      for (var i = 0, n = values.length; i < n; ++i) {\n        var value = values[i];\n        if (typeof value === 'string') {\n          values[i] = value.toUpperCase();\n        }\n      }\n    } else {\n      _this.upperOnly = false;\n    }\n    return _possibleConstructorReturn(_this, list);\n  }\n  _createClass(ValueList, [{\n    key: \"includes\",\n    value: function includes(value) {\n      return this._values.indexOf(value) !== -1;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var values = this._values;\n      valuesArray.length = 0;\n      for (var i = 0, n = values.length; i < n; ++i) {\n        valuesArray[i] = utils.correctSelectorIdentifier(String(values[i]));\n      }\n      return valuesArray.join(',');\n    }\n  }, {\n    key: \"_validate\",\n    value: function _validate(value) {\n      return this.upperOnly && typeof value === 'string' ? value.toUpperCase() : value;\n    }\n  }, {\n    key: \"append\",\n    value: function append(value) {\n      _get(_getPrototypeOf(ValueList.prototype), \"append\", this).call(this, this._validate(value));\n      return this;\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(value) {\n      _get(_getPrototypeOf(ValueList.prototype), \"remove\", this).call(this, this._validate(value));\n      return this;\n    }\n  }]);\n  return ValueList;\n}(List);\n\nfunction _createSuper$1Z(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1Z(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1Z() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Selector = function () {\n  function Selector() {\n    _classCallCheck(this, Selector);\n  }\n  _createClass(Selector, [{\n    key: \"toString\",\n    value: function toString() {\n      return this.keyword;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.name];\n    }\n  }]);\n  return Selector;\n}();\nSelector.prototype.name = 'Error';\nSelector.prototype.keyword = 'error';\nvar ListSelector = function (_Selector) {\n  _inherits(ListSelector, _Selector);\n  var _super = _createSuper$1Z(ListSelector);\n  function ListSelector(list) {\n    var _this;\n    _classCallCheck(this, ListSelector);\n    _this = _super.call(this);\n    _this.list = list;\n    return _this;\n  }\n  _createClass(ListSelector, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"\".concat(this.keyword, \" \").concat(this.list);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.name, this.list.toJSON()];\n    }\n  }]);\n  return ListSelector;\n}(Selector);\nvar RangeListSelector = function (_ListSelector) {\n  _inherits(RangeListSelector, _ListSelector);\n  var _super2 = _createSuper$1Z(RangeListSelector);\n  function RangeListSelector(arg) {\n    _classCallCheck(this, RangeListSelector);\n    return _super2.call(this, new RangeList(arg));\n  }\n  return _createClass(RangeListSelector);\n}(ListSelector);\nvar ValueListSelector = function (_ListSelector2) {\n  _inherits(ValueListSelector, _ListSelector2);\n  var _super3 = _createSuper$1Z(ValueListSelector);\n  function ValueListSelector(arg, caseSensitive) {\n    _classCallCheck(this, ValueListSelector);\n    return _super3.call(this, new ValueList(arg, !caseSensitive));\n  }\n  return _createClass(ValueListSelector);\n}(ListSelector);\nvar NoneSelector = function (_Selector2) {\n  _inherits(NoneSelector, _Selector2);\n  var _super4 = _createSuper$1Z(NoneSelector);\n  function NoneSelector() {\n    _classCallCheck(this, NoneSelector);\n    return _super4.apply(this, arguments);\n  }\n  _createClass(NoneSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(_atom) {\n      return false;\n    }\n  }]);\n  return NoneSelector;\n}(Selector);\nNoneSelector.prototype.name = 'None';\nNoneSelector.prototype.keyword = 'none';\nvar AllSelector = function (_Selector3) {\n  _inherits(AllSelector, _Selector3);\n  var _super5 = _createSuper$1Z(AllSelector);\n  function AllSelector() {\n    _classCallCheck(this, AllSelector);\n    return _super5.apply(this, arguments);\n  }\n  _createClass(AllSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(_atom) {\n      return true;\n    }\n  }]);\n  return AllSelector;\n}(Selector);\nAllSelector.prototype.name = 'All';\nAllSelector.prototype.keyword = 'all';\n\nfunction _createSuper$1Y(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1Y(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1Y() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar none = new NoneSelector();\nvar PrefixOperator = function (_Selector) {\n  _inherits(PrefixOperator, _Selector);\n  var _super = _createSuper$1Y(PrefixOperator);\n  function PrefixOperator(rhs) {\n    var _this;\n    _classCallCheck(this, PrefixOperator);\n    _this = _super.call(this);\n    _this.rhs = rhs || none;\n    return _this;\n  }\n  _createClass(PrefixOperator, [{\n    key: \"toString\",\n    value: function toString() {\n      var rhs = this.rhs.priority && this.rhs.priority > this.priority ? \"(\".concat(this.rhs, \")\") : this.rhs;\n      return \"\".concat(this.keyword, \" \").concat(rhs);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.name, this.rhs.toJSON()];\n    }\n  }]);\n  return PrefixOperator;\n}(Selector);\nPrefixOperator.prototype.priority = 1;\nvar InfixOperator = function (_Selector2) {\n  _inherits(InfixOperator, _Selector2);\n  var _super2 = _createSuper$1Y(InfixOperator);\n  function InfixOperator(lhs, rhs) {\n    var _this2;\n    _classCallCheck(this, InfixOperator);\n    _this2 = _super2.call(this);\n    _this2.lhs = lhs || none;\n    _this2.rhs = rhs || none;\n    return _this2;\n  }\n  _createClass(InfixOperator, [{\n    key: \"toString\",\n    value: function toString() {\n      var lhs = this.lhs.priority && this.lhs.priority > this.priority ? \"(\".concat(this.lhs, \")\") : this.lhs;\n      var rhs = this.rhs.priority && this.rhs.priority > this.priority ? \"(\".concat(this.rhs, \")\") : this.rhs;\n      return \"\".concat(lhs, \" \").concat(this.keyword, \" \").concat(rhs);\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return [this.name, this.lhs.toJSON(), this.rhs.toJSON()];\n    }\n  }]);\n  return InfixOperator;\n}(Selector);\nInfixOperator.prototype.priority = 1000;\n\nfunction _createSuper$1X(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1X(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1X() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar keywords = {};\nfunction defineSelector(name, SelectorClass) {\n  var keyword = name.toLowerCase();\n  SelectorClass.prototype.keyword = keyword;\n  SelectorClass.prototype.name = name;\n  var factory = function factory() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _construct(SelectorClass, args);\n  };\n  factory.SelectorClass = SelectorClass;\n  keywords[keyword] = factory;\n  return SelectorClass;\n}\ndefineSelector('Serial', function (_RangeListSelector) {\n  _inherits(SerialSelector, _RangeListSelector);\n  var _super = _createSuper$1X(SerialSelector);\n  function SerialSelector() {\n    _classCallCheck(this, SerialSelector);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SerialSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.serial);\n    }\n  }]);\n  return SerialSelector;\n}(RangeListSelector));\ndefineSelector('Name', function (_ValueListSelector) {\n  _inherits(NameSelector, _ValueListSelector);\n  var _super2 = _createSuper$1X(NameSelector);\n  function NameSelector() {\n    _classCallCheck(this, NameSelector);\n    return _super2.apply(this, arguments);\n  }\n  _createClass(NameSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.name);\n    }\n  }]);\n  return NameSelector;\n}(ValueListSelector));\ndefineSelector('AltLoc', function (_ValueListSelector2) {\n  _inherits(AltLocSelector, _ValueListSelector2);\n  var _super3 = _createSuper$1X(AltLocSelector);\n  function AltLocSelector() {\n    _classCallCheck(this, AltLocSelector);\n    return _super3.apply(this, arguments);\n  }\n  _createClass(AltLocSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(String.fromCharCode(atom.location));\n    }\n  }]);\n  return AltLocSelector;\n}(ValueListSelector));\ndefineSelector('Elem', function (_ValueListSelector3) {\n  _inherits(ElemSelector, _ValueListSelector3);\n  var _super4 = _createSuper$1X(ElemSelector);\n  function ElemSelector() {\n    _classCallCheck(this, ElemSelector);\n    return _super4.apply(this, arguments);\n  }\n  _createClass(ElemSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.element.name);\n    }\n  }]);\n  return ElemSelector;\n}(ValueListSelector));\ndefineSelector('Residue', function (_ValueListSelector4) {\n  _inherits(ResidueSelector, _ValueListSelector4);\n  var _super5 = _createSuper$1X(ResidueSelector);\n  function ResidueSelector() {\n    _classCallCheck(this, ResidueSelector);\n    return _super5.apply(this, arguments);\n  }\n  _createClass(ResidueSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._type._name);\n    }\n  }]);\n  return ResidueSelector;\n}(ValueListSelector));\ndefineSelector('Sequence', function (_RangeListSelector2) {\n  _inherits(SequenceSelector, _RangeListSelector2);\n  var _super6 = _createSuper$1X(SequenceSelector);\n  function SequenceSelector() {\n    _classCallCheck(this, SequenceSelector);\n    return _super6.apply(this, arguments);\n  }\n  _createClass(SequenceSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._sequence);\n    }\n  }]);\n  return SequenceSelector;\n}(RangeListSelector));\ndefineSelector('ICode', function (_ValueListSelector5) {\n  _inherits(ICodeSelector, _ValueListSelector5);\n  var _super7 = _createSuper$1X(ICodeSelector);\n  function ICodeSelector(arg) {\n    _classCallCheck(this, ICodeSelector);\n    return _super7.call(this, arg, true);\n  }\n  _createClass(ICodeSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._icode);\n    }\n  }]);\n  return ICodeSelector;\n}(ValueListSelector));\ndefineSelector('ResIdx', function (_RangeListSelector3) {\n  _inherits(ResIdxSelector, _RangeListSelector3);\n  var _super8 = _createSuper$1X(ResIdxSelector);\n  function ResIdxSelector() {\n    _classCallCheck(this, ResIdxSelector);\n    return _super8.apply(this, arguments);\n  }\n  _createClass(ResIdxSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._index);\n    }\n  }]);\n  return ResIdxSelector;\n}(RangeListSelector));\ndefineSelector('Chain', function (_ValueListSelector6) {\n  _inherits(ChainSelector, _ValueListSelector6);\n  var _super9 = _createSuper$1X(ChainSelector);\n  function ChainSelector(arg) {\n    _classCallCheck(this, ChainSelector);\n    return _super9.call(this, arg, true);\n  }\n  _createClass(ChainSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.list.includes(atom.residue._chain._name);\n    }\n  }]);\n  return ChainSelector;\n}(ValueListSelector));\ndefineSelector('Hetatm', function (_Selector) {\n  _inherits(HetatmSelector, _Selector);\n  var _super10 = _createSuper$1X(HetatmSelector);\n  function HetatmSelector() {\n    _classCallCheck(this, HetatmSelector);\n    return _super10.apply(this, arguments);\n  }\n  _createClass(HetatmSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return atom.het;\n    }\n  }]);\n  return HetatmSelector;\n}(Selector));\ndefineSelector('PolarH', function (_Selector2) {\n  _inherits(PolarHSelector, _Selector2);\n  var _super11 = _createSuper$1X(PolarHSelector);\n  function PolarHSelector() {\n    _classCallCheck(this, PolarHSelector);\n    return _super11.apply(this, arguments);\n  }\n  _createClass(PolarHSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return (atom.flags & Atom$2.Flags.NONPOLARH) === Atom$2.Flags.HYDROGEN;\n    }\n  }]);\n  return PolarHSelector;\n}(Selector));\ndefineSelector('NonPolarH', function (_Selector3) {\n  _inherits(NonPolarHSelector, _Selector3);\n  var _super12 = _createSuper$1X(NonPolarHSelector);\n  function NonPolarHSelector() {\n    _classCallCheck(this, NonPolarHSelector);\n    return _super12.apply(this, arguments);\n  }\n  _createClass(NonPolarHSelector, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return (atom.flags & Atom$2.Flags.NONPOLARH) === Atom$2.Flags.NONPOLARH;\n    }\n  }]);\n  return NonPolarHSelector;\n}(Selector));\ndefineSelector('All', AllSelector);\ndefineSelector('None', NoneSelector);\nvar NULL_SELECTOR = keywords.none();\nfunction defineOperator(name, priority, OperatorClass) {\n  OperatorClass.prototype.priority = priority;\n  return defineSelector(name, OperatorClass);\n}\ndefineOperator('Not', 1, function (_PrefixOperator) {\n  _inherits(NotOperator, _PrefixOperator);\n  var _super13 = _createSuper$1X(NotOperator);\n  function NotOperator() {\n    _classCallCheck(this, NotOperator);\n    return _super13.apply(this, arguments);\n  }\n  _createClass(NotOperator, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return !this.rhs.includesAtom(atom);\n    }\n  }]);\n  return NotOperator;\n}(PrefixOperator));\ndefineOperator('And', 2, function (_InfixOperator) {\n  _inherits(AndOperator, _InfixOperator);\n  var _super14 = _createSuper$1X(AndOperator);\n  function AndOperator() {\n    _classCallCheck(this, AndOperator);\n    return _super14.apply(this, arguments);\n  }\n  _createClass(AndOperator, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.lhs.includesAtom(atom) && this.rhs.includesAtom(atom);\n    }\n  }]);\n  return AndOperator;\n}(InfixOperator));\ndefineOperator('Or', 3, function (_InfixOperator2) {\n  _inherits(OrOperator, _InfixOperator2);\n  var _super15 = _createSuper$1X(OrOperator);\n  function OrOperator() {\n    _classCallCheck(this, OrOperator);\n    return _super15.apply(this, arguments);\n  }\n  _createClass(OrOperator, [{\n    key: \"includesAtom\",\n    value: function includesAtom(atom) {\n      return this.lhs.includesAtom(atom) || this.rhs.includesAtom(atom);\n    }\n  }]);\n  return OrOperator;\n}(InfixOperator));\nfunction byResidueTypeFlag(flag, name) {\n  return defineSelector(name, function (_Selector4) {\n    _inherits(_class, _Selector4);\n    var _super16 = _createSuper$1X(_class);\n    function _class() {\n      _classCallCheck(this, _class);\n      return _super16.apply(this, arguments);\n    }\n    _createClass(_class, [{\n      key: \"includesAtom\",\n      value: function includesAtom(atom) {\n        return (atom.residue._type.flags & flag) !== 0;\n      }\n    }]);\n    return _class;\n  }(Selector));\n}\nbyResidueTypeFlag(ResidueType$1.Flags.PROTEIN, 'Protein');\nbyResidueTypeFlag(ResidueType$1.Flags.BASIC, 'Basic');\nbyResidueTypeFlag(ResidueType$1.Flags.ACIDIC, 'Acidic');\nbyResidueTypeFlag(ResidueType$1.Flags.BASIC | ResidueType$1.Flags.ACIDIC, 'Charged');\nbyResidueTypeFlag(ResidueType$1.Flags.POLAR, 'Polar');\nbyResidueTypeFlag(ResidueType$1.Flags.NONPOLAR, 'NonPolar');\nbyResidueTypeFlag(ResidueType$1.Flags.AROMATIC, 'Aromatic');\nbyResidueTypeFlag(ResidueType$1.Flags.NUCLEIC, 'Nucleic');\nbyResidueTypeFlag(ResidueType$1.Flags.PURINE, 'Purine');\nbyResidueTypeFlag(ResidueType$1.Flags.PYRIMIDINE, 'Pyrimidine');\nbyResidueTypeFlag(ResidueType$1.Flags.WATER, 'Water');\nvar selectors$5 = Object.create(keywords);\nselectors$5.Selector = Selector;\nselectors$5.RangeListSelector = RangeListSelector;\nselectors$5.ValueListSelector = ValueListSelector;\nselectors$5.Range = Range;\nselectors$5.RangeList = RangeList;\nselectors$5.ValueList = ValueList;\nselectors$5.PrefixOperator = PrefixOperator;\nselectors$5.InfixOperator = InfixOperator;\nselectors$5.Context = Object.create({});\nselectors$5.GetSelector = function (key) {\n  if (!selectors$5.Context.hasOwnProperty(key)) {\n    var exc = {\n      message: \"selector \".concat(key, \" is not registered\")\n    };\n    throw exc;\n  }\n  return selectors$5.Context[key] || NULL_SELECTOR;\n};\nselectors$5.ClearContext = function () {\n  Object.keys(selectors$5.Context).forEach(function (k) {\n    delete selectors$5.Context[k];\n  });\n};\nselectors$5.keyword = function (key) {\n  return keywords[key.toLowerCase()] || keywords.none;\n};\nselectors$5.parse = function (str) {\n  var res = {};\n  try {\n    res.selector = SelectionParser.parser.parse(str);\n  } catch (e) {\n    res.selector = NULL_SELECTOR;\n    res.error = e.message;\n  }\n  return res;\n};\nSelectionParser.parser.yy = selectors$5;\nSelectionParser.parser.yy.parseError = SelectionParser.parser.parseError;\n\nvar BiologicalUnit = function () {\n  function BiologicalUnit(complex) {\n    _classCallCheck(this, BiologicalUnit);\n    this._complex = complex;\n    this._selector = selectors$5.keyword('All')();\n    this._boundaries = {\n      boundingBox: new Box3(),\n      boundingSphere: new Sphere()\n    };\n  }\n  _createClass(BiologicalUnit, [{\n    key: \"computeBoundaries\",\n    value: function computeBoundaries() {\n      var atoms = this._complex._atoms;\n      var n = atoms.length;\n      var selector = this._selector;\n      var boundingBox = this._boundaries.boundingBox;\n      boundingBox.makeEmpty();\n      if (n === 1) {\n        boundingBox.expandByPoint(atoms[0].position);\n        var bbc = new Vector3();\n        boundingBox.getCenter(bbc);\n        var s = 2 * atoms[0].element.radius;\n        boundingBox.setFromCenterAndSize(bbc, new Vector3(s, s, s));\n      } else {\n        for (var i = 0; i < n; ++i) {\n          if (selector.includesAtom(atoms[i])) {\n            boundingBox.expandByPoint(atoms[i].position);\n          }\n        }\n      }\n      var radiusSquared = 0.0;\n      var center = new Vector3();\n      boundingBox.getCenter(center);\n      if (n === 1) {\n        this._boundaries.boundingSphere.set(center, atoms[0].element.radius);\n      } else {\n        for (var _i = 0; _i < n; ++_i) {\n          if (!selector.includesAtom(atoms[_i])) {\n            continue;\n          }\n          var pos = atoms[_i].position;\n          var lengthSquared = center.distanceToSquared(pos);\n          if (radiusSquared < lengthSquared) {\n            radiusSquared = lengthSquared;\n          }\n        }\n        this._boundaries.boundingSphere.set(center, Math.sqrt(radiusSquared));\n      }\n    }\n  }, {\n    key: \"getTransforms\",\n    value: function getTransforms() {\n      return [];\n    }\n  }, {\n    key: \"getSelector\",\n    value: function getSelector() {\n      return this._selector;\n    }\n  }, {\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      return this._boundaries;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {}\n  }]);\n  return BiologicalUnit;\n}();\n\nfunction _createSuper$1W(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1W(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1W() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Assembly$3 = function (_BiologicalUnit) {\n  _inherits(Assembly, _BiologicalUnit);\n  var _super = _createSuper$1W(Assembly);\n  function Assembly(complex) {\n    var _this;\n    _classCallCheck(this, Assembly);\n    _this = _super.call(this, complex);\n    _this.chains = [];\n    _this.matrices = [];\n    return _this;\n  }\n  _createClass(Assembly, [{\n    key: \"computeBoundaries\",\n    value: function computeBoundaries() {\n      _get(_getPrototypeOf(Assembly.prototype), \"computeBoundaries\", this).call(this);\n      var matrices = this.matrices;\n      var oldCenter = this._boundaries.boundingSphere.center;\n      var oldRad = this._boundaries.boundingSphere.radius;\n      var boundingBox = this._boundaries.boundingBox = new Box3();\n      boundingBox.makeEmpty();\n      for (var i = 0, n = matrices.length; i < n; ++i) {\n        boundingBox.expandByPoint(oldCenter.clone().applyMatrix4(matrices[i]));\n      }\n      var newRad = boundingBox.max.distanceTo(boundingBox.min) / 2 + oldRad;\n      var center = new Vector3();\n      boundingBox.getCenter(center);\n      this._boundaries.boundingSphere = new Sphere().set(center, newRad);\n      boundingBox.max.addScalar(oldRad);\n      boundingBox.min.subScalar(oldRad);\n    }\n  }, {\n    key: \"addChain\",\n    value: function addChain(chain) {\n      this.chains[this.chains.length] = chain;\n    }\n  }, {\n    key: \"addMatrix\",\n    value: function addMatrix(matrix) {\n      this.matrices[this.matrices.length] = matrix;\n    }\n  }, {\n    key: \"getTransforms\",\n    value: function getTransforms() {\n      return this.matrices;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      if (this.chains.length > 0) {\n        this._selector = selectors$5.keyword('Chain')(this.chains);\n      } else {\n        this._selector = selectors$5.keyword('None')();\n      }\n    }\n  }]);\n  return Assembly;\n}(BiologicalUnit);\n\nvar Component = function () {\n  function Component(complex) {\n    _classCallCheck(this, Component);\n    this._complex = complex;\n    this._index = -1;\n    this._residueIndices = [];\n    this._cycles = [];\n    this._subDivs = [];\n    this._residueCount = 0;\n  }\n  _createClass(Component, [{\n    key: \"getResidues\",\n    value: function getResidues() {\n      return this._complex._residues;\n    }\n  }, {\n    key: \"getResidueCount\",\n    value: function getResidueCount() {\n      return this._residueCount;\n    }\n  }, {\n    key: \"forEachResidue\",\n    value: function forEachResidue(process) {\n      var residues = this._complex._residues;\n      var resIdc = this._residueIndices;\n      for (var idIdc = 0, idCount = resIdc.length; idIdc < idCount; ++idIdc) {\n        for (var idx = resIdc[idIdc].start, last = resIdc[idIdc].end; idx <= last; ++idx) {\n          process(residues[idx]);\n        }\n      }\n    }\n  }, {\n    key: \"setSubDivs\",\n    value: function setSubDivs(subDivs) {\n      this._subDivs = subDivs;\n      var curr = 0;\n      var resIdc = [];\n      var resCnt = 0;\n      for (var i = 0, n = subDivs.length; i < n; ++i) {\n        if (i === n - 1 || subDivs[i].end + 1 !== subDivs[i + 1].start) {\n          var start = subDivs[curr].start;\n          var end = subDivs[i].end;\n          resIdc[resIdc.length] = {\n            start: start,\n            end: end\n          };\n          resCnt += end - start + 1;\n          curr = i + 1;\n        }\n      }\n      this._residueIndices = resIdc;\n      this._residueCount = resCnt;\n    }\n  }, {\n    key: \"getComplex\",\n    value: function getComplex() {\n      return this._complex;\n    }\n  }, {\n    key: \"forEachBond\",\n    value: function forEachBond(process) {\n      var bonds = this._complex._bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        var bond = bonds[i];\n        if (bond._left.residue._component === this) {\n          process(bond);\n        }\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      this.forEachCycle(function (cycle) {\n        cycle.update();\n      });\n    }\n  }, {\n    key: \"forEachAtom\",\n    value: function forEachAtom(process) {\n      this.forEachResidue(function (residue) {\n        residue.forEachAtom(process);\n      });\n    }\n  }, {\n    key: \"addCycle\",\n    value: function addCycle(cycle) {\n      this._cycles.push(cycle);\n    }\n  }, {\n    key: \"forEachCycle\",\n    value: function forEachCycle(process) {\n      var cycles = this._cycles;\n      for (var i = 0, n = cycles.length; i < n; ++i) {\n        process(cycles[i]);\n      }\n    }\n  }, {\n    key: \"markResidues\",\n    value: function markResidues() {\n      var self = this;\n      self.forEachResidue(function (residue) {\n        residue._component = self;\n      });\n    }\n  }, {\n    key: \"_forEachSubChain\",\n    value: function _forEachSubChain(mask, process) {\n      var residues = this._complex._residues;\n      var subs = this._subDivs;\n      for (var i = 0, n = subs.length; i < n; ++i) {\n        for (var idx = subs[i].start, last = subs[i].end; idx <= last; ++idx) {\n          var currRes = residues[idx];\n          if (mask & currRes._mask && currRes._isValid) {\n            var end = idx + 1;\n            for (; end <= last; ++end) {\n              var endRes = residues[end];\n              if (!(mask & endRes._mask && endRes._isValid)) {\n                break;\n              }\n            }\n            process(i, idx, end - 1);\n            idx = end;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"getMaskedSequences\",\n    value: function getMaskedSequences(mask) {\n      var subs = [];\n      var idx = 0;\n      this._forEachSubChain(mask, function (_subIdx, start, end) {\n        subs[idx++] = {\n          start: start,\n          end: end\n        };\n      });\n      return subs;\n    }\n  }, {\n    key: \"getMaskedSubdivSequences\",\n    value: function getMaskedSubdivSequences(mask) {\n      var subs = [];\n      var currIdx = -1;\n      var lastSubIdx = -1;\n      var subDivs = this._subDivs;\n      this._forEachSubChain(mask, function (subIdx, start, end) {\n        if (lastSubIdx !== subIdx) {\n          ++currIdx;\n          subs[currIdx] = {\n            arr: [],\n            boundaries: subDivs[subIdx]\n          };\n          lastSubIdx = subIdx;\n        }\n        subs[currIdx].arr[subs[currIdx].arr.length] = {\n          start: start,\n          end: end\n        };\n      });\n      return subs;\n    }\n  }]);\n  return Component;\n}();\n\nvar cMaxPairsForHashCode = 32;\nvar cHashTableSize = 1024 * 1024;\nvar cNumbersPerPair = 4;\nvar cMaxNeighbours = 14;\nvar cInvalidVal = -1;\nvar cBigPrime = 89237;\nvar AtomPairs = function () {\n  function AtomPairs(maxPairsEstimate) {\n    _classCallCheck(this, AtomPairs);\n    this.numPairs = 0;\n    this.numMaxPairs = maxPairsEstimate;\n    this.intBuffer = utils.allocateTyped(Int32Array, maxPairsEstimate * cNumbersPerPair);\n    for (var i = 0; i < maxPairsEstimate * cNumbersPerPair; i++) {\n      this.intBuffer[i] = cInvalidVal;\n    }\n    this.hashBuffer = utils.allocateTyped(Int32Array, cHashTableSize * cMaxPairsForHashCode);\n    for (var _i = 0; _i < cHashTableSize * cMaxPairsForHashCode; _i++) {\n      this.hashBuffer[_i] = cInvalidVal;\n    }\n  }\n  _createClass(AtomPairs, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.intBuffer = null;\n      this.hashBuffer = null;\n    }\n  }, {\n    key: \"addPair\",\n    value: function addPair(indexA, indexB) {\n      var ia = indexA < indexB ? indexA : indexB;\n      var ib = indexA > indexB ? indexA : indexB;\n      var codeToAdd = ia + (ib << cMaxNeighbours);\n      var hashCode = ia + ib * cBigPrime & cHashTableSize - 1;\n      var j = hashCode * cMaxPairsForHashCode;\n      var apI = 0;\n      for (; apI < cMaxPairsForHashCode; apI++) {\n        var code = this.hashBuffer[j + apI];\n        if (code === cInvalidVal) {\n          break;\n        }\n        if (code === codeToAdd) {\n          return false;\n        }\n      }\n      if (apI >= cMaxPairsForHashCode) {\n        throw new Error('addPair: increase cMaxPairsForHashCode');\n      }\n      this.hashBuffer[j + apI] = codeToAdd;\n      if (this.numPairs >= this.numMaxPairs) {\n        throw new Error('addPair: increase num pairs');\n      }\n      j = this.numPairs * cNumbersPerPair;\n      this.intBuffer[j] = ia;\n      this.intBuffer[j + 1] = ib;\n      this.intBuffer[j + 2] = codeToAdd;\n      this.numPairs++;\n      return true;\n    }\n  }]);\n  return AtomPairs;\n}();\n\nvar cEstBondsMultiplier = 4;\nvar cSpaceCode = 32;\nvar cBondTolerance = 0.45;\nvar cEpsilon = 0.001;\nfunction _getBondingRadius(atom) {\n  var element = atom.element;\n  if (element) {\n    return element.radiusBonding;\n  }\n  throw new Error('_getBondingRadius: Logic error.');\n}\nfunction _isAtomEligible(atom) {\n  return !atom.isHet() || atom.bonds && atom.bonds.length === 0;\n}\nvar AutoBond = function () {\n  function AutoBond(complex) {\n    _classCallCheck(this, AutoBond);\n    this._complex = complex;\n    this._maxRad = 1.8;\n    var bBox = this._complex.getDefaultBoundaries().boundingBox;\n    this._vBoxMin = bBox.min.clone();\n    this._vBoxMax = bBox.max.clone();\n    this._pairCollection = null;\n  }\n  _createClass(AutoBond, [{\n    key: \"_addExistingPairs\",\n    value: function _addExistingPairs() {\n      var atoms = this._complex.getAtoms();\n      var numAtoms = atoms.length;\n      var aInd = 0;\n      var collection = this._pairCollection;\n      for (; aInd < numAtoms; aInd++) {\n        var bonds = atoms[aInd].bonds;\n        var numBondsForAtom = bonds.length;\n        for (var bInd = 0; bInd < numBondsForAtom; bInd++) {\n          var bond = bonds[bInd];\n          var indTo = bond._left.index;\n          if (indTo === aInd) {\n            collection.addPair(aInd, bond._right.index);\n          }\n        }\n      }\n      return 0;\n    }\n  }, {\n    key: \"_findPairs\",\n    value: function _findPairs() {\n      var vw = this._complex.getVoxelWorld();\n      if (vw === null) {\n        return;\n      }\n      var atoms = this._complex._atoms;\n      var atomsNum = atoms.length;\n      var self = this;\n      var rA;\n      var isHydrogenA;\n      var posA;\n      var locationA;\n      var atomA;\n      var processAtom = function processAtom(atomB) {\n        if (isHydrogenA && atomB.isHydrogen()) {\n          return;\n        }\n        var locationB = atomB.location;\n        if (locationA !== cSpaceCode && locationB !== cSpaceCode && locationA !== locationB) {\n          return;\n        }\n        var dist2 = posA.distanceToSquared(atomB.position);\n        var rB = atomB.element.radiusBonding;\n        var maxAcceptable = rA + rB + cBondTolerance ;\n        if (dist2 > maxAcceptable * maxAcceptable) {\n          return;\n        }\n        if (dist2 < cEpsilon) {\n          return;\n        }\n        self._pairCollection.addPair(atomA.index, atomB.index);\n      };\n      for (var i = 0; i < atomsNum; ++i) {\n        atomA = atoms[i];\n        if (!_isAtomEligible(atomA)) {\n          continue;\n        }\n        rA = atomA.element.radiusBonding;\n        isHydrogenA = atomA.isHydrogen();\n        posA = atomA.position;\n        locationA = atomA.location;\n        vw.forEachAtomWithinRadius(posA, 2 * this._maxRad + cBondTolerance, processAtom);\n      }\n    }\n  }, {\n    key: \"_addPairs\",\n    value: function _addPairs() {\n      var atoms = this._complex._atoms;\n      for (var i = 0, k = 0; i < this._pairCollection.numPairs; i++, k += 4) {\n        var iA = this._pairCollection.intBuffer[k];\n        var iB = this._pairCollection.intBuffer[k + 1];\n        this._addPair(atoms[iA], atoms[iB]);\n      }\n    }\n  }, {\n    key: \"_addPair\",\n    value: function _addPair(atomA, atomB) {\n      var bondsA = atomA.bonds;\n      var indexA = atomA.index;\n      var indexB = atomB.index;\n      for (var j = 0, numBonds = bondsA.length; j < numBonds; ++j) {\n        var bond = bondsA[j];\n        if (bond._left.index === indexB || bond._right.index === indexB) {\n          return;\n        }\n      }\n      var left = indexA < indexB ? atomA : atomB;\n      var right = indexA < indexB ? atomB : atomA;\n      var newBond = this._complex.addBond(left, right, 0, Bond$5.BondType.UNKNOWN, false);\n      bondsA.push(newBond);\n      atomB.bonds.push(newBond);\n    }\n  }, {\n    key: \"build\",\n    value: function build() {\n      this._buildInner();\n    }\n  }, {\n    key: \"_buildInner\",\n    value: function _buildInner() {\n      var atoms = this._complex._atoms;\n      if (atoms.length < 2) {\n        return;\n      }\n      if (atoms[0].index < 0) {\n        throw new Error('AutoBond: Atoms in complex were not indexed.');\n      }\n      this._calcBoundingBox();\n      this._pairCollection = new AtomPairs(atoms.length * cEstBondsMultiplier);\n      this._addExistingPairs();\n      this._findPairs();\n      this._addPairs();\n    }\n  }, {\n    key: \"_calcBoundingBox\",\n    value: function _calcBoundingBox() {\n      var atoms = this._complex._atoms;\n      var nAtoms = atoms.length;\n      var maxRad = _getBondingRadius(atoms[0]);\n      for (var i = 1; i < nAtoms; ++i) {\n        maxRad = Math.max(maxRad, _getBondingRadius(atoms[i]));\n      }\n      this._vBoxMax.addScalar(maxRad);\n      this._vBoxMin.addScalar(-maxRad);\n      this._maxRad = maxRad * 1.2;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._pairCollection) {\n        this._pairCollection.destroy();\n      }\n    }\n  }]);\n  return AutoBond;\n}();\n\nvar cCrossThresh = 0.1;\nvar cAromaticType = Bond$5.BondType.AROMATIC;\nvar cAromaticAtoms = [Element$a.ByName.C.number, Element$a.ByName.N.number\n];\nvar _coDirVectors = function () {\n  var v1Tmp = new Vector3();\n  var v2Tmp = new Vector3();\n  var cp = new Vector3();\n  return function (v1, v2) {\n    v1Tmp.copy(v1).normalize();\n    v2Tmp.copy(v2).normalize();\n    cp.crossVectors(v1Tmp, v2Tmp);\n    if (cp.length() > cCrossThresh) {\n      return false;\n    }\n    return v1Tmp.dot(v2Tmp) >= 0;\n  };\n}();\nfunction _insertAscending(arr, val) {\n  var idx = 0;\n  while (idx < arr.length && arr[idx] < val) {\n    ++idx;\n  }\n  arr.splice(idx, 0, val);\n}\nfunction _anotherAtom(bond, currAtom) {\n  return bond._left === currAtom ? bond._right : bond._left;\n}\nfunction _cosBetween(v1, v2) {\n  var theta = v1.dot(v2) / Math.sqrt(v1.lengthSq() * v2.lengthSq());\n  return MathUtils.clamp(theta, -1, 1);\n}\nfunction _markAromatic(bond) {\n  bond._type = cAromaticType;\n}\nvar Cycle = function () {\n  function Cycle(atomsList) {\n    _classCallCheck(this, Cycle);\n    this.atoms = atomsList;\n    this.update();\n  }\n  _createClass(Cycle, [{\n    key: \"update\",\n    value: function update() {\n      var atoms = this.atoms;\n      var center = new Vector3();\n      var nA = atoms.length;\n      for (var j = 0; j < nA; ++j) {\n        center.add(atoms[j].position);\n      }\n      center.multiplyScalar(1.0 / nA);\n      this.center = center;\n      this.radius = center.distanceTo(atoms[0].position.clone().lerp(atoms[1].position, 0.5));\n    }\n  }, {\n    key: \"forEachBond\",\n    value: function forEachBond(process) {\n      var atoms = this.atoms;\n      var nA = atoms.length;\n      var currAtom = atoms[0];\n      var nextAtom;\n      function checkBond(bond) {\n        if (bond._left === nextAtom || bond._right === nextAtom) {\n          process(bond);\n        }\n      }\n      for (var i = 0; i < nA; ++i) {\n        nextAtom = atoms[(i + 1) % nA];\n        currAtom.forEachBond(checkBond);\n        currAtom = nextAtom;\n      }\n    }\n  }]);\n  return Cycle;\n}();\nfunction _isAromatic(bond) {\n  return bond._type === cAromaticType;\n}\nfunction _isPossibleAromatic(bond) {\n  if (bond.type === cAromaticType) {\n    return true;\n  }\n  var rightIdx = cAromaticAtoms.indexOf(bond._right.element.number);\n  var leftIdx = cAromaticAtoms.indexOf(bond._left.element.number);\n  return rightIdx !== -1 && leftIdx !== -1;\n}\nfunction _checkCycleSimple(cycle) {\n  return cycle.length > 3;\n}\nfunction _checkCycleComplex(cycle) {\n  console.assert(cycle.length > 2);\n  return true;\n}\nvar AromaticLoopsMarker = function () {\n  function AromaticLoopsMarker(complex) {\n    _classCallCheck(this, AromaticLoopsMarker);\n    this._complex = complex;\n    var bondsData = new Array(complex._bonds.length);\n    var bondMarks = new Array(complex._bonds.length);\n    for (var i = 0, n = bondsData.length; i < n; ++i) {\n      bondsData[i] = [];\n      bondMarks[i] = false;\n    }\n    this._bondsData = bondsData;\n    this._bondMarks = bondMarks;\n    this._resetCycles();\n  }\n  _createClass(AromaticLoopsMarker, [{\n    key: \"_resetCycles\",\n    value: function _resetCycles() {\n      this._cycles = [];\n      this._currIdx = -1;\n    }\n  }, {\n    key: \"_haveSameCycle\",\n    value: function _haveSameCycle(bondsData, bond1, bond2) {\n      var arr1 = bondsData[bond1._index];\n      var arr2 = bondsData[bond2._index];\n      var n1 = arr1.length;\n      var n2 = arr2.length;\n      var i1 = 0;\n      var i2 = 0;\n      while (i1 < n1 && i2 < n2) {\n        if (arr1[i1] === arr2[i2]) {\n          return true;\n        }\n        if (arr1[i1] > arr2[i2]) {\n          ++i2;\n        } else {\n          ++i1;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"_tryBond\",\n    value: function _tryBond(prevBond, currRight, currDir) {\n      var bondsOrder = [];\n      var bondsData = this._bondsData;\n      var currLeft = _anotherAtom(prevBond, currRight);\n      var currVec = currRight.position.clone().sub(currLeft.position);\n      var startAtomRef = this._currStart;\n      var self = this;\n      var bondMarks = this._bondMarks;\n      var checkAromatic = this._checkBond;\n      bondMarks[prevBond._index] = true;\n      checkAromatic = checkAromatic === undefined ? _isAromatic : checkAromatic;\n      currRight.forEachBond(function (newBond) {\n        if (!checkAromatic(newBond) || newBond === prevBond || bondMarks[newBond._index] || self._haveSameCycle(bondsData, prevBond, newBond)) {\n          return;\n        }\n        var anotherAtom = _anotherAtom(newBond, currRight);\n        var anotherVec = anotherAtom.position.clone().sub(currRight.position);\n        var val = anotherAtom === startAtomRef ? -2.0 : 1 - _cosBetween(currVec, anotherVec);\n        var newDir = anotherVec.cross(currVec);\n        if (!_coDirVectors(newDir, currDir)) {\n          return;\n        }\n        var idx = 0;\n        while (idx < bondsOrder.length && bondsOrder[idx].val < val) {\n          ++idx;\n        }\n        bondsOrder.splice(idx, 0, {\n          bond: newBond,\n          val: val,\n          dir: newDir\n        });\n      });\n      for (var i = 0, n = bondsOrder.length; i < n; ++i) {\n        var bond = bondsOrder[i].bond;\n        var newRight = bond._left === currRight ? bond._right : bond._left;\n        if (newRight === startAtomRef) {\n          ++this._currIdx;\n          this._cycles.push([currRight]);\n          bondMarks[prevBond._index] = false;\n          return true;\n        }\n        if (this._tryBond(bond, newRight, bondsOrder[i].dir)) {\n          _insertAscending(bondsData[bond._index], this._currIdx);\n          this._cycles[this._currIdx].push(currRight);\n          bondMarks[prevBond._index] = false;\n          return true;\n        }\n      }\n      bondMarks[prevBond._index] = false;\n      return false;\n    }\n  }, {\n    key: \"_startCycle\",\n    value: function _startCycle(bond) {\n      this._currStart = bond._left;\n      if (this._tryBond(bond, bond._right, new Vector3())) {\n        _insertAscending(this._bondsData[bond._index], this._currIdx);\n        this._cycles[this._currIdx].push(bond._left);\n      }\n    }\n  }, {\n    key: \"_findLoops\",\n    value: function _findLoops(checkBond, checkCycle) {\n      this._checkBond = checkBond;\n      var complex = this._complex;\n      var self = this;\n      complex.forEachComponent(function (component) {\n        self._resetCycles();\n        component.forEachBond(function (bond) {\n          if (checkBond(bond)) {\n            self._startCycle(bond);\n          }\n        });\n        var cycles = self._cycles;\n        for (var i = 0, n = cycles.length; i < n; ++i) {\n          var cycle = cycles[i];\n          if (!checkCycle(cycle)) {\n            continue;\n          }\n          var newCycle = new Cycle(cycle);\n          newCycle.forEachBond(_markAromatic);\n          component.addCycle(newCycle);\n        }\n      });\n    }\n  }, {\n    key: \"markCycles\",\n    value: function markCycles() {\n      this._findLoops(_isAromatic, _checkCycleSimple);\n    }\n  }, {\n    key: \"detectCycles\",\n    value: function detectCycles() {\n      this._findLoops(_isPossibleAromatic, _checkCycleComplex);\n    }\n  }]);\n  return AromaticLoopsMarker;\n}();\n\nfunction _getSphereSliceRadiusRange(center, radius, zMin, zMax) {\n  var dzMin = zMin - center.z;\n  var dzMax = zMax - center.z;\n  var rzMin = Math.sqrt(Math.max(radius * radius - dzMin * dzMin, 0.0));\n  var rzMax = Math.sqrt(Math.max(radius * radius - dzMax * dzMax, 0.0));\n  var rMin = Math.min(rzMin, rzMax);\n  var rMax;\n  if (zMin <= center.z && zMax >= center.z) {\n    rMax = radius;\n  } else {\n    rMax = Math.max(rzMin, rzMax);\n  }\n  return [rMin, rMax];\n}\nfunction _getCircleSliceRadiusRange(center, radius, yMin, yMax) {\n  var dyMin = yMin - center.y;\n  var dyMax = yMax - center.y;\n  var ryMin = Math.sqrt(Math.max(radius * radius - dyMin * dyMin, 0.0));\n  var ryMax = Math.sqrt(Math.max(radius * radius - dyMax * dyMax, 0.0));\n  var rMin = Math.min(ryMin, ryMax);\n  var rMax;\n  if (yMin <= center.y && yMax >= center.y) {\n    rMax = radius;\n  } else {\n    rMax = Math.max(ryMin, ryMax);\n  }\n  return [rMin, rMax];\n}\nvar VoxelWorld = function () {\n  function VoxelWorld(box, vCellSizeHint) {\n    _classCallCheck(this, VoxelWorld);\n    this._box = box.clone();\n    var size = new Vector3();\n    box.getSize(size);\n    this._count = size.clone().divide(vCellSizeHint).floor().max(new Vector3(1, 1, 1));\n    this._last = this._count.clone().subScalar(1);\n    this._cellSize = size.clone().divide(this._count);\n    this._cellInnerR = 0.5 * Math.min(Math.min(this._cellSize.x, this._cellSize.y), this._cellSize.z);\n    this._cellOuterR = 0.5 * Math.sqrt(this._cellSize.dot(this._cellSize));\n    var numVoxels = this._count.x * this._count.y * this._count.z;\n    this._voxels = utils.allocateTyped(Int32Array, numVoxels);\n    for (var i = 0; i < numVoxels; ++i) {\n      this._voxels[i] = -1;\n    }\n    this._atoms = [];\n  }\n  _createClass(VoxelWorld, [{\n    key: \"addAtoms\",\n    value: function addAtoms(complex) {\n      var self = this;\n      var idx = this._atoms.length;\n      this._atoms.length += 2 * complex.getAtomCount();\n      complex.forEachAtom(function (atom) {\n        var voxelIdx = self._findVoxel(atom.position);\n        self._atoms[idx] = atom;\n        self._atoms[idx + 1] = self._voxels[voxelIdx];\n        self._voxels[voxelIdx] = idx;\n        idx += 2;\n      });\n    }\n  }, {\n    key: \"_findVoxel\",\n    value: function _findVoxel(point) {\n      var zero = VoxelWorld._zero;\n      var voxel = VoxelWorld._voxel;\n      voxel.copy(point).sub(this._box.min).divide(this._cellSize).floor().clamp(zero, this._last);\n      return voxel.x + this._count.x * (voxel.y + this._count.y * voxel.z);\n    }\n  }, {\n    key: \"_forEachAtomInVoxel\",\n    value: function _forEachAtomInVoxel(voxel, process) {\n      for (var i = this._voxels[voxel]; i >= 0; i = this._atoms[i + 1]) {\n        process(this._atoms[i]);\n      }\n    }\n  }, {\n    key: \"_forEachVoxelWithinRadius\",\n    value: function _forEachVoxelWithinRadius(center, radius, process) {\n      var xRange = VoxelWorld._xRange;\n      var yRange = VoxelWorld._yRange;\n      var zRange = VoxelWorld._zRange;\n      if (radius / this._cellInnerR < 10) {\n        this._forEachVoxelWithinRadiusSimple(center, radius, process);\n        return;\n      }\n      var rRangeXY;\n      var rRangeX;\n      var xVal;\n      var yVal;\n      var zVal;\n      var isInsideX;\n      var isInsideY;\n      var isInsideZ;\n      zRange.set(center.z - radius, center.z + radius);\n      zRange.subScalar(this._box.min.z).divideScalar(this._cellSize.z).floor().clampScalar(0, this._count.z - 1);\n      for (var z = zRange.x; z <= zRange.y; ++z) {\n        zVal = [this._box.min.z + z * this._cellSize.z, this._box.min.z + (z + 1) * this._cellSize.z];\n        isInsideZ = center.z - radius <= zVal[0] && zVal[1] <= center.z + radius;\n        rRangeXY = _getSphereSliceRadiusRange(center, radius, zVal[0], zVal[1]);\n        yRange.set(center.y - rRangeXY[1], center.y + rRangeXY[1]);\n        yRange.subScalar(this._box.min.y).divideScalar(this._cellSize.y).floor().clampScalar(0, this._count.y - 1);\n        for (var y = yRange.x; y <= yRange.y; ++y) {\n          yVal = [this._box.min.y + y * this._cellSize.y, this._box.min.y + (y + 1) * this._cellSize.y];\n          isInsideY = center.y - rRangeXY[0] <= yVal[0] && yVal[1] <= center.y + rRangeXY[0];\n          rRangeX = _getCircleSliceRadiusRange(center, rRangeXY[1], yVal[0], yVal[1]);\n          xRange.set(center.x - rRangeX[1], center.x + rRangeX[1]);\n          xRange.subScalar(this._box.min.x).divideScalar(this._cellSize.x).floor().clampScalar(0, this._count.x - 1);\n          for (var x = xRange.x; x <= xRange.y; ++x) {\n            xVal = [this._box.min.x + x * this._cellSize.x, this._box.min.x + (x + 1) * this._cellSize.x];\n            isInsideX = center.x - rRangeX[0] <= xVal[0] && xVal[1] <= center.x + rRangeX[0];\n            process(x + this._count.x * (y + this._count.y * z), isInsideX && isInsideY && isInsideZ);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_forEachVoxelWithinRadiusSimple\",\n    value: function _forEachVoxelWithinRadiusSimple(center, radius, process) {\n      var xRange = VoxelWorld._xRange;\n      var yRange = VoxelWorld._yRange;\n      var zRange = VoxelWorld._zRange;\n      var vCenter = VoxelWorld._vCenter;\n      var distTouch2 = (radius + this._cellOuterR) * (radius + this._cellOuterR);\n      var distInside2 = -1.0;\n      if (radius > this._cellOuterR) {\n        distInside2 = (radius - this._cellOuterR) * (radius - this._cellOuterR);\n      }\n      xRange.set(center.x - radius, center.x + radius);\n      xRange.subScalar(this._box.min.x).divideScalar(this._cellSize.x).floor();\n      xRange.x = Math.min(Math.max(xRange.x, 0), this._count.x - 1);\n      xRange.y = Math.min(Math.max(xRange.y, 0), this._count.x - 1);\n      yRange.set(center.y - radius, center.y + radius);\n      yRange.subScalar(this._box.min.y).divideScalar(this._cellSize.y).floor();\n      yRange.x = Math.min(Math.max(yRange.x, 0), this._count.y - 1);\n      yRange.y = Math.min(Math.max(yRange.y, 0), this._count.y - 1);\n      zRange.set(center.z - radius, center.z + radius);\n      zRange.subScalar(this._box.min.z).divideScalar(this._cellSize.z).floor();\n      zRange.x = Math.min(Math.max(zRange.x, 0), this._count.z - 1);\n      zRange.y = Math.min(Math.max(zRange.y, 0), this._count.z - 1);\n      for (var z = zRange.x; z <= zRange.y; ++z) {\n        var zVal = [this._box.min.z + z * this._cellSize.z, this._box.min.z + (z + 1) * this._cellSize.z];\n        vCenter.z = 0.5 * (zVal[0] + zVal[1]);\n        for (var y = yRange.x; y <= yRange.y; ++y) {\n          var yVal = [this._box.min.y + y * this._cellSize.y, this._box.min.y + (y + 1) * this._cellSize.y];\n          vCenter.y = 0.5 * (yVal[0] + yVal[1]);\n          for (var x = xRange.x; x <= xRange.y; ++x) {\n            var xVal = [this._box.min.x + x * this._cellSize.x, this._box.min.x + (x + 1) * this._cellSize.x];\n            vCenter.x = 0.5 * (xVal[0] + xVal[1]);\n            var d2 = center.distanceToSquared(vCenter);\n            if (d2 <= distTouch2) {\n              process(x + this._count.x * (y + this._count.y * z), d2 <= distInside2);\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"forEachAtomWithinRadius\",\n    value: function forEachAtomWithinRadius(center, radius, process) {\n      var self = this;\n      var r2 = radius * radius;\n      self._forEachVoxelWithinRadius(center, radius, function (voxel, isInside) {\n        if (isInside) {\n          self._forEachAtomInVoxel(voxel, process);\n        } else {\n          self._forEachAtomInVoxel(voxel, function (atom) {\n            if (center.distanceToSquared(atom.position) <= r2) {\n              process(atom);\n            }\n          });\n        }\n      });\n    }\n  }, {\n    key: \"forEachAtomWithinDistFromMasked\",\n    value: function forEachAtomWithinDistFromMasked(complex, mask, dist, process) {\n      this._forEachAtomWithinDistFromGroup(function (atomProc) {\n        complex.forEachAtom(function (atom) {\n          if ((atom.mask & mask) !== 0) {\n            atomProc(atom);\n          }\n        });\n      }, dist, process);\n    }\n  }, {\n    key: \"forEachAtomWithinDistFromSelected\",\n    value: function forEachAtomWithinDistFromSelected(complex, selector, dist, process) {\n      this._forEachAtomWithinDistFromGroup(function (atomProc) {\n        complex.forEachAtom(function (atom) {\n          if (selector.includesAtom(atom)) {\n            atomProc(atom);\n          }\n        });\n      }, dist, process);\n    }\n  }, {\n    key: \"_forEachAtomWithinDistFromGroup\",\n    value: function _forEachAtomWithinDistFromGroup(forEachAtom, dist, process) {\n      var self = this;\n      var r2 = dist * dist;\n      var voxels = [];\n      var atoms = [];\n      var idx = 0;\n      forEachAtom(function (atom) {\n        self._forEachVoxelWithinRadius(atom.position, dist, function (voxel, isInside) {\n          if (isInside) {\n            voxels[voxel] = -1;\n          } else if (typeof voxels[voxel] === 'undefined') {\n            atoms.push(atom);\n            atoms.push(-1);\n            voxels[voxel] = idx;\n            idx += 2;\n          } else if (voxels[voxel] !== -1) {\n            atoms.push(atom);\n            atoms.push(voxels[voxel]);\n            voxels[voxel] = idx;\n            idx += 2;\n          }\n        });\n      });\n      var voxel;\n      var processIfWithin = function processIfWithin(atom) {\n        if (typeof voxels[voxel] === 'undefined') {\n          return;\n        }\n        idx = voxels[voxel];\n        if (idx === -1) {\n          process(atom);\n          return;\n        }\n        for (; idx >= 0; idx = atoms[idx + 1]) {\n          if (atom.position.distanceToSquared(atoms[idx].position) < r2) {\n            process(atom);\n            break;\n          }\n        }\n      };\n      for (voxel in voxels) {\n        if (voxels.hasOwnProperty(voxel)) {\n          self._forEachAtomInVoxel(voxel, processIfWithin);\n        }\n      }\n    }\n  }]);\n  return VoxelWorld;\n}();\n_defineProperty(VoxelWorld, \"_zero\", new Vector3(0, 0, 0));\n_defineProperty(VoxelWorld, \"_voxel\", new Vector3());\n_defineProperty(VoxelWorld, \"_xRange\", new Vector2());\n_defineProperty(VoxelWorld, \"_yRange\", new Vector2());\n_defineProperty(VoxelWorld, \"_zRange\", new Vector2());\n_defineProperty(VoxelWorld, \"_vCenter\", new Vector3());\n\nvar MINIMAL_DISTANCE = 0.5;\nvar MIN_HBOND_ENERGY = -9.9;\nvar MAX_HBOND_ENERGY = -0.5;\nvar COUPLING_CONSTANT = -27.888;\nvar MAX_COUPLING_DISTANCE = 5.0;\nvar MAX_RESIDUES_THRESHOLD = 1000;\nvar HBondInfo = function () {\n  function HBondInfo(complex) {\n    _classCallCheck(this, HBondInfo);\n    this._complex = complex;\n    this._hbonds = [];\n    if (this._complex._residues.length > MAX_RESIDUES_THRESHOLD) {\n      this._buildVW();\n    } else {\n      this._build();\n    }\n  }\n  _createClass(HBondInfo, [{\n    key: \"isBond\",\n    value: function isBond(from, to) {\n      if (this._hbonds[from]) {\n        var _this$_hbonds$from$ac = _slicedToArray(this._hbonds[from].acceptor, 2),\n            acc0 = _this$_hbonds$from$ac[0],\n            acc1 = _this$_hbonds$from$ac[1];\n        if (acc0 && acc0.residue === to && acc0.energy < MAX_HBOND_ENERGY) {\n          return true;\n        }\n        if (acc1 && acc1.residue === to && acc1.energy < MAX_HBOND_ENERGY) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var self = this;\n      for (var i = 0; i < this._complex._residues.length - 1; ++i) {\n        var ri = this._complex._residues[i];\n        if ((ri.getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n          continue;\n        }\n        var preri = null;\n        if (i > 0 && this._complex._residues[i - 1].getType().flags & ResidueType$1.Flags.PROTEIN && ri._sequence === this._complex._residues[i - 1]._sequence + 1) {\n          preri = this._complex._residues[i - 1];\n        }\n        for (var j = i + 1; j < this._complex._residues.length; ++j) {\n          var rj = this._complex._residues[j];\n          if ((rj.getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n            continue;\n          }\n          var prerj = null;\n          if (this._complex._residues[j - 1].getType().flags & ResidueType$1.Flags.PROTEIN && rj._sequence === this._complex._residues[j - 1]._sequence + 1) {\n            prerj = this._complex._residues[j - 1];\n          }\n          self._calcHBondEnergy(preri, ri, rj);\n          if (j !== i + 1) {\n            self._calcHBondEnergy(prerj, rj, ri);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_buildVW\",\n    value: function _buildVW() {\n      var self = this;\n      var residues = this._complex._residues;\n      var ri;\n      var preri;\n      var vw = this._complex.getVoxelWorld();\n      if (vw === null) {\n        return;\n      }\n      var pairs = new AtomPairs(this._complex._residues.length * this._complex._residues.length / 2);\n      function processAtom(atom) {\n        var rj = atom.residue;\n        if (rj._index === ri._index) {\n          return;\n        }\n        if ((rj.getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n          return;\n        }\n        if (!pairs.addPair(ri._index, rj._index)) {\n          return;\n        }\n        var prerj = rj._index > 0 ? residues[rj._index - 1] : null;\n        if (prerj && ((prerj.getType().flags & ResidueType$1.Flags.PROTEIN) === 0 || rj._sequence !== prerj._sequence + 1)) {\n          prerj = null;\n        }\n        self._calcHBondEnergy(preri, ri, rj);\n        if (rj._index !== ri._index + 1) {\n          self._calcHBondEnergy(prerj, rj, ri);\n        }\n      }\n      for (var i = 0; i < residues.length - 1; ++i) {\n        ri = residues[i];\n        if ((ri.getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n          continue;\n        }\n        preri = i > 0 ? residues[i - 1] : null;\n        if (preri && ((preri.getType().flags & ResidueType$1.Flags.PROTEIN) === 0 || ri._sequence !== preri._sequence + 1)) {\n          preri = null;\n        }\n        vw.forEachAtomWithinRadius(this._residueGetCAlpha(ri), MAX_COUPLING_DISTANCE, processAtom);\n      }\n    }\n  }, {\n    key: \"_residueGetCAlpha\",\n    value: function _residueGetCAlpha(res) {\n      for (var i = 0; i < res._atoms.length; ++i) {\n        var name = res._atoms[i].name;\n        if (name === 'CA' || name === 'C1') {\n          return res._atoms[i].position;\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"_residueGetCO\",\n    value: function _residueGetCO(res) {\n      var c = null;\n      var o = null;\n      res.forEachAtom(function (a) {\n        if (a.name === 'C') {\n          c = a.position;\n        } else if (a.name === 'O') {\n          o = a.position;\n        }\n      });\n      return [c, o];\n    }\n  }, {\n    key: \"_residueGetNH\",\n    value: function _residueGetNH(prev, res) {\n      var _this$_residueGetCO = this._residueGetCO(prev),\n          _this$_residueGetCO2 = _slicedToArray(_this$_residueGetCO, 2),\n          c = _this$_residueGetCO2[0],\n          o = _this$_residueGetCO2[1];\n      var n;\n      res.forEachAtom(function (a) {\n        if (a.name === 'N') {\n          n = a.position;\n        }\n      });\n      if (c && o && n) {\n        var h = c.clone();\n        h.sub(o);\n        h.multiplyScalar(1.0 / h.length());\n        h.add(n);\n        return [n, h];\n      }\n      return [null, null];\n    }\n  }, {\n    key: \"_calcHBondEnergy\",\n    value: function _calcHBondEnergy(predonor, donor, acceptor) {\n      var result = 0;\n      if (predonor === null) {\n        return result;\n      }\n      if (donor.getType().getName() !== 'PRO') {\n        var _this$_residueGetNH = this._residueGetNH(predonor, donor),\n            _this$_residueGetNH2 = _slicedToArray(_this$_residueGetNH, 2),\n            n = _this$_residueGetNH2[0],\n            h = _this$_residueGetNH2[1];\n        var _this$_residueGetCO3 = this._residueGetCO(acceptor),\n            _this$_residueGetCO4 = _slicedToArray(_this$_residueGetCO3, 2),\n            c = _this$_residueGetCO4[0],\n            o = _this$_residueGetCO4[1];\n        if (n === null || h === null || c === null || o === null) {\n          return result;\n        }\n        var distanceHO = h.distanceTo(o);\n        var distanceHC = h.distanceTo(c);\n        var distanceNC = n.distanceTo(c);\n        var distanceNO = n.distanceTo(o);\n        if (distanceHO < MINIMAL_DISTANCE || distanceHC < MINIMAL_DISTANCE || distanceNC < MINIMAL_DISTANCE || distanceNO < MINIMAL_DISTANCE) {\n          result = MIN_HBOND_ENERGY;\n        } else {\n          result = COUPLING_CONSTANT / distanceHO - COUPLING_CONSTANT / distanceHC + COUPLING_CONSTANT / distanceNC - COUPLING_CONSTANT / distanceNO;\n        }\n        result = Math.round(result * 1000) / 1000;\n        if (result < MIN_HBOND_ENERGY) {\n          result = MIN_HBOND_ENERGY;\n        }\n      }\n      if (typeof this._hbonds[donor._index] === 'undefined') {\n        this._hbonds[donor._index] = {\n          donor: [],\n          acceptor: []\n        };\n      }\n      var donorInfo = this._hbonds[donor._index];\n      if (donorInfo.acceptor.length < 2) {\n        donorInfo.acceptor.push({\n          residue: acceptor._index,\n          energy: result\n        });\n      }\n      if (donorInfo.acceptor.length > 1) {\n        if (result < donorInfo.acceptor[0].energy) {\n          donorInfo.acceptor[1].residue = donorInfo.acceptor[0].residue;\n          donorInfo.acceptor[1].energy = donorInfo.acceptor[0].energy;\n          donorInfo.acceptor[0].residue = acceptor._index;\n          donorInfo.acceptor[0].energy = result;\n        } else if (result < donorInfo.acceptor[1].energy) {\n          donorInfo.acceptor[1].residue = acceptor._index;\n          donorInfo.acceptor[1].energy = result;\n        }\n      }\n      if (typeof this._hbonds[acceptor._index] === 'undefined') {\n        this._hbonds[acceptor._index] = {\n          donor: [],\n          acceptor: []\n        };\n      }\n      var accInfo = this._hbonds[acceptor._index];\n      if (accInfo.donor.length < 2) {\n        accInfo.donor.push({\n          residue: donor._index,\n          energy: result\n        });\n      }\n      if (accInfo.donor.length > 1) {\n        if (result < accInfo.donor[0].energy) {\n          accInfo.donor[1].residue = accInfo.donor[0].residue;\n          accInfo.donor[1].energy = accInfo.donor[0].energy;\n          accInfo.donor[0].residue = donor._index;\n          accInfo.donor[0].energy = result;\n        } else if (result < accInfo.donor[1].energy) {\n          accInfo.donor[1].residue = donor._index;\n          accInfo.donor[1].energy = result;\n        }\n      }\n      return result;\n    }\n  }]);\n  return HBondInfo;\n}();\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nvar BridgeType = Object.freeze({\n  NO_BRIDGE: 0,\n  PARALLEL: 1,\n  ANTI_PARALLEL: 2\n});\nvar HelixFlag = Object.freeze({\n  START: 1,\n  MIDDLE: 2,\n  END: 3,\n  START_AND_END: 4\n});\nvar StructureType$1 = Object.freeze({\n  STRAND: 'E',\n  BRIDGE: 'B',\n  HELIX_310: 'G',\n  HELIX_ALPHA: 'H',\n  HELIX_PI: 'I',\n  TURN: 'T',\n  BEND: 'S',\n  LOOP: ' '\n});\nvar SecondaryStructureMap = function () {\n  function SecondaryStructureMap(complex) {\n    _classCallCheck(this, SecondaryStructureMap);\n    this._complex = complex;\n    this._build();\n  }\n  _createClass(SecondaryStructureMap, [{\n    key: \"_build\",\n    value: function _build() {\n      var self = this;\n      this._hbonds = new HBondInfo(this._complex);\n      this._ss = [];\n      this._sheet = [];\n      this._betaPartners = [];\n      this._bend = [];\n      for (var i = 0; i < this._complex.getResidues().length; ++i) {\n        this._betaPartners[i] = [];\n      }\n      this._helixFlags = [];\n      this._helixFlags[3] = [];\n      this._helixFlags[4] = [];\n      this._helixFlags[5] = [];\n      this._chainLengths = [];\n      for (var _i = 0; _i < this._complex._chains.length; ++_i) {\n        var chain = this._complex._chains[_i].getResidues();\n        var len = 0;\n        for (; len < chain.length; ++len) {\n          if ((chain[len].getType().flags & ResidueType$1.Flags.PROTEIN) === 0) {\n            break;\n          }\n        }\n        this._chainLengths[_i] = len;\n      }\n      this._buildBetaSheets();\n      for (var _i2 = 0; _i2 < this._complex._chains.length; ++_i2) {\n        self._buildAlphaHelices(this._complex._chains[_i2].getResidues(), this._chainLengths[_i2], false);\n      }\n    }\n  }, {\n    key: \"_buildAlphaHelices\",\n    value: function _buildAlphaHelices(inResidues, chainLength, inPreferPiHelices) {\n      for (var stride = 3; stride <= 5; ++stride) {\n        if (inResidues.length < stride) {\n          break;\n        }\n        for (var i = 0; i + stride < chainLength; ++i) {\n          if (this._hbonds.isBond(inResidues[i + stride]._index, inResidues[i]._index)\n          ) {\n            this._helixFlags[stride][inResidues[i + stride]._index] = HelixFlag.END;\n            for (var j = i + 1; j < i + stride; ++j) {\n              if (typeof this._helixFlags[stride][inResidues[j]._index] === 'undefined') {\n                this._helixFlags[stride][inResidues[j]._index] = HelixFlag.MIDDLE;\n              }\n            }\n            if (this._helixFlags[stride][inResidues[i]._index] === HelixFlag.END) {\n              this._helixFlags[stride][inResidues[i]._index] = HelixFlag.START_AND_END;\n            } else {\n              this._helixFlags[stride][inResidues[i]._index] = HelixFlag.START;\n            }\n          }\n        }\n      }\n      for (var _i3 = 2; _i3 < chainLength - 2; ++_i3) {\n        var kappa = this._kappa(inResidues[_i3 - 2], inResidues[_i3], inResidues[_i3 + 2]);\n        this._bend[inResidues[_i3]._index] = kappa !== 360 && kappa > 70;\n      }\n      for (var _i4 = 1; _i4 + 4 < chainLength; ++_i4) {\n        if (this._isHelixStart(inResidues[_i4]._index, 4) && this._isHelixStart(inResidues[_i4 - 1]._index, 4)) {\n          for (var _j = _i4; _j <= _i4 + 3; ++_j) {\n            this._ss[inResidues[_j]._index] = StructureType$1.HELIX_ALPHA;\n          }\n        }\n      }\n      for (var _i5 = 1; _i5 + 3 < chainLength; ++_i5) {\n        if (this._isHelixStart(inResidues[_i5]._index, 3) && this._isHelixStart(inResidues[_i5 - 1]._index, 3)) {\n          var empty = true;\n          for (var _j2 = _i5; empty && _j2 <= _i5 + 2; ++_j2) {\n            empty = typeof this._ss[inResidues[_j2]._index] === 'undefined' || this._ss[inResidues[_j2]._index] === StructureType$1.HELIX_310;\n          }\n          if (empty) {\n            for (var _j3 = _i5; _j3 <= _i5 + 2; ++_j3) {\n              this._ss[inResidues[_j3]._index] = StructureType$1.HELIX_310;\n            }\n          }\n        }\n      }\n      for (var _i6 = 1; _i6 + 5 < chainLength; ++_i6) {\n        if (this._isHelixStart(inResidues[_i6]._index, 5) && this._isHelixStart(inResidues[_i6 - 1]._index, 5)) {\n          var _empty = true;\n          for (var _j4 = _i6; _empty && _j4 <= _i6 + 4; ++_j4) {\n            _empty = typeof this._ss[inResidues[_j4]._index] === 'undefined' || this._ss[inResidues[_j4]._index] === StructureType$1.HELIX_PI || inPreferPiHelices && this._ss[inResidues[_j4]._index] === StructureType$1.HELIX_ALPHA;\n          }\n          if (_empty) {\n            for (var _j5 = _i6; _j5 <= _i6 + 4; ++_j5) {\n              this._ss[inResidues[_j5]._index] = StructureType$1.HELIX_PI;\n            }\n          }\n        }\n      }\n      for (var _i7 = 1; _i7 + 1 < chainLength; ++_i7) {\n        if (typeof this._ss[inResidues[_i7]._index] === 'undefined') {\n          var isTurn = false;\n          for (var _stride = 3; _stride <= 5 && !isTurn; ++_stride) {\n            for (var k = 1; k < _stride && !isTurn; ++k) {\n              isTurn = _i7 >= k && this._isHelixStart(inResidues[_i7 - k]._index, _stride);\n            }\n          }\n          if (isTurn) {\n            this._ss[inResidues[_i7]._index] = StructureType$1.TURN;\n          } else if (this._bend[inResidues[_i7]._index]) {\n            this._ss[inResidues[_i7]._index] = StructureType$1.BEND;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_residueGetCAlpha\",\n    value: function _residueGetCAlpha(res) {\n      for (var i = 0; i < res._atoms.length; ++i) {\n        var name = res._atoms[i].name;\n        if (name === 'CA' || name === 'C1') {\n          return res._atoms[i].position;\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"_cosinusAngle\",\n    value: function _cosinusAngle(p1, p2, p3, p4) {\n      var v12 = p1.clone().sub(p2);\n      var v34 = p3.clone().sub(p4);\n      var result = 0;\n      var x = v12.dot(v12) * v34.dot(v34);\n      if (x > 0) {\n        result = v12.dot(v34) / Math.sqrt(x);\n      }\n      return result;\n    }\n  }, {\n    key: \"_kappa\",\n    value: function _kappa(prevPrev, res, nextNext) {\n      var curCA = this._residueGetCAlpha(res);\n      var ppCA = this._residueGetCAlpha(prevPrev);\n      var nnCA = this._residueGetCAlpha(nextNext);\n      if (curCA === null || ppCA === null || nnCA === null) {\n        return 180;\n      }\n      var ckap = this._cosinusAngle(curCA, ppCA, nnCA, curCA);\n      var skap = Math.sqrt(1 - ckap * ckap);\n      return Math.atan2(skap, ckap) * 180 / Math.PI;\n    }\n  }, {\n    key: \"_isHelixStart\",\n    value: function _isHelixStart(res, stride) {\n      return this._helixFlags[stride][res] === HelixFlag.START || this._helixFlags[stride][res] === HelixFlag.START_AND_END;\n    }\n  }, {\n    key: \"_buildBetaSheets\",\n    value: function _buildBetaSheets() {\n      var bridges = [];\n      for (var a = 0; a < this._complex._chains.length; ++a) {\n        var lenA = this._chainLengths[a];\n        if (lenA <= 4) {\n          continue;\n        }\n        var chainA = this._complex._chains[a].getResidues();\n        for (var b = a; b < this._complex._chains.length; ++b) {\n          var lenB = this._chainLengths[b];\n          if (lenB <= 4) {\n            continue;\n          }\n          var chainB = this._complex._chains[b].getResidues();\n          for (var i = 1; i + 1 < lenA; ++i) {\n            var ri = chainA[i];\n            var j = 1;\n            if (b === a) {\n              j = i + 3;\n            }\n            for (; j + 1 < lenB; ++j) {\n              var rj = chainB[j];\n              var type = this._testBridge(chainA, i, chainB, j);\n              if (type === BridgeType.NO_BRIDGE) {\n                continue;\n              }\n              var found = false;\n              var _iterator = _createForOfIteratorHelper(bridges),\n                  _step;\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  var bridge = _step.value;\n                  if (type !== bridge.type || ri._index !== bridge.i[bridge.i.length - 1] + 1) {\n                    continue;\n                  }\n                  if (type === BridgeType.PARALLEL && bridge.j[bridge.j.length - 1] + 1 === rj._index) {\n                    bridge.i.push(ri._index);\n                    bridge.j.push(rj._index);\n                    found = true;\n                    break;\n                  }\n                  if (type === BridgeType.ANTI_PARALLEL && bridge.j[0] - 1 === rj._index) {\n                    bridge.i.push(ri._index);\n                    bridge.j.unshift(rj._index);\n                    found = true;\n                    break;\n                  }\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              if (!found) {\n                bridges.push({\n                  type: type,\n                  i: [ri._index],\n                  chainI: ri.getChain()._index,\n                  j: [rj._index],\n                  chainJ: rj.getChain()._index\n                });\n              }\n            }\n          }\n        }\n      }\n      bridges.sort(function (a, b) {\n        if (a.chainI < b.chainI || a.chainI === b.chainI && a.i[0] < b.i[0]) {\n          return -1;\n        }\n        return 1;\n      });\n      for (var _i8 = 0; _i8 < bridges.length; ++_i8) {\n        for (var _j6 = _i8 + 1; _j6 < bridges.length; ++_j6) {\n          var ibi = bridges[_i8].i[0];\n          var iei = bridges[_i8].i[bridges[_i8].i.length - 1];\n          var jbi = bridges[_i8].j[0];\n          var jei = bridges[_i8].j[bridges[_i8].j.length - 1];\n          var ibj = bridges[_j6].i[0];\n          var iej = bridges[_j6].i[bridges[_j6].i.length - 1];\n          var jbj = bridges[_j6].j[0];\n          var jej = bridges[_j6].j[bridges[_j6].j.length - 1];\n          if (bridges[_i8].type !== bridges[_j6].type || this._hasChainBreak(Math.min(ibi, ibj), Math.max(iei, iej)) || this._hasChainBreak(Math.min(jbi, jbj), Math.max(jei, jej)) || ibj - iei >= 6 || iei >= ibj && ibi <= iej) {\n            continue;\n          }\n          var bulge = false;\n          if (bridges[_i8].type === BridgeType.PARALLEL) {\n            bulge = jbj - jei < 6 && ibj - iei < 3 || jbj - jei < 3;\n          } else {\n            bulge = jbi - jej < 6 && ibj - iei < 3 || jbi - jej < 3;\n          }\n          if (bulge) {\n            bridges[_i8].i = bridges[_i8].i.concat(bridges[_j6].i);\n            if (bridges[_i8].type === BridgeType.PARALLEL) {\n              bridges[_i8].j = bridges[_i8].j.concat(bridges[_j6].j);\n            } else {\n              bridges[_i8].j = bridges[_j6].j.concat(bridges[_i8].j);\n            }\n            bridges.splice(_j6--, 1);\n          }\n        }\n      }\n      var ladderset = new Set();\n      for (var _i9 = 0; _i9 < bridges.length; ++_i9) {\n        ladderset.add(bridges[_i9]);\n      }\n      var sheet = 1;\n      var ladder = 0;\n      while (ladderset.size > 0) {\n        var _bridge = ladderset.values().next().value;\n        ladderset.delete(_bridge);\n        var sheetset = new Set();\n        sheetset.add(_bridge);\n        var toMove = void 0;\n        do {\n          toMove = new Set();\n          var _iterator2 = _createForOfIteratorHelper(sheetset.values()),\n              _step2;\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _a = _step2.value;\n              var _iterator4 = _createForOfIteratorHelper(ladderset.values()),\n                  _step4;\n              try {\n                for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n                  var _b = _step4.value;\n                  if (this._areBridgesLinked(_a, _b)) {\n                    toMove.add(_b);\n                  }\n                }\n              } catch (err) {\n                _iterator4.e(err);\n              } finally {\n                _iterator4.f();\n              }\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n          var _iterator3 = _createForOfIteratorHelper(toMove.values()),\n              _step3;\n          try {\n            for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n              _bridge = _step3.value;\n              sheetset.add(_bridge);\n              ladderset.delete(_bridge);\n            }\n          } catch (err) {\n            _iterator3.e(err);\n          } finally {\n            _iterator3.f();\n          }\n        } while (toMove.size > 0);\n        var _iterator5 = _createForOfIteratorHelper(sheetset.values()),\n            _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            _bridge = _step5.value;\n            _bridge.ladder = ladder;\n            _bridge.sheet = sheet;\n            _bridge.link = sheetset;\n            ++ladder;\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n        ++sheet;\n      }\n      for (var _i10 = 0; _i10 < bridges.length; ++_i10) {\n        var _bridge2 = bridges[_i10];\n        var betai = 0;\n        var betaj = 0;\n        for (var l = 0; l < _bridge2.i.length; ++l) {\n          if (this._betaPartners[_bridge2.i[l]][0]) {\n            betai = 1;\n            break;\n          }\n        }\n        for (var _l = 0; _l < _bridge2.j.length; ++_l) {\n          if (this._betaPartners[_bridge2.j[_l]][0]) {\n            betaj = 1;\n            break;\n          }\n        }\n        var ss = StructureType$1.BRIDGE;\n        if (_bridge2.i.length > 1) {\n          ss = StructureType$1.STRAND;\n        }\n        if (_bridge2.type === BridgeType.PARALLEL) {\n          var _j7 = 0;\n          for (var k = 0; k < _bridge2.i.length; ++k) {\n            this._betaPartners[_bridge2.i[k]][betai] = {\n              residue: _bridge2.j[_j7++],\n              ladder: _bridge2.ladder,\n              parallel: true\n            };\n          }\n          _j7 = 0;\n          for (var _k = 0; _k < _bridge2.j.length; ++_k) {\n            this._betaPartners[_bridge2.j[_k]][betaj] = {\n              residue: _bridge2.i[_j7++],\n              ladder: _bridge2.ladder,\n              parallel: true\n            };\n          }\n        } else {\n          var _j8 = _bridge2.j.length - 1;\n          for (var _k2 = 0; _k2 < _bridge2.i.length; ++_k2) {\n            this._betaPartners[_bridge2.i[_k2]][betai] = {\n              residue: _bridge2.j[_j8--],\n              ladder: _bridge2.ladder,\n              parallel: false\n            };\n          }\n          _j8 = _bridge2.i.length - 1;\n          for (var _k3 = 0; _k3 < _bridge2.j.length; ++_k3) {\n            this._betaPartners[_bridge2.j[_k3]][betaj] = {\n              residue: _bridge2.i[_j8--],\n              ladder: _bridge2.ladder,\n              parallel: false\n            };\n          }\n        }\n        for (var _k4 = _bridge2.i[0]; _k4 <= _bridge2.i[_bridge2.i.length - 1]; ++_k4) {\n          if (this._ss[_k4] !== StructureType$1.STRAND) {\n            this._ss[_k4] = ss;\n            this._sheet[_k4] = _bridge2.sheet;\n          }\n        }\n        for (var _k5 = _bridge2.j[0]; _k5 <= _bridge2.j[_bridge2.j.length - 1]; ++_k5) {\n          if (this._ss[_k5] !== StructureType$1.STRAND) {\n            this._ss[_k5] = ss;\n            this._sheet[_k5] = _bridge2.sheet;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_testBridge\",\n    value: function _testBridge(chainA, from, chainB, to) {\n      var result = BridgeType.NO_BRIDGE;\n      var a = chainA[from - 1]._index;\n      var b = chainA[from]._index;\n      var c = chainA[from + 1]._index;\n      var d = chainB[to - 1]._index;\n      var e = chainB[to]._index;\n      var f = chainB[to + 1]._index;\n      var isBond = this._hbonds.isBond.bind(this._hbonds);\n      if (isBond(c, e) && isBond(e, a) || isBond(f, b) && isBond(b, d)) {\n        result = BridgeType.PARALLEL;\n      } else if (isBond(c, d) && isBond(f, a) || isBond(e, b) && isBond(b, e)) {\n        result = BridgeType.ANTI_PARALLEL;\n      }\n      return result;\n    }\n  }, {\n    key: \"_areBridgesLinked\",\n    value: function _areBridgesLinked(a, b) {\n      var ai = new Set(a.i);\n      var aj = new Set(a.j);\n      var _iterator6 = _createForOfIteratorHelper(b.i),\n          _step6;\n      try {\n        for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n          var i = _step6.value;\n          if (ai.has(i) || aj.has(i)) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _iterator6.e(err);\n      } finally {\n        _iterator6.f();\n      }\n      var _iterator7 = _createForOfIteratorHelper(b.j),\n          _step7;\n      try {\n        for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n          var _i11 = _step7.value;\n          if (ai.has(_i11) || aj.has(_i11)) {\n            return true;\n          }\n        }\n      } catch (err) {\n        _iterator7.e(err);\n      } finally {\n        _iterator7.f();\n      }\n      return false;\n    }\n  }, {\n    key: \"_hasChainBreak\",\n    value: function _hasChainBreak(from, to) {\n      for (var i = from + 1; i <= to; ++i) {\n        if (this._complex._residues[i]._sequence !== this._complex._residues[i - 1]._sequence + 1) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return SecondaryStructureMap;\n}();\nSecondaryStructureMap.StructureType = StructureType$1;\n\nvar _helixClassMap, _loopMap;\nvar VOXEL_SIZE = 5.0;\nvar StructureType = SecondaryStructureMap.StructureType;\nvar StructuralElementType$3 = StructuralElement.Type;\nvar helixClassMap = (_helixClassMap = {}, _defineProperty(_helixClassMap, StructureType.HELIX_ALPHA, 1), _defineProperty(_helixClassMap, StructureType.HELIX_PI, 3), _defineProperty(_helixClassMap, StructureType.HELIX_310, 5), _helixClassMap);\nvar loopMap = (_loopMap = {}, _defineProperty(_loopMap, StructureType.BRIDGE, StructuralElementType$3.BRIDGE), _defineProperty(_loopMap, StructureType.TURN, StructuralElementType$3.TURN), _defineProperty(_loopMap, StructureType.BEND, StructuralElementType$3.BEND), _defineProperty(_loopMap, StructureType.LOOP, StructuralElementType$3.COIL), _loopMap);\nvar Complex$9 = function () {\n  function Complex() {\n    _classCallCheck(this, Complex);\n    this._chains = [];\n    this._components = [];\n    this._helices = [];\n    this._sheets = [];\n    this.structures = [];\n    this._residueTypes = Object.create(ResidueType$1.StandardTypes);\n    this._atoms = [];\n    this._residues = [];\n    this._bonds = [];\n    this._sgroups = [];\n    this._molecules = [];\n    this._maskNeedsUpdate = false;\n    this.metadata = {};\n    this.symmetry = [];\n    this.units = [new BiologicalUnit(this)];\n    this._currentUnit = 0;\n  }\n  _createClass(Complex, [{\n    key: \"addAtom\",\n    value: function addAtom(atom) {\n      var index = this._atoms.length;\n      this._atoms.push(atom);\n      return index;\n    }\n  }, {\n    key: \"addSheet\",\n    value: function addSheet(sheet) {\n      var index = this._sheets.length;\n      this._sheets.push(sheet);\n      return index;\n    }\n  }, {\n    key: \"addHelix\",\n    value: function addHelix(helix) {\n      var index = this._helices.length;\n      this._helices.push(helix);\n      return index;\n    }\n  }, {\n    key: \"getAtoms\",\n    value: function getAtoms() {\n      return this._atoms;\n    }\n  }, {\n    key: \"getBonds\",\n    value: function getBonds() {\n      return this._bonds;\n    }\n  }, {\n    key: \"getAtomCount\",\n    value: function getAtomCount() {\n      return this._atoms.length;\n    }\n  }, {\n    key: \"addResidue\",\n    value: function addResidue(residue) {\n      var index = this._residues.length;\n      this._residues.push(residue);\n      return index;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      this.forEachChain(function (chain) {\n        chain.updateToFrame(frameData);\n      });\n    }\n  }, {\n    key: \"addResidueType\",\n    value: function addResidueType(resName) {\n      var rt = this._residueTypes[resName] = new ResidueType$1(resName, 'Unknown', '');\n      return rt;\n    }\n  }, {\n    key: \"getResidueCount\",\n    value: function getResidueCount() {\n      return this._residues.length;\n    }\n  }, {\n    key: \"getResidues\",\n    value: function getResidues() {\n      return this._residues;\n    }\n  }, {\n    key: \"getSGroupCount\",\n    value: function getSGroupCount() {\n      return this._sgroups.length;\n    }\n  }, {\n    key: \"getSGroups\",\n    value: function getSGroups() {\n      return this._sgroups;\n    }\n  }, {\n    key: \"getAtomByFullname\",\n    value: function getAtomByFullname(fullName) {\n      var parts = fullName.split('.');\n      if (parts.length !== 3) {\n        return null;\n      }\n      var chainName = parts[0];\n      var resId = parseInt(parts[1], 10);\n      if (Number.isNaN(resId)) {\n        return null;\n      }\n      var atomName = parts[2].toUpperCase();\n      var currAtom = null;\n      this.forEachChain(function (chain) {\n        if (currAtom) {\n          return;\n        }\n        if (chain._name.localeCompare(chainName) === 0) {\n          chain.forEachResidue(function (residue) {\n            if (currAtom) {\n              return;\n            }\n            if (residue._sequence === resId) {\n              residue.forEachAtom(function (atom) {\n                if (currAtom) {\n                  return;\n                }\n                if (atomName.localeCompare(atom.name) === 0) {\n                  currAtom = atom;\n                }\n              });\n            }\n          });\n        }\n      });\n      return currAtom;\n    }\n  }, {\n    key: \"addChain\",\n    value: function addChain(name) {\n      var result = new Chain$2(this, name);\n      this._chains.push(result);\n      return result;\n    }\n  }, {\n    key: \"getChain\",\n    value: function getChain(name) {\n      for (var i = 0, n = this._chains.length; i < n; ++i) {\n        var chain = this._chains[i];\n        if (chain.getName() === name) {\n          return chain;\n        }\n      }\n      return null;\n    }\n  }, {\n    key: \"getChainCount\",\n    value: function getChainCount() {\n      return this._chains.length;\n    }\n  }, {\n    key: \"getMolecules\",\n    value: function getMolecules() {\n      return this._molecules;\n    }\n  }, {\n    key: \"getMoleculeCount\",\n    value: function getMoleculeCount() {\n      return this._molecules.length;\n    }\n  }, {\n    key: \"forEachAtom\",\n    value: function forEachAtom(process) {\n      var atoms = this._atoms;\n      for (var i = 0, n = atoms.length; i < n; ++i) {\n        process(atoms[i]);\n      }\n    }\n  }, {\n    key: \"forEachBond\",\n    value: function forEachBond(process) {\n      var bonds = this._bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        process(bonds[i]);\n      }\n    }\n  }, {\n    key: \"forEachResidue\",\n    value: function forEachResidue(process) {\n      var residues = this._residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        process(residues[i]);\n      }\n    }\n  }, {\n    key: \"forEachChain\",\n    value: function forEachChain(process) {\n      var chains = this._chains;\n      for (var i = 0, n = chains.length; i < n; ++i) {\n        process(chains[i]);\n      }\n    }\n  }, {\n    key: \"forEachMolecule\",\n    value: function forEachMolecule(process) {\n      var molecules = this._molecules;\n      var n = molecules.length;\n      for (var i = 0; i < n; ++i) {\n        process(molecules[i]);\n      }\n    }\n  }, {\n    key: \"forEachSGroup\",\n    value: function forEachSGroup(process) {\n      var groups = this._sgroups;\n      for (var i = 0, n = groups.length; i < n; ++i) {\n        process(groups[i]);\n      }\n    }\n  }, {\n    key: \"forEachComponent\",\n    value: function forEachComponent(process) {\n      var components = this._components;\n      for (var i = 0, n = components.length; i < n; ++i) {\n        process(components[i]);\n      }\n    }\n  }, {\n    key: \"forEachVisibleComponent\",\n    value: function forEachVisibleComponent(process) {\n      var components = this._components;\n      for (var i = 0, n = components.length; i < n; ++i) {\n        process(components[i]);\n      }\n    }\n  }, {\n    key: \"addBond\",\n    value: function addBond(left, right, order, type, fixed) {\n      var bond = new Bond$5(left, right, order, type, fixed);\n      this._bonds.push(bond);\n      return bond;\n    }\n  }, {\n    key: \"getBondCount\",\n    value: function getBondCount() {\n      return this._bonds.length;\n    }\n  }, {\n    key: \"getResidueType\",\n    value: function getResidueType(name) {\n      return this._residueTypes[name] || null;\n    }\n  }, {\n    key: \"getUnifiedSerial\",\n    value: function getUnifiedSerial(chain, serial, iCode) {\n      var maxSerial = 65536;\n      var chainShift = maxSerial * 256;\n      return serial + iCode * maxSerial + chain * chainShift;\n    }\n  }, {\n    key: \"splitUnifiedSerial\",\n    value: function splitUnifiedSerial(uniSerial) {\n      var maxSerial = 65536;\n      var chainShift = maxSerial * 256;\n      var chainId = Math.floor(uniSerial / chainShift);\n      var remnant = uniSerial - chainId * chainShift;\n      var insCode = Math.floor(remnant / maxSerial);\n      var ser = remnant - insCode * maxSerial;\n      return {\n        chain: chainId,\n        serial: ser,\n        iCode: insCode\n      };\n    }\n  }, {\n    key: \"_fillCmpEdit\",\n    value: function _fillCmpEdit() {\n      var self = this;\n      var components = this._components;\n      function addComp() {\n        var comp = new Component(self);\n        comp._index = components.length;\n        components[comp._index] = comp;\n        return comp;\n      }\n      this.forEachChain(function (chain) {\n        var residues = chain._residues;\n        var resCount = residues.length;\n        if (resCount < 1) {\n          return;\n        }\n        var comp = addComp();\n        var currStart = residues[0]._index;\n        for (var i = 0; i < resCount; ++i) {\n          var currRes = residues[i];\n          currRes._component = comp;\n          var nextRes = i === resCount - 1 ? null : residues[i + 1];\n          if (!nextRes || !currRes.isConnected(nextRes) || currRes._index !== nextRes._index - 1) {\n            comp.setSubDivs([{\n              start: currStart,\n              end: currRes._index\n            }]);\n            if (nextRes) {\n              currStart = nextRes._index;\n              comp = addComp();\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_fillCmpNoedit\",\n    value: function _fillCmpNoedit() {\n      var comp = new Component(this);\n      comp._index = 0;\n      var residues = this._residues;\n      var resCount = residues.length;\n      if (resCount === 0) {\n        return;\n      }\n      var currSubDivs = [];\n      var currStart = 0;\n      for (var i = 0; i < resCount; ++i) {\n        var currRes = residues[i];\n        currRes._component = comp;\n        var nextRes = i === resCount - 1 ? null : residues[i + 1];\n        if (!nextRes || !currRes.isConnected(nextRes)) {\n          currSubDivs[currSubDivs.length] = {\n            start: currStart,\n            end: i\n          };\n          if (nextRes) {\n            currStart = i + 1;\n          }\n        }\n      }\n      comp.setSubDivs(currSubDivs);\n      this._components[comp._index] = comp;\n    }\n  }, {\n    key: \"_fillComponents\",\n    value: function _fillComponents(enableEditing) {\n      if (enableEditing) {\n        this._fillCmpEdit();\n      } else {\n        this._fillCmpNoedit();\n      }\n    }\n  }, {\n    key: \"getCurrentUnit\",\n    value: function getCurrentUnit() {\n      return this._currentUnit;\n    }\n  }, {\n    key: \"getDefaultBoundaries\",\n    value: function getDefaultBoundaries() {\n      return this.units[0].getBoundaries();\n    }\n  }, {\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      return this.units[this._currentUnit].getBoundaries();\n    }\n  }, {\n    key: \"getTransforms\",\n    value: function getTransforms() {\n      return this.units[this._currentUnit].getTransforms();\n    }\n  }, {\n    key: \"getSelector\",\n    value: function getSelector() {\n      return this.units[this._currentUnit].getSelector();\n    }\n  }, {\n    key: \"resetCurrentUnit\",\n    value: function resetCurrentUnit() {\n      this._currentUnit = 0;\n      this.setCurrentUnit(1);\n    }\n  }, {\n    key: \"setCurrentUnit\",\n    value: function setCurrentUnit(newUnit) {\n      if (newUnit !== null && newUnit !== undefined && newUnit !== this._currentUnit && newUnit >= 0 && newUnit < this.units.length) {\n        this._currentUnit = newUnit;\n        return true;\n      }\n      return false;\n    }\n  }, {\n    key: \"_computeBounds\",\n    value: function _computeBounds() {\n      var units = this.units;\n      for (var i = 0, n = units.length; i < n; ++i) {\n        units[i].computeBoundaries();\n      }\n    }\n  }, {\n    key: \"onAtomPositionChanged\",\n    value: function onAtomPositionChanged() {\n      this.forEachChain(function (a) {\n        a._finalize();\n      });\n      this.forEachComponent(function (c) {\n        c.update();\n      });\n      this._computeBounds();\n      this._finalizeBonds();\n      this.forEachSGroup(function (s) {\n        s._rebuildSGroupOnAtomChange();\n      });\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      if (this._maskNeedsUpdate) {\n        this.updateStructuresMask();\n        this._maskNeedsUpdate = false;\n      }\n    }\n  }, {\n    key: \"_finalizeBonds\",\n    value: function _finalizeBonds() {\n      var bonds = this.getBonds();\n      var n = bonds.length;\n      for (var i = 0; i < n; ++i) {\n        bonds[i]._index = i;\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize(opts) {\n      opts = opts || {};\n      var bonds = this._bonds;\n      var i;\n      var n;\n      for (i = bonds.length - 1; i >= 0; i--) {\n        var bond = bonds[i];\n        if (bond._left === null || bond._right === null) {\n          bonds.splice(i, 1);\n        } else {\n          bond._left.bonds.push(bond);\n          bond._right.bonds.push(bond);\n        }\n      }\n      var residues = this._residues;\n      for (i = 0, n = residues.length; i < n; ++i) {\n        residues[i]._finalize();\n      }\n      this.forEachChain(function (a) {\n        a._finalize();\n      });\n      var units = this.units;\n      for (i = 0, n = units.length; i < n; ++i) {\n        units[i].finalize();\n      }\n      this.setCurrentUnit(1);\n      var residueHash = {};\n      for (i = 0, n = residues.length; i < n; ++i) {\n        var res = residues[i];\n        residueHash[this.getUnifiedSerial(res.getChain().getName().charCodeAt(0), res.getSequence(), res.getICode().charCodeAt(0))] = res;\n      }\n      var structures = this.structures;\n      for (i = 0, n = structures.length; i < n; ++i) {\n        structures[i]._finalize(opts.serialAtomMap, residueHash, this);\n      }\n      var helices = this._helices;\n      for (i = 0, n = helices.length; i < n; ++i) {\n        helices[i]._finalize(opts.serialAtomMap, residueHash, this);\n      }\n      var sheets = this._sheets;\n      for (i = 0, n = sheets.length; i < n; ++i) {\n        sheets[i]._finalize(opts.serialAtomMap, residueHash, this);\n      }\n      this._computeBounds();\n      var atoms = this._atoms;\n      for (i = 0, n = atoms.length; i < n; ++i) {\n        var currAtom = atoms[i];\n        currAtom.index = i;\n      }\n      if (opts.needAutoBonding) {\n        var autoConnector = new AutoBond(this);\n        autoConnector.build();\n        autoConnector.destroy();\n      }\n      var chains = this._chains;\n      for (i = 0, n = chains.length; i < n; ++i) {\n        chains[i]._index = i;\n      }\n      for (i = 0, n = residues.length; i < n; ++i) {\n        residues[i]._index = i;\n      }\n      for (i = 0, n = atoms.length; i < n; ++i) {\n        var atom = atoms[i];\n        if (atom.flags & Atom$2.Flags.HYDROGEN && atom.bonds.length === 1) {\n          var _bond = atom.bonds[0];\n          var other = _bond._left !== atom && _bond._left || _bond._right;\n          if (other.flags & Atom$2.Flags.CARBON) {\n            atom.flags |= Atom$2.Flags.NONPOLARH;\n          }\n        }\n      }\n      this._finalizeBonds();\n      this._fillComponents(opts.enableEditing);\n      var marker = new AromaticLoopsMarker(this);\n      marker.markCycles();\n      if (opts.detectAromaticLoops) {\n        marker.detectCycles();\n      }\n      this._finalizeMolecules();\n    }\n  }, {\n    key: \"_finalizeMolecules\",\n    value: function _finalizeMolecules() {\n      for (var i = 0; i < this._molecules.length; i++) {\n        var molecule = this._molecules[i];\n        var count = molecule.residues.length;\n        for (var j = 0; j < count; j++) {\n          var residue = molecule.residues[j];\n          residue._molecule = molecule;\n        }\n      }\n    }\n  }, {\n    key: \"updateStructuresMask\",\n    value: function updateStructuresMask() {\n      var updater = function updater(structure) {\n        return structure.collectMask();\n      };\n      this.forEachResidue(updater);\n      this.forEachChain(updater);\n      this.forEachMolecule(updater);\n    }\n  }, {\n    key: \"countAtomsByMask\",\n    value: function countAtomsByMask(mask) {\n      var count = 0;\n      this.forEachAtom(function (atom) {\n        if ((atom.mask & mask) !== 0) {\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"getNumAtomsBySelector\",\n    value: function getNumAtomsBySelector(selector) {\n      var count = 0;\n      this.forEachAtom(function (atom) {\n        if (selector.includesAtom(atom)) {\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"resetAtomMask\",\n    value: function resetAtomMask(mask) {\n      this.forEachAtom(function (atom) {\n        atom.mask = mask;\n      });\n    }\n  }, {\n    key: \"markAtoms\",\n    value: function markAtoms(selector, mask) {\n      var setMask = mask;\n      var clearMask = ~setMask;\n      var count = 0;\n      var totalSelector = selectors$5.keyword('And')(selector, this.getSelector());\n      this.forEachAtom(function (atom) {\n        if (totalSelector.includesAtom(atom)) {\n          atom.mask |= setMask;\n          count++;\n        } else {\n          atom.mask &= clearMask;\n        }\n      });\n      this._maskNeedsUpdate = true;\n      return count;\n    }\n  }, {\n    key: \"markAtomsAdditionally\",\n    value: function markAtomsAdditionally(selector, mask) {\n      var setMask = mask;\n      var count = 0;\n      this.forEachAtom(function (atom) {\n        if (selector.includesAtom(atom) && (atom.mask & mask) !== mask) {\n          atom.mask |= setMask;\n          count++;\n        }\n      });\n      return count;\n    }\n  }, {\n    key: \"clearAtomBits\",\n    value: function clearAtomBits(mask) {\n      var clearMask = ~mask;\n      this.forEachAtom(function (atom) {\n        atom.mask &= clearMask;\n      });\n      var reseter = function reseter(a) {\n        a._mask &= clearMask;\n      };\n      this.forEachAtom(reseter);\n      this.forEachResidue(reseter);\n      this.forEachChain(reseter);\n      this.forEachMolecule(reseter);\n    }\n  }, {\n    key: \"getAtomNames\",\n    value: function getAtomNames() {\n      if (this.hasOwnProperty('_atomNames')) {\n        return this._atomNames;\n      }\n      var dict = {};\n      this.forEachAtom(function (atom) {\n        dict[atom.name] = 1;\n      });\n      this._atomNames = Object.keys(dict);\n      return this._atomNames;\n    }\n  }, {\n    key: \"getElements\",\n    value: function getElements() {\n      if (this.hasOwnProperty('_elements')) {\n        return this._elements;\n      }\n      var dict = {};\n      this.forEachAtom(function (atom) {\n        dict[atom.element.name] = 1;\n      });\n      this._elements = Object.keys(dict);\n      return this._elements;\n    }\n  }, {\n    key: \"getResidueNames\",\n    value: function getResidueNames() {\n      if (this.hasOwnProperty('_residueNames')) {\n        return this._residueNames;\n      }\n      var dict = {};\n      this.forEachResidue(function (res) {\n        dict[res._type._name] = 1;\n      });\n      this._residueNames = Object.keys(dict);\n      return this._residueNames;\n    }\n  }, {\n    key: \"getChainNames\",\n    value: function getChainNames() {\n      if (this.hasOwnProperty('_chainNames')) {\n        return this._chainNames;\n      }\n      var dict = {};\n      this.forEachChain(function (chain) {\n        dict[chain._name] = 1;\n      });\n      this._chainNames = Object.keys(dict);\n      return this._chainNames;\n    }\n  }, {\n    key: \"getAltLocNames\",\n    value: function getAltLocNames() {\n      if (this.hasOwnProperty('_altlocNames')) {\n        return this._altlocNames;\n      }\n      var dict = {};\n      this.forEachAtom(function (atom) {\n        dict[String.fromCharCode(atom.location)] = 1;\n      });\n      this._altlocNames = Object.keys(dict);\n      return this._altlocNames;\n    }\n  }, {\n    key: \"getVoxelWorld\",\n    value: function getVoxelWorld() {\n      if (!this.hasOwnProperty('_voxelWorld')) {\n        try {\n          this._voxelWorld = new VoxelWorld(this.getDefaultBoundaries().boundingBox, new Vector3(VOXEL_SIZE, VOXEL_SIZE, VOXEL_SIZE));\n          this._voxelWorld.addAtoms(this);\n        } catch (e) {\n          logger.warn('Unable to create voxel world');\n          this._voxelWorld = null;\n        }\n      }\n      return this._voxelWorld;\n    }\n  }, {\n    key: \"addElement\",\n    value: function addElement(srcArray, dstArray, param, functor) {\n      var length = srcArray.length;\n      for (var i = 0; i < length; ++i) {\n        var elem = srcArray[i];\n        functor(elem, param);\n        dstArray.push(elem);\n      }\n    }\n  }, {\n    key: \"joinComplexes\",\n    value: function joinComplexes(complexes) {\n      this._chains = [];\n      this._components = [];\n      this._helices = [];\n      this._sheets = [];\n      this.structures = [];\n      this._atoms = [];\n      this._residues = [];\n      this._bonds = [];\n      this._sgroups = [];\n      var self = this;\n      var atomBias = 0;\n      var bondBias = 0;\n      var residueBias = 0;\n      var chainBias = 0;\n      var componentBias = 0;\n      function processAtom(atom, bias) {\n        atom.serial += bias;\n        atom.index += bias;\n      }\n      function processBond(bond, bias) {\n        bond._index += bias;\n      }\n      function processResidue(residue, bias) {\n        residue._index += bias;\n      }\n      function processChain(chain, bias) {\n        chain._complex = self;\n        chain._index += bias;\n      }\n      function processComponent(component, bias) {\n        component._complex = self;\n        component._index += bias;\n      }\n      function doNothing() {}\n      for (var i = 0; i < complexes.length; ++i) {\n        var c = complexes[i];\n        this.addElement(c._atoms, this._atoms, atomBias, processAtom);\n        this.addElement(c._bonds, this._bonds, bondBias, processBond);\n        this.addElement(c._residues, this._residues, residueBias, processResidue);\n        this.addElement(c._chains, this._chains, chainBias, processChain);\n        this.addElement(c._sheets, this._sheets, 0, doNothing);\n        this.addElement(c._helices, this._helices, 0, doNothing);\n        this.addElement(c._sgroups, this._sgroups, 0, doNothing);\n        this.addElement(c._components, this._components, componentBias, processComponent);\n        this.addElement(c.structures, this.structures, 0, doNothing);\n        for (var rt in c._residueTypes) {\n          if (c._residueTypes.hasOwnProperty(rt)) {\n            this._residueTypes[rt] = c._residueTypes[rt];\n          }\n        }\n        atomBias += c._atoms.length;\n        bondBias += c._bonds.length;\n        residueBias += c._residues.length;\n        chainBias += c._chains.length;\n        componentBias += c._components.length;\n      }\n      this._computeBounds();\n    }\n  }, {\n    key: \"dssp\",\n    value: function dssp() {\n      var ssMap = new SecondaryStructureMap(this);\n      var structures = this.structures = [];\n      var helices = this._helices = [];\n      var sheets = this._sheets = [];\n      var getSheet = function getSheet(index) {\n        var item = sheets[index];\n        if (!item) {\n          item = sheets[index] = new Sheet$3(String(index), 0);\n        }\n        return item;\n      };\n      var lastCode;\n      var lastSheetIndex;\n      var lastHelixIndex = 0;\n      var curStructure = null;\n      for (var i = 0, n = this._residues.length; i < n; ++i) {\n        var curCode = ssMap._ss[i];\n        var curResidue = this._residues[i];\n        var curSheetIndex = ssMap._sheet[i];\n        if (curCode === lastCode && curSheetIndex === lastSheetIndex) {\n          curResidue._secondary = curStructure;\n          if (curStructure) {\n            curStructure.term = curResidue;\n          }\n          if (curStructure instanceof Helix$3) {\n            curStructure.length++;\n          }\n          continue;\n        }\n        var helixClass = helixClassMap[curCode];\n        var loopType = loopMap[curCode];\n        if (curCode === StructureType.STRAND) {\n          var curSheet = getSheet(curSheetIndex);\n          curStructure = new Strand$3(curSheet, curResidue, curResidue, 0, null, null);\n          curSheet.addStrand(curStructure);\n        } else if (helixClass !== undefined) {\n          lastHelixIndex++;\n          curStructure = new Helix$3(helixClass, curResidue, curResidue, lastHelixIndex, String(lastHelixIndex), '', 1);\n          helices.push(curStructure);\n        } else if (loopType !== undefined) {\n          curStructure = new StructuralElement(loopType, curResidue, curResidue);\n        } else {\n          curStructure = null;\n        }\n        if (curStructure) {\n          structures.push(curStructure);\n        }\n        curResidue._secondary = curStructure;\n        lastCode = curCode;\n        lastSheetIndex = curSheetIndex;\n      }\n      this._sheets = sheets.filter(function (_sheet) {\n        return true;\n      });\n    }\n  }]);\n  return Complex;\n}();\nComplex$9.prototype.id = 'Complex';\nComplex$9.prototype.name = '';\n\nfunction pow2ceil(v) {\n  var p = 2;\n  v = v - 1 >> 1;\n  while (v) {\n    p <<= 1;\n    v >>= 1;\n  }\n  return p;\n}\nvar Volume$2 = function () {\n  function Volume(type, dimensions, box, vecSize, data, volumeInfo) {\n    _classCallCheck(this, Volume);\n    this._box = box.clone();\n    this._dimVec = Math.max(Math.floor(vecSize || 1), 1);\n    this._volumeInfo = volumeInfo;\n    if (dimensions instanceof Array) {\n      var _dimensions = _slicedToArray(dimensions, 3);\n      this._dimX = _dimensions[0];\n      this._dimY = _dimensions[1];\n      this._dimZ = _dimensions[2];\n    } else {\n      this._dimX = dimensions.x;\n      this._dimY = dimensions.y;\n      this._dimZ = dimensions.z;\n    }\n    this._dimX = Math.max(Math.floor(this._dimX), 1);\n    this._dimY = Math.max(Math.floor(this._dimY), 1);\n    this._dimZ = Math.max(Math.floor(this._dimZ), 1);\n    this._rowElements = this._dimVec * this._dimX;\n    this._planeElements = this._rowElements * this._dimY;\n    this._totalElements = this._planeElements * this._dimZ;\n    this._data = data || utils.allocateTyped(type, this._totalElements);\n    switch (this._dimVec) {\n      case 1:\n        break;\n      case 2:\n        this.getValue = function (x, y, z) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          return [this._data[idx], this._data[idx + 1]];\n        };\n        this.setValue = function (x, y, z, a, b) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] = a;\n          this._data[idx + 1] = b;\n        };\n        this.addValue = function (x, y, z, a, b) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] += a;\n          this._data[idx + 1] += b;\n        };\n        break;\n      case 3:\n        this.getValue = function (x, y, z) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          return [this._data[idx], this._data[idx + 1], this._data[idx + 2]];\n        };\n        this.setValue = function (x, y, z, a, b, c) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] = a;\n          this._data[idx + 1] = b;\n          this._data[idx + 2] = c;\n        };\n        this.addValue = function (x, y, z, a, b, c) {\n          var idx = x * this._dimVec + y * this._rowElements + z * this._planeElements;\n          this._data[idx] += a;\n          this._data[idx + 1] += b;\n          this._data[idx + 2] += c;\n        };\n        break;\n      default:\n        throw new Error('Volume: invalid vector dimension');\n    }\n  }\n  _createClass(Volume, [{\n    key: \"getValue\",\n    value: function getValue(x, y, z) {\n      return this._data[x + y * this._rowElements + z * this._planeElements];\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(x, y, z, val) {\n      this._data[x + y * this._rowElements + z * this._planeElements] = val;\n    }\n  }, {\n    key: \"addValue\",\n    value: function addValue(x, y, z, val) {\n      this._data[x + y * this._rowElements + z * this._planeElements] += val;\n    }\n  }, {\n    key: \"getDimensions\",\n    value: function getDimensions() {\n      return [this._dimX, this._dimY, this._dimZ];\n    }\n  }, {\n    key: \"getBox\",\n    value: function getBox() {\n      return this._box;\n    }\n  }, {\n    key: \"getVolumeInfo\",\n    value: function getVolumeInfo() {\n      return this._volumeInfo;\n    }\n  }, {\n    key: \"getCellSize\",\n    value: function getCellSize() {\n      var boxSize = new Vector3();\n      this._box.getSize(boxSize);\n      var res = new Vector3();\n      res.x = this._dimX > 1 ? boxSize.x / (this._dimX - 1) : 0;\n      res.y = this._dimY > 1 ? boxSize.y / (this._dimY - 1) : 0;\n      res.z = this._dimZ > 1 ? boxSize.z / (this._dimZ - 1) : 0;\n      return res;\n    }\n  }, {\n    key: \"computeGradient\",\n    value: function computeGradient() {\n      if (this._dimVec !== 1) {\n        return null;\n      }\n      var gradient = new Volume(Float32Array, [this._dimX, this._dimY, this._dimZ], this._box, 3);\n      var vl = this.getCellSize();\n      var vs = new Vector3(-0.5 / vl.x, -0.5 / vl.y, -0.5 / vl.z);\n      function clamp(val, min, max) {\n        return Math.min(max, Math.max(min, val));\n      }\n      var xSize = this._dimX;\n      var ySize = this._dimY;\n      var zSize = this._dimZ;\n      var volMap = this._data;\n      function _voxelValue(x, y, z) {\n        return volMap[z * xSize * ySize + y * xSize + x];\n      }\n      for (var zi = 0; zi < zSize; ++zi) {\n        var zm = clamp(zi - 1, 0, zSize - 1);\n        var zp = clamp(zi + 1, 0, zSize - 1);\n        for (var yi = 0; yi < ySize; ++yi) {\n          var ym = clamp(yi - 1, 0, ySize - 1);\n          var yp = clamp(yi + 1, 0, ySize - 1);\n          for (var xi = 0; xi < xSize; ++xi) {\n            var xm = clamp(xi - 1, 0, xSize - 1);\n            var xp = clamp(xi + 1, 0, xSize - 1);\n            gradient.setValue(xi, yi, zi, (_voxelValue(xp, yi, zi) - _voxelValue(xm, yi, zi)) * vs.x, (_voxelValue(xi, yp, zi) - _voxelValue(xi, ym, zi)) * vs.y, (_voxelValue(xi, yi, zp) - _voxelValue(xi, yi, zm)) * vs.z);\n          }\n        }\n      }\n      return gradient;\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize() {\n      var data = this._data;\n      var min = data[0];\n      var max = data[0];\n      for (var i = 1; i < data.length; ++i) {\n        min = Math.min(min, data[i]);\n        max = Math.max(max, data[i]);\n      }\n      var d = 1.0 / (max - min);\n      if (d === 0) {\n        return;\n      }\n      for (var _i = 0; _i < data.length; ++_i) {\n        data[_i] = d * (data[_i] - min);\n      }\n    }\n  }, {\n    key: \"getTiledTextureStride\",\n    value: function getTiledTextureStride() {\n      return [this._dimX + 2, this._dimY + 2];\n    }\n  }, {\n    key: \"buildTiledTexture\",\n    value: function buildTiledTexture() {\n      var tilesX = Math.ceil(Math.sqrt(this._dimZ * this._dimY / this._dimX));\n      var width = tilesX * (this._dimX + 2) - 1;\n      width = pow2ceil(width);\n      tilesX = Math.floor(width / (this._dimX + 2));\n      var tilesY = Math.ceil(this._dimZ / tilesX);\n      var height = tilesY * (this._dimY + 2) - 1;\n      height = pow2ceil(height);\n      var data = new Uint8Array(width * height);\n      var src;\n      var dst;\n      for (var tileRow = 0; tileRow < tilesY; ++tileRow) {\n        for (var row = 0; row < this._dimY; ++row) {\n          src = tileRow * tilesX * this._planeElements + row * this._rowElements;\n          dst = width * (tileRow * (this._dimY + 2) + row);\n          for (var t = 0; t < tilesX; ++t) {\n            for (var x = 0; x < this._dimX; ++x) {\n              data[dst++] = 255.0 * this._data[src++];\n            }\n            data[dst++] = 255.0 * this._data[src - 1];\n            if (t < tilesX - 1) {\n              src += this._planeElements - this._rowElements;\n              data[dst++] = 255.0 * this._data[src];\n            }\n          }\n        }\n      }\n      for (var _tileRow = 0; _tileRow < tilesY; ++_tileRow) {\n        src = width * (_tileRow * (this._dimY + 2) + this._dimY - 1);\n        dst = src + width;\n        for (var _x = 0; _x < width; ++_x) {\n          data[dst++] = data[src++];\n        }\n        if (_tileRow < tilesY - 1) {\n          src = width * (_tileRow + 1) * (this._dimY + 2);\n          dst = src - width;\n          for (var _x2 = 0; _x2 < width; ++_x2) {\n            data[dst++] = data[src++];\n          }\n        }\n      }\n      var texture = new DataTexture(data, width, height, LuminanceFormat, UnsignedByteType, UVMapping, ClampToEdgeWrapping, ClampToEdgeWrapping, LinearFilter, LinearFilter);\n      texture.needsUpdate = true;\n      return texture;\n    }\n  }, {\n    key: \"getData\",\n    value: function getData() {\n      return this._data;\n    }\n  }, {\n    key: \"getDirectIdx\",\n    value: function getDirectIdx(x, y, z) {\n      return x * this._dimVec + y * this._rowElements + z * this._planeElements;\n    }\n  }, {\n    key: \"getStrideX\",\n    value: function getStrideX() {\n      return this._dimVec;\n    }\n  }, {\n    key: \"getStrideY\",\n    value: function getStrideY() {\n      return this._rowElements;\n    }\n  }, {\n    key: \"getStrideZ\",\n    value: function getStrideZ() {\n      return this._planeElements;\n    }\n  }]);\n  return Volume;\n}();\nVolume$2.prototype.id = 'Volume';\n\nvar Molecule$8 = function () {\n  function Molecule(complex, name, index) {\n    _classCallCheck(this, Molecule);\n    this.complex = complex;\n    this.name = name || '';\n    this.residues = [];\n    this.mask = 1 | 0;\n    this.index = index || -1;\n  }\n  _createClass(Molecule, [{\n    key: \"forEachResidue\",\n    value: function forEachResidue(process) {\n      var residues = this.residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        process(residues[i]);\n      }\n    }\n  }, {\n    key: \"collectMask\",\n    value: function collectMask() {\n      var mask = 0xffffffff;\n      var residues = this.residues;\n      for (var i = 0, n = residues.length; i < n; ++i) {\n        mask &= residues[i]._mask;\n      }\n      this.mask = mask;\n    }\n  }]);\n  return Molecule;\n}();\n\nvar chem = {\n  Atom: Atom$2,\n  Element: Element$a,\n  Bond: Bond$5,\n  Residue: Residue$1,\n  ResidueType: ResidueType$1,\n  Chain: Chain$2,\n  Helix: Helix$3,\n  Strand: Strand$3,\n  Sheet: Sheet$3,\n  SGroup: SGroup$1,\n  Assembly: Assembly$3,\n  Complex: Complex$9,\n  Volume: Volume$2,\n  VoxelWorld: VoxelWorld,\n  selectors: selectors$5,\n  Molecule: Molecule$8\n};\n\nfunction _createSuper$1V(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1V(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1V() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar CSS2DObject = function (_Object3D) {\n  _inherits(CSS2DObject, _Object3D);\n  var _super = _createSuper$1V(CSS2DObject);\n  function CSS2DObject(element) {\n    var _this;\n    _classCallCheck(this, CSS2DObject);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._element = element;\n    _this._element.style.position = 'absolute';\n    _this.addEventListener('removed', function () {\n      if (self._element.parentNode !== null) {\n        self._element.parentNode.removeChild(self._element);\n      }\n    });\n    return _this;\n  }\n  _createClass(CSS2DObject, [{\n    key: \"getElement\",\n    value: function getElement() {\n      return this._element;\n    }\n  }, {\n    key: \"setTransparency\",\n    value: function setTransparency(transp) {\n      var el = this.getElement();\n      if (el === null) {\n        return;\n      }\n      if (transp === 1.0) {\n        el.style.display = 'none';\n        return;\n      }\n      el.style.display = 'inline';\n      var op = 1.0 - transp;\n      var top = op.toString();\n      var op100 = op * 100;\n      el.style.opacity = top;\n      el.style.filter = \"alpha(opacity=\".concat(op100, \")\");\n    }\n  }, {\n    key: \"clone\",\n    value: function clone() {\n      var obj = new CSS2DObject(this._element);\n      obj.copy(this);\n      return obj;\n    }\n  }]);\n  return CSS2DObject;\n}(Object3D);\n\nfunction _createSuper$1U(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1U(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1U() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar RCGroup = function (_Group) {\n  _inherits(RCGroup, _Group);\n  var _super = _createSuper$1U(RCGroup);\n  function RCGroup() {\n    _classCallCheck(this, RCGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(RCGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      if (!this.visible) {\n        return;\n      }\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        children[i].raycast(raycaster, intersects);\n      }\n    }\n  }, {\n    key: \"enableSubset\",\n    value: function enableSubset(mask, innerOnly) {\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].enableSubset) {\n          children[i].enableSubset(mask, innerOnly);\n        }\n      }\n    }\n  }, {\n    key: \"disableSubset\",\n    value: function disableSubset(mask, innerOnly) {\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].disableSubset) {\n          children[i].disableSubset(mask, innerOnly);\n        }\n      }\n    }\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return this.children.length === 0;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].updateToFrame) {\n          children[i].updateToFrame(frameData);\n        }\n      }\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          Array.prototype.push.apply(totalSubset, children[i].getSubset(mask, innerOnly));\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return RCGroup;\n}(Group);\n\nvar vertexScreenQuadShader = \"uniform mat4 projectionMatrix;\\r\\nuniform mat4 modelViewMatrix;\\r\\n\\r\\nattribute vec2 uv;\\r\\nattribute vec3 position;\\r\\n\\r\\nvarying vec2 vUv;\\r\\n\\r\\nvoid main() {\\r\\n  vUv = uv;\\r\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\r\\n}\\r\\n\";\n\nvar fragmentScreenQuadFromTex = \"precision highp float;\\r\\n\\r\\nvarying vec2 vUv;\\r\\nuniform sampler2D srcTex;\\r\\nuniform float opacity;\\r\\n\\r\\nvoid main() {\\r\\n  vec4 color = texture2D(srcTex, vUv);\\r\\n  gl_FragColor = vec4(color.xyz, color.a * opacity);\\r\\n}\\r\\n\";\n\nvar fragmentScreenQuadFromTexWithDistortion = \"precision highp float;\\r\\n\\r\\nvarying vec2 vUv;\\r\\nuniform sampler2D srcTex;\\r\\nuniform float coef;\\r\\n\\r\\nvoid main() {\\r\\n  vec2 uv = vUv * 2.0 - 1.0;\\r\\n  float r2 = dot(uv, uv);\\r\\n  vec2 tc = uv * (1.0 + coef * r2);\\r\\n  if (!all(lessThan(abs(tc), vec2(1.0))))\\r\\n    discard;\\r\\n  tc = 0.5 * (tc + 1.0);\\r\\n  gl_FragColor = texture2D(srcTex, tc);\\r\\n}\\r\\n\";\n\nfunction _createSuper$1T(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1T(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1T() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LAYERS = {\n  DEFAULT: 0,\n  VOLUME: 1,\n  TRANSPARENT: 2,\n  PREPASS_TRANSPARENT: 3,\n  VOLUME_BFPLANE: 4,\n  COLOR_FROM_POSITION: 5,\n  SHADOWMAP: 6\n};\nvar SELECTION_LAYERS = [\nLAYERS.DEFAULT, LAYERS.TRANSPARENT];\nObject3D.prototype.resetTransform = function () {\n  this.position.set(0, 0, 0);\n  this.quaternion.set(0, 0, 0, 1);\n  this.scale.set(1, 1, 1);\n};\nObject3D.prototype.updateMatrixWorldRecursive = function () {\n  if (this.parent != null) {\n    this.parent.updateMatrixWorldRecursive();\n  }\n  this.updateMatrixWorld();\n};\nObject3D.prototype.addSavingWorldTransform = function () {\n  var _worldMatrixInverse = new Matrix4();\n  return function (object) {\n    if (object instanceof Object3D) {\n      _worldMatrixInverse.copy(this.matrixWorld).invert();\n      _worldMatrixInverse.multiply(object.matrixWorld);\n      object.matrix.copy(_worldMatrixInverse);\n      object.matrix.decompose(object.position, object.quaternion, object.scale);\n      this.add(object);\n    }\n  };\n}();\nWebGLRenderer.prototype.renderDummyQuad = function () {\n  var _material = new MeshBasicMaterial({\n    transparent: true,\n    opacity: 0.0,\n    depthWrite: false\n  });\n  var _scene = new Scene();\n  var _quad = new Mesh(new PlaneBufferGeometry(0.01, 0.01), _material);\n  _scene.add(_quad);\n  var _camera = new OrthographicCamera(-0.5, 0.5, 0.5, -0.5, -10000, 10000);\n  _camera.position.z = 100;\n  return function () {\n    this.render(_scene, _camera);\n  };\n}();\nWebGLRenderer.prototype.renderScreenQuad = function () {\n  var _scene = new Scene();\n  var _quad = new Mesh(new PlaneBufferGeometry(1.0, 1.0));\n  _scene.add(_quad);\n  var _camera = new OrthographicCamera(-0.5, 0.5, 0.5, -0.5, -10000, 10000);\n  _camera.position.z = 100;\n  return function (material) {\n    _quad.material = material;\n    this.render(_scene, _camera);\n  };\n}();\nMatrix4.prototype.isIdentity = function () {\n  var identity = new Matrix4();\n  return function () {\n    return identity.equals(this);\n  };\n}();\nMatrix4.prototype.applyToPointsArray = function (array, stride, w) {\n  if (!array || !stride || stride < 3) {\n    return array;\n  }\n  w = w || 0;\n  var e = this.elements;\n  for (var i = 0; i < array.length; i += stride) {\n    var x = array[i];\n    var y = array[i + 1];\n    var z = array[i + 2];\n    var persp = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n    array[i] = (e[0] * x + e[4] * y + e[8] * z + e[12] * w) * persp;\n    array[i + 1] = (e[1] * x + e[5] * y + e[9] * z + e[13] * w) * persp;\n    array[i + 2] = (e[2] * x + e[6] * y + e[10] * z + e[14] * w) * persp;\n  }\n  return array;\n};\nvar ScreenQuadMaterial = function (_RawShaderMaterial) {\n  _inherits(ScreenQuadMaterial, _RawShaderMaterial);\n  var _super = _createSuper$1T(ScreenQuadMaterial);\n  function ScreenQuadMaterial(params) {\n    _classCallCheck(this, ScreenQuadMaterial);\n    if (params.uniforms === undefined) {\n      params.uniforms = {};\n    }\n    params.uniforms.srcTex = {\n      type: 't',\n      value: null\n    };\n    params.vertexShader = vertexScreenQuadShader;\n    params.transparent = false;\n    params.depthTest = false;\n    params.depthWrite = false;\n    return _super.call(this, params);\n  }\n  return _createClass(ScreenQuadMaterial);\n}(RawShaderMaterial);\nWebGLRenderer.prototype.renderScreenQuadFromTex = function () {\n  var _material = new ScreenQuadMaterial({\n    uniforms: {\n      opacity: {\n        type: 'f',\n        value: 1.0\n      }\n    },\n    fragmentShader: fragmentScreenQuadFromTex,\n    transparent: true\n  });\n  return function (srcTex, opacity) {\n    _material.uniforms.srcTex.value = srcTex;\n    _material.transparent = opacity < 1.0;\n    _material.uniforms.opacity.value = opacity;\n    this.renderScreenQuad(_material);\n  };\n}();\nWebGLRenderer.prototype.renderScreenQuadFromTexWithDistortion = function () {\n  var _material = new ScreenQuadMaterial({\n    uniforms: {\n      coef: {\n        type: 'f',\n        value: 1.0\n      }\n    },\n    fragmentShader: fragmentScreenQuadFromTexWithDistortion\n  });\n  return function (srcTex, coef) {\n    _material.uniforms.srcTex.value = srcTex;\n    _material.uniforms.coef.value = coef;\n    this.renderScreenQuad(_material);\n  };\n}();\nPerspectiveCamera.prototype.setMinimalFov = function (angle) {\n  if (this.aspect >= 1.0) {\n    this.fov = angle;\n  } else {\n    this.fov = MathUtils.radToDeg(2 * Math.atan(Math.tan(MathUtils.degToRad(angle) * 0.5) / this.aspect));\n  }\n};\nStereoCamera.prototype.updateHalfSized = function (camera, angle) {\n  var originalAspect = camera.aspect;\n  var originalFov = camera.fov;\n  camera.aspect = originalAspect / 2.0;\n  camera.setMinimalFov(angle);\n  camera.updateProjectionMatrix();\n  this.update(camera);\n  camera.aspect = originalAspect;\n  camera.fov = originalFov;\n  camera.updateProjectionMatrix();\n};\nPerspectiveCamera.prototype.setDistanceToFit = function (radius, angle) {\n  this.position.z = radius / Math.sin(0.5 * MathUtils.degToRad(angle));\n};\nRaycaster.prototype.intersectVisibleObject = function (gfxObj, camera, clipPlane, fogFarPlane) {\n  var intersects = this.intersectObject(gfxObj, false);\n  if (intersects.length === 0) {\n    return null;\n  }\n  var nearPlane = Math.min(camera.near, clipPlane);\n  var i;\n  var p = intersects[0];\n  var v = new Vector3();\n  for (i = 0; i < intersects.length; ++i) {\n    p = intersects[i];\n    v.copy(p.point);\n    v.applyMatrix4(camera.matrixWorldInverse);\n    if (v.z <= -nearPlane) {\n      break;\n    }\n  }\n  if (i === intersects.length) {\n    return null;\n  }\n  var farPlane = Math.min(camera.far, fogFarPlane);\n  v.copy(p.point);\n  v.applyMatrix4(camera.matrixWorldInverse);\n  if (v.z <= -farPlane) {\n    return null;\n  }\n  return p;\n};\nMatrix4.prototype.extractScale = function () {\n  var _v = new Vector3();\n  return function (scale) {\n    if (scale === undefined) {\n      logger.debug('extractScale(): new is too expensive operation to do it on-the-fly');\n      scale = _v.clone();\n    }\n    var te = this.elements;\n    scale.x = _v.set(te[0], te[1], te[2]).length();\n    scale.y = _v.set(te[4], te[5], te[6]).length();\n    scale.z = _v.set(te[8], te[9], te[10]).length();\n    var det = this.determinant();\n    if (det < 0) {\n      scale.x = -scale.x;\n    }\n    return scale;\n  };\n}();\nfunction _calcCylinderMatrix(posBegin, posEnd, radius) {\n  var posCenter = posBegin.clone().lerp(posEnd, 0.5);\n  var matScale = new Matrix4();\n  matScale.makeScale(radius, posBegin.distanceTo(posEnd), radius);\n  var matRotHalf = new Matrix4();\n  matRotHalf.makeRotationX(Math.PI / 2);\n  var matRotLook = new Matrix4();\n  var vUp = new Vector3(0, 1, 0);\n  matRotLook.lookAt(posCenter, posEnd, vUp);\n  matRotLook.multiply(matRotHalf);\n  matRotLook.multiply(matScale);\n  matRotLook.setPosition(posCenter);\n  return matRotLook;\n}\nfunction _calcChunkMatrix(eye, target, up, rad) {\n  var matScale = new Matrix4();\n  matScale.makeScale(rad.x, rad.y, 0);\n  var matRotLook = new Matrix4();\n  matRotLook.lookAt(eye, target, up);\n  matRotLook.multiply(matScale);\n  matRotLook.setPosition(eye);\n  return matRotLook;\n}\nfunction _groupHasGeometryToRender(group) {\n  var hasGeoms = false;\n  group.traverse(function (node) {\n    if (node.hasOwnProperty('geometry') || node instanceof CSS2DObject) {\n      hasGeoms = true;\n    }\n  });\n  return hasGeoms;\n}\nfunction _buildDistorionMesh(widthSegments, heightSegements, coef) {\n  function calcInverseBarrel(r2) {\n    var epsilon = 1e-5;\n    var prevR2 = 0.0;\n    var curR2 = r2;\n    var dr = 1.0;\n    while (Math.abs(curR2 - prevR2) > epsilon) {\n      dr = 1.0 + coef * curR2;\n      prevR2 = curR2;\n      curR2 = r2 / (dr * dr);\n    }\n    return 1.0 / dr;\n  }\n  var geo = new PlaneBufferGeometry(2.0, 2.0, widthSegments, heightSegements);\n  var pos = geo.getAttribute('position');\n  for (var i = 0; i < pos.count; ++i) {\n    var x = pos.array[3 * i];\n    var y = pos.array[3 * i + 1];\n    var c = calcInverseBarrel(x * x + y * y);\n    pos.setXY(i, c * x, c * y);\n  }\n  return geo;\n}\nBufferAttribute.prototype.copyAtList = function (attribute, indexList) {\n  console.assert(this.itemSize === attribute.itemSize, 'false: BufferAttribute.copyAtList buffers have different item size.');\n  var itemSize = this.itemSize;\n  for (var i = 0, n = indexList.length; i < n; ++i) {\n    for (var j = 0; j < itemSize; ++j) {\n      this.array[i * itemSize + j] = attribute.array[indexList[i] * itemSize + j];\n    }\n  }\n  return this;\n};\nfunction fillArray(array, value, startIndex, endIndex) {\n  startIndex = typeof startIndex !== 'undefined' ? startIndex : 0;\n  endIndex = typeof endIndex !== 'undefined' ? endIndex : array.length;\n  for (var i = startIndex; i < endIndex; ++i) {\n    array[i] = value;\n  }\n}\nfunction removeChildren(object) {\n  var children = object.children;\n  for (var i = 0, n = children.length; i < n; ++i) {\n    var child = children[i];\n    child.parent = null;\n    child.dispatchEvent({\n      type: 'removed'\n    });\n  }\n  object.children = [];\n}\nfunction clearTree(object) {\n  object.traverse(function (obj) {\n    if (obj instanceof Mesh || obj instanceof LineSegments || obj instanceof Line) {\n      obj.geometry.dispose();\n    }\n  });\n  removeChildren(object);\n}\nfunction destroyObject(object) {\n  clearTree(object);\n  if (object.parent) {\n    object.parent.remove(object);\n  } else {\n    object.dispatchEvent({\n      type: 'removed'\n    });\n  }\n}\nfunction belongToSelectLayers(object) {\n  for (var i = 0; i < SELECTION_LAYERS.length; i++) {\n    if ((object.layers.mask >> SELECTION_LAYERS[i] & 1) === 1) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction processObjRenderOrder(root, idMaterial) {\n  var renderOrder = +(idMaterial !== 'BA');\n  root.traverse(function (object) {\n    if (object.isGroup) {\n      object.renderOrder = renderOrder;\n    }\n  });\n}\nfunction applySelectionMaterial(geo) {\n  geo.traverse(function (node) {\n    if ('material' in node) {\n      node.material = node.material.clone(true);\n      node.material.setValues({\n        depthFunc: LessEqualDepth,\n        overrideColor: true,\n        fog: false,\n        lights: false,\n        shadowmap: false\n      });\n      node.material.setUberOptions({\n        fixedColor: new Color(0xffff00),\n        zOffset: -1e-6\n      });\n    }\n  });\n}\nfunction getMiddlePoint(point1, point2, optionalTarget) {\n  var result = optionalTarget || new Vector3();\n  result.set(0, 0, 0);\n  result.addScaledVector(point1, 0.5);\n  result.addScaledVector(point2, 0.5);\n  return result;\n}\nvar _oldInstancedBufferGeometryCopy = InstancedBufferGeometry.prototype.copy;\nInstancedBufferGeometry.prototype.copy = function (source) {\n  _oldInstancedBufferGeometryCopy.call(this, source);\n  if (this.instanceCount === undefined) {\n    this.instanceCount = Infinity;\n  }\n};\nvar gfxutils = {\n  calcCylinderMatrix: _calcCylinderMatrix,\n  calcChunkMatrix: _calcChunkMatrix,\n  groupHasGeometryToRender: _groupHasGeometryToRender,\n  buildDistorionMesh: _buildDistorionMesh,\n  RCGroup: RCGroup,\n  fillArray: fillArray,\n  clearTree: clearTree,\n  destroyObject: destroyObject,\n  belongToSelectLayers: belongToSelectLayers,\n  processObjRenderOrder: processObjRenderOrder,\n  applySelectionMaterial: applySelectionMaterial,\n  getMiddlePoint: getMiddlePoint,\n  LAYERS: LAYERS\n};\n\nfunction _createSuper$1S(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1S(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1S() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _defaultBoundaries = {\n  boundingBox: new Box3(new Vector3(-1, -1, -1), new Vector3(1, 1, 1)),\n  boundingSphere: new Sphere(new Vector3(0, 0, 0), 1)\n};\nvar Visual = function (_gfxutils$RCGroup) {\n  _inherits(Visual, _gfxutils$RCGroup);\n  var _super = _createSuper$1S(Visual);\n  function Visual(name, dataSource) {\n    var _this;\n    _classCallCheck(this, Visual);\n    _this = _super.call(this, name, dataSource);\n    _this.name = name;\n    _this._dataSource = dataSource;\n    return _this;\n  }\n  _createClass(Visual, [{\n    key: \"release\",\n    value: function release() {\n      if (this.parent) {\n        this.parent.remove(this);\n      }\n    }\n  }, {\n    key: \"getDataSource\",\n    value: function getDataSource() {\n      return this._dataSource;\n    }\n  }, {\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      return _defaultBoundaries;\n    }\n  }]);\n  return Visual;\n}(gfxutils.RCGroup);\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray$1(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray$1(arr) || _nonIterableSpread();\n}\n\nfunction _ensureArray(x) {\n  if (x === null || x === undefined || Array.isArray(x)) {\n    return x;\n  }\n  return [x];\n}\nvar EntityList = function () {\n  function EntityList() {\n    var _this = this;\n    var entities = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var indices = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['id'];\n    _classCallCheck(this, EntityList);\n    this._list = [];\n    this._dict = {};\n    this._indices = _toConsumableArray(indices);\n    this._indices.forEach(function (index) {\n      _this._dict[index] = {};\n    });\n    entities.forEach(function (entity) {\n      return _this.register(entity);\n    });\n  }\n  _createClass(EntityList, [{\n    key: \"register\",\n    value:\n    function register(entity) {\n      var _this2 = this;\n      EntityList.registerInList(this._list, entity);\n      this._indices.forEach(function (index) {\n        EntityList.registerInDict(_this2._dict[index], _ensureArray(entity[index]), entity);\n      });\n    }\n  }, {\n    key: \"unregister\",\n    value: function unregister(entity) {\n      var _this3 = this;\n      EntityList.unregisterFromList(this._list, entity);\n      this._indices.forEach(function (index) {\n        EntityList.unregisterFromDict(_this3._dict[index], _ensureArray(entity[index]), entity);\n      });\n    }\n  }, {\n    key: \"all\",\n    get: function get() {\n      return _toConsumableArray(this._list);\n    }\n  }, {\n    key: \"first\",\n    get: function get() {\n      return this._list[0];\n    }\n  }, {\n    key: \"keys\",\n    value: function keys(index) {\n      return Object.keys(this._dict[index || this._indices[0]]);\n    }\n  }, {\n    key: \"get\",\n    value: function get(key, index) {\n      var dict = this._dict[index || this._indices[0]];\n      if (dict) {\n        var values = dict[key && key.toLowerCase()];\n        return values && values.length > 0 ? values[0] : undefined;\n      }\n      return undefined;\n    }\n  }], [{\n    key: \"registerInList\",\n    value: function registerInList(list, value) {\n      if (!list.includes(value)) {\n        list.push(value);\n      }\n    }\n  }, {\n    key: \"unregisterFromList\",\n    value: function unregisterFromList(list, value) {\n      var pos = list.indexOf(value);\n      if (pos !== -1) {\n        list.splice(pos, 1);\n      }\n    }\n  }, {\n    key: \"registerInDict\",\n    value: function registerInDict(dict, keys, value) {\n      keys.forEach(function (key) {\n        key = key.toLowerCase();\n        var list = dict[key] = dict[key] || [];\n        if (!list.includes(value)) {\n          list.push(value);\n        }\n      });\n    }\n  }, {\n    key: \"unregisterFromDict\",\n    value: function unregisterFromDict(dict, keys, value) {\n      keys.forEach(function (key) {\n        key = key.toLowerCase();\n        var list = dict[key];\n        if (list) {\n          var pos = list.indexOf(value);\n          if (pos !== -1) {\n            list.splice(pos, 1);\n          }\n          if (list.length === 0) {\n            delete dict[key];\n          }\n        }\n      });\n    }\n  }]);\n  return EntityList;\n}();\n\nfunction makeContextDependent(prototype) {\n  Object.defineProperties(prototype, {\n    logger: {\n      get: function get() {\n        return this.context && this.context.logger ? this.context.logger : logger;\n      }\n    },\n    settings: {\n      get: function get() {\n        return this.context && this.context.settings ? this.context.settings : settings$1;\n      }\n    }\n  });\n}\n\nfunction _createSuper$1R(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1R(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1R() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar CollisionSphere = function () {\n  function CollisionSphere(position, radius) {\n    _classCallCheck(this, CollisionSphere);\n    this._position = position;\n    this._radius = radius;\n  }\n  _createClass(CollisionSphere, [{\n    key: \"raycast\",\n    value: function raycast(raycaster) {\n      var sphere = CollisionSphere._sphere;\n      sphere.set(this._position, this._radius);\n      var p = new Vector3();\n      if (raycaster.ray.intersectSphere(sphere, p)) {\n        return {\n          distance: raycaster.ray.origin.distanceTo(p),\n          point: p\n        };\n      }\n      return null;\n    }\n  }]);\n  return CollisionSphere;\n}();\n_defineProperty(CollisionSphere, \"_sphere\", new Sphere());\nvar SphereCollisionGeo = function SphereCollisionGeo(base) {\n  return function (_base) {\n    _inherits(_class, _base);\n    var _super = _createSuper$1R(_class);\n    function _class(count) {\n      var _this;\n      _classCallCheck(this, _class);\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _this._objects = new Array(count);\n      _this.boundingSphere = null;\n      _this.boundingBox = null;\n      return _this;\n    }\n    _createClass(_class, [{\n      key: \"setSphere\",\n      value: function setSphere(idx, position, radius) {\n        this._objects[idx] = new CollisionSphere(position, radius);\n      }\n    }, {\n      key: \"raycast\",\n      value: function raycast(raycaster, intersects) {\n        for (var i = 0, n = this._objects.length; i < n; ++i) {\n          var inters = this._objects[i].raycast(raycaster);\n          if (inters) {\n            inters.chunkIdx = i;\n            intersects.push(inters);\n          }\n        }\n      }\n    }, {\n      key: \"computeBoundingBox\",\n      value: function computeBoundingBox() {\n        var objects = this._objects;\n        var boundingBox = this.boundingBox;\n        if (boundingBox === null) {\n          this.boundingBox = boundingBox = new Box3();\n        }\n        boundingBox.makeEmpty();\n        for (var i = 0, n = objects.length; i < n; ++i) {\n          boundingBox.expandByPoint(objects[i]._position);\n        }\n      }\n    }, {\n      key: \"computeBoundingSphere\",\n      value: function computeBoundingSphere() {\n        this.computeBoundingBox();\n        var objects = this._objects;\n        var boundingBox = this.boundingBox;\n        var radiusSquared = 0.0;\n        var center = new Vector3();\n        boundingBox.getCenter(center);\n        for (var i = 0, n = objects.length; i < n; ++i) {\n          var pos = objects[i]._position;\n          var lengthSquared = center.distanceToSquared(pos);\n          if (radiusSquared < lengthSquared) {\n            radiusSquared = lengthSquared;\n          }\n        }\n        if (this.boundingSphere === null) {\n          this.boundingSphere = new Sphere();\n        }\n        this.boundingSphere.set(center, Math.sqrt(radiusSquared));\n      }\n    }]);\n    return _class;\n  }(base);\n};\n\nfunction _createSuper$1Q(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1Q(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1Q() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar tmpColor$4 = new Color();\nvar OFFSET_SIZE$1 = 4;\nvar COLOR_SIZE$3 = 3;\nvar copySubArrays$1 = utils.copySubArrays;\nfunction setArrayXYZ$2(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\nfunction setArrayXYZW$2(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\nvar InstancedSpheresGeometry = function (_SphereCollisionGeo) {\n  _inherits(InstancedSpheresGeometry, _SphereCollisionGeo);\n  var _super = _createSuper$1Q(InstancedSpheresGeometry);\n  function InstancedSpheresGeometry(spheresCount, sphereComplexity, useZSprites) {\n    var _this;\n    _classCallCheck(this, InstancedSpheresGeometry);\n    _this = _super.call(this, spheresCount);\n    _this._sphGeometry = useZSprites ? new PlaneBufferGeometry(2, 2, 1, 1) : new SphereBufferGeometry(1, sphereComplexity * 2, sphereComplexity, 0, Math.PI * 2, 0, Math.PI);\n    _this._init(spheresCount, _this._sphGeometry);\n    return _this;\n  }\n  _createClass(InstancedSpheresGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, itemPos, itemRad) {\n      setArrayXYZW$2(this._offsets, itemIdx * OFFSET_SIZE$1, itemPos.x, itemPos.y, itemPos.z, itemRad);\n      this.setSphere(itemIdx, itemPos, itemRad);\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, colorVal) {\n      tmpColor$4.set(colorVal);\n      setArrayXYZ$2(this._colors, itemIdx * COLOR_SIZE$3, tmpColor$4.r, tmpColor$4.g, tmpColor$4.b);\n    }\n  }, {\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.getAttribute('offset').needsUpdate = true;\n      this.getAttribute('color').needsUpdate = true;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(chunkIndices, value) {\n      var alphaArr = this._alpha;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        alphaArr[chunkIndices[i]] = value;\n      }\n      this.getAttribute('alphaColor').needsUpdate = true;\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var instanceCount = chunkIndices.length;\n      var geom = new InstancedBufferGeometry();\n      this._init.call(geom, instanceCount, this._sphGeometry);\n      copySubArrays$1(this._offsets, geom._offsets, chunkIndices, OFFSET_SIZE$1);\n      copySubArrays$1(this._colors, geom._colors, chunkIndices, COLOR_SIZE$3);\n      geom.boundingSphere = this.boundingSphere;\n      geom.boundingBox = this.boundingBox;\n      return [geom];\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(spheresCount, sphereGeo) {\n      this.copy(sphereGeo);\n      this._offsets = utils.allocateTyped(Float32Array, spheresCount * OFFSET_SIZE$1);\n      this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE$3);\n      var alpha = this._alpha = utils.allocateTyped(Float32Array, spheresCount);\n      fill(alpha, 1.0);\n      this.setAttribute('offset', new InstancedBufferAttribute(this._offsets, OFFSET_SIZE$1, false, 1));\n      this.setAttribute('color', new InstancedBufferAttribute(this._colors, COLOR_SIZE$3, false, 1));\n      this.setAttribute('alphaColor', new InstancedBufferAttribute(alpha, 1, false, 1));\n    }\n  }]);\n  return InstancedSpheresGeometry;\n}(SphereCollisionGeo(InstancedBufferGeometry));\n\nfunction _createSuper$1P(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1P(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1P() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar MAX_IDC_16BIT$1 = 65535;\nvar VEC_SIZE$4 = 3;\nvar tmpColor$3 = new Color();\nvar ChunkedObjectsGeometry = function (_BufferGeometry) {\n  _inherits(ChunkedObjectsGeometry, _BufferGeometry);\n  var _super = _createSuper$1P(ChunkedObjectsGeometry);\n  function ChunkedObjectsGeometry(chunkGeo, chunksCount) {\n    var _this;\n    _classCallCheck(this, ChunkedObjectsGeometry);\n    _this = _super.call(this);\n    if (_this.constructor === ChunkedObjectsGeometry) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    _this._chunkGeo = chunkGeo;\n    _this._init(chunkGeo, chunksCount);\n    return _this;\n  }\n  _createClass(ChunkedObjectsGeometry, [{\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.getAttribute('position').needsUpdate = true;\n      this.getAttribute('normal').needsUpdate = true;\n      this.getAttribute('color').needsUpdate = true;\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(chunkIdx, colorVal) {\n      tmpColor$3.set(colorVal);\n      var colors = this._colors;\n      var chunkSize = this._chunkSize;\n      for (var i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n        var idx = i * VEC_SIZE$4;\n        colors[idx] = tmpColor$3.r;\n        colors[idx + 1] = tmpColor$3.g;\n        colors[idx + 2] = tmpColor$3.b;\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(chunkIndices, value) {\n      var alphaArr = this._alpha;\n      var chunkSize = this._chunkSize;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        var left = chunkIndices[i] * chunkSize;\n        fill(alphaArr, value, left, left + chunkSize);\n      }\n      this.getAttribute('alphaColor').needsUpdate = true;\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var inters = [];\n      var mesh = new Mesh();\n      mesh.geometry = this;\n      mesh.raycast(raycaster, inters);\n      var facesPerChunk = this._chunkGeo.index.count / 3;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!inters[i].hasOwnProperty('faceIndex')) {\n          continue;\n        }\n        inters[i].chunkIdx = Math.floor(inters[i].faceIndex / facesPerChunk);\n        intersects.push(inters[i]);\n      }\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var instanceCount = chunkIndices.length;\n      var geom = new BufferGeometry();\n      this._init.call(geom, this._chunkGeo, instanceCount);\n      var srcPos = this._positions;\n      var srcNorm = this._normals;\n      var srcColor = this._colors;\n      var dstPos = geom._positions;\n      var dstNorm = geom._normals;\n      var dstColor = geom._colors;\n      var chunkSize = this._chunkSize * VEC_SIZE$4;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        var dstPtOffset = i * chunkSize;\n        var ptIdxBegin = chunkIndices[i] * chunkSize;\n        var ptIdxEnd = ptIdxBegin + chunkSize;\n        dstPos.set(srcPos.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n        dstNorm.set(srcNorm.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n        dstColor.set(srcColor.subarray(ptIdxBegin, ptIdxEnd), dstPtOffset);\n      }\n      geom.boundingSphere = this.boundingSphere;\n      geom.boundingBox = this.boundingBox;\n      return [geom];\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(chunkGeo, chunksCount) {\n      var chunkSize = this._chunkSize = chunkGeo.attributes.position.count;\n      var chunkIndex = chunkGeo.index.array;\n      var chunkIndexSize = chunkIndex.length;\n      var pointsCount = this._chunkSize * chunksCount;\n      var use32bitIndex = pointsCount > MAX_IDC_16BIT$1;\n      var indexSize = chunkIndexSize * chunksCount;\n      var index = this._index = utils.allocateTyped(use32bitIndex ? Uint32Array : Uint16Array, indexSize);\n      this._positions = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE$4);\n      this._normals = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE$4);\n      this._colors = utils.allocateTyped(Float32Array, pointsCount * VEC_SIZE$4);\n      var alpha = this._alpha = utils.allocateTyped(Float32Array, pointsCount);\n      fill(alpha, 1.0);\n      for (var i = 0; i < chunksCount; ++i) {\n        var offset = i * chunkIndexSize;\n        var posOffset = i * chunkSize;\n        index.set(chunkIndex, offset);\n        for (var j = 0; j < chunkIndexSize; ++j) {\n          index[offset + j] += posOffset;\n        }\n      }\n      this.setIndex(new BufferAttribute(this._index, 1));\n      this.setAttribute('position', new BufferAttribute(this._positions, VEC_SIZE$4));\n      this.setAttribute('normal', new BufferAttribute(this._normals, VEC_SIZE$4));\n      this.setAttribute('color', new BufferAttribute(this._colors, VEC_SIZE$4));\n      this.setAttribute('alphaColor', new BufferAttribute(alpha, 1));\n    }\n  }]);\n  return ChunkedObjectsGeometry;\n}(BufferGeometry);\n\nfunction _createSuper$1O(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1O(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1O() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VEC_SIZE$3 = 3;\nvar SimpleSpheresGeometry = function (_SphereCollisionGeo) {\n  _inherits(SimpleSpheresGeometry, _SphereCollisionGeo);\n  var _super = _createSuper$1O(SimpleSpheresGeometry);\n  function SimpleSpheresGeometry(spheresCount, sphereComplexity) {\n    var _this;\n    _classCallCheck(this, SimpleSpheresGeometry);\n    var sphGeometry = new SphereBufferGeometry(1, sphereComplexity * 2, sphereComplexity, 0, Math.PI * 2, 0, Math.PI);\n    _this = _super.call(this, spheresCount, sphGeometry, spheresCount);\n    var normals = _this._normals;\n    var geoNormals = sphGeometry.attributes.normal.array;\n    var chunkSize = _this._chunkSize;\n    _this._chunkPos = _this._chunkGeo.attributes.position.array;\n    _this._tmpPositions = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE$3);\n    for (var i = 0; i < spheresCount; ++i) {\n      normals.set(geoNormals, chunkSize * VEC_SIZE$3 * i);\n    }\n    return _this;\n  }\n  _createClass(SimpleSpheresGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, itemPos, itemRad) {\n      var tmpPos = this._tmpPositions;\n      var chunkSize = this._chunkSize;\n      var geoPos = this._chunkPos;\n      for (var i = 0; i < chunkSize; ++i) {\n        var idx = i * 3;\n        tmpPos[idx] = itemPos.x + geoPos[idx] * itemRad;\n        tmpPos[idx + 1] = itemPos.y + geoPos[idx + 1] * itemRad;\n        tmpPos[idx + 2] = itemPos.z + geoPos[idx + 2] * itemRad;\n      }\n      this._positions.set(tmpPos, chunkSize * itemIdx * VEC_SIZE$3);\n      this.setSphere(itemIdx, itemPos, itemRad);\n    }\n  }]);\n  return SimpleSpheresGeometry;\n}(SphereCollisionGeo(ChunkedObjectsGeometry));\n\nfunction _createSuper$1N(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1N(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1N() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VEC_SIZE$2 = 3;\nvar centerPos = new Vector3();\nvar tmpVector$2 = new Vector3();\nvar normMtx$1 = new Matrix3();\nvar Simple2CCylindersGeometry = function (_ChunkedObjectsGeomet) {\n  _inherits(Simple2CCylindersGeometry, _ChunkedObjectsGeomet);\n  var _super = _createSuper$1N(Simple2CCylindersGeometry);\n  function Simple2CCylindersGeometry(instanceCount, polyComplexity) {\n    var _this;\n    _classCallCheck(this, Simple2CCylindersGeometry);\n    var cylGeometry = new CylinderBufferGeometry$1(1, 1, 1.0, Math.max(3, polyComplexity), 2, true);\n    _this = _super.call(this, cylGeometry, 2 * instanceCount);\n    var chunkSize = _this._chunkSize;\n    _this._chunkPos = _this._chunkGeo.attributes.position.array;\n    _this._chunkNorms = _this._chunkGeo.attributes.normal.array;\n    _this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE$2);\n    return _this;\n  }\n  _createClass(Simple2CCylindersGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, botPos, topPos, itemRad) {\n      var chunkSize = this._chunkSize;\n      var firstOffset = chunkSize * 2 * itemIdx * VEC_SIZE$2;\n      var secondOffset = firstOffset + chunkSize * VEC_SIZE$2;\n      var tmpArray = this._tmpVector;\n      var geoPos = this._chunkPos;\n      var geoNorm = this._chunkNorms;\n      centerPos.lerpVectors(botPos, topPos, 0.5);\n      var mtx1 = gfxutils.calcCylinderMatrix(botPos, centerPos, itemRad);\n      normMtx$1.getNormalMatrix(mtx1);\n      var idx;\n      for (var i = 0; i < chunkSize; ++i) {\n        idx = i * VEC_SIZE$2;\n        tmpVector$2.fromArray(geoPos, idx);\n        tmpVector$2.applyMatrix4(mtx1);\n        tmpVector$2.toArray(tmpArray, idx);\n      }\n      this._positions.set(tmpArray, firstOffset);\n      centerPos.sub(botPos);\n      for (var _i = 0; _i < chunkSize; ++_i) {\n        idx = _i * VEC_SIZE$2;\n        tmpArray[idx] += centerPos.x;\n        tmpArray[idx + 1] += centerPos.y;\n        tmpArray[idx + 2] += centerPos.z;\n      }\n      this._positions.set(tmpArray, secondOffset);\n      for (var _i2 = 0; _i2 < chunkSize; ++_i2) {\n        idx = _i2 * VEC_SIZE$2;\n        tmpVector$2.fromArray(geoNorm, idx);\n        tmpVector$2.applyMatrix3(normMtx$1);\n        tmpVector$2.toArray(tmpArray, idx);\n      }\n      this._normals.set(tmpArray, firstOffset);\n      this._normals.set(tmpArray, secondOffset);\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, colorVal1, colorVal2) {\n      var first = 2 * itemIdx;\n      _get(_getPrototypeOf(Simple2CCylindersGeometry.prototype), \"setColor\", this).call(this, first, colorVal1);\n      var second = first + 1;\n      _get(_getPrototypeOf(Simple2CCylindersGeometry.prototype), \"setColor\", this).call(this, second, colorVal2);\n    }\n  }]);\n  return Simple2CCylindersGeometry;\n}(ChunkedObjectsGeometry);\n\nfunction _createSuper$1M(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1M(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1M() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar MAX_POINTS_COUNT_16BIT = 65536;\nvar PTS_PER_TRIANGLE = 3;\nvar CylinderBufferGeometry = function (_BufferGeometry) {\n  _inherits(CylinderBufferGeometry, _BufferGeometry);\n  var _super = _createSuper$1M(CylinderBufferGeometry);\n  function CylinderBufferGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded) {\n    var _this;\n    _classCallCheck(this, CylinderBufferGeometry);\n    _this = _super.call(this);\n    var thetaStart = 0;\n    var thetaLength = 2 * Math.PI;\n    _this.type = 'CylinderBufferGeometry';\n    _this.parameters = {\n      radiusTop: radiusTop,\n      radiusBottom: radiusBottom,\n      height: height,\n      radialSegments: radialSegments,\n      heightSegments: heightSegments,\n      openEnded: openEnded\n    };\n    var hasTop = openEnded === false && radiusTop > 0;\n    var hasBottom = openEnded === false && radiusBottom > 0;\n    var vertexCount = (heightSegments + 1) * radialSegments + hasTop * (radialSegments + 1) + hasBottom * (radialSegments + 1);\n    var facesCount = (2 * heightSegments + hasTop + hasBottom) * radialSegments;\n    var heightHalf = height / 2;\n    var positions = new BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 3), 3);\n    var normals = new BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 3), 3);\n    var indices = new Uint16BufferAttribute(utils.allocateTyped(Uint16Array, facesCount * PTS_PER_TRIANGLE), 1);\n    var uvs = new BufferAttribute(utils.allocateTyped(Float32Array, vertexCount * 2), 2);\n    console.assert(vertexCount < MAX_POINTS_COUNT_16BIT, 'false: Cylinder Geometry has too many vertices (65536 max).');\n    var currVtxIdx = 0;\n    var currFaceIdx = 0;\n    var tanTheta = -(radiusBottom - radiusTop) / height;\n    for (var y = 0; y <= heightSegments; y++) {\n      if (y !== heightSegments) {\n        for (var i = 0; i < radialSegments; i++) {\n          var v1 = currVtxIdx + i;\n          var v2 = currVtxIdx + radialSegments + i;\n          var v3 = currVtxIdx + radialSegments + (i + 1) % radialSegments;\n          var v4 = currVtxIdx + (i + 1) % radialSegments;\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v1, v4, v2);\n          currFaceIdx++;\n          indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, v2, v4, v3);\n          currFaceIdx++;\n        }\n      }\n      var v = y / heightSegments;\n      var radius = v * (radiusBottom - radiusTop) + radiusTop;\n      for (var x = 0; x < radialSegments; x++) {\n        var u = x / radialSegments;\n        var vx = radius * Math.sin(u * thetaLength + thetaStart);\n        var vy = v * height - heightHalf;\n        var vz = radius * Math.cos(u * thetaLength + thetaStart);\n        var normal = new Vector3(vx, Math.sqrt(vx * vx + vz * vz) * tanTheta, vz).normalize();\n        positions.setXYZ(currVtxIdx, vx, vy, vz);\n        normals.setXYZ(currVtxIdx, normal.x, normal.y, normal.z);\n        uvs.setXY(currVtxIdx, u, v);\n        ++currVtxIdx;\n      }\n    }\n    if (hasTop) {\n      var startTIdx = currVtxIdx;\n      var lastIdx = currVtxIdx + radialSegments;\n      for (var fTIdx = 0; fTIdx < radialSegments; ++fTIdx) {\n        var currSrcIdx = currVtxIdx - radialSegments;\n        positions.setXYZ(currVtxIdx, positions.getX(currSrcIdx), positions.getY(currSrcIdx), positions.getZ(currSrcIdx));\n        normals.setXYZ(currVtxIdx, 0, 1, 0);\n        uvs.setXY(currVtxIdx, 1, 1);\n        var nextTVtx = startTIdx + (fTIdx + 1) % radialSegments;\n        indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, currVtxIdx, nextTVtx, lastIdx);\n        currFaceIdx++;\n        currVtxIdx++;\n      }\n      positions.setXYZ(currVtxIdx, 0, heightHalf, 0);\n      normals.setXYZ(currVtxIdx, 0, 1, 0);\n      uvs.setXY(currVtxIdx, 1, 1);\n      ++currVtxIdx;\n    }\n    if (hasBottom) {\n      var startBIdx = currVtxIdx;\n      var lastBIdx = currVtxIdx + radialSegments;\n      for (var fBIdx = 0; fBIdx < radialSegments; ++fBIdx) {\n        var currSrcBIdx = fBIdx;\n        positions.setXYZ(currVtxIdx, positions.getX(currSrcBIdx), positions.getY(currSrcBIdx), positions.getZ(currSrcBIdx));\n        normals.setXYZ(currVtxIdx, 0, -1, 0);\n        uvs.setXY(currVtxIdx, 0, 0);\n        var nextBVtx = startBIdx + (fBIdx + 1) % radialSegments;\n        indices.setXYZ(currFaceIdx * PTS_PER_TRIANGLE, nextBVtx, currVtxIdx, lastBIdx);\n        currFaceIdx++;\n        currVtxIdx++;\n      }\n      positions.setXYZ(currVtxIdx, 0, -heightHalf, 0);\n      normals.setXYZ(currVtxIdx, 0, -1, 0);\n      uvs.setXY(currVtxIdx, 0, 0);\n    }\n    _this.setIndex(indices);\n    _this.setAttribute('position', positions);\n    _this.setAttribute('normal', normals);\n    _this.setAttribute('uv', uvs);\n    return _this;\n  }\n  _createClass(CylinderBufferGeometry, [{\n    key: \"clone\",\n    value: function clone() {\n      var parameters = this.parameters;\n      return new CylinderBufferGeometry(parameters.radiusTop, parameters.radiusBottom, parameters.height, parameters.radialSegments, parameters.heightSegments, parameters.openEnded);\n    }\n  }]);\n  return CylinderBufferGeometry;\n}(BufferGeometry);\n\nfunction _createSuper$1L(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1L(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1L() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar tmpColor$2 = new Color();\nvar invMatrix = new Matrix4();\nvar OFFSET_SIZE = 4;\nvar COLOR_SIZE$2 = 3;\nvar copySubArrays = utils.copySubArrays;\nfunction setArrayXYZ$1(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\nfunction setArrayXYZW$1(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\nfunction sortNumber(a, b) {\n  return a - b;\n}\nfunction _prepareCylinderInfo(chunkIndices) {\n  chunkIndices.sort(sortNumber);\n  var chunksIdx = [];\n  var cylinderInfo = [];\n  for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n    var val = chunkIndices[i];\n    var even = (val | 0) % 2 === 0;\n    var newPar = {\n      first: false,\n      second: false\n    };\n    if (even) {\n      newPar.first = true;\n      newPar.second = i + 1 < n && chunkIndices[i + 1] === chunkIndices[i] + 1;\n      if (newPar.second) {\n        ++i;\n      }\n    } else {\n      newPar.second = true;\n    }\n    chunksIdx.push(Math.floor(val / 2));\n    cylinderInfo.push(newPar);\n  }\n  return {\n    indices: chunksIdx,\n    cylinderInfo: cylinderInfo\n  };\n}\nfunction _assignOpacity(cylinderInfo, color1, color2) {\n  for (var i = 0, n = cylinderInfo.length; i < n; ++i) {\n    var info = cylinderInfo[i];\n    if (!info.first) {\n      color1[COLOR_SIZE$2 * i] = -0.5;\n    }\n    if (!info.second) {\n      color2[COLOR_SIZE$2 * i] = -0.5;\n    }\n  }\n}\nvar Instanced2CCylindersGeometry = function (_InstancedBufferGeome) {\n  _inherits(Instanced2CCylindersGeometry, _InstancedBufferGeome);\n  var _super = _createSuper$1L(Instanced2CCylindersGeometry);\n  function Instanced2CCylindersGeometry(instanceCount, polyComplexity, useZSprites, openEnded) {\n    var _this;\n    _classCallCheck(this, Instanced2CCylindersGeometry);\n    _this = _super.call(this);\n    _this._useZSprites = useZSprites;\n    _this._cylGeometry = useZSprites ? new PlaneBufferGeometry(2, 2, 1, 1) : new CylinderBufferGeometry(1, 1, 1.0, Math.max(3, polyComplexity), 2, openEnded);\n    _this._init(instanceCount, _this._cylGeometry, _this._useZSprites);\n    _this._collisionGeo = new Simple2CCylindersGeometry(instanceCount, 3);\n    return _this;\n  }\n  _createClass(Instanced2CCylindersGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, botPos, topPos, itemRad) {\n      var matrix = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad);\n      var me = matrix.elements;\n      var mtxOffset = itemIdx * OFFSET_SIZE;\n      this._collisionGeo.setItem(itemIdx, botPos, topPos, itemRad);\n      setArrayXYZW$1(this._matVector1, mtxOffset, me[0], me[4], me[8], me[12]);\n      setArrayXYZW$1(this._matVector2, mtxOffset, me[1], me[5], me[9], me[13]);\n      setArrayXYZW$1(this._matVector3, mtxOffset, me[2], me[6], me[10], me[14]);\n      if (this._useZSprites) {\n        invMatrix.copy(matrix).invert();\n        me = invMatrix.elements;\n        setArrayXYZW$1(this._invmatVector1, mtxOffset, me[0], me[4], me[8], me[12]);\n        setArrayXYZW$1(this._invmatVector2, mtxOffset, me[1], me[5], me[9], me[13]);\n        setArrayXYZW$1(this._invmatVector3, mtxOffset, me[2], me[6], me[10], me[14]);\n      }\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, colorVal1, colorVal2) {\n      var colorIdx = itemIdx * COLOR_SIZE$2;\n      tmpColor$2.set(colorVal1);\n      setArrayXYZ$1(this._color1, colorIdx, tmpColor$2.r, tmpColor$2.g, tmpColor$2.b);\n      tmpColor$2.set(colorVal2);\n      setArrayXYZ$1(this._color2, colorIdx, tmpColor$2.r, tmpColor$2.g, tmpColor$2.b);\n    }\n  }, {\n    key: \"computeBoundingSphere\",\n    value: function computeBoundingSphere() {\n      this._collisionGeo.computeBoundingSphere();\n      this.boundingSphere = this._collisionGeo.boundingSphere;\n    }\n  }, {\n    key: \"computeBoundingBox\",\n    value: function computeBoundingBox() {\n      this._collisionGeo.computeBoundingBox();\n      this.boundingBox = this._collisionGeo.boundingBox;\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      this._collisionGeo.raycast(raycaster, intersects);\n    }\n  }, {\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.getAttribute('matVector1').needsUpdate = true;\n      this.getAttribute('matVector2').needsUpdate = true;\n      this.getAttribute('matVector3').needsUpdate = true;\n      this.getAttribute('color').needsUpdate = true;\n      this.getAttribute('color2').needsUpdate = true;\n      this.getAttribute('alphaColor').needsUpdate = true;\n      if (this._useZSprites) {\n        this.getAttribute('invmatVector1').needsUpdate = true;\n        this.getAttribute('invmatVector2').needsUpdate = true;\n        this.getAttribute('invmatVector3').needsUpdate = true;\n      }\n      this._collisionGeo.finishUpdate();\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(chunkIndices, value) {\n      var alphaArr = this._alpha;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        alphaArr[Math.floor(chunkIndices[i] / 2)] = value;\n      }\n      this.getAttribute('alphaColor').needsUpdate = true;\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var info = _prepareCylinderInfo(chunkIndices);\n      var cylinderIndices = info.indices;\n      var instanceCount = cylinderIndices.length;\n      var geom = new InstancedBufferGeometry();\n      this._init.call(geom, instanceCount, this._cylGeometry, this._useZSprites);\n      copySubArrays(this._matVector1, geom._matVector1, cylinderIndices, OFFSET_SIZE);\n      copySubArrays(this._matVector2, geom._matVector2, cylinderIndices, OFFSET_SIZE);\n      copySubArrays(this._matVector3, geom._matVector3, cylinderIndices, OFFSET_SIZE);\n      if (this._useZSprites) {\n        copySubArrays(this._invmatVector1, geom._invmatVector1, cylinderIndices, OFFSET_SIZE);\n        copySubArrays(this._invmatVector2, geom._invmatVector2, cylinderIndices, OFFSET_SIZE);\n        copySubArrays(this._invmatVector3, geom._invmatVector3, cylinderIndices, OFFSET_SIZE);\n      }\n      copySubArrays(this._color1, geom._color1, cylinderIndices, COLOR_SIZE$2);\n      copySubArrays(this._color2, geom._color2, cylinderIndices, COLOR_SIZE$2);\n      _assignOpacity(info.cylinderInfo, geom._color1, geom._color2);\n      geom.boundingSphere = this.boundingSphere;\n      geom.boundingBox = this.boundingBox;\n      return [geom];\n    }\n  }, {\n    key: \"getGeoParams\",\n    value: function getGeoParams() {\n      return this._cylGeometry.parameters;\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(instanceCount, cylinderGeo, useZSprites) {\n      this.copy(cylinderGeo);\n      this._matVector1 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._matVector2 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._matVector3 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n      this._color1 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE$2);\n      this._color2 = utils.allocateTyped(Float32Array, instanceCount * COLOR_SIZE$2);\n      var alpha = this._alpha = utils.allocateTyped(Float32Array, instanceCount);\n      fill(alpha, 1.0);\n      this.setAttribute('matVector1', new InstancedBufferAttribute(this._matVector1, OFFSET_SIZE, false, 1));\n      this.setAttribute('matVector2', new InstancedBufferAttribute(this._matVector2, OFFSET_SIZE, false, 1));\n      this.setAttribute('matVector3', new InstancedBufferAttribute(this._matVector3, OFFSET_SIZE, false, 1));\n      this.setAttribute('color', new InstancedBufferAttribute(this._color1, COLOR_SIZE$2, false, 1));\n      this.setAttribute('color2', new InstancedBufferAttribute(this._color2, COLOR_SIZE$2, false, 1));\n      this.setAttribute('alphaColor', new InstancedBufferAttribute(this._alpha, 1, false, 1));\n      if (useZSprites) {\n        this._invmatVector1 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n        this._invmatVector2 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n        this._invmatVector3 = utils.allocateTyped(Float32Array, instanceCount * OFFSET_SIZE);\n        this.setAttribute('invmatVector1', new InstancedBufferAttribute(this._invmatVector1, OFFSET_SIZE, false, 1));\n        this.setAttribute('invmatVector2', new InstancedBufferAttribute(this._invmatVector2, OFFSET_SIZE, false, 1));\n        this.setAttribute('invmatVector3', new InstancedBufferAttribute(this._invmatVector3, OFFSET_SIZE, false, 1));\n      }\n    }\n  }]);\n  return Instanced2CCylindersGeometry;\n}(InstancedBufferGeometry);\n\nfunction _createSuper$1K(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1K(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1K() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VEC_SIZE$1 = 3;\nvar TRI_SIZE = 3;\nvar tmpPrev = new Vector3();\nvar tmpNext = new Vector3();\nvar tmpRes = new Vector3();\nvar simpleNormal = new Vector3(1.0, 0.0, 0.0);\nvar normalOnCut = new Vector3();\nvar nearRingPt = new Vector3();\nfunction _createExtrudedChunkGeometry(shape, ringsCount) {\n  var geo = new BufferGeometry();\n  var ptsCount = shape.length;\n  var totalPts = ptsCount * ringsCount;\n  var type = totalPts <= 65536 ? Uint16Array : Uint32Array;\n  var facesPerChunk = (ringsCount - 1) * ptsCount * 2;\n  var indices = new BufferAttribute(utils.allocateTyped(type, facesPerChunk * TRI_SIZE), 1);\n  var currVtxIdx = 0;\n  var currFaceIdx = 0;\n  for (var y = 0; y < ringsCount; y++) {\n    if (y !== ringsCount - 1) {\n      for (var i = 0; i < ptsCount; i++) {\n        var v1 = currVtxIdx + i;\n        var v2 = currVtxIdx + ptsCount + i;\n        var v3 = currVtxIdx + ptsCount + (i + 1) % ptsCount;\n        var v4 = currVtxIdx + (i + 1) % ptsCount;\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v1, v4, v2);\n        currFaceIdx++;\n        indices.setXYZ(currFaceIdx * TRI_SIZE, v2, v4, v3);\n        currFaceIdx++;\n      }\n    }\n    currVtxIdx += ptsCount;\n  }\n  geo.setIndex(indices);\n  var pos = utils.allocateTyped(Float32Array, totalPts * VEC_SIZE$1);\n  geo.setAttribute('position', new BufferAttribute(pos, VEC_SIZE$1));\n  geo._positions = shape;\n  return geo;\n}\nvar ExtrudedObjectsGeometry = function (_ChunkedObjectsGeomet) {\n  _inherits(ExtrudedObjectsGeometry, _ChunkedObjectsGeomet);\n  var _super = _createSuper$1K(ExtrudedObjectsGeometry);\n  function ExtrudedObjectsGeometry(shape, ringsCount, chunksCount) {\n    var _this;\n    _classCallCheck(this, ExtrudedObjectsGeometry);\n    var chunkGeo = _createExtrudedChunkGeometry(shape, ringsCount);\n    _this = _super.call(this, chunkGeo, chunksCount);\n    _this._ringsCount = ringsCount;\n    var tmpShape = _this._tmpShape = [];\n    for (var i = 0; i < shape.length; ++i) {\n      tmpShape[i] = new Vector3();\n    }\n    return _this;\n  }\n  _createClass(ExtrudedObjectsGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, matrices) {\n      var hasSlope = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var hasCut = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var ptsCount = this._chunkGeo._positions.length;\n      var ringsCount = this._ringsCount;\n      var chunkStartIdx = ptsCount * this._ringsCount * itemIdx * VEC_SIZE$1;\n      this._setPoints(matrices, ptsCount, ringsCount, chunkStartIdx);\n      if (hasSlope) {\n        this._setSlopeNormals(ptsCount, ringsCount, chunkStartIdx);\n      } else {\n        this._setBaseNormals(ptsCount, ringsCount, chunkStartIdx);\n      }\n      if (hasCut) {\n        this._addCut(ptsCount, ringsCount, chunkStartIdx);\n      }\n    }\n  }, {\n    key: \"_setPoints\",\n    value: function _setPoints(matrices, ptsCount, ringsCount, chunkStartIdx) {\n      var tmpShape = this._tmpShape;\n      var positions = this._positions;\n      var shape = this._chunkGeo._positions;\n      for (var i = 0, vtxIdx = chunkStartIdx; i < ringsCount; ++i) {\n        var mtx = matrices[i];\n        for (var j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE$1) {\n          tmpShape[j].copy(shape[j]).applyMatrix4(mtx).toArray(positions, vtxIdx);\n        }\n      }\n    }\n  }, {\n    key: \"_setBaseNormals\",\n    value: function _setBaseNormals(ptsCount, ringsCount, chunkStartIdx) {\n      var nPtsInRing = ptsCount * VEC_SIZE$1;\n      for (var i = 0, vtxIdx = chunkStartIdx; i < ringsCount; ++i, vtxIdx += nPtsInRing) {\n        this._countNormalsInRing(ptsCount, vtxIdx, false);\n      }\n    }\n  }, {\n    key: \"_setSlopeNormals\",\n    value: function _setSlopeNormals(ptsCount, ringsCount, chunkStartIdx) {\n      var normals = this._normals;\n      var nPtsInRing = ptsCount * VEC_SIZE$1;\n      var vtxIdx = chunkStartIdx;\n      for (var j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE$1) {\n        simpleNormal.toArray(normals, vtxIdx);\n      }\n      if (vtxIdx - 2 * nPtsInRing > 0) {\n        for (var _j = 0; _j < ptsCount; ++_j, vtxIdx += VEC_SIZE$1) {\n          tmpRes.fromArray(normals, vtxIdx - 2 * nPtsInRing).toArray(normals, vtxIdx);\n        }\n      } else {\n        this._countNormalsInRing(ptsCount, vtxIdx, true, +nPtsInRing);\n        vtxIdx += nPtsInRing;\n      }\n      for (var i = 2; i < ringsCount; ++i, vtxIdx += nPtsInRing) {\n        this._countNormalsInRing(ptsCount, vtxIdx, true, -nPtsInRing);\n      }\n    }\n  }, {\n    key: \"_countNormalsInRing\",\n    value: function _countNormalsInRing(ptsCount, vtxIdx, isSlope, shiftToExtraPt) {\n      var tmpShape = this._tmpShape;\n      var normals = this._normals;\n      tmpShape[0].fromArray(this._positions, vtxIdx);\n      tmpShape[ptsCount - 1].fromArray(this._positions, vtxIdx + (ptsCount - 1) * VEC_SIZE$1);\n      for (var j = 0; j < ptsCount; ++j, vtxIdx += VEC_SIZE$1) {\n        if (j < ptsCount - 1) {\n          tmpShape[j + 1].fromArray(this._positions, vtxIdx + VEC_SIZE$1);\n        }\n        if (isSlope) {\n          nearRingPt.fromArray(this._positions, vtxIdx + shiftToExtraPt);\n          tmpPrev.subVectors(tmpShape[(j + ptsCount - 1) % ptsCount], tmpShape[(j + 1) % ptsCount]).normalize();\n          tmpNext.subVectors(tmpShape[j], nearRingPt).normalize();\n          tmpRes.crossVectors(tmpNext, tmpPrev).normalize().toArray(normals, vtxIdx);\n        } else {\n          tmpPrev.subVectors(tmpShape[j], tmpShape[(j + ptsCount - 1) % ptsCount]).normalize();\n          tmpNext.subVectors(tmpShape[j], tmpShape[(j + 1) % ptsCount]).normalize();\n          tmpRes.addVectors(tmpPrev, tmpNext).normalize().toArray(normals, vtxIdx);\n        }\n      }\n    }\n  }, {\n    key: \"_addCut\",\n    value: function _addCut(ptsCount, ringsCount, chunkStartIdx) {\n      if (ptsCount < 3 || ringsCount < 2) {\n        return;\n      }\n      var positions = this._positions;\n      var normals = this._normals;\n      var tmpShape = this._tmpShape;\n      var nPtsInRing = ptsCount * VEC_SIZE$1;\n      tmpShape[0].fromArray(positions, chunkStartIdx);\n      tmpShape[1].fromArray(positions, chunkStartIdx + VEC_SIZE$1);\n      tmpShape[2].fromArray(positions, chunkStartIdx + 2 * VEC_SIZE$1);\n      tmpPrev.subVectors(tmpShape[1], tmpShape[0]).normalize();\n      tmpNext.subVectors(tmpShape[1], tmpShape[2]).normalize();\n      normalOnCut.crossVectors(tmpPrev, tmpNext).normalize();\n      var vtxIdx = chunkStartIdx;\n      for (var j = 0; j < ptsCount * 2; ++j, vtxIdx += VEC_SIZE$1) {\n        normalOnCut.toArray(normals, vtxIdx);\n      }\n      if (ringsCount > 2) {\n        for (var _j2 = 0; _j2 < ptsCount; ++_j2, vtxIdx += VEC_SIZE$1) {\n          tmpRes.fromArray(positions, vtxIdx - nPtsInRing).toArray(positions, vtxIdx);\n        }\n      }\n    }\n  }]);\n  return ExtrudedObjectsGeometry;\n}(ChunkedObjectsGeometry);\n\nfunction _createSuper$1J(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1J(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1J() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar MAX_IDC_16BIT = 65535;\nvar VERTEX_PER_SEGMENT = 4;\nvar POS_SIZE = 4;\nvar DIR_SIZE = 3;\nvar COL_SIZE = 3;\nvar tmpColor$1 = new Color();\nvar direction = new Vector3();\nfunction setArrayXYZ(arr, idx, x, y, z) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n}\nfunction setArrayXYZW(arr, idx, x, y, z, w) {\n  arr[idx] = x;\n  arr[idx + 1] = y;\n  arr[idx + 2] = z;\n  arr[idx + 3] = w;\n}\nfunction getSubset(arr, startSegmentIdx, segmentsCount, elemSize) {\n  var start = startSegmentIdx * VERTEX_PER_SEGMENT;\n  var end = start + segmentsCount * VERTEX_PER_SEGMENT;\n  return arr.subarray(start * elemSize, end * elemSize);\n}\nvar ThickLinesGeometry = function (_BufferGeometry) {\n  _inherits(ThickLinesGeometry, _BufferGeometry);\n  var _super = _createSuper$1J(ThickLinesGeometry);\n  function ThickLinesGeometry(segmentsCount) {\n    var _this;\n    _classCallCheck(this, ThickLinesGeometry);\n    _this = _super.call(this);\n    _this._initVertices(segmentsCount);\n    return _this;\n  }\n  _createClass(ThickLinesGeometry, [{\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.getAttribute('position').needsUpdate = true;\n      this.getAttribute('color').needsUpdate = true;\n      this.getAttribute('alphaColor').needsUpdate = true;\n      this.getAttribute('direction').needsUpdate = true;\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(segmentIdx, colorVal) {\n      tmpColor$1.set(colorVal);\n      var idx = segmentIdx * VERTEX_PER_SEGMENT * COL_SIZE;\n      setArrayXYZ(this._colors, idx, tmpColor$1.r, tmpColor$1.g, tmpColor$1.b);\n      idx += COL_SIZE;\n      setArrayXYZ(this._colors, idx, tmpColor$1.r, tmpColor$1.g, tmpColor$1.b);\n      idx += COL_SIZE;\n      setArrayXYZ(this._colors, idx, tmpColor$1.r, tmpColor$1.g, tmpColor$1.b);\n      idx += COL_SIZE;\n      setArrayXYZ(this._colors, idx, tmpColor$1.r, tmpColor$1.g, tmpColor$1.b);\n    }\n  }, {\n    key: \"setSegment\",\n    value: function setSegment(segmentIdx, pos1, pos2) {\n      direction.subVectors(pos1, pos2);\n      direction.normalize();\n      var positions = this._positions;\n      var directions = this._directions;\n      var idx = segmentIdx * VERTEX_PER_SEGMENT * POS_SIZE;\n      var dirIdx = segmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE;\n      setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, 0.5);\n      setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n      idx += POS_SIZE;\n      dirIdx += DIR_SIZE;\n      setArrayXYZW(positions, idx, pos1.x, pos1.y, pos1.z, -0.5);\n      setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n      idx += POS_SIZE;\n      dirIdx += DIR_SIZE;\n      setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, 0.5);\n      setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n      idx += POS_SIZE;\n      dirIdx += DIR_SIZE;\n      setArrayXYZW(positions, idx, pos2.x, pos2.y, pos2.z, -0.5);\n      setArrayXYZ(directions, dirIdx, direction.x, direction.y, direction.z);\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(startSegIdx, endSegIdx, value) {\n      var start = startSegIdx * VERTEX_PER_SEGMENT;\n      var end = endSegIdx * VERTEX_PER_SEGMENT;\n      fill(this.alpha, value, end, start);\n      this.getAttribute('alphaColor').needsUpdate = true;\n    }\n  }, {\n    key: \"getSubsetSegments\",\n    value: function getSubsetSegments(startSegmentIdx, segmentsCount) {\n      return [getSubset(this._positions, startSegmentIdx, segmentsCount, POS_SIZE), getSubset(this._directions, startSegmentIdx, segmentsCount, DIR_SIZE)];\n    }\n  }, {\n    key: \"getSubsetColors\",\n    value: function getSubsetColors(startSegmentIdx, segmentsCount) {\n      return getSubset(this._colors, startSegmentIdx, segmentsCount, COL_SIZE);\n    }\n  }, {\n    key: \"getSubsetOpacities\",\n    value: function getSubsetOpacities(startSegmentIdx, segmentsCount) {\n      return getSubset(this._alpha, startSegmentIdx, segmentsCount, 1);\n    }\n  }, {\n    key: \"getNumVertexPerSegment\",\n    value: function getNumVertexPerSegment() {\n      return VERTEX_PER_SEGMENT;\n    }\n  }, {\n    key: \"getPositionSize\",\n    value: function getPositionSize() {\n      return POS_SIZE;\n    }\n  }, {\n    key: \"setSegments\",\n    value: function setSegments(startSegmentIdx, positions) {\n      var startPos = startSegmentIdx * VERTEX_PER_SEGMENT * POS_SIZE;\n      if (positions instanceof Array && positions.length === 2) {\n        this._positions.set(positions[0], startPos);\n        var startDir = startSegmentIdx * VERTEX_PER_SEGMENT * DIR_SIZE;\n        this._directions.set(positions[1], startDir);\n      } else {\n        this._positions.set(positions, startPos);\n      }\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(startSegmentIdx, colors) {\n      var start = startSegmentIdx * VERTEX_PER_SEGMENT * COL_SIZE;\n      this._colors.set(colors, start);\n    }\n  }, {\n    key: \"_initVertices\",\n    value: function _initVertices(segmentsCount) {\n      this._buffersSize = segmentsCount * VERTEX_PER_SEGMENT;\n      var pointsCount = this._buffersSize;\n      var use32bitIndex = pointsCount > MAX_IDC_16BIT;\n      this._index = utils.allocateTyped(use32bitIndex ? Uint32Array : Uint16Array, segmentsCount * 6);\n      this._positions = utils.allocateTyped(Float32Array, pointsCount * POS_SIZE);\n      this._colors = utils.allocateTyped(Float32Array, pointsCount * COL_SIZE);\n      this._directions = utils.allocateTyped(Float32Array, pointsCount * DIR_SIZE);\n      var alpha = this._alpha = utils.allocateTyped(Float32Array, pointsCount);\n      fill(alpha, 1.0);\n      var index = this._index;\n      var indexOffset = 0;\n      var pointOffset = 0;\n      for (var j = 0; j < segmentsCount; j++, indexOffset += 6, pointOffset += VERTEX_PER_SEGMENT) {\n        index[indexOffset] = pointOffset;\n        index[indexOffset + 1] = pointOffset + 1;\n        index[indexOffset + 2] = pointOffset + 3;\n        index[indexOffset + 3] = pointOffset;\n        index[indexOffset + 4] = pointOffset + 2;\n        index[indexOffset + 5] = pointOffset + 3;\n      }\n      this.setIndex(new BufferAttribute(this._index, 1));\n      this.setAttribute('position', new BufferAttribute(this._positions, POS_SIZE));\n      this.setAttribute('color', new BufferAttribute(this._colors, COL_SIZE));\n      this.setAttribute('alphaColor', new BufferAttribute(alpha, 1));\n      this.setAttribute('direction', new BufferAttribute(this._directions, DIR_SIZE));\n    }\n  }]);\n  return ThickLinesGeometry;\n}(BufferGeometry);\n\nfunction _createSuper$1I(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1I(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1I() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LinesGeometry = function (_BaseLinesGeometry) {\n  _inherits(LinesGeometry, _BaseLinesGeometry);\n  var _super = _createSuper$1I(LinesGeometry);\n  function LinesGeometry() {\n    _classCallCheck(this, LinesGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(LinesGeometry, [{\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"computeBoundingSphere\",\n    value: function computeBoundingSphere() {\n      var boundingBox = this.boundingBox;\n      var radiusSquared = 0.0;\n      var center = new Vector3();\n      if (boundingBox) {\n        boundingBox.getCenter(center);\n      }\n      var positions = this._positions;\n      var sphere = this.boundingSphere || new Sphere();\n      var size = this._positions.length;\n      var pos = new Vector3();\n      var posSize = this.getPositionSize();\n      for (var i = 0; i < size; i += posSize) {\n        pos.set(positions[i], positions[i + 1], positions[i + 2]);\n        var lengthSquared = center.distanceToSquared(pos);\n        if (radiusSquared < lengthSquared) {\n          radiusSquared = lengthSquared;\n        }\n      }\n      sphere.set(center, Math.sqrt(radiusSquared));\n      this.boundingSphere = sphere;\n    }\n  }, {\n    key: \"computeBoundingBox\",\n    value: function computeBoundingBox() {\n      var positions = this._positions;\n      var box = new Box3();\n      var size = this._positions.length;\n      var tmpVec = new Vector3();\n      var posSize = this.getPositionSize();\n      for (var i = 0; i < size; i += posSize) {\n        tmpVec.set(positions[i], positions[i + 1], positions[i + 2]);\n        box.expandByPoint(tmpVec);\n      }\n      this.boundingBox = box;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }]);\n  return LinesGeometry;\n}(ThickLinesGeometry);\n\nfunction _createSuper$1H(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1H(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1H() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VEC_SIZE = 3;\nvar tmpVector$1 = new Vector3();\nvar normMtx = new Matrix3();\nvar CylinderCollisionGeo = function (_ChunkedObjectsGeomet) {\n  _inherits(CylinderCollisionGeo, _ChunkedObjectsGeomet);\n  var _super = _createSuper$1H(CylinderCollisionGeo);\n  function CylinderCollisionGeo(instanceCount, polyComplexity) {\n    var _this;\n    _classCallCheck(this, CylinderCollisionGeo);\n    var cylGeometry = new CylinderBufferGeometry$1(1, 1, 1.0, Math.max(3, polyComplexity), 2, true);\n    _this = _super.call(this, cylGeometry, instanceCount);\n    var chunkSize = _this._chunkSize;\n    _this._chunkPos = _this._chunkGeo.attributes.position.array;\n    _this._chunkNorms = _this._chunkGeo.attributes.normal.array;\n    _this._tmpVector = utils.allocateTyped(Float32Array, chunkSize * VEC_SIZE);\n    return _this;\n  }\n  _createClass(CylinderCollisionGeo, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, botPos, topPos, itemRad) {\n      var chunkSize = this._chunkSize;\n      var itemOffset = chunkSize * itemIdx * VEC_SIZE;\n      var tmpArray = this._tmpVector;\n      var geoPos = this._chunkPos;\n      var geoNorm = this._chunkNorms;\n      var mtx1 = gfxutils.calcCylinderMatrix(botPos, topPos, itemRad);\n      normMtx.getNormalMatrix(mtx1);\n      var idx;\n      for (var i = 0; i < chunkSize; ++i) {\n        idx = i * VEC_SIZE;\n        tmpVector$1.fromArray(geoPos, idx);\n        tmpVector$1.applyMatrix4(mtx1);\n        tmpVector$1.toArray(tmpArray, idx);\n      }\n      this._positions.set(tmpArray, itemOffset);\n      for (var _i = 0; _i < chunkSize; ++_i) {\n        idx = _i * VEC_SIZE;\n        tmpVector$1.fromArray(geoNorm, idx);\n        tmpVector$1.applyMatrix3(normMtx);\n        tmpVector$1.toArray(tmpArray, idx);\n      }\n      this._normals.set(tmpArray, itemOffset);\n    }\n  }]);\n  return CylinderCollisionGeo;\n}(ChunkedObjectsGeometry);\n\nfunction _createSuper$1G(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1G(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1G() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar COLLISION_RAD$1 = 0.1;\nvar ChunkedLinesGeometry = function (_LinesGeometry) {\n  _inherits(ChunkedLinesGeometry, _LinesGeometry);\n  var _super = _createSuper$1G(ChunkedLinesGeometry);\n  function ChunkedLinesGeometry(chunksCount, segmentsCount, enableCollision) {\n    var _this;\n    _classCallCheck(this, ChunkedLinesGeometry);\n    _this = _super.call(this, chunksCount * segmentsCount);\n    _this._init(segmentsCount);\n    _this._collisionGeo = enableCollision ? new CylinderCollisionGeo(chunksCount * segmentsCount, 3) : null;\n    return _this;\n  }\n  _createClass(ChunkedLinesGeometry, [{\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"computeBoundingSphere\",\n    value: function computeBoundingSphere() {\n      var collisionGeo = this._collisionGeo;\n      if (collisionGeo) {\n        collisionGeo.computeBoundingSphere();\n        this.boundingSphere = collisionGeo.boundingSphere;\n        return;\n      }\n      _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"computeBoundingSphere\", this).call(this);\n    }\n  }, {\n    key: \"computeBoundingBox\",\n    value: function computeBoundingBox() {\n      var collisionGeo = this._collisionGeo;\n      if (collisionGeo) {\n        collisionGeo.computeBoundingBox();\n        this.boundingBox = collisionGeo.boundingBox;\n        return;\n      }\n      _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"computeBoundingBox\", this).call(this);\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var collisionGeo = this._collisionGeo;\n      if (!collisionGeo) {\n        return;\n      }\n      var segCount = this._chunkSize;\n      this._collisionGeo.raycast(raycaster, intersects);\n      for (var i = 0, n = intersects.length; i < n; ++i) {\n        var chunkIdx = intersects[i].chunkIdx;\n        if (chunkIdx === undefined) {\n          continue;\n        }\n        chunkIdx = chunkIdx / segCount | 0;\n        intersects[i].chunkIdx = chunkIdx;\n      }\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(chunkIdx, colorVal) {\n      var chunkSize = this._chunkSize;\n      for (var i = chunkIdx * chunkSize, end = i + chunkSize; i < end; ++i) {\n        _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"setColor\", this).call(this, i, colorVal);\n      }\n    }\n  }, {\n    key: \"setSegment\",\n    value: function setSegment(chunkIdx, segIdx, pos1, pos2) {\n      var chunkSize = this._chunkSize;\n      var idx = chunkIdx * chunkSize + segIdx;\n      _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"setSegment\", this).call(this, idx, pos1, pos2);\n      if (this._collisionGeo) {\n        this._collisionGeo.setItem(chunkIdx * chunkSize + segIdx, pos1, pos2, COLLISION_RAD$1);\n      }\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity(chunkIndices, value) {\n      var chunkSize = this._chunkSize;\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        var left = chunkIndices[i] * chunkSize;\n        _get(_getPrototypeOf(ChunkedLinesGeometry.prototype), \"setOpacity\", this).call(this, left, left + chunkSize - 1, value);\n      }\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var instanceCount = chunkIndices.length;\n      var chunkSize = this._chunkSize;\n      var subset = new ChunkedLinesGeometry(instanceCount, chunkSize, false);\n      for (var i = 0, n = chunkIndices.length; i < n; ++i) {\n        var dstPtOffset = i * chunkSize;\n        var startSegIdx = chunkIndices[i] * chunkSize;\n        subset.setSegments(dstPtOffset, this.getSubsetSegments(startSegIdx, chunkSize));\n        subset.setColors(dstPtOffset, this.getSubsetColors(startSegIdx, chunkSize));\n      }\n      subset.boundingSphere = this.boundingSphere;\n      subset.boundingBox = this.boundingBox;\n      return [subset];\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(chunkSize) {\n      this._chunkSize = chunkSize;\n    }\n  }]);\n  return ChunkedLinesGeometry;\n}(LinesGeometry);\n\nfunction _createSuper$1F(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1F(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1F() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar COLLISION_RAD = 0.3;\nvar tmpVector = new Vector3();\nvar TwoColorLinesGeometry = function (_LinesGeometry) {\n  _inherits(TwoColorLinesGeometry, _LinesGeometry);\n  var _super = _createSuper$1F(TwoColorLinesGeometry);\n  function TwoColorLinesGeometry(segmentsCount) {\n    var _this;\n    _classCallCheck(this, TwoColorLinesGeometry);\n    _this = _super.call(this, segmentsCount * 2);\n    _this._init(segmentsCount);\n    _this._collisionGeo = new Simple2CCylindersGeometry(segmentsCount, 3);\n    return _this;\n  }\n  _createClass(TwoColorLinesGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, botPos, topPos) {\n      this._collisionGeo.setItem(itemIdx, botPos, topPos, COLLISION_RAD);\n      var offset = 2 * itemIdx;\n      tmpVector.lerpVectors(botPos, topPos, 0.5);\n      _get(_getPrototypeOf(TwoColorLinesGeometry.prototype), \"setSegment\", this).call(this, offset, botPos, tmpVector);\n      _get(_getPrototypeOf(TwoColorLinesGeometry.prototype), \"setSegment\", this).call(this, offset + 1, tmpVector, topPos);\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, colorVal1, colorVal2) {\n      var offset = 2 * itemIdx;\n      _get(_getPrototypeOf(TwoColorLinesGeometry.prototype), \"setColor\", this).call(this, offset, colorVal1);\n      _get(_getPrototypeOf(TwoColorLinesGeometry.prototype), \"setColor\", this).call(this, offset + 1, colorVal2);\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      if (this._collisionGeo) {\n        this._collisionGeo.raycast(raycaster, intersects);\n      }\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(segmentIndices) {\n      var instanceCount = segmentIndices.length;\n      var subset = new TwoColorLinesGeometry(instanceCount, false);\n      for (var i = 0, n = instanceCount; i < n; ++i) {\n        var startSegIdx = segmentIndices[i];\n        subset.setSegments(i, this.getSubsetSegments(startSegIdx, 1));\n        subset.setColors(i, this.getSubsetColors(startSegIdx, 1));\n      }\n      subset.boundingSphere = this.boundingSphere;\n      subset.boundingBox = this.boundingBox;\n      return [subset];\n    }\n  }, {\n    key: \"_init\",\n    value: function _init(segmentsCount) {\n      this._segCounts = segmentsCount * 2;\n    }\n  }]);\n  return TwoColorLinesGeometry;\n}(LinesGeometry);\n\nfunction _createSuper$1E(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1E(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1E() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar vectors = [new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 1, 0), new Vector3(0, -1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)];\nvar vecCount = vectors.length;\nvar tempPos1 = new Vector3();\nvar tempPos2 = new Vector3();\nvar CrossGeometry = function (_SphereCollisionGeo) {\n  _inherits(CrossGeometry, _SphereCollisionGeo);\n  var _super = _createSuper$1E(CrossGeometry);\n  function CrossGeometry(chunksCount) {\n    _classCallCheck(this, CrossGeometry);\n    return _super.call(this, chunksCount, chunksCount, vecCount / 2 | 0, false);\n  }\n  _createClass(CrossGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, itemPos, itemRad) {\n      this.setSphere(itemIdx, itemPos, itemRad);\n      for (var i = 0; i < vecCount / 2; ++i) {\n        var first = i * 2;\n        tempPos1.x = itemPos.x + vectors[first].x * itemRad;\n        tempPos1.y = itemPos.y + vectors[first].y * itemRad;\n        tempPos1.z = itemPos.z + vectors[first].z * itemRad;\n        var second = first + 1;\n        tempPos2.x = itemPos.x + vectors[second].x * itemRad;\n        tempPos2.y = itemPos.y + vectors[second].y * itemRad;\n        tempPos2.z = itemPos.z + vectors[second].z * itemRad;\n        this.setSegment(itemIdx, i, tempPos1, tempPos2);\n      }\n    }\n  }]);\n  return CrossGeometry;\n}(SphereCollisionGeo(ChunkedLinesGeometry));\n\nfunction _createSuper$1D(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1D(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1D() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar POS_RAD_SIZE = 4;\nvar COLOR_SIZE$1 = 3;\nvar tmpColor = new Color();\nvar IsoSurfaceGeometry = function (_BufferGeometry) {\n  _inherits(IsoSurfaceGeometry, _BufferGeometry);\n  var _super = _createSuper$1D(IsoSurfaceGeometry);\n  function IsoSurfaceGeometry(spheresCount, opts) {\n    var _this;\n    _classCallCheck(this, IsoSurfaceGeometry);\n    _this = _super.call(this);\n    _this._opts = opts;\n    _this.zClip = _this._opts.zClip;\n    _this._posRad = utils.allocateTyped(Float32Array, spheresCount * POS_RAD_SIZE);\n    _this._colors = utils.allocateTyped(Float32Array, spheresCount * COLOR_SIZE$1);\n    return _this;\n  }\n  _createClass(IsoSurfaceGeometry, [{\n    key: \"setItem\",\n    value: function setItem(chunkIdx, pos, radius) {\n      var posRad = this._posRad;\n      var idx = POS_RAD_SIZE * chunkIdx;\n      posRad[idx++] = pos.x;\n      posRad[idx++] = pos.y;\n      posRad[idx++] = pos.z;\n      posRad[idx] = radius;\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(chunkIdx, colorVal) {\n      tmpColor.set(colorVal);\n      var colors = this._colors;\n      var idx = COLOR_SIZE$1 * chunkIdx;\n      colors[idx++] = tmpColor.r;\n      colors[idx++] = tmpColor.g;\n      colors[idx] = tmpColor.b;\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n      this.computeBoundingSphere();\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this._build();\n    }\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity() {\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast() {}\n  }, {\n    key: \"getSubset\",\n    value: function getSubset() {\n      return [];\n    }\n  }]);\n  return IsoSurfaceGeometry;\n}(BufferGeometry);\n\nvar IsoSurfaceMarchCube = function () {\n  function IsoSurfaceMarchCube() {\n    _classCallCheck(this, IsoSurfaceMarchCube);\n    this.pointsValuesLinear = null;\n    this.hasIntersection = null;\n    this.bitsInside = null;\n  }\n  _createClass(IsoSurfaceMarchCube, [{\n    key: \"create\",\n    value: function create(numCellsPerSide) {\n      var vx7000000 = 0x7000000;\n      var n3 = numCellsPerSide * numCellsPerSide * numCellsPerSide;\n      if (n3 > vx7000000) {\n        throw new Error('Too large cube dimension: lead to memory huge uasge');\n      }\n      this.pointsValuesLinear = utils.allocateTyped(Float32Array, (2 << 2 + 2) * n3);\n      this.hasIntersection = utils.allocateTyped(Int32Array, n3);\n      this.bitsInside = utils.allocateTyped(Int32Array, n3);\n      return 0;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.bitsInside = null;\n      this.hasIntersection = null;\n      this.pointsValuesLinear = null;\n    }\n  }]);\n  return IsoSurfaceMarchCube;\n}();\nIsoSurfaceMarchCube.prototype.striIndicesMarchCube = [-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 8, 3, 9, 8, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 2, 10, 0, 2, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 8, 3, 2, 10, 8, 10, 9, 8, -1, -1, -1, -1, -1, -1, -1, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 11, 2, 8, 11, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 9, 0, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 11, 2, 1, 9, 11, 9, 8, 11, -1, -1, -1, -1, -1, -1, -1, 3, 10, 1, 11, 10, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 10, 1, 0, 8, 10, 8, 11, 10, -1, -1, -1, -1, -1, -1, -1, 3, 9, 0, 3, 11, 9, 11, 10, 9, -1, -1, -1, -1, -1, -1, -1, 9, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 3, 0, 7, 3, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 1, 9, 4, 7, 1, 7, 3, 1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 4, 7, 3, 0, 4, 1, 2, 10, -1, -1, -1, -1, -1, -1, -1, 9, 2, 10, 9, 0, 2, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, 2, 10, 9, 2, 9, 7, 2, 7, 3, 7, 9, 4, -1, -1, -1, -1, 8, 4, 7, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 4, 7, 11, 2, 4, 2, 0, 4, -1, -1, -1, -1, -1, -1, -1, 9, 0, 1, 8, 4, 7, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, 4, 7, 11, 9, 4, 11, 9, 11, 2, 9, 2, 1, -1, -1, -1, -1, 3, 10, 1, 3, 11, 10, 7, 8, 4, -1, -1, -1, -1, -1, -1, -1, 1, 11, 10, 1, 4, 11, 1, 0, 4, 7, 11, 4, -1, -1, -1, -1, 4, 7, 8, 9, 0, 11, 9, 11, 10, 11, 0, 3, -1, -1, -1, -1, 4, 7, 11, 4, 11, 9, 9, 11, 10, -1, -1, -1, -1, -1, -1, -1, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 5, 4, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 5, 4, 1, 5, 0, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 5, 4, 8, 3, 5, 3, 1, 5, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 0, 8, 1, 2, 10, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1, 5, 2, 10, 5, 4, 2, 4, 0, 2, -1, -1, -1, -1, -1, -1, -1, 2, 10, 5, 3, 2, 5, 3, 5, 4, 3, 4, 8, -1, -1, -1, -1, 9, 5, 4, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 11, 2, 0, 8, 11, 4, 9, 5, -1, -1, -1, -1, -1, -1, -1, 0, 5, 4, 0, 1, 5, 2, 3, 11, -1, -1, -1, -1, -1, -1, -1, 2, 1, 5, 2, 5, 8, 2, 8, 11, 4, 8, 5, -1, -1, -1, -1, 10, 3, 11, 10, 1, 3, 9, 5, 4, -1, -1, -1, -1, -1, -1, -1, 4, 9, 5, 0, 8, 1, 8, 10, 1, 8, 11, 10, -1, -1, -1, -1, 5, 4, 0, 5, 0, 11, 5, 11, 10, 11, 0, 3, -1, -1, -1, -1, 5, 4, 8, 5, 8, 10, 10, 8, 11, -1, -1, -1, -1, -1, -1, -1, 9, 7, 8, 5, 7, 9, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 3, 0, 9, 5, 3, 5, 7, 3, -1, -1, -1, -1, -1, -1, -1, 0, 7, 8, 0, 1, 7, 1, 5, 7, -1, -1, -1, -1, -1, -1, -1, 1, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 7, 8, 9, 5, 7, 10, 1, 2, -1, -1, -1, -1, -1, -1, -1, 10, 1, 2, 9, 5, 0, 5, 3, 0, 5, 7, 3, -1, -1, -1, -1, 8, 0, 2, 8, 2, 5, 8, 5, 7, 10, 5, 2, -1, -1, -1, -1, 2, 10, 5, 2, 5, 3, 3, 5, 7, -1, -1, -1, -1, -1, -1, -1, 7, 9, 5, 7, 8, 9, 3, 11, 2, -1, -1, -1, -1, -1, -1, -1, 9, 5, 7, 9, 7, 2, 9, 2, 0, 2, 7, 11, -1, -1, -1, -1, 2, 3, 11, 0, 1, 8, 1, 7, 8, 1, 5, 7, -1, -1, -1, -1, 11, 2, 1, 11, 1, 7, 7, 1, 5, -1, -1, -1, -1, -1, -1, -1, 9, 5, 8, 8, 5, 7, 10, 1, 3, 10, 3, 11, -1, -1, -1, -1, 5, 7, 0, 5, 0, 9, 7, 11, 0, 1, 0, 10, 11, 10, 0, -1, 11, 10, 0, 11, 0, 3, 10, 5, 0, 8, 0, 7, 5, 7, 0, -1, 11, 10, 5, 7, 11, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 0, 1, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 8, 3, 1, 9, 8, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, 1, 6, 5, 2, 6, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 6, 5, 1, 2, 6, 3, 0, 8, -1, -1, -1, -1, -1, -1, -1, 9, 6, 5, 9, 0, 6, 0, 2, 6, -1, -1, -1, -1, -1, -1, -1, 5, 9, 8, 5, 8, 2, 5, 2, 6, 3, 2, 8, -1, -1, -1, -1, 2, 3, 11, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 0, 8, 11, 2, 0, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1, -1, -1, -1, 5, 10, 6, 1, 9, 2, 9, 11, 2, 9, 8, 11, -1, -1, -1, -1, 6, 3, 11, 6, 5, 3, 5, 1, 3, -1, -1, -1, -1, -1, -1, -1, 0, 8, 11, 0, 11, 5, 0, 5, 1, 5, 11, 6, -1, -1, -1, -1, 3, 11, 6, 0, 3, 6, 0, 6, 5, 0, 5, 9, -1, -1, -1, -1, 6, 5, 9, 6, 9, 11, 11, 9, 8, -1, -1, -1, -1, -1, -1, -1, 5, 10, 6, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 3, 0, 4, 7, 3, 6, 5, 10, -1, -1, -1, -1, -1, -1, -1, 1, 9, 0, 5, 10, 6, 8, 4, 7, -1, -1, -1, -1, -1, -1, -1, 10, 6, 5, 1, 9, 7, 1, 7, 3, 7, 9, 4, -1, -1, -1, -1, 6, 1, 2, 6, 5, 1, 4, 7, 8, -1, -1, -1, -1, -1, -1, -1, 1, 2, 5, 5, 2, 6, 3, 0, 4, 3, 4, 7, -1, -1, -1, -1, 8, 4, 7, 9, 0, 5, 0, 6, 5, 0, 2, 6, -1, -1, -1, -1, 7, 3, 9, 7, 9, 4, 3, 2, 9, 5, 9, 6, 2, 6, 9, -1, 3, 11, 2, 7, 8, 4, 10, 6, 5, -1, -1, -1, -1, -1, -1, -1, 5, 10, 6, 4, 7, 2, 4, 2, 0, 2, 7, 11, -1, -1, -1, -1, 0, 1, 9, 4, 7, 8, 2, 3, 11, 5, 10, 6, -1, -1, -1, -1, 9, 2, 1, 9, 11, 2, 9, 4, 11, 7, 11, 4, 5, 10, 6, -1, 8, 4, 7, 3, 11, 5, 3, 5, 1, 5, 11, 6, -1, -1, -1, -1, 5, 1, 11, 5, 11, 6, 1, 0, 11, 7, 11, 4, 0, 4, 11, -1, 0, 5, 9, 0, 6, 5, 0, 3, 6, 11, 6, 3, 8, 4, 7, -1, 6, 5, 9, 6, 9, 11, 4, 7, 9, 7, 11, 9, -1, -1, -1, -1, 10, 4, 9, 6, 4, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 10, 6, 4, 9, 10, 0, 8, 3, -1, -1, -1, -1, -1, -1, -1, 10, 0, 1, 10, 6, 0, 6, 4, 0, -1, -1, -1, -1, -1, -1, -1, 8, 3, 1, 8, 1, 6, 8, 6, 4, 6, 1, 10, -1, -1, -1, -1, 1, 4, 9, 1, 2, 4, 2, 6, 4, -1, -1, -1, -1, -1, -1, -1, 3, 0, 8, 1, 2, 9, 2, 4, 9, 2, 6, 4, -1, -1, -1, -1, 0, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 3, 2, 8, 2, 4, 4, 2, 6, -1, -1, -1, -1, -1, -1, -1, 10, 4, 9, 10, 6, 4, 11, 2, 3, -1, -1, -1, -1, -1, -1, -1, 0, 8, 2, 2, 8, 11, 4, 9, 10, 4, 10, 6, -1, -1, -1, -1, 3, 11, 2, 0, 1, 6, 0, 6, 4, 6, 1, 10, -1, -1, -1, -1, 6, 4, 1, 6, 1, 10, 4, 8, 1, 2, 1, 11, 8, 11, 1, -1, 9, 6, 4, 9, 3, 6, 9, 1, 3, 11, 6, 3, -1, -1, -1, -1, 8, 11, 1, 8, 1, 0, 11, 6, 1, 9, 1, 4, 6, 4, 1, -1, 3, 11, 6, 3, 6, 0, 0, 6, 4, -1, -1, -1, -1, -1, -1, -1, 6, 4, 8, 11, 6, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, 10, 6, 7, 8, 10, 8, 9, 10, -1, -1, -1, -1, -1, -1, -1, 0, 7, 3, 0, 10, 7, 0, 9, 10, 6, 7, 10, -1, -1, -1, -1, 10, 6, 7, 1, 10, 7, 1, 7, 8, 1, 8, 0, -1, -1, -1, -1, 10, 6, 7, 10, 7, 1, 1, 7, 3, -1, -1, -1, -1, -1, -1, -1, 1, 2, 6, 1, 6, 8, 1, 8, 9, 8, 6, 7, -1, -1, -1, -1, 2, 6, 9, 2, 9, 1, 6, 7, 9, 0, 9, 3, 7, 3, 9, -1, 7, 8, 0, 7, 0, 6, 6, 0, 2, -1, -1, -1, -1, -1, -1, -1, 7, 3, 2, 6, 7, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 3, 11, 10, 6, 8, 10, 8, 9, 8, 6, 7, -1, -1, -1, -1, 2, 0, 7, 2, 7, 11, 0, 9, 7, 6, 7, 10, 9, 10, 7, -1, 1, 8, 0, 1, 7, 8, 1, 10, 7, 6, 7, 10, 2, 3, 11, -1, 11, 2, 1, 11, 1, 7, 10, 6, 1, 6, 7, 1, -1, -1, -1, -1, 8, 9, 6, 8, 6, 7, 9, 1, 6, 11, 6, 3, 1, 3, 6, -1, 0, 9, 1, 11, 6, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, 8, 0, 7, 0, 6, 3, 11, 0, 11, 6, 0, -1, -1, -1, -1, 7, 11, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 0, 8, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 1, 9, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 1, 9, 8, 3, 1, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, 10, 1, 2, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 3, 0, 8, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, 2, 9, 0, 2, 10, 9, 6, 11, 7, -1, -1, -1, -1, -1, -1, -1, 6, 11, 7, 2, 10, 3, 10, 8, 3, 10, 9, 8, -1, -1, -1, -1, 7, 2, 3, 6, 2, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 7, 0, 8, 7, 6, 0, 6, 2, 0, -1, -1, -1, -1, -1, -1, -1, 2, 7, 6, 2, 3, 7, 0, 1, 9, -1, -1, -1, -1, -1, -1, -1, 1, 6, 2, 1, 8, 6, 1, 9, 8, 8, 7, 6, -1, -1, -1, -1, 10, 7, 6, 10, 1, 7, 1, 3, 7, -1, -1, -1, -1, -1, -1, -1, 10, 7, 6, 1, 7, 10, 1, 8, 7, 1, 0, 8, -1, -1, -1, -1, 0, 3, 7, 0, 7, 10, 0, 10, 9, 6, 10, 7, -1, -1, -1, -1, 7, 6, 10, 7, 10, 8, 8, 10, 9, -1, -1, -1, -1, -1, -1, -1, 6, 8, 4, 11, 8, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 6, 11, 3, 0, 6, 0, 4, 6, -1, -1, -1, -1, -1, -1, -1, 8, 6, 11, 8, 4, 6, 9, 0, 1, -1, -1, -1, -1, -1, -1, -1, 9, 4, 6, 9, 6, 3, 9, 3, 1, 11, 3, 6, -1, -1, -1, -1, 6, 8, 4, 6, 11, 8, 2, 10, 1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 3, 0, 11, 0, 6, 11, 0, 4, 6, -1, -1, -1, -1, 4, 11, 8, 4, 6, 11, 0, 2, 9, 2, 10, 9, -1, -1, -1, -1, 10, 9, 3, 10, 3, 2, 9, 4, 3, 11, 3, 6, 4, 6, 3, -1, 8, 2, 3, 8, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, 0, 4, 2, 4, 6, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 9, 0, 2, 3, 4, 2, 4, 6, 4, 3, 8, -1, -1, -1, -1, 1, 9, 4, 1, 4, 2, 2, 4, 6, -1, -1, -1, -1, -1, -1, -1, 8, 1, 3, 8, 6, 1, 8, 4, 6, 6, 10, 1, -1, -1, -1, -1, 10, 1, 0, 10, 0, 6, 6, 0, 4, -1, -1, -1, -1, -1, -1, -1, 4, 6, 3, 4, 3, 8, 6, 10, 3, 0, 3, 9, 10, 9, 3, -1, 10, 9, 4, 6, 10, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 9, 5, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 4, 9, 5, 11, 7, 6, -1, -1, -1, -1, -1, -1, -1, 5, 0, 1, 5, 4, 0, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, 11, 7, 6, 8, 3, 4, 3, 5, 4, 3, 1, 5, -1, -1, -1, -1, 9, 5, 4, 10, 1, 2, 7, 6, 11, -1, -1, -1, -1, -1, -1, -1, 6, 11, 7, 1, 2, 10, 0, 8, 3, 4, 9, 5, -1, -1, -1, -1, 7, 6, 11, 5, 4, 10, 4, 2, 10, 4, 0, 2, -1, -1, -1, -1, 3, 4, 8, 3, 5, 4, 3, 2, 5, 10, 5, 2, 11, 7, 6, -1, 7, 2, 3, 7, 6, 2, 5, 4, 9, -1, -1, -1, -1, -1, -1, -1, 9, 5, 4, 0, 8, 6, 0, 6, 2, 6, 8, 7, -1, -1, -1, -1, 3, 6, 2, 3, 7, 6, 1, 5, 0, 5, 4, 0, -1, -1, -1, -1, 6, 2, 8, 6, 8, 7, 2, 1, 8, 4, 8, 5, 1, 5, 8, -1, 9, 5, 4, 10, 1, 6, 1, 7, 6, 1, 3, 7, -1, -1, -1, -1, 1, 6, 10, 1, 7, 6, 1, 0, 7, 8, 7, 0, 9, 5, 4, -1, 4, 0, 10, 4, 10, 5, 0, 3, 10, 6, 10, 7, 3, 7, 10, -1, 7, 6, 10, 7, 10, 8, 5, 4, 10, 4, 8, 10, -1, -1, -1, -1, 6, 9, 5, 6, 11, 9, 11, 8, 9, -1, -1, -1, -1, -1, -1, -1, 3, 6, 11, 0, 6, 3, 0, 5, 6, 0, 9, 5, -1, -1, -1, -1, 0, 11, 8, 0, 5, 11, 0, 1, 5, 5, 6, 11, -1, -1, -1, -1, 6, 11, 3, 6, 3, 5, 5, 3, 1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 10, 9, 5, 11, 9, 11, 8, 11, 5, 6, -1, -1, -1, -1, 0, 11, 3, 0, 6, 11, 0, 9, 6, 5, 6, 9, 1, 2, 10, -1, 11, 8, 5, 11, 5, 6, 8, 0, 5, 10, 5, 2, 0, 2, 5, -1, 6, 11, 3, 6, 3, 5, 2, 10, 3, 10, 5, 3, -1, -1, -1, -1, 5, 8, 9, 5, 2, 8, 5, 6, 2, 3, 8, 2, -1, -1, -1, -1, 9, 5, 6, 9, 6, 0, 0, 6, 2, -1, -1, -1, -1, -1, -1, -1, 1, 5, 8, 1, 8, 0, 5, 6, 8, 3, 8, 2, 6, 2, 8, -1, 1, 5, 6, 2, 1, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 3, 6, 1, 6, 10, 3, 8, 6, 5, 6, 9, 8, 9, 6, -1, 10, 1, 0, 10, 0, 6, 9, 5, 0, 5, 6, 0, -1, -1, -1, -1, 0, 3, 8, 5, 6, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, 5, 6, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 5, 10, 7, 5, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 11, 5, 10, 11, 7, 5, 8, 3, 0, -1, -1, -1, -1, -1, -1, -1, 5, 11, 7, 5, 10, 11, 1, 9, 0, -1, -1, -1, -1, -1, -1, -1, 10, 7, 5, 10, 11, 7, 9, 8, 1, 8, 3, 1, -1, -1, -1, -1, 11, 1, 2, 11, 7, 1, 7, 5, 1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 1, 2, 7, 1, 7, 5, 7, 2, 11, -1, -1, -1, -1, 9, 7, 5, 9, 2, 7, 9, 0, 2, 2, 11, 7, -1, -1, -1, -1, 7, 5, 2, 7, 2, 11, 5, 9, 2, 3, 2, 8, 9, 8, 2, -1, 2, 5, 10, 2, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, 8, 2, 0, 8, 5, 2, 8, 7, 5, 10, 2, 5, -1, -1, -1, -1, 9, 0, 1, 5, 10, 3, 5, 3, 7, 3, 10, 2, -1, -1, -1, -1, 9, 8, 2, 9, 2, 1, 8, 7, 2, 10, 2, 5, 7, 5, 2, -1, 1, 3, 5, 3, 7, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 8, 7, 0, 7, 1, 1, 7, 5, -1, -1, -1, -1, -1, -1, -1, 9, 0, 3, 9, 3, 5, 5, 3, 7, -1, -1, -1, -1, -1, -1, -1, 9, 8, 7, 5, 9, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 5, 8, 4, 5, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1, 5, 0, 4, 5, 11, 0, 5, 10, 11, 11, 3, 0, -1, -1, -1, -1, 0, 1, 9, 8, 4, 10, 8, 10, 11, 10, 4, 5, -1, -1, -1, -1, 10, 11, 4, 10, 4, 5, 11, 3, 4, 9, 4, 1, 3, 1, 4, -1, 2, 5, 1, 2, 8, 5, 2, 11, 8, 4, 5, 8, -1, -1, -1, -1, 0, 4, 11, 0, 11, 3, 4, 5, 11, 2, 11, 1, 5, 1, 11, -1, 0, 2, 5, 0, 5, 9, 2, 11, 5, 4, 5, 8, 11, 8, 5, -1, 9, 4, 5, 2, 11, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 5, 10, 3, 5, 2, 3, 4, 5, 3, 8, 4, -1, -1, -1, -1, 5, 10, 2, 5, 2, 4, 4, 2, 0, -1, -1, -1, -1, -1, -1, -1, 3, 10, 2, 3, 5, 10, 3, 8, 5, 4, 5, 8, 0, 1, 9, -1, 5, 10, 2, 5, 2, 4, 1, 9, 2, 9, 4, 2, -1, -1, -1, -1, 8, 4, 5, 8, 5, 3, 3, 5, 1, -1, -1, -1, -1, -1, -1, -1, 0, 4, 5, 1, 0, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 8, 4, 5, 8, 5, 3, 9, 0, 5, 0, 3, 5, -1, -1, -1, -1, 9, 4, 5, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 11, 7, 4, 9, 11, 9, 10, 11, -1, -1, -1, -1, -1, -1, -1, 0, 8, 3, 4, 9, 7, 9, 11, 7, 9, 10, 11, -1, -1, -1, -1, 1, 10, 11, 1, 11, 4, 1, 4, 0, 7, 4, 11, -1, -1, -1, -1, 3, 1, 4, 3, 4, 8, 1, 10, 4, 7, 4, 11, 10, 11, 4, -1, 4, 11, 7, 9, 11, 4, 9, 2, 11, 9, 1, 2, -1, -1, -1, -1, 9, 7, 4, 9, 11, 7, 9, 1, 11, 2, 11, 1, 0, 8, 3, -1, 11, 7, 4, 11, 4, 2, 2, 4, 0, -1, -1, -1, -1, -1, -1, -1, 11, 7, 4, 11, 4, 2, 8, 3, 4, 3, 2, 4, -1, -1, -1, -1, 2, 9, 10, 2, 7, 9, 2, 3, 7, 7, 4, 9, -1, -1, -1, -1, 9, 10, 7, 9, 7, 4, 10, 2, 7, 8, 7, 0, 2, 0, 7, -1, 3, 7, 10, 3, 10, 2, 7, 4, 10, 1, 10, 0, 4, 0, 10, -1, 1, 10, 2, 8, 7, 4, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 9, 1, 4, 1, 7, 7, 1, 3, -1, -1, -1, -1, -1, -1, -1, 4, 9, 1, 4, 1, 7, 0, 8, 1, 8, 7, 1, -1, -1, -1, -1, 4, 0, 3, 7, 4, 3, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 4, 8, 7, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 9, 10, 8, 10, 11, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 0, 9, 3, 9, 11, 11, 9, 10, -1, -1, -1, -1, -1, -1, -1, 0, 1, 10, 0, 10, 8, 8, 10, 11, -1, -1, -1, -1, -1, -1, -1, 3, 1, 10, 11, 3, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 2, 11, 1, 11, 9, 9, 11, 8, -1, -1, -1, -1, -1, -1, -1, 3, 0, 9, 3, 9, 11, 1, 2, 9, 2, 11, 9, -1, -1, -1, -1, 0, 2, 11, 8, 0, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 3, 2, 11, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 3, 8, 2, 8, 10, 10, 8, 9, -1, -1, -1, -1, -1, -1, -1, 9, 10, 2, 0, 9, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 2, 3, 8, 2, 8, 10, 0, 1, 8, 1, 10, 8, -1, -1, -1, -1, 1, 10, 2, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 1, 3, 8, 9, 1, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 9, 1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 0, 3, 8, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1];\n\nvar edgeTable = [0x0, 0x109, 0x203, 0x30a, 0x406, 0x50f, 0x605, 0x70c, 0x80c, 0x905, 0xa0f, 0xb06, 0xc0a, 0xd03, 0xe09, 0xf00, 0x190, 0x99, 0x393, 0x29a, 0x596, 0x49f, 0x795, 0x69c, 0x99c, 0x895, 0xb9f, 0xa96, 0xd9a, 0xc93, 0xf99, 0xe90, 0x230, 0x339, 0x33, 0x13a, 0x636, 0x73f, 0x435, 0x53c, 0xa3c, 0xb35, 0x83f, 0x936, 0xe3a, 0xf33, 0xc39, 0xd30, 0x3a0, 0x2a9, 0x1a3, 0xaa, 0x7a6, 0x6af, 0x5a5, 0x4ac, 0xbac, 0xaa5, 0x9af, 0x8a6, 0xfaa, 0xea3, 0xda9, 0xca0, 0x460, 0x569, 0x663, 0x76a, 0x66, 0x16f, 0x265, 0x36c, 0xc6c, 0xd65, 0xe6f, 0xf66, 0x86a, 0x963, 0xa69, 0xb60, 0x5f0, 0x4f9, 0x7f3, 0x6fa, 0x1f6, 0xff, 0x3f5, 0x2fc, 0xdfc, 0xcf5, 0xfff, 0xef6, 0x9fa, 0x8f3, 0xbf9, 0xaf0, 0x650, 0x759, 0x453, 0x55a, 0x256, 0x35f, 0x55, 0x15c, 0xe5c, 0xf55, 0xc5f, 0xd56, 0xa5a, 0xb53, 0x859, 0x950, 0x7c0, 0x6c9, 0x5c3, 0x4ca, 0x3c6, 0x2cf, 0x1c5, 0xcc, 0xfcc, 0xec5, 0xdcf, 0xcc6, 0xbca, 0xac3, 0x9c9, 0x8c0, 0x8c0, 0x9c9, 0xac3, 0xbca, 0xcc6, 0xdcf, 0xec5, 0xfcc, 0xcc, 0x1c5, 0x2cf, 0x3c6, 0x4ca, 0x5c3, 0x6c9, 0x7c0, 0x950, 0x859, 0xb53, 0xa5a, 0xd56, 0xc5f, 0xf55, 0xe5c, 0x15c, 0x55, 0x35f, 0x256, 0x55a, 0x453, 0x759, 0x650, 0xaf0, 0xbf9, 0x8f3, 0x9fa, 0xef6, 0xfff, 0xcf5, 0xdfc, 0x2fc, 0x3f5, 0xff, 0x1f6, 0x6fa, 0x7f3, 0x4f9, 0x5f0, 0xb60, 0xa69, 0x963, 0x86a, 0xf66, 0xe6f, 0xd65, 0xc6c, 0x36c, 0x265, 0x16f, 0x66, 0x76a, 0x663, 0x569, 0x460, 0xca0, 0xda9, 0xea3, 0xfaa, 0x8a6, 0x9af, 0xaa5, 0xbac, 0x4ac, 0x5a5, 0x6af, 0x7a6, 0xaa, 0x1a3, 0x2a9, 0x3a0, 0xd30, 0xc39, 0xf33, 0xe3a, 0x936, 0x83f, 0xb35, 0xa3c, 0x53c, 0x435, 0x73f, 0x636, 0x13a, 0x33, 0x339, 0x230, 0xe90, 0xf99, 0xc93, 0xd9a, 0xa96, 0xb9f, 0x895, 0x99c, 0x69c, 0x795, 0x49f, 0x596, 0x29a, 0x393, 0x99, 0x190, 0xf00, 0xe09, 0xd03, 0xc0a, 0xb06, 0xa0f, 0x905, 0x80c, 0x70c, 0x605, 0x50f, 0x406, 0x30a, 0x203, 0x109, 0x0];\nfunction _voxelGradientFast(v, point, grad) {\n  var g = v.getValue(point.x, point.y, point.z);\n  grad.set(g[0], g[1], g[2]);\n}\nvar GridCell = _createClass(function GridCell() {\n  _classCallCheck(this, GridCell);\n  this._arrSize = 8;\n  this.p = new Array(this._arrSize);\n  this.g = new Array(this._arrSize);\n  this.val = new Array(this._arrSize);\n  for (var i = 0; i < this._arrSize; ++i) {\n    this.p[i] = new Vector3();\n    this.g[i] = new Vector3();\n  }\n  this.cubeIndex = 0;\n});\nvar Triangle = _createClass(function Triangle() {\n  _classCallCheck(this, Triangle);\n  this.a = {\n    p: new Vector3(),\n    n: new Vector3()\n  };\n  this.b = {\n    p: new Vector3(),\n    n: new Vector3()\n  };\n  this.c = {\n    p: new Vector3(),\n    n: new Vector3()\n  };\n});\nfunction createArray(arrSize) {\n  var arr = new Array(arrSize);\n  for (var i = 0; i < arrSize; ++i) {\n    arr[i] = new Vector3();\n  }\n  return arr;\n}\nvar IsoSurface = function () {\n  function IsoSurface() {\n    _classCallCheck(this, IsoSurface);\n    this._numTriangles = 0;\n    this._numVertices = 0;\n    this._position = [];\n    this._normals = [];\n    this._colors = null;\n    this._indices = [];\n    this._volumetricData = null;\n    this._xAxis = new Vector3();\n    this._yAxis = new Vector3();\n    this._zAxis = new Vector3();\n    this._xDir = new Vector3();\n    this._yDir = new Vector3();\n    this._zDir = new Vector3();\n  }\n  _createClass(IsoSurface, [{\n    key: \"_prepareAxesAndDirs\",\n    value: function _prepareAxesAndDirs() {\n      var volData = this._volumetricData;\n      var cellSize = volData.getCellSize();\n      var xAxis = this._xAxis;\n      var yAxis = this._yAxis;\n      var zAxis = this._zAxis;\n      var xDir = this._xDir;\n      var yDir = this._yDir;\n      var zDir = this._zDir;\n      xAxis.set(cellSize.x, 0, 0);\n      yAxis.set(0, cellSize.y, 0);\n      zAxis.set(0, 0, cellSize.z);\n      xDir.set(1, 0, 0);\n      yDir.set(0, 1, 0);\n      zDir.set(0, 0, 1);\n      var tmp = new Vector3();\n      tmp.crossVectors(xDir, yDir);\n      if (tmp.dot(zDir) < 0) {\n        xDir.negate();\n        yDir.negate();\n        zDir.negate();\n      }\n      if (xDir.x < 0 || xDir.y < 0 || xDir.z < 0 || yDir.x < 0 || yDir.y < 0 || yDir.z < 0 || zDir.x < 0 || zDir.y < 0 || zDir.z < 0) {\n        return false;\n      }\n      var notZero = function notZero(axe) {\n        return Math.abs(axe) > Number.EPSILON;\n      };\n      return !(notZero(xAxis.y) || notZero(xAxis.z) || notZero(yAxis.x) || notZero(yAxis.z) || notZero(zAxis.x) || notZero(zAxis.y));\n    }\n  }, {\n    key: \"_vertexInterp\",\n    value: function _vertexInterp(isoLevel, grid, ind1, ind2, vertex, normal) {\n      var p1 = grid.p[ind1];\n      var p2 = grid.p[ind2];\n      var n1 = grid.g[ind1];\n      var n2 = grid.g[ind2];\n      var valP1 = grid.val[ind1];\n      var valP2 = grid.val[ind2];\n      var isoDiffP1 = isoLevel - valP1;\n      var diffValP2P1 = valP2 - valP1;\n      var mu = 0.0;\n      if (Math.abs(diffValP2P1) > 0.0) {\n        mu = isoDiffP1 / diffValP2P1;\n      }\n      mu = mu > 1.0 ? 1.0 : mu;\n      vertex.lerpVectors(p1, p2, mu);\n      normal.lerpVectors(n1, n2, mu);\n    }\n  }, {\n    key: \"_polygonize\",\n    value: function _polygonize(grid, isoLevel, triangles) {\n      var cubeIndex = grid.cubeIndex;\n      var i = 0;\n      var arrSize = IsoSurface._arrSize;\n      var firstIndices = IsoSurface._firstIndices;\n      var secondIndices = IsoSurface._secondIndices;\n      var vertexList = IsoSurface._vertexList;\n      var normalList = IsoSurface._normalList;\n      for (; i < arrSize; ++i) {\n        if (edgeTable[cubeIndex] & 1 << i) {\n          this._vertexInterp(isoLevel, grid, firstIndices[i], secondIndices[i], vertexList[i], normalList[i]);\n        }\n      }\n      var triCount = 0;\n      var triTblIdx = cubeIndex * 16;\n      var triTable = IsoSurface._triTable;\n      for (i = 0; triTable[triTblIdx + i] !== -1; i += 3) {\n        triangles[triCount].a.p.copy(vertexList[triTable[triTblIdx + i]]);\n        triangles[triCount].a.n.copy(normalList[triTable[triTblIdx + i]]);\n        triangles[triCount].b.p.copy(vertexList[triTable[triTblIdx + i + 1]]);\n        triangles[triCount].b.n.copy(normalList[triTable[triTblIdx + i + 1]]);\n        triangles[triCount].c.p.copy(vertexList[triTable[triTblIdx + i + 2]]);\n        triangles[triCount].c.n.copy(normalList[triTable[triTblIdx + i + 2]]);\n        ++triCount;\n      }\n      return triCount;\n    }\n  }, {\n    key: \"_doGridPosNorms\",\n    value: function _doGridPosNorms(isoValue, step, appendSimple) {\n      var vol = this._volumetricData;\n      var volData = this._volumetricData.getData();\n      var dim = vol.getDimensions();\n      var xSize = dim[0];\n      var ySize = dim[1];\n      var zSize = dim[2];\n      var stepX = step * vol.getStrideX();\n      var stepY = step * vol.getStrideY();\n      var stepZ = step * vol.getStrideZ();\n      var gc = new GridCell();\n      var gcVal = gc.val;\n      var gcValSize = gc.val.length;\n      var additions = [new Vector3(0, 0, 0),\n      new Vector3(step, 0, 0),\n      new Vector3(step, step, 0),\n      new Vector3(0, step, 0),\n      new Vector3(0, 0, step),\n      new Vector3(step, 0, step),\n      new Vector3(step, step, step),\n      new Vector3(0, step, step)\n      ];\n      var tmpTriCount = 5;\n      var triangles = new Array(tmpTriCount);\n      for (var j = 0; j < tmpTriCount; ++j) {\n        triangles[j] = new Triangle();\n      }\n      var appendVertex;\n      var self = this;\n      var positions = this._position;\n      var normals = this._normals;\n      if (appendSimple) {\n        appendVertex = function () {\n          var axis = new Vector3(self._xAxis.x, self._yAxis.y, self._zAxis.z);\n          return function (triVertex) {\n            var vertex = triVertex.p.clone();\n            vertex.multiply(axis);\n            positions.push(vertex.add(self._origin));\n            normals.push(triVertex.n.clone());\n          };\n        }();\n      } else {\n        appendVertex = function () {\n          var posMtx = new Matrix3();\n          posMtx.set(self._xAxis.x, self._yAxis.x, self._zAxis.x, self._xAxis.y, self._yAxis.y, self._zAxis.y, self._xAxis.z, self._yAxis.z, self._zAxis.z);\n          var normMtx = new Matrix3();\n          normMtx.set(self._xDir.x, self._yDir.x, self._zDir.x, self._xDir.y, self._yDir.y, self._zDir.y, self._xDir.z, self._yDir.z, self._zDir.z);\n          return function (triVertex) {\n            positions.push(triVertex.p.clone().applyMatrix3(posMtx).add(self._origin));\n            normals.push(triVertex.n.clone().applyMatrix3(normMtx));\n          };\n        }();\n      }\n      var indices = this._indices;\n      var globTriCount = 0;\n      for (var z = 0; z < zSize - step; z += step) {\n        for (var y = 0; y < ySize - step; y += step) {\n          var idx = vol.getDirectIdx(0, y, z);\n          for (var x = 0; x < xSize - step; x += step, idx += stepX) {\n            gcVal[0] = volData[idx];\n            gcVal[1] = volData[idx + stepX];\n            gcVal[3] = volData[idx + stepY];\n            gcVal[2] = volData[idx + stepX + stepY];\n            gcVal[4] = volData[idx + stepZ];\n            gcVal[5] = volData[idx + stepX + stepZ];\n            gcVal[7] = volData[idx + stepY + stepZ];\n            gcVal[6] = volData[idx + stepX + stepY + stepZ];\n            var cubeIndex = 0;\n            var i = 0;\n            for (; i < gcValSize; ++i) {\n              if (gcVal[i] < isoValue) {\n                cubeIndex |= 1 << i;\n              }\n            }\n            if (edgeTable[cubeIndex] === 0) {\n              continue;\n            }\n            gc.cubeIndex = cubeIndex;\n            for (i = 0; i < gcValSize; ++i) {\n              gc.p[i].set(x + additions[i].x, y + additions[i].y, z + additions[i].z);\n              _voxelGradientFast(this._gradient, gc.p[i], gc.g[i]);\n            }\n            var triCount = this._polygonize(gc, isoValue, triangles);\n            globTriCount += triCount;\n            for (i = 0; i < triCount; ++i) {\n              indices.push(this._numTriangles * 3);\n              indices.push(this._numTriangles * 3 + 1);\n              indices.push(this._numTriangles * 3 + 2);\n              ++this._numTriangles;\n              appendVertex(triangles[i].a);\n              appendVertex(triangles[i].b);\n              appendVertex(triangles[i].c);\n            }\n          }\n        }\n      }\n      return globTriCount;\n    }\n  }, {\n    key: \"compute\",\n    value: function compute(volData, origin, isoValue, step) {\n      this._volumetricData = volData;\n      this._origin = origin;\n      this._gradient = volData.computeGradient();\n      this._doGridPosNorms(isoValue, step, this._prepareAxesAndDirs());\n    }\n  }, {\n    key: \"_remapIndices\",\n    value: function _remapIndices(vertexMap, idcCount) {\n      var indices = this._indices;\n      var newIndices = utils.allocateTyped(Uint32Array, idcCount);\n      for (var i = 0; i < idcCount; ++i) {\n        indices[i] = vertexMap[indices[i]];\n        newIndices[i] = indices[i];\n      }\n      this._indices = newIndices;\n    }\n  }, {\n    key: \"_remapVertices\",\n    value: function _remapVertices(vertices, normals, count) {\n      var newPositions = utils.allocateTyped(Float32Array, count * 3);\n      var newNormals = utils.allocateTyped(Float32Array, count * 3);\n      for (var i = 0; i < count; ++i) {\n        var pos = vertices[i];\n        newPositions[i * 3] = pos.x;\n        newPositions[i * 3 + 1] = pos.y;\n        newPositions[i * 3 + 2] = pos.z;\n        var norm = normals[i].normalize();\n        newNormals[i * 3] = norm.x;\n        newNormals[i * 3 + 1] = norm.y;\n        newNormals[i * 3 + 2] = norm.z;\n      }\n      this._position = newPositions;\n      this._normals = newNormals;\n    }\n  }, {\n    key: \"vertexFusion\",\n    value: function vertexFusion(offset, len) {\n      var faceVer = this._indices.length;\n      var vertices = this._position;\n      var normals = this._normals;\n      var oldVerCount = vertices.length | 0;\n      if (faceVer === 0 || oldVerCount === 0) {\n        return;\n      }\n      var vMap = utils.allocateTyped(Uint32Array, oldVerCount);\n      vMap[0] = 0;\n      var newVer = 1;\n      var i = 1;\n      for (; i < oldVerCount; ++i) {\n        var start = newVer - offset < 0 ? 0 : newVer - offset;\n        var end = start + len > newVer ? newVer : start + len;\n        var matchedIndex = -1;\n        for (var j = start; j < end; ++j) {\n          if (Math.abs(vertices[i] - vertices[j]) < Number.EPSILON) {\n            matchedIndex = j;\n            break;\n          }\n        }\n        if (matchedIndex !== -1) {\n          vMap[i] = matchedIndex;\n        } else {\n          vertices[newVer].copy(vertices[i]);\n          normals[newVer].copy(normals[i]);\n          vMap[i] = newVer;\n          ++newVer;\n        }\n      }\n      this._remapIndices(vMap, faceVer);\n      this._remapVertices(vertices, normals, newVer);\n    }\n  }, {\n    key: \"setColorVolTex\",\n    value: function setColorVolTex(colorMap, atomMap, atomWeightMap, visibilitySelector) {\n      var i;\n      var idx;\n      var numVerts = this._position.length / 3;\n      var vertices = this._position;\n      var origin = this._origin;\n      var dim = this._volumetricData.getDimensions();\n      var xs = dim[0] - 1;\n      var ys = dim[1] - 1;\n      var zs = dim[2] - 1;\n      var colorData = colorMap.getData();\n      var strideX = colorMap.getStrideX();\n      var strideY = colorMap.getStrideY();\n      var strideZ = colorMap.getStrideZ();\n      var atomWeightData;\n      var atomStrideX;\n      var atomStrideY;\n      var atomStrideZ;\n      if (visibilitySelector !== null) {\n        atomWeightData = atomWeightMap.getData();\n        atomStrideX = atomWeightMap.getStrideX();\n        atomStrideY = atomWeightMap.getStrideY();\n        atomStrideZ = atomWeightMap.getStrideZ();\n      }\n      var xInv = 1.0 / this._xAxis.x;\n      var yInv = 1.0 / this._yAxis.y;\n      var zInv = 1.0 / this._zAxis.z;\n      var atomLookup = [];\n      var atomWeights = [];\n      var colors = utils.allocateTyped(Float32Array, numVerts * 3);\n      function interp(mu, idx1, idx2, c) {\n        c[0] = (1 - mu) * colorData[idx1] + mu * colorData[idx2];\n        c[1] = (1 - mu) * colorData[idx1 + 1] + mu * colorData[idx2 + 1];\n        c[2] = (1 - mu) * colorData[idx1 + 2] + mu * colorData[idx2 + 2];\n      }\n      function collectWeight(ai, coefX, coefY, coefZ) {\n        var a = atomMap[ai];\n        if (a != null) {\n          atomLookup[a.index] = a;\n          var w = coefX * coefY * coefZ * atomWeightData[ai];\n          if (typeof atomWeights[a.index] === 'undefined') {\n            atomWeights[a.index] = w;\n          } else {\n            atomWeights[a.index] += w;\n          }\n        }\n      }\n      var vMap = utils.allocateTyped(Int32Array, numVerts);\n      var newVerCount = 0;\n      for (i = 0; i < numVerts; i++) {\n        var ind = i * 3;\n        var vx = (vertices[ind] - origin.x) * xInv;\n        var vy = (vertices[ind + 1] - origin.y) * yInv;\n        var vz = (vertices[ind + 2] - origin.z) * zInv;\n        var x = Math.min(Math.max(vx, 0), xs) | 0;\n        var y = Math.min(Math.max(vy, 0), ys) | 0;\n        var z = Math.min(Math.max(vz, 0), zs) | 0;\n        var mux = vx - x;\n        var muy = vy - y;\n        var muz = vz - z;\n        if (visibilitySelector != null) {\n          atomLookup = [];\n          atomWeights = [];\n          idx = atomWeightMap.getDirectIdx(x, y, z);\n          collectWeight(idx, 1 - mux, 1 - muy, 1 - muz);\n          collectWeight(idx + atomStrideX, mux, 1 - muy, 1 - muz);\n          collectWeight(idx + atomStrideY, 1 - mux, muy, 1 - muz);\n          collectWeight(idx + atomStrideX + atomStrideY, mux, muy, 1 - muz);\n          collectWeight(idx + atomStrideZ, 1 - mux, 1 - muy, muz);\n          collectWeight(idx + atomStrideX + atomStrideZ, mux, 1 - muy, muz);\n          collectWeight(idx + atomStrideY + atomStrideZ, 1 - mux, muy, muz);\n          collectWeight(idx + atomStrideX + atomStrideY + atomStrideZ, mux, muy, muz);\n          var maxWeight = 0.0;\n          var dominantIdx = -1;\n          for (var atomIdx in atomWeights) {\n            if (atomWeights[atomIdx] > maxWeight) {\n              dominantIdx = atomIdx;\n              maxWeight = atomWeights[atomIdx];\n            }\n          }\n          if (dominantIdx < 0 || !visibilitySelector.includesAtom(atomLookup[dominantIdx])) {\n            vMap[i] = -1;\n            continue;\n          }\n        }\n        vMap[i] = newVerCount++;\n        var dx = x < xs ? strideX : 0;\n        var dy = y < ys ? strideY : 0;\n        var dz = z < zs ? strideZ : 0;\n        var c0 = [0, 0, 0];\n        var c1 = [0, 0, 0];\n        var c2 = [0, 0, 0];\n        var c3 = [0, 0, 0];\n        idx = colorMap.getDirectIdx(x, y, z);\n        interp(mux, idx, idx + dx, c0);\n        interp(mux, idx + dy, idx + dx + dy, c1);\n        interp(mux, idx + dz, idx + dx + dz, c2);\n        interp(mux, idx + dy + dz, idx + dx + dy + dz, c3);\n        var cz0 = [0, 0, 0];\n        cz0[0] = (1 - muy) * c0[0] + muy * c1[0];\n        cz0[1] = (1 - muy) * c0[1] + muy * c1[1];\n        cz0[2] = (1 - muy) * c0[2] + muy * c1[2];\n        var cz1 = [0, 0, 0];\n        cz1[0] = (1 - muy) * c2[0] + muy * c3[0];\n        cz1[1] = (1 - muy) * c2[1] + muy * c3[1];\n        cz1[2] = (1 - muy) * c2[2] + muy * c3[2];\n        colors[ind] = (1 - muz) * cz0[0] + muz * cz1[0];\n        colors[ind + 1] = (1 - muz) * cz0[1] + muz * cz1[1];\n        colors[ind + 2] = (1 - muz) * cz0[2] + muz * cz1[2];\n      }\n      this._colors = colors;\n      if (visibilitySelector != null) {\n        for (i = 0; i < numVerts; ++i) {\n          var j = vMap[i];\n          if (j < 0) {\n            continue;\n          }\n          this._position[j * 3] = this._position[i * 3];\n          this._position[j * 3 + 1] = this._position[i * 3 + 1];\n          this._position[j * 3 + 2] = this._position[i * 3 + 2];\n          this._normals[j * 3] = this._normals[i * 3];\n          this._normals[j * 3 + 1] = this._normals[i * 3 + 1];\n          this._normals[j * 3 + 2] = this._normals[i * 3 + 2];\n          this._colors[j * 3] = this._colors[i * 3];\n          this._colors[j * 3 + 1] = this._colors[i * 3 + 1];\n          this._colors[j * 3 + 2] = this._colors[i * 3 + 2];\n        }\n        var numTriangles = this._indices.length / 3;\n        var newTriCount = 0;\n        for (i = 0; i < numTriangles; ++i) {\n          var i0 = vMap[this._indices[3 * i]];\n          var i1 = vMap[this._indices[3 * i + 1]];\n          var i2 = vMap[this._indices[3 * i + 2]];\n          if (i0 >= 0 && i1 >= 0 && i2 >= 0) {\n            this._indices[3 * newTriCount] = i0;\n            this._indices[3 * newTriCount + 1] = i1;\n            this._indices[3 * newTriCount + 2] = i2;\n            ++newTriCount;\n          }\n        }\n        this._position = new Float32Array(this._position.buffer.slice(0, newVerCount * 3 * 4));\n        this._normals = new Float32Array(this._normals.buffer.slice(0, newVerCount * 3 * 4));\n        this._colors = new Float32Array(this._colors.buffer.slice(0, newVerCount * 3 * 4));\n        this._indices = new Uint32Array(this._indices.buffer.slice(0, newTriCount * 3 * 4));\n      }\n    }\n  }, {\n    key: \"toMesh\",\n    value: function toMesh() {\n      var geo = new BufferGeometry();\n      geo.setIndex(new BufferAttribute(this._indices, 1));\n      geo.setAttribute('position', new BufferAttribute(this._position, 3));\n      geo.setAttribute('normal', new BufferAttribute(this._normals, 3));\n      geo.setAttribute('color', new BufferAttribute(this._colors, 3));\n      geo.computeBoundingSphere();\n      return geo;\n    }\n  }]);\n  return IsoSurface;\n}();\n_defineProperty(IsoSurface, \"_triTable\", IsoSurfaceMarchCube.prototype.striIndicesMarchCube);\n_defineProperty(IsoSurface, \"_arrSize\", 12);\n_defineProperty(IsoSurface, \"_firstIndices\", [0, 1, 2, 3, 4, 5, 6, 7, 0, 1, 2, 3]);\n_defineProperty(IsoSurface, \"_secondIndices\", [1, 2, 3, 0, 5, 6, 7, 4, 4, 5, 6, 7]);\n_defineProperty(IsoSurface, \"_vertexList\", createArray(IsoSurface._arrSize));\n_defineProperty(IsoSurface, \"_normalList\", createArray(IsoSurface._arrSize));\n\nfunction _createSuper$1C(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1C(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1C() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VolumeSurfaceGeometry = function (_IsoSurfaceGeometry) {\n  _inherits(VolumeSurfaceGeometry, _IsoSurfaceGeometry);\n  var _super = _createSuper$1C(VolumeSurfaceGeometry);\n  function VolumeSurfaceGeometry() {\n    _classCallCheck(this, VolumeSurfaceGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(VolumeSurfaceGeometry, [{\n    key: \"_build\",\n    value: function _build() {\n      var params = this._opts;\n      this.numVoxels = [128, 128, 128];\n      this.xAxis = new Vector3(1.0, 0.0, 0.0);\n      this.yAxis = new Vector3(0.0, 1.0, 0.0);\n      this.zAxis = new Vector3(0.0, 0.0, 1.0);\n      this.origin = new Vector3(0.0, 0.0, 0.0);\n      this._visibilitySelector = params.visibilitySelector;\n      this._calcSurface(params);\n    }\n  }, {\n    key: \"_findMinMax\",\n    value: function _findMinMax(posRadArray) {\n      var itemSize = 4;\n      var itemsCount = posRadArray.length / itemSize;\n      var maxPosRad = [posRadArray[0], posRadArray[1], posRadArray[2], posRadArray[3]];\n      var minPosRad = [posRadArray[0], posRadArray[1], posRadArray[2], posRadArray[3]];\n      for (var i = 1; i < itemsCount; ++i) {\n        var ind = i * itemSize;\n        for (var itemIdx = 0; itemIdx < itemSize; ++itemIdx) {\n          var tmpVal = posRadArray[ind + itemIdx];\n          maxPosRad[itemIdx] = Math.max(tmpVal, maxPosRad[itemIdx]);\n          minPosRad[itemIdx] = Math.min(tmpVal, minPosRad[itemIdx]);\n        }\n      }\n      return {\n        maxPosRad: maxPosRad,\n        minPosRad: minPosRad\n      };\n    }\n  }, {\n    key: \"_findNumVoxels\",\n    value: function _findNumVoxels(posRadArray, params) {\n      var numVoxels = this.numVoxels;\n      var minMaxValues = this._findMinMax(posRadArray);\n      var minCoordRad = minMaxValues.minPosRad;\n      var maxCoordRad = minMaxValues.maxPosRad;\n      if (minCoordRad[3] > 4.0) {\n        params.gridSpacing *= minCoordRad[3];\n      }\n      var gridPadding = params.radScale * maxCoordRad[3] * 1.7;\n      var padRad = gridPadding;\n      padRad = 0.65 * Math.sqrt(4.0 / 3.0 * Math.PI * padRad * padRad * padRad);\n      gridPadding = Math.max(gridPadding, padRad);\n      var i = 0;\n      for (; i < 3; ++i) {\n        minCoordRad[i] -= gridPadding;\n        maxCoordRad[i] += gridPadding;\n      }\n      for (i = 0; i < 3; ++i) {\n        numVoxels[i] = Math.ceil((maxCoordRad[i] - minCoordRad[i]) / params.gridSpacing);\n      }\n      this.xAxis.x = (numVoxels[0] - 1) * params.gridSpacing;\n      this.yAxis.y = (numVoxels[1] - 1) * params.gridSpacing;\n      this.zAxis.z = (numVoxels[2] - 1) * params.gridSpacing;\n      var _minCoordRad = _slicedToArray(minCoordRad, 3);\n      this.origin.x = _minCoordRad[0];\n      this.origin.y = _minCoordRad[1];\n      this.origin.z = _minCoordRad[2];\n      return {\n        bbox: minMaxValues,\n        dim: numVoxels\n      };\n    }\n  }, {\n    key: \"_makeSurface\",\n    value: function _makeSurface(surface, params) {\n      var isoSurf = new IsoSurface();\n      isoSurf.compute(surface.volMap, this.origin, params.isoValue, 1);\n      isoSurf.vertexFusion(9, 9);\n      if (isoSurf._numTriangles > 0) {\n        isoSurf.setColorVolTex(surface.volTexMap, surface.atomMap, surface.atomWeightMap, this._visibilitySelector);\n        this.setIndex(new BufferAttribute(isoSurf._indices, 1));\n        this.setAttribute('position', new BufferAttribute(isoSurf._position, 3));\n        this.setAttribute('normal', new BufferAttribute(isoSurf._normals, 3));\n        this.setAttribute('color', new BufferAttribute(isoSurf._colors, 3));\n      } else {\n        this.setAttribute('position', new BufferAttribute(utils.allocateTyped(Float32Array, 0), 3));\n      }\n    }\n  }, {\n    key: \"_calcSurface\",\n    value: function _calcSurface(params) {\n      var packedArrays = {\n        posRad: this._posRad,\n        colors: this._colors,\n        atoms: this._opts.atoms\n      };\n      if (packedArrays.posRad.length === 0) {\n        return;\n      }\n      var boundaries = this._findNumVoxels(packedArrays.posRad, params);\n      var box = new Box3(this.origin, new Vector3(this.xAxis.x, this.yAxis.y, this.zAxis.z).add(this.origin));\n      var surface = this._computeSurface(packedArrays, box, boundaries, params);\n      this._makeSurface(surface, params);\n    }\n  }]);\n  return VolumeSurfaceGeometry;\n}(IsoSurfaceGeometry);\n\nfunction _createSuper$1B(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1B(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1B() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Volume$1 = chem.Volume;\nvar QuickSurfGeometry = function (_VolumeSurfaceGeometr) {\n  _inherits(QuickSurfGeometry, _VolumeSurfaceGeometr);\n  var _super = _createSuper$1B(QuickSurfGeometry);\n  function QuickSurfGeometry() {\n    _classCallCheck(this, QuickSurfGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(QuickSurfGeometry, [{\n    key: \"_computeSurface\",\n    value: function _computeSurface(packedArrays, box, boundaries, params) {\n      this._shiftByOrigin(packedArrays.posRad);\n      var surface = {\n        volMap: new Volume$1(Float32Array, this.numVoxels, box),\n        volTexMap: new Volume$1(Float32Array, this.numVoxels, box, 3)\n      };\n      if (this._visibilitySelector != null) {\n        surface.atomMap = [];\n        surface.atomWeightMap = new Volume$1(Float32Array, this.numVoxels, box);\n      }\n      this.gaussdensity(surface, packedArrays, null, params);\n      return surface;\n    }\n  }, {\n    key: \"gaussdensity\",\n    value: function gaussdensity(surface, packedArrays, atomicNum, params) {\n      var numAtoms = packedArrays.posRad.length / 4;\n      var posRad = packedArrays.posRad,\n          colors = packedArrays.colors;\n      var numVoxels = this.numVoxels;\n      var radScale = params.radScale,\n          gaussLim = params.gaussLim,\n          gridSpacing = params.gridSpacing;\n      var invIsoValue = 1.0 / params.isoValue;\n      var invGridSpacing = 1.0 / gridSpacing;\n      var maxVoxelX = numVoxels[0] - 1;\n      var maxVoxelY = numVoxels[1] - 1;\n      var maxVoxelZ = numVoxels[2] - 1;\n      var volMap = surface.volMap,\n          volTexMap = surface.volTexMap;\n      var volData = volMap.getData();\n      var strideX = volMap.getStrideX();\n      var volTexData = volTexMap.getData();\n      var texStrideX = volTexMap.getStrideX();\n      var atomWeightData;\n      if (this._visibilitySelector != null) {\n        atomWeightData = surface.atomWeightMap.getData();\n      }\n      var atomMap = surface.atomMap;\n      for (var i = 0; i < numAtoms; ++i) {\n        var ind = i * 4;\n        var scaledRad = posRad[ind + 3] * radScale;\n        var atomicNumFactor = atomicNum === null ? 1.0 : atomicNum[i];\n        var radInv = 1 / (2 * scaledRad * scaledRad);\n        var radLim = gaussLim * scaledRad;\n        var radLim2 = radLim * radLim;\n        radLim *= invGridSpacing;\n        var tmp = posRad[ind] * invGridSpacing;\n        var xMin = Math.max(tmp - radLim | 0, 0);\n        var xMax = Math.min(tmp + radLim | 0, maxVoxelX);\n        tmp = posRad[ind + 1] * invGridSpacing;\n        var yMin = Math.max(tmp - radLim | 0, 0);\n        var yMax = Math.min(tmp + radLim | 0, maxVoxelY);\n        tmp = posRad[ind + 2] * invGridSpacing;\n        var zMin = Math.max(tmp - radLim | 0, 0);\n        var zMax = Math.min(tmp + radLim | 0, maxVoxelZ);\n        var dz = zMin * gridSpacing - posRad[ind + 2];\n        for (var z = zMin; z <= zMax; ++z, dz += gridSpacing) {\n          var dy = yMin * gridSpacing - posRad[ind + 1];\n          for (var y = yMin; y <= yMax; ++y, dy += gridSpacing) {\n            var dy2dz2 = dy * dy + dz * dz;\n            if (dy2dz2 >= radLim2) {\n              continue;\n            }\n            var addr = volMap.getDirectIdx(xMin, y, z);\n            var texAddr = volTexMap.getDirectIdx(xMin, y, z);\n            var dx = xMin * gridSpacing - posRad[ind];\n            for (var x = xMin; x <= xMax; ++x, dx += gridSpacing, addr += strideX, texAddr += texStrideX) {\n              var r2 = dx * dx + dy2dz2;\n              var expVal = -r2 * radInv;\n              var density = Math.exp(expVal) * atomicNumFactor;\n              if (this._visibilitySelector != null && density > atomWeightData[addr]) {\n                atomWeightData[addr] = density;\n                atomMap[addr] = packedArrays.atoms[i];\n              }\n              volData[addr] += density;\n              density *= invIsoValue;\n              var colInd = i * 3;\n              volTexData[texAddr] += density * colors[colInd];\n              volTexData[texAddr + 1] += density * colors[colInd + 1];\n              volTexData[texAddr + 2] += density * colors[colInd + 2];\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_shiftByOrigin\",\n    value: function _shiftByOrigin(posRadArray) {\n      var originX = this.origin.x;\n      var originY = this.origin.y;\n      var originZ = this.origin.z;\n      var itemSize = 4;\n      var itemsCount = posRadArray.length / itemSize;\n      for (var i = 0; i < itemsCount; ++i) {\n        var ind = i * itemSize;\n        posRadArray[ind] -= originX;\n        posRadArray[ind + 1] -= originY;\n        posRadArray[ind + 2] -= originZ;\n      }\n    }\n  }]);\n  return QuickSurfGeometry;\n}(VolumeSurfaceGeometry);\n\nfunction AVHash(posRad, min, max, maxDistance) {\n  var itemSize = 4;\n  var nAtoms = posRad.length / itemSize;\n  var minX = min[0];\n  var minY = min[1];\n  var minZ = min[2];\n  var maxX = max[0];\n  var maxY = max[1];\n  var maxZ = max[2];\n  function hashFunc(w, minW) {\n    return Math.floor((w - minW) / maxDistance);\n  }\n  var iDim = hashFunc(maxX, minX) + 1;\n  var jDim = hashFunc(maxY, minY) + 1;\n  var kDim = hashFunc(maxZ, minZ) + 1;\n  var nCells = iDim * jDim * kDim;\n  var jkDim = jDim * kDim;\n  var cellID = function cellID(x, y, z) {\n    return (hashFunc(x, minX) * jDim + hashFunc(y, minY)) * kDim + hashFunc(z, minZ);\n  };\n  var preHash = [];\n  var i;\n  var cid;\n  for (i = 0; i < nAtoms; i++) {\n    var iIdx = itemSize * i;\n    cid = cellID(posRad[iIdx], posRad[iIdx + 1], posRad[iIdx + 2]);\n    if (preHash[cid] === undefined) {\n      preHash[cid] = [i];\n    } else {\n      preHash[cid].push(i);\n    }\n  }\n  var cellOffsets = utils.allocateTyped(Uint32Array, nCells);\n  var cellLengths = utils.allocateTyped(Uint16Array, nCells);\n  var data = utils.allocateTyped(Uint32Array, nAtoms);\n  var offset = 0;\n  var maxCellLength = 0;\n  var j;\n  for (i = 0; i < nCells; i++) {\n    var start = cellOffsets[i] = offset;\n    var subArray = preHash[i];\n    if (subArray !== undefined) {\n      for (j = 0; j < subArray.length; j++) {\n        data[offset] = subArray[j];\n        offset++;\n      }\n    }\n    var cellLength = offset - start;\n    cellLengths[i] = cellLength;\n    if (cellLength > maxCellLength) {\n      maxCellLength = cellLength;\n    }\n  }\n  this.neighbourListLength = 27 * maxCellLength + 1;\n  this.withinRadii = function (x, y, z, rExtra, out) {\n    var outIdx = 0;\n    var nearI = hashFunc(x, minX);\n    var nearJ = hashFunc(y, minY);\n    var nearK = hashFunc(z, minZ);\n    var loI = Math.max(0, nearI - 1);\n    var loJ = Math.max(0, nearJ - 1);\n    var loK = Math.max(0, nearK - 1);\n    var hiI = Math.min(iDim - 1, nearI + 1);\n    var hiJ = Math.min(jDim - 1, nearJ + 1);\n    var hiK = Math.min(kDim - 1, nearK + 1);\n    for (i = loI; i <= hiI; ++i) {\n      var iOffset = i * jkDim;\n      for (j = loJ; j <= hiJ; ++j) {\n        var jOffset = j * kDim;\n        for (var k = loK; k <= hiK; ++k) {\n          cid = iOffset + jOffset + k;\n          var cellStart = cellOffsets[cid];\n          var cellEnd = cellStart + cellLengths[cid];\n          for (var dataIndex = cellStart; dataIndex < cellEnd; dataIndex++) {\n            var atomIndex = data[dataIndex];\n            var baseIndex = itemSize * atomIndex;\n            var dx = posRad[baseIndex] - x;\n            var dy = posRad[baseIndex + 1] - y;\n            var dz = posRad[baseIndex + 2] - z;\n            var rSum = posRad[baseIndex + 3] + rExtra;\n            if (dx * dx + dy * dy + dz * dz <= rSum * rSum) {\n              out[outIdx++] = data[dataIndex];\n            }\n          }\n        }\n      }\n    }\n    out[outIdx] = -1;\n  };\n}\nfunction ContactSurface(packedArrays, boundaries, params, _indexList) {\n  var itemSize = 4;\n  var posRad = packedArrays.posRad,\n      colors = packedArrays.colors,\n      atoms = packedArrays.atoms;\n  var nAtoms = posRad.length / itemSize;\n  var bbox = boundaries.bbox;\n  var min = bbox.minPosRad;\n  var max = bbox.maxPosRad;\n  var r2;\n  var maxRadius;\n  var probeRadius;\n  var scaleFactor;\n  var probePositions;\n  var lastClip = -1;\n  var dim;\n  var grid;\n  var volTex;\n  var weights;\n  var weightsMap = null;\n  var atomMap = null;\n  var visibilitySelector = null;\n  var gridx;\n  var gridy;\n  var gridz;\n  var sinTable;\n  var cosTable;\n  var hash;\n  var neighbours;\n  var mid = new Vector3(0.0, 0.0, 0.0);\n  var n1 = new Vector3(0.0, 0.0, 0.0);\n  var n2 = new Vector3(0.0, 0.0, 0.0);\n  var ngTorus;\n  function uniformArray(TypeName, n, a) {\n    var array = utils.allocateTyped(TypeName, n);\n    for (var innI = 0; innI < n; ++innI) {\n      array[innI] = a;\n    }\n    return array;\n  }\n  function fillGridDim(a, start, step) {\n    for (var innI = 0; innI < a.length; innI++) {\n      a[innI] = start + step * innI;\n    }\n  }\n  function initializeGrid() {\n    scaleFactor = params.scaleFactor;\n    dim = boundaries.dim;\n    ngTorus = Math.min(5, 2 + Math.floor(probeRadius * scaleFactor));\n    var gridSize = dim[0] * dim[1] * dim[2];\n    grid = uniformArray(Float32Array, gridSize, -1001.0);\n    volTex = utils.allocateTyped(Float32Array, gridSize * 3);\n    weights = utils.allocateTyped(Float32Array, gridSize);\n    if (visibilitySelector) {\n      weightsMap = utils.allocateTyped(Float32Array, gridSize);\n      atomMap = [];\n    }\n    gridx = utils.allocateTyped(Float32Array, dim[0]);\n    gridy = utils.allocateTyped(Float32Array, dim[1]);\n    gridz = utils.allocateTyped(Float32Array, dim[2]);\n    fillGridDim(gridx, min[0], 1 / scaleFactor);\n    fillGridDim(gridy, min[1], 1 / scaleFactor);\n    fillGridDim(gridz, min[2], 1 / scaleFactor);\n  }\n  function initializeAngleTables() {\n    var theta = 0.0;\n    var step = 2 * Math.PI / probePositions;\n    cosTable = utils.allocateTyped(Float32Array, probePositions);\n    sinTable = utils.allocateTyped(Float32Array, probePositions);\n    for (var innI = 0; innI < probePositions; innI++) {\n      cosTable[innI] = Math.cos(theta);\n      sinTable[innI] = Math.sin(theta);\n      theta += step;\n    }\n  }\n  function initializeHash() {\n    hash = new AVHash(posRad, min, max, 2.01 * maxRadius);\n    neighbours = new Int32Array(hash.neighbourListLength);\n  }\n  function init() {\n    probeRadius = params.probeRadius;\n    scaleFactor = params.scaleFactor;\n    probePositions = params.probePositions;\n    visibilitySelector = params.visibilitySelector;\n    r2 = utils.allocateTyped(Float32Array, nAtoms);\n    maxRadius = 0;\n    for (var innI = 0; innI < nAtoms; ++innI) {\n      var rExt = posRad[innI * itemSize + 3] += probeRadius;\n      if (rExt > maxRadius) {\n        maxRadius = rExt;\n      }\n      r2[innI] = rExt * rExt;\n    }\n    initializeGrid();\n    initializeAngleTables();\n    initializeHash();\n    lastClip = -1;\n  }\n  function singleAtomObscures(ai, innX, innY, innZ) {\n    var innCI = itemSize * ai;\n    var ra2 = r2[ai];\n    var dx = posRad[innCI] - innX;\n    var dy = posRad[innCI + 1] - innY;\n    var dz = posRad[innCI + 2] - innZ;\n    var d2 = dx * dx + dy * dy + dz * dz;\n    return d2 < ra2;\n  }\n  function obscured(innX, innY, innZ, a, b) {\n    var ai;\n    if (lastClip !== -1) {\n      ai = lastClip;\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        return ai;\n      }\n      lastClip = -1;\n    }\n    var ni = 0;\n    ai = neighbours[ni];\n    while (ai >= 0) {\n      if (ai !== a && ai !== b && singleAtomObscures(ai, innX, innY, innZ)) {\n        lastClip = ai;\n        return ai;\n      }\n      ai = neighbours[++ni];\n    }\n    lastClip = -1;\n    return -1;\n  }\n  function projectPoints() {\n    var maxRad = 4.0;\n    var sigma = maxRad / 3;\n    var sigma2Inv = 1 / (2 * sigma * sigma);\n    for (var innI = 0; innI < nAtoms; innI++) {\n      var innCI = itemSize * innI;\n      var ax = posRad[innCI];\n      var ay = posRad[innCI + 1];\n      var az = posRad[innCI + 2];\n      var ar = posRad[innCI + 3];\n      var ar2 = r2[innI];\n      hash.withinRadii(ax, ay, az, ar, neighbours);\n      var ng = Math.ceil(ar * scaleFactor);\n      var iax = Math.floor(scaleFactor * (ax - min[0]));\n      var iay = Math.floor(scaleFactor * (ay - min[1]));\n      var iaz = Math.floor(scaleFactor * (az - min[2]));\n      var minx = Math.max(0, iax - ng);\n      var miny = Math.max(0, iay - ng);\n      var minz = Math.max(0, iaz - ng);\n      var maxx = Math.min(dim[0], iax + ng + 2);\n      var maxy = Math.min(dim[1], iay + ng + 2);\n      var maxz = Math.min(dim[2], iaz + ng + 2);\n      var colIdx = innI * 3;\n      var cr = colors[colIdx];\n      var cg = colors[colIdx + 1];\n      var cb = colors[colIdx + 2];\n      for (var iz = minz; iz < maxz; iz++) {\n        var dz = gridz[iz] - az;\n        var zOffset = dim[1] * dim[0] * iz;\n        for (var iy = miny; iy < maxy; iy++) {\n          var dy = gridy[iy] - ay;\n          var dzy2 = dz * dz + dy * dy;\n          var zyOffset = zOffset + dim[0] * iy;\n          for (var ix = minx; ix < maxx; ix++) {\n            var idx = ix + zyOffset;\n            var dx = gridx[ix] - ax;\n            var d2 = dzy2 + dx * dx;\n            if (d2 < ar2) {\n              var w = Math.exp(-d2 * sigma2Inv);\n              var cIdx = idx * 3;\n              volTex[cIdx] += cr * w;\n              volTex[cIdx + 1] += cg * w;\n              volTex[cIdx + 2] += cb * w;\n              weights[idx] += w;\n              if (visibilitySelector !== null && w > weightsMap[idx]) {\n                weightsMap[idx] = w;\n                atomMap[idx] = atoms[innI];\n              }\n              if (grid[idx] < 0.0) {\n                grid[idx] = -grid[idx];\n              }\n              var d = Math.sqrt(d2);\n              var ap = ar / d;\n              var spx = dx * ap;\n              var spy = dy * ap;\n              var spz = dz * ap;\n              spx += ax;\n              spy += ay;\n              spz += az;\n              if (obscured(spx, spy, spz, innI, -1) === -1) {\n                var dd = ar - d;\n                if (dd < grid[idx]) {\n                  grid[idx] = dd;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  function normalToLine(out, p) {\n    out.x = out.y = out.z = 1.0;\n    if (p.x !== 0) {\n      out.x = (p.y + p.z) / -p.x;\n    } else if (p.y !== 0) {\n      out.y = (p.x + p.z) / -p.y;\n    } else if (p.z !== 0) {\n      out.z = (p.x + p.y) / -p.z;\n    }\n    return out;\n  }\n  function projectTorus(a, b) {\n    var aIdx = itemSize * a;\n    var bIdx = itemSize * b;\n    var xa = posRad[aIdx];\n    var ya = posRad[aIdx + 1];\n    var za = posRad[aIdx + 2];\n    var r1 = posRad[aIdx + 3];\n    var dx = mid.x = posRad[bIdx] - xa;\n    var dy = mid.y = posRad[bIdx + 1] - ya;\n    var dz = mid.z = posRad[bIdx + 2] - za;\n    var innR2 = posRad[bIdx + 3];\n    var d2 = dx * dx + dy * dy + dz * dz;\n    var d = Math.sqrt(d2);\n    var cosA = (r1 * r1 + d * d - innR2 * innR2) / (2.0 * r1 * d);\n    var dmp = r1 * cosA;\n    mid.normalize();\n    normalToLine(n1, mid);\n    n1.normalize();\n    n2.crossVectors(mid, n1);\n    n2.normalize();\n    var rInt = Math.sqrt(r1 * r1 - dmp * dmp);\n    n1.multiplyScalar(rInt);\n    n2.multiplyScalar(rInt);\n    mid.multiplyScalar(dmp);\n    mid.x += xa;\n    mid.y += ya;\n    mid.z += za;\n    lastClip = -1;\n    var ng = ngTorus;\n    for (var innI = 0; innI < probePositions; innI++) {\n      var cost = cosTable[innI];\n      var sint = sinTable[innI];\n      var px = mid.x + cost * n1.x + sint * n2.x;\n      var py = mid.y + cost * n1.y + sint * n2.y;\n      var pz = mid.z + cost * n1.z + sint * n2.z;\n      if (obscured(px, py, pz, a, b) === -1) {\n        var iax = Math.floor(scaleFactor * (px - min[0]));\n        var iay = Math.floor(scaleFactor * (py - min[1]));\n        var iaz = Math.floor(scaleFactor * (pz - min[2]));\n        var minx = Math.max(0, iax - ng);\n        var miny = Math.max(0, iay - ng);\n        var minz = Math.max(0, iaz - ng);\n        var maxx = Math.min(dim[0], iax + ng + 2);\n        var maxy = Math.min(dim[1], iay + ng + 2);\n        var maxz = Math.min(dim[2], iaz + ng + 2);\n        for (var iz = minz; iz < maxz; iz++) {\n          dz = pz - gridz[iz];\n          var zOffset = dim[1] * dim[0] * iz;\n          for (var iy = miny; iy < maxy; iy++) {\n            dy = py - gridy[iy];\n            var dzy2 = dz * dz + dy * dy;\n            var zyOffset = zOffset + dim[0] * iy;\n            for (var ix = minx; ix < maxx; ix++) {\n              dx = px - gridx[ix];\n              d2 = dzy2 + dx * dx;\n              var idx = ix + zyOffset;\n              var current = grid[idx];\n              if (current > 0.0 && d2 < current * current) {\n                grid[idx] = Math.sqrt(d2);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  function projectTorii() {\n    for (var innI = 0; innI < nAtoms; innI++) {\n      var innIdx = itemSize * innI;\n      hash.withinRadii(posRad[innIdx], posRad[innIdx + 1], posRad[innIdx + 2], posRad[innIdx + 3], neighbours);\n      var ia = 0;\n      var ni = neighbours[ia];\n      while (ni >= 0) {\n        if (innI < ni) {\n          projectTorus(innI, ni);\n        }\n        ni = neighbours[++ia];\n      }\n    }\n  }\n  function fixNegatives() {\n    for (var innI = 0, n = grid.length; innI < n; innI++) {\n      if (grid[innI] < 0) grid[innI] = 0;\n      var w = weights[innI];\n      if (w > 0) {\n        w = 1 / w;\n        var innInnI = innI * 3;\n        volTex[innInnI] *= w;\n        volTex[innInnI + 1] *= w;\n        volTex[innInnI + 2] *= w;\n      }\n    }\n  }\n  function getVolume() {\n    console.time('ContactSurface.getVolume');\n    console.time('ContactSurface.init');\n    init();\n    console.timeEnd('ContactSurface.init');\n    console.time('ContactSurface.projectPoints');\n    projectPoints();\n    console.timeEnd('ContactSurface.projectPoints');\n    console.time('ContactSurface.projectTorii');\n    projectTorii();\n    console.timeEnd('ContactSurface.projectTorii');\n    fixNegatives();\n    console.timeEnd('ContactSurface.getVolume');\n  }\n  this.build = function () {\n    getVolume();\n    this.volTexMap = volTex;\n    this.weightsMap = weightsMap;\n    this.atomMap = atomMap;\n    this.volMap = grid;\n  };\n}\n\nfunction _createSuper$1A(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1A(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1A() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Volume = chem.Volume;\nvar ContactSurfaceGeometry = function (_VolumeSurfaceGeometr) {\n  _inherits(ContactSurfaceGeometry, _VolumeSurfaceGeometr);\n  var _super = _createSuper$1A(ContactSurfaceGeometry);\n  function ContactSurfaceGeometry() {\n    _classCallCheck(this, ContactSurfaceGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ContactSurfaceGeometry, [{\n    key: \"_computeSurface\",\n    value: function _computeSurface(packedArrays, box, boundaries, params) {\n      var contactSurface = new ContactSurface(packedArrays, boundaries, params);\n      contactSurface.build();\n      var surface = {\n        volMap: new Volume(Float32Array, this.numVoxels, box, 1, contactSurface.volMap),\n        volTexMap: new Volume(Float32Array, this.numVoxels, box, 3, contactSurface.volTexMap),\n        atomMap: contactSurface.atomMap,\n        atomWeightMap: new Volume(Float32Array, this.numVoxels, box, 1, contactSurface.weightsMap)\n      };\n      return surface;\n    }\n  }]);\n  return ContactSurfaceGeometry;\n}(VolumeSurfaceGeometry);\n\nvar IsoSurfaceAtomColored = _createClass(function IsoSurfaceAtomColored(vCenter, radiusAt) {\n  _classCallCheck(this, IsoSurfaceAtomColored);\n  this.coord = new Vector3();\n  this.coord.copy(vCenter);\n  this.radius = radiusAt;\n  this.colorX = 0.99999;\n  this.colorY = 0.0;\n  this.colorZ = 0.0;\n  this.atomType = 0;\n  this.srcAtom = null;\n});\n\nvar IsosurfaceBuildNormals = function () {\n  function IsosurfaceBuildNormals(numAtoms, atoms, vBoxMin, vBoxMax, probeRadius) {\n    _classCallCheck(this, IsosurfaceBuildNormals);\n    this._numAtoms = numAtoms;\n    this._atoms = atoms;\n    this._vBoxMin = new Vector3();\n    this._vBoxMax = new Vector3();\n    this._vBoxMin.copy(vBoxMin);\n    this._vBoxMax.copy(vBoxMax);\n    this._probeRadius = probeRadius;\n    this._atomsList = null;\n    this._voxelList = null;\n  }\n  _createClass(IsosurfaceBuildNormals, [{\n    key: \"createVoxels\",\n    value: function createVoxels() {\n      var numAtomsRefs;\n      var rad;\n      var ATOM_VOXEL_REF_SCALE = 4.5;\n      var numAtoms = this._numAtoms | 0;\n      var atoms = this._atoms;\n      var dx = this._vBoxMax.x - this._vBoxMin.x;\n      var dy = this._vBoxMax.y - this._vBoxMin.y;\n      var dz = this._vBoxMax.z - this._vBoxMin.z;\n      var w = dx < dy ? dx : dy;\n      w = dz < w ? dz : w;\n      var maxRad = 0.0;\n      var aveRad = 0.0;\n      var i;\n      for (i = 0; i < numAtoms; i++) {\n        rad = (atoms[i].radius + this._probeRadius) * 2.0;\n        maxRad = rad > maxRad ? rad : maxRad;\n        aveRad += rad;\n      }\n      var numCells = Math.floor(w / maxRad);\n      if (numCells < 2) {\n        numCells = 2;\n      }\n      aveRad /= numAtoms;\n      this._numCells = numCells;\n      this._aveRad = aveRad;\n      this._maxRad = maxRad;\n      var side = numCells;\n      var side2 = numCells * numCells;\n      var side3 = numCells * numCells * numCells;\n      var xScale = this._xScale = 1.0 / (this._vBoxMax.x - this._vBoxMin.x);\n      var yScale = this._yScale = 1.0 / (this._vBoxMax.y - this._vBoxMin.y);\n      var zScale = this._zScale = 1.0 / (this._vBoxMax.z - this._vBoxMin.z);\n      var maxAtomsRefs = 0;\n      var xNumVoxMult = xScale * numCells;\n      var yNumVoxMult = yScale * numCells;\n      var zNumVoxMult = zScale * numCells;\n      for (i = 0; i < numAtoms; i++) {\n        var radAffect = (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE;\n        var diaAffect = radAffect * 2.0;\n        var numVoxX = Math.floor(xNumVoxMult * diaAffect + 0.8);\n        var numVoxY = Math.floor(yNumVoxMult * diaAffect + 0.8);\n        var numVoxZ = Math.floor(zNumVoxMult * diaAffect + 0.8);\n        numVoxX++;\n        numVoxY++;\n        numVoxZ++;\n        maxAtomsRefs += numVoxX * numVoxY * numVoxZ;\n      }\n      this._voxelList = utils.allocateTyped(Int32Array, side3);\n      var atomsList = [];\n      atomsList.length = maxAtomsRefs;\n      if (this._voxelList === null || atomsList === null) {\n        return 0 - 1;\n      }\n      for (i = 0; i < side3; i++) {\n        this._voxelList[i] = -1;\n      }\n      numAtomsRefs = 0;\n      for (i = 0; i < numAtoms; i++) {\n        rad = (atoms[i].radius + this._probeRadius) * ATOM_VOXEL_REF_SCALE;\n        var xIndMin = Math.floor((atoms[i].coord.x - this._vBoxMin.x - rad) * numCells * xScale);\n        var yIndMin = Math.floor((atoms[i].coord.y - this._vBoxMin.y - rad) * numCells * yScale);\n        var zIndMin = Math.floor((atoms[i].coord.z - this._vBoxMin.z - rad) * numCells * zScale);\n        var xIndMax = Math.floor((atoms[i].coord.x - this._vBoxMin.x + rad) * numCells * xScale);\n        var yIndMax = Math.floor((atoms[i].coord.y - this._vBoxMin.y + rad) * numCells * yScale);\n        var zIndMax = Math.floor((atoms[i].coord.z - this._vBoxMin.z + rad) * numCells * zScale);\n        xIndMin = xIndMin >= 0 ? xIndMin : 0;\n        yIndMin = yIndMin >= 0 ? yIndMin : 0;\n        zIndMin = zIndMin >= 0 ? zIndMin : 0;\n        xIndMax = xIndMax < numCells ? xIndMax : numCells - 1;\n        yIndMax = yIndMax < numCells ? yIndMax : numCells - 1;\n        zIndMax = zIndMax < numCells ? zIndMax : numCells - 1;\n        for (var z = zIndMin; z <= zIndMax; z++) {\n          for (var y = yIndMin; y <= yIndMax; y++) {\n            for (var x = xIndMin; x <= xIndMax; x++) {\n              var indVoxel = x + y * side + z * side2;\n              if (this._voxelList[indVoxel] < 0) {\n                atomsList[numAtomsRefs * 2 + 0] = i;\n                atomsList[numAtomsRefs * 2 + 1] = 0 - 1;\n                this._voxelList[indVoxel] = numAtomsRefs;\n                numAtomsRefs++;\n                continue;\n              }\n              var indexNext = this._voxelList[indVoxel];\n              this._voxelList[indVoxel] = numAtomsRefs;\n              atomsList[numAtomsRefs * 2 + 0] = i;\n              atomsList[numAtomsRefs * 2 + 1] = indexNext;\n              numAtomsRefs++;\n            }\n          }\n        }\n      }\n      this._atomsList = Int32Array.from(atomsList);\n      return 0;\n    }\n  }, {\n    key: \"destroyVoxels\",\n    value: function destroyVoxels() {\n      this._atomsList = null;\n      this._voxelList = null;\n      this._atoms = null;\n      this._vertices = null;\n      this._vBoxMin = null;\n      this._vBoxMax = null;\n    }\n  }, {\n    key: \"forEachRelatedAtom\",\n    value: function forEachRelatedAtom(point, process) {\n      var xInd = Math.floor((point.x - this._vBoxMin.x) * this._numCells * this._xScale);\n      var yInd = Math.floor((point.y - this._vBoxMin.y) * this._numCells * this._yScale);\n      var zInd = Math.floor((point.z - this._vBoxMin.z) * this._numCells * this._zScale);\n      var indVoxel = xInd + yInd * this._numCells + zInd * this._numCells * this._numCells;\n      var atoms = this._atoms;\n      for (var ref = this._voxelList[indVoxel]; ref >= 0; ref = this._atomsList[ref * 2 + 1]) {\n        var indexAtom = this._atomsList[ref * 2];\n        process(atoms[indexAtom]);\n      }\n    }\n  }, {\n    key: \"getClosestAtom\",\n    value: function getClosestAtom(point) {\n      var closest = null;\n      var minDist2 = Number.MAX_VALUE;\n      this.forEachRelatedAtom(point, function (atom) {\n        var dist2 = point.distanceToSquared(atom.coord);\n        if (dist2 < minDist2) {\n          minDist2 = dist2;\n          closest = atom;\n        }\n      });\n      return closest;\n    }\n  }, {\n    key: \"buildNormals\",\n    value: function buildNormals(numVertices, vertices, normals) {\n      var self = this;\n      var numCloseAtoms = 0;\n      var vx = 0;\n      var vy = 0;\n      var vz = 0;\n      var dist2;\n      var vNormalX = 0;\n      var vNormalY = 0;\n      var vNormalZ = 0;\n      var koef = 0;\n      var w = 0;\n      var r25 = 2.5;\n      var r01 = 0.1;\n      var maxRadAffect = this._aveRad * r25;\n      var maxRadAffect2 = maxRadAffect * maxRadAffect;\n      var expScale = -this._aveRad * r01;\n      var gatherNormals = function gatherNormals(atom) {\n        var dx = vx - atom.coord.x;\n        var dy = vy - atom.coord.y;\n        var dz = vz - atom.coord.z;\n        dist2 = dx * dx + dy * dy + dz * dz;\n        if (dist2 > maxRadAffect2) {\n          return;\n        }\n        var rad = atom.radius + self._probeRadius;\n        koef = dist2 - rad * rad;\n        if (koef < 0.0) {\n          koef = -koef;\n        }\n        w = Math.exp(expScale * koef);\n        vNormalX += dx * w;\n        vNormalY += dy * w;\n        vNormalZ += dz * w;\n        numCloseAtoms++;\n      };\n      for (var i = 0; i < numVertices; i++) {\n        vx = vertices[i].x;\n        vy = vertices[i].y;\n        vz = vertices[i].z;\n        numCloseAtoms = 0;\n        vNormalX = vNormalY = vNormalZ = 0.0;\n        this.forEachRelatedAtom(vertices[i], gatherNormals);\n        dist2 = vNormalX * vNormalX + vNormalY * vNormalY + vNormalZ * vNormalZ;\n        if (numCloseAtoms > 0) {\n          koef = 1.0 / Math.sqrt(dist2);\n          vNormalX *= koef;\n          vNormalY *= koef;\n          vNormalZ *= koef;\n        }\n        normals[i].x = vNormalX;\n        normals[i].y = vNormalY;\n        normals[i].z = vNormalZ;\n      }\n      return 0;\n    }\n  }, {\n    key: \"buildColors\",\n    value: function buildColors(numVertices, vertices, colors, radiusColorSmoothness) {\n      var self = this;\n      var vx = 0.0;\n      var vy = 0.0;\n      var vz = 0.0;\n      var koef = 0.0;\n      var w = 0.0;\n      var KOEF_ADD = 0.8;\n      var maxRadAffect = radiusColorSmoothness;\n      var maxRadAffect2 = maxRadAffect * maxRadAffect;\n      var colorsClose = [];\n      var weights = [];\n      var weightsSum = 0;\n      var gatherColors = function gatherColors(atom) {\n        var dx = vx - atom.coord.x;\n        var dy = vy - atom.coord.y;\n        var dz = vz - atom.coord.z;\n        var dist2 = dx * dx + dy * dy + dz * dz;\n        if (dist2 > maxRadAffect2) {\n          return;\n        }\n        var rad = atom.radius + self._probeRadius;\n        koef = dist2 - rad * rad;\n        if (koef < 0.0) {\n          koef = -koef;\n        }\n        w = 1.0 / (KOEF_ADD + koef);\n        colorsClose.push([atom.colorX, atom.colorY, atom.colorZ]);\n        weights.push(w);\n        weightsSum += w;\n      };\n      for (var i = 0; i < numVertices; i++) {\n        vx = vertices[i].x;\n        vy = vertices[i].y;\n        vz = vertices[i].z;\n        colorsClose = [];\n        weights = [];\n        weightsSum = 0;\n        this.forEachRelatedAtom(vertices[i], gatherColors);\n        for (var j = 0; j < colorsClose.length; ++j) {\n          var weightNormalized = weights[j] / weightsSum;\n          colors[i].x += colorsClose[j][0] * weightNormalized;\n          colors[i].y += colorsClose[j][1] * weightNormalized;\n          colors[i].z += colorsClose[j][2] * weightNormalized;\n        }\n      }\n      return 0;\n    }\n  }]);\n  return IsosurfaceBuildNormals;\n}();\n\nvar IsoSurfaceGeo = function () {\n  function IsoSurfaceGeo(maxNumVertices, maxNumTriangles, needVertexColors) {\n    _classCallCheck(this, IsoSurfaceGeo);\n    this._maxNumVertices = maxNumVertices;\n    this._maxNumTriangles = maxNumTriangles;\n    this._vertices = new Array(maxNumVertices);\n    this._normals = new Array(maxNumVertices);\n    this._colors = null;\n    if (needVertexColors) {\n      this._colors = new Array(maxNumVertices);\n    }\n    this._indices = new Array(maxNumTriangles * (1 + 2));\n    this._numVertices = 0;\n    this._numTriangles = 0;\n    var i;\n    for (i = 0; i < maxNumVertices; i++) {\n      this._vertices[i] = new Vector3();\n      this._normals[i] = new Vector3();\n    }\n    for (i = 0; i < maxNumTriangles * (1 + 2); i++) {\n      this._indices[i] = -1;\n    }\n    if (needVertexColors) {\n      for (i = 0; i < maxNumVertices; i++) {\n        this._colors[i] = new Vector3();\n      }\n    }\n  }\n  _createClass(IsoSurfaceGeo, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this._vertices = null;\n      this._normals = null;\n      this._indices = null;\n    }\n  }]);\n  return IsoSurfaceGeo;\n}();\n\nfunction _createSuper$1z(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1z(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1z() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar COLOR_SIZE = 3;\nvar HASH_SIZE = 32768;\nvar Element$9 = chem.Element;\nvar SSIsosurfaceGeometry = function (_IsoSurfaceGeometry) {\n  _inherits(SSIsosurfaceGeometry, _IsoSurfaceGeometry);\n  var _super = _createSuper$1z(SSIsosurfaceGeometry);\n  function SSIsosurfaceGeometry() {\n    _classCallCheck(this, SSIsosurfaceGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SSIsosurfaceGeometry, [{\n    key: \"_build\",\n    value: function _build() {\n      this._innerBuild();\n      var geoOut = this.getGeo();\n      this.destroy();\n      this._fromGeo(geoOut);\n    }\n  }, {\n    key: \"_fromGeo\",\n    value: function _fromGeo(geoOut) {\n      var colors = null;\n      var positions = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n      var normals = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n      if (geoOut._colors !== null) {\n        colors = utils.allocateTyped(Float32Array, (1 + 2) * geoOut._numVertices);\n      }\n      var indices = utils.allocateTyped(Uint32Array, (1 + 2) * geoOut._numTriangles);\n      for (var i = 0, j = 0; i < geoOut._numVertices; i++) {\n        positions[j + 0] = geoOut._vertices[i].x;\n        positions[j + 1] = geoOut._vertices[i].y;\n        positions[j + 2] = geoOut._vertices[i].z;\n        normals[j + 0] = geoOut._normals[i].x;\n        normals[j + 1] = geoOut._normals[i].y;\n        normals[j + 2] = geoOut._normals[i].z;\n        j += 3;\n      }\n      if (colors !== null) {\n        for (var _i = 0, _j = 0; _i < geoOut._numVertices; _i++, _j += 3) {\n          colors[_j + 0] = geoOut._colors[_i].x;\n          colors[_j + 1] = geoOut._colors[_i].y;\n          colors[_j + 2] = geoOut._colors[_i].z;\n        }\n      }\n      var numTri3 = geoOut._numTriangles * (1 + 2);\n      for (var _i2 = 0; _i2 < numTri3; _i2++) {\n        indices[_i2] = geoOut._indices[_i2];\n      }\n      this.setIndex(new BufferAttribute(indices, 1));\n      this.setAttribute('position', new BufferAttribute(positions, 3));\n      this.setAttribute('normal', new BufferAttribute(normals, 3));\n      this.setAttribute('color', new BufferAttribute(colors, 3));\n      this.computeBoundingBox();\n      this.computeBoundingSphere();\n      geoOut.destroy();\n    }\n  }, {\n    key: \"convertToAtomsColored\",\n    value: function convertToAtomsColored(packedArrays, atomsColored) {\n      var atoms = packedArrays.atoms,\n          colors = packedArrays.colors;\n      for (var i = 0, numAtoms = atoms.length; i < numAtoms; i++) {\n        var vCenter = atoms[i].position;\n        var radius = atoms[i].element.radius;\n        atomsColored[i] = new IsoSurfaceAtomColored(vCenter, radius);\n        var nm = atoms[i].element.number;\n        atomsColored[i].atomType = this.getType(nm);\n        var cIdx = COLOR_SIZE * i;\n        atomsColored[i].colorX = colors[cIdx++];\n        atomsColored[i].colorY = colors[cIdx++];\n        atomsColored[i].colorZ = colors[cIdx];\n        atomsColored[i].srcAtom = atoms[i];\n      }\n    }\n  }, {\n    key: \"getGeo\",\n    value: function getGeo() {\n      return this.geoOut;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.atoms = null;\n      this.hashLines = null;\n      this.hashEntries = null;\n    }\n  }, {\n    key: \"getBoundingBox\",\n    value: function getBoundingBox(atoms, vBoxMin, vBoxMax) {\n      var bigNum = 10000000.0;\n      vBoxMin.x = vBoxMin.y = vBoxMin.z = bigNum;\n      vBoxMax.x = vBoxMax.y = vBoxMax.z = 0 - bigNum;\n      var probeRadius2 = this.probeRadius * this.atomRadiusScale;\n      var radMax = 0.0;\n      for (var i = 0, num = atoms.length; i < num; i++) {\n        var vCenter = atoms[i].coord;\n        var rad = atoms[i].radius + probeRadius2;\n        radMax = rad > radMax ? rad : radMax;\n        if (vCenter.x - rad < vBoxMin.x) {\n          vBoxMin.x = vCenter.x - rad;\n        }\n        if (vCenter.y - rad < vBoxMin.y) {\n          vBoxMin.y = vCenter.y - rad;\n        }\n        if (vCenter.z - rad < vBoxMin.z) {\n          vBoxMin.z = vCenter.z - rad;\n        }\n        if (vCenter.x + rad > vBoxMax.x) {\n          vBoxMax.x = vCenter.x + rad;\n        }\n        if (vCenter.y + rad > vBoxMax.y) {\n          vBoxMax.y = vCenter.y + rad;\n        }\n        if (vCenter.z + rad > vBoxMax.z) {\n          vBoxMax.z = vCenter.z + rad;\n        }\n      }\n      vBoxMin.x -= radMax;\n      vBoxMin.y -= radMax;\n      vBoxMin.z -= radMax;\n      vBoxMax.x += radMax;\n      vBoxMax.y += radMax;\n      vBoxMax.z += radMax;\n    }\n  }, {\n    key: \"getCornerCoord\",\n    value: function getCornerCoord(vBoxMin, vBoxMax, x, y, z, numPoints, vOut) {\n      var invNP = 1.0 / (numPoints - 1.0);\n      var tx = x * invNP;\n      var ty = y * invNP;\n      var tz = z * invNP;\n      vOut.x = vBoxMin.x * (1.0 - tx) + vBoxMax.x * tx;\n      vOut.y = vBoxMin.y * (1.0 - ty) + vBoxMax.y * ty;\n      vOut.z = vBoxMin.z * (1.0 - tz) + vBoxMax.z * tz;\n    }\n  }, {\n    key: \"buildEdgePoint\",\n    value: function buildEdgePoint(indexA, indexB, sign, cube, indexPointValue, vOut) {\n      if (sign[indexA] ^ sign[indexB]) {\n        var cTwentyFour = 24;\n        var a = 0 - cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA];\n        var b = cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexB];\n        var c = cube.pointsValuesLinear[indexPointValue + cTwentyFour + indexA];\n        var t = a / (b - c);\n        var xa = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 0];\n        var ya = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 1];\n        var za = cube.pointsValuesLinear[indexPointValue + indexA * (2 + 1) + 2];\n        var xb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 0];\n        var yb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 1];\n        var zb = cube.pointsValuesLinear[indexPointValue + indexB * (2 + 1) + 2];\n        vOut.x = xa * (1.0 - t) + xb * t;\n        vOut.y = ya * (1.0 - t) + yb * t;\n        vOut.z = za * (1.0 - t) + zb * t;\n      }\n    }\n  }, {\n    key: \"isTriangleVisible\",\n    value: function isTriangleVisible(v0, v1, v2) {\n      var a0 = this.voxelWorld.getClosestAtom(v0);\n      var a1 = this.voxelWorld.getClosestAtom(v1);\n      var a2 = this.voxelWorld.getClosestAtom(v2);\n      if (a0 === null || a1 === null || a2 === null || a0.srcAtom === null || a1.srcAtom === null || a2.srcAtom === null) {\n        return false;\n      }\n      return this.visibilitySelector.includesAtom(a0.srcAtom) && this.visibilitySelector.includesAtom(a1.srcAtom) && this.visibilitySelector.includesAtom(a2.srcAtom);\n    }\n  }, {\n    key: \"addTriangle\",\n    value: function addTriangle(v0, v1, v2) {\n      if (this.visibilitySelector && !this.isTriangleVisible(v0, v1, v2)) {\n        return true;\n      }\n      var geo = this.geoOut;\n      if (geo._numTriangles >= this.maxNumTriangles) {\n        return false;\n      }\n      var indInGeo0 = this.addVertexToGeo(geo, v0);\n      var indInGeo1 = this.addVertexToGeo(geo, v1);\n      var indInGeo2 = this.addVertexToGeo(geo, v2);\n      if ((indInGeo0 | indInGeo1 | indInGeo2) < 0) {\n        return false;\n      }\n      var itr = 3 * geo._numTriangles;\n      geo._indices[itr + 0] = indInGeo0;\n      geo._indices[itr + 1] = indInGeo1;\n      geo._indices[itr + 2] = indInGeo2;\n      geo._numTriangles++;\n      return true;\n    }\n  }, {\n    key: \"buildGeoFromCorners\",\n    value: function buildGeoFromCorners(meshRes, vBoxMin, vBoxMax, corners, vCellStep, cube) {\n      var arrSize = 12;\n      var cNumVerts = 8;\n      var numCells = meshRes - 1;\n      var side = meshRes;\n      var side2 = meshRes * meshRes;\n      var vaEdges = new Array(arrSize);\n      for (var i = 0; i < arrSize; i++) {\n        vaEdges[i] = new Vector3();\n      }\n      var sign = [];\n      for (var _i3 = 0; _i3 < cNumVerts; _i3++) {\n        sign[_i3] = 1.0;\n      }\n      var vCorner = new Vector3();\n      var indCell = 0;\n      var indY = 0;\n      for (var y = 0; y < numCells; y++, indY += side2) {\n        var indZ = 0;\n        for (var z = 0; z < numCells; z++, indZ += side) {\n          for (var x = 0; x < numCells; x++) {\n            if (!cube.hasIntersection[indCell]) {\n              indCell++;\n              continue;\n            }\n            var bitsInside = cube.bitsInside[indCell];\n            this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, meshRes, vCorner);\n            var indPointValues = indCell * (2 << 2 + 2);\n            for (var _i4 = 0, j = 0; _i4 < cNumVerts; _i4++) {\n              cube.pointsValuesLinear[indPointValues + j++] = vCorner.x;\n              cube.pointsValuesLinear[indPointValues + j++] = vCorner.y;\n              cube.pointsValuesLinear[indPointValues + j++] = vCorner.z;\n            }\n            cube.pointsValuesLinear[indPointValues + 3] += vCellStep.x;\n            cube.pointsValuesLinear[indPointValues + 2 * 3] += vCellStep.x;\n            cube.pointsValuesLinear[indPointValues + 5 * 3] += vCellStep.x;\n            cube.pointsValuesLinear[indPointValues + 6 * 3] += vCellStep.x;\n            cube.pointsValuesLinear[indPointValues + 2 * 3 + 2] += vCellStep.z;\n            cube.pointsValuesLinear[indPointValues + 3 * 3 + 2] += vCellStep.z;\n            cube.pointsValuesLinear[indPointValues + 6 * 3 + 2] += vCellStep.z;\n            cube.pointsValuesLinear[indPointValues + 7 * 3 + 2] += vCellStep.z;\n            cube.pointsValuesLinear[indPointValues + 4 * 3 + 1] += vCellStep.y;\n            cube.pointsValuesLinear[indPointValues + 5 * 3 + 1] += vCellStep.y;\n            cube.pointsValuesLinear[indPointValues + 6 * 3 + 1] += vCellStep.y;\n            cube.pointsValuesLinear[indPointValues + 7 * 3 + 1] += vCellStep.y;\n            var indValues = indPointValues + 24;\n            for (var _i5 = 0; _i5 < cNumVerts; ++_i5) {\n              sign[_i5] = cube.pointsValuesLinear[indValues + _i5] < 0.0 ? 1 : 0;\n            }\n            this.buildEdgePoint(0, 1, sign, cube, indPointValues, vaEdges[0]);\n            this.buildEdgePoint(1, 2, sign, cube, indPointValues, vaEdges[1]);\n            this.buildEdgePoint(2, 3, sign, cube, indPointValues, vaEdges[2]);\n            this.buildEdgePoint(3, 0, sign, cube, indPointValues, vaEdges[3]);\n            this.buildEdgePoint(4, 5, sign, cube, indPointValues, vaEdges[4]);\n            this.buildEdgePoint(5, 6, sign, cube, indPointValues, vaEdges[5]);\n            this.buildEdgePoint(6, 7, sign, cube, indPointValues, vaEdges[6]);\n            this.buildEdgePoint(7, 4, sign, cube, indPointValues, vaEdges[7]);\n            this.buildEdgePoint(0, 4, sign, cube, indPointValues, vaEdges[8]);\n            this.buildEdgePoint(1, 5, sign, cube, indPointValues, vaEdges[9]);\n            this.buildEdgePoint(2, 6, sign, cube, indPointValues, vaEdges[10]);\n            this.buildEdgePoint(3, 7, sign, cube, indPointValues, vaEdges[11]);\n            var offs = bitsInside * (2 << 1 + 2);\n            for (var numTri = 0, indTri = 0; numTri < 2 + 2 + 2; numTri++, indTri += 3) {\n              var i0 = cube.striIndicesMarchCube[offs + indTri];\n              if (i0 < 0) {\n                break;\n              }\n              var i1 = cube.striIndicesMarchCube[offs + indTri + 1];\n              var i2 = cube.striIndicesMarchCube[offs + indTri + 2];\n              if (!this.addTriangle(vaEdges[i0], vaEdges[i1], vaEdges[i2])) {\n                return 0 - 2;\n              }\n            }\n            indCell++;\n          }\n        }\n      }\n      return 0;\n    }\n  }, {\n    key: \"getNumIntersectedCells\",\n    value: function getNumIntersectedCells(side, numCells, corners, cube) {\n      var side2 = side * side;\n      var cNumVerts = 8;\n      var numIntersectedCells = 0;\n      var indCell = 0;\n      var indY = 0;\n      for (var y = 0; y < numCells; y++, indY += side2) {\n        var indZ = 0;\n        for (var z = 0; z < numCells; z++, indZ += side) {\n          for (var x = 0; x < numCells; x++) {\n            var cubeValuesIndex = indCell * (2 << 2 + 2) + 24;\n            var indCorner = x + indZ + indY;\n            cube.pointsValuesLinear[cubeValuesIndex] = corners[indCorner];\n            cube.pointsValuesLinear[cubeValuesIndex + 1] = corners[indCorner + 1];\n            cube.pointsValuesLinear[cubeValuesIndex + 2] = corners[indCorner + side + 1];\n            cube.pointsValuesLinear[cubeValuesIndex + 3] = corners[indCorner + side];\n            cube.pointsValuesLinear[cubeValuesIndex + 4] = corners[side2 + indCorner];\n            cube.pointsValuesLinear[cubeValuesIndex + 5] = corners[side2 + indCorner + 1];\n            cube.pointsValuesLinear[cubeValuesIndex + 6] = corners[side2 + indCorner + side + 1];\n            cube.pointsValuesLinear[cubeValuesIndex + 7] = corners[side2 + indCorner + side];\n            var bitsInside = 0;\n            for (var i = 0; i < cNumVerts; ++i) {\n              if (cube.pointsValuesLinear[cubeValuesIndex + i] < 0.0) {\n                bitsInside |= 1 << i;\n              }\n            }\n            if (bitsInside === 0 || bitsInside === (1 << cNumVerts) - 1) {\n              cube.hasIntersection[indCell] = false;\n            } else {\n              cube.hasIntersection[indCell] = true;\n              numIntersectedCells++;\n            }\n            cube.bitsInside[indCell] = bitsInside;\n            indCell++;\n          }\n        }\n      }\n      return numIntersectedCells;\n    }\n  }, {\n    key: \"getType\",\n    value: function getType(letter) {\n      var atomT = [0, 0, 1, 1, 2, 6, 3, 6, 4, 6, 5, 6, 6, 0, 7, 3, 8, 2, 9, 6, 10, 6, 11, 6, 12, 6, 13, 6, 14, 6, 15, 4, 16, 5, 17, 6, 18, 6, 19, 6, 20, 6, 21, 6, 22, 6, 23, 6, 24, 6, 25, 6, 26, 6, 27, 6, 28, 6, 29, 6, 30, 6, 31, 6, 32, 6, 33, 6, 34, 6, 35, 6, 36, 6, 37, 6, 38, 6, 39, 6, 40, 6, 41, 6, 42, 6, 43, 6, 44, 6, 45, 6, 46, 6, 47, 6, 48, 6, 49, 6, 50, 6, 51, 6, 52, 6, 53, 6, 54, 6, 55, 6, 56, 6, 57, 6, 58, 6, 59, 6, 60, 6, 61, 6, 62, 6, 63, 6, 64, 6, 65, 6, 66, 6, 67, 6, 68, 6, 69, 6, 70, 6, 71, 6, 72, 6, 73, 6, 74, 6, 75, 6, 76, 6, 77, 6, 78, 6, 79, 6, 80, 6, 81, 6, 82, 6, 83, 6, 84, 6, 85, 6, 86, 6, 87, 6, 88, 6, 89, 6, 90, 6, 91, 6, 92, 6, 93, 6, 94, 6, 95, 6, 96, 6, 97, 6, 98, 6, 99, 6, 100, 6, 101, 6, 102, 6, 103, 6, 104, 6, 105, 6, 106, 6, 107, 6, 108, 6, 109, 6];\n      if (letter < 1 || letter > atomT.length / 2 || Object.keys(Element$9.ByAtomicNumber).length * 2 !== atomT.length) {\n        throw new Error('atomT.length  should be equal Element.ByAtomicNumber.length * 2');\n      }\n      return atomT[letter * 2];\n    }\n  }, {\n    key: \"calculateGridCorners\",\n    value: function calculateGridCorners(corners, side, vBoxMin, vBoxMax, atoms, probeRad) {\n      var side2 = side * side;\n      var side3 = side2 * side;\n      var vCorner = new Vector3();\n      var vDif = new Vector3();\n      var aLot = +1.0e12;\n      for (var i = 0; i < side3; i++) {\n        corners[i] = aLot;\n      }\n      var xScale = (side - 1) / (vBoxMax.x - vBoxMin.x);\n      var yScale = (side - 1) / (vBoxMax.y - vBoxMin.y);\n      var zScale = (side - 1) / (vBoxMax.z - vBoxMin.z);\n      for (var s = 0, numAtoms = atoms.length; s < numAtoms; s++) {\n        var atom = atoms[s];\n        var radius = atom.radius + probeRad;\n        var fx = (atom.coord.x - radius - vBoxMin.x) * xScale;\n        var fy = (atom.coord.y - radius - vBoxMin.y) * yScale;\n        var fz = (atom.coord.z - radius - vBoxMin.z) * zScale;\n        var indXMin = Math.floor(fx);\n        var indYMin = Math.floor(fy);\n        var indZMin = Math.floor(fz);\n        var indXMax = Math.floor((atom.coord.x + radius - vBoxMin.x) * xScale);\n        var indYMax = Math.floor((atom.coord.y + radius - vBoxMin.y) * yScale);\n        var indZMax = Math.floor((atom.coord.z + radius - vBoxMin.z) * zScale);\n        indXMax++;\n        indYMax++;\n        indZMax++;\n        indXMax = indXMax <= side - 1 ? indXMax : side - 1;\n        indYMax = indYMax <= side - 1 ? indYMax : side - 1;\n        indZMax = indZMax <= side - 1 ? indZMax : side - 1;\n        for (var y = indYMin; y <= indYMax; y++) {\n          var indY = y * side2;\n          for (var z = indZMin; z <= indZMax; z++) {\n            var indZ = z * side;\n            for (var x = indXMin; x <= indXMax; x++) {\n              var ind = indY + indZ + x;\n              this.getCornerCoord(vBoxMin, vBoxMax, x, y, z, side, vCorner);\n              vDif.x = vCorner.x - atom.coord.x;\n              vDif.y = vCorner.y - atom.coord.y;\n              vDif.z = vCorner.z - atom.coord.z;\n              var distToSphere = Math.sqrt(vDif.x * vDif.x + vDif.y * vDif.y + vDif.z * vDif.z);\n              var val = distToSphere - radius;\n              if (val < corners[ind]) {\n                corners[ind] = val;\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"createVertexHash\",\n    value: function createVertexHash(maxNumVertices, maxNumTriangles) {\n      this.hashLines = utils.allocateTyped(Int32Array, HASH_SIZE * 2);\n      if (this.hashLines === null) {\n        return 0 - 1;\n      }\n      for (var i = 0, j = 0; i < HASH_SIZE; i++) {\n        this.hashLines[j++] = 0;\n        this.hashLines[j++] = 0 - 1;\n      }\n      this.maxNumVertices = maxNumVertices;\n      this.maxNumTriangles = maxNumTriangles;\n      this.numHashEtriesAllocated = maxNumVertices;\n      this.hashEntries = utils.allocateTyped(Int32Array, 2 * this.numHashEtriesAllocated);\n      if (this.hashEntries === null) {\n        return 0 - 1;\n      }\n      for (var _i6 = 0, _j2 = 0; _i6 < this.numHashEtriesAllocated; _i6++) {\n        this.hashEntries[_j2++] = 0 - 1;\n        this.hashEntries[_j2++] = 0 - 1;\n      }\n      this.numHashEntryIndex = 0;\n      return 0;\n    }\n  }, {\n    key: \"getNewHashEntry\",\n    value: function getNewHashEntry() {\n      if (this.numHashEntryIndex < this.numHashEtriesAllocated) {\n        var i = this.numHashEntryIndex;\n        this.numHashEntryIndex++;\n        return i;\n      }\n      return 0 - 1;\n    }\n  }, {\n    key: \"addVertexToGeo\",\n    value: function addVertexToGeo(geoOut, vAdd) {\n      var entry;\n      var oneHynberes = 0.01;\n      var n815851 = 815851;\n      var n37633 = 37633;\n      var n2453543 = 2453543;\n      var r106 = 1.0e-6;\n      var hashResolution = this.marCubeResoultion << 2;\n      var v = new Vector3();\n      var ix = Math.floor(hashResolution * (vAdd.x - this.vBoxMin.x) / (this.vBoxMax.x + oneHynberes - this.vBoxMin.x));\n      var iy = Math.floor(hashResolution * (vAdd.y - this.vBoxMin.y) / (this.vBoxMax.y + oneHynberes - this.vBoxMin.y));\n      var iz = Math.floor(hashResolution * (vAdd.z - this.vBoxMin.z) / (this.vBoxMax.z + oneHynberes - this.vBoxMin.z));\n      var iHash = ix * n815851 + iz * n37633 + iy * n2453543;\n      iHash &= HASH_SIZE - 1;\n      var hLineIndex = iHash + iHash;\n      if (this.vBoxMin !== null && this.vBoxMax !== null) {\n        for (entry = this.hashLines[hLineIndex + 1]; entry >= 0; entry = this.hashEntries[entry * 2 + 1]) {\n          var ind = this.hashEntries[entry * 2 + 0];\n          v.copy(geoOut._vertices[ind]);\n          v.x -= vAdd.x;\n          v.y -= vAdd.y;\n          v.z -= vAdd.z;\n          var dot2 = v.x * v.x + v.y * v.y + v.z * v.z;\n          if (dot2 < r106) {\n            return ind;\n          }\n        }\n      }\n      if (geoOut._numVertices >= this.maxNumVertices) {\n        return 0 - 1;\n      }\n      var iVertAdd = geoOut._numVertices;\n      geoOut._vertices[iVertAdd].copy(vAdd);\n      if (this.vBoxMin !== null && this.vBoxMax !== null) {\n        entry = this.getNewHashEntry();\n        if (entry < 0) {\n          return 0 - 1;\n        }\n        var entryFirst = this.hashLines[hLineIndex + 1];\n        this.hashLines[hLineIndex + 1] = entry;\n        this.hashEntries[entry * 2 + 0] = iVertAdd;\n        this.hashEntries[entry * 2 + 1] = entryFirst;\n        this.hashLines[hLineIndex + 0]++;\n      }\n      geoOut._numVertices++;\n      return iVertAdd;\n    }\n  }, {\n    key: \"modifyExcludedFromGeo\",\n    value: function modifyExcludedFromGeo(side, probeSphereRadius, vBoxMin, vBoxMax, geoOut, corners) {\n      var ind;\n      var distToSphere;\n      var distToBorder;\n      var r11 = 1.1;\n      function innerBlockWorkAround() {\n        if (distToBorder > 0.0) {\n          if (corners[ind] < 0.0) {\n            corners[ind] = distToBorder;\n          }\n          if (distToBorder > corners[ind]) {\n            corners[ind] = distToBorder;\n          }\n        } else if (distToBorder > corners[ind]) {\n          corners[ind] = distToBorder;\n        }\n      }\n      var side2 = side * side;\n      var xScale = (side - 1) / (vBoxMax.x - vBoxMin.x);\n      var yScale = (side - 1) / (vBoxMax.y - vBoxMin.y);\n      var zScale = (side - 1) / (vBoxMax.z - vBoxMin.z);\n      var probeSpRad2 = probeSphereRadius * 2 * (probeSphereRadius * 2);\n      var sideInv = 1.0 / (side - 1);\n      for (var i = 0; i < geoOut._numVertices; i++) {\n        var vCenter = geoOut._vertices[i];\n        var radEst = probeSphereRadius * r11;\n        var indXMin = Math.floor((vCenter.x - radEst - vBoxMin.x) * xScale);\n        var indYMin = Math.floor((vCenter.y - radEst - vBoxMin.y) * yScale);\n        var indZMin = Math.floor((vCenter.z - radEst - vBoxMin.z) * zScale);\n        var indXMax = Math.floor((vCenter.x + radEst - vBoxMin.x) * xScale);\n        var indYMax = Math.floor((vCenter.y + radEst - vBoxMin.y) * yScale);\n        var indZMax = Math.floor((vCenter.z + radEst - vBoxMin.z) * zScale);\n        indXMin = indXMin >= 0 ? indXMin : 0;\n        indYMin = indYMin >= 0 ? indYMin : 0;\n        indZMin = indZMin >= 0 ? indZMin : 0;\n        indXMax = indXMax <= side - 1 ? indXMax : side - 1;\n        indYMax = indYMax <= side - 1 ? indYMax : side - 1;\n        indZMax = indZMax <= side - 1 ? indZMax : side - 1;\n        for (var iy = indYMin; iy <= indYMax; iy++) {\n          var indY = iy * side2;\n          for (var iz = indZMin; iz <= indZMax; iz++) {\n            var indZ = iz * side;\n            for (var ix = indXMin; ix <= indXMax; ix++) {\n              ind = indY + indZ + ix;\n              var t = ix * sideInv;\n              var xCorner = vBoxMin.x * (1.0 - t) + vBoxMax.x * t;\n              t = iy * sideInv;\n              var yCorner = vBoxMin.y * (1.0 - t) + vBoxMax.y * t;\n              t = iz * sideInv;\n              var zCorner = vBoxMin.z * (1.0 - t) + vBoxMax.z * t;\n              var dx = xCorner - vCenter.x;\n              var dy = yCorner - vCenter.y;\n              var dz = zCorner - vCenter.z;\n              var dist2 = dx * dx + dy * dy + dz * dz;\n              if (dist2 < probeSpRad2) {\n                distToSphere = Math.sqrt(dist2);\n                distToBorder = -(distToSphere - probeSphereRadius);\n                innerBlockWorkAround();\n              }\n            }\n          }\n        }\n      }\n      return 0;\n    }\n  }, {\n    key: \"_innerBuild\",\n    value: function _innerBuild() {\n      var ok;\n      var expandFactor = 1.2;\n      var packedArrays = {\n        posRad: this._posRad,\n        colors: this._colors,\n        atoms: this._opts.atoms\n      };\n      this.complex = this._opts.parent;\n      this.atoms = packedArrays.atoms;\n      this.meshResolution = this._opts.gridSpacing;\n      this.atomRadiusScale = this._opts.radScale;\n      this.colorMode = this._opts.colorMode;\n      this.probeRadius = this._opts.probeRadius;\n      this.useVertexColors = true;\n      this.excludeProbe = this._opts.excludeProbe;\n      this.visibilitySelector = this._opts.visibilitySelector;\n      this.geoOut = null;\n      this.hashLines = null;\n      this.hashEntries = null;\n      this.numHashEtriesAllocated = 0;\n      this.numHashEntryIndex = 0;\n      this.maxNumVertices = 0;\n      this.maxNumTriangles = 0;\n      var atomsColored = new Array(this.atoms.length);\n      this.convertToAtomsColored(packedArrays, atomsColored);\n      var vBoxMin = this.vBoxMin = new Vector3();\n      var vBoxMax = this.vBoxMax = new Vector3();\n      this.getBoundingBox(atomsColored, vBoxMin, vBoxMax);\n      var marCubeResoultion = this.marCubeResoultion = this.meshResolution * (2 + 2);\n      var side = marCubeResoultion;\n      var side2 = side * side;\n      var side3 = side2 * side;\n      var corners = utils.allocateTyped(Float32Array, side3);\n      var rProbeRadius = this.probeRadius * this.atomRadiusScale;\n      this.calculateGridCorners(corners, side, vBoxMin, vBoxMax, atomsColored, rProbeRadius);\n      var numCells = marCubeResoultion - 1;\n      var cube = new IsoSurfaceMarchCube();\n      ok = cube.create(numCells);\n      if (ok < 0) {\n        return ok;\n      }\n      var vCellStep = new Vector3();\n      vCellStep.x = (vBoxMax.x - vBoxMin.x) / numCells;\n      vCellStep.y = (vBoxMax.y - vBoxMin.y) / numCells;\n      vCellStep.z = (vBoxMax.z - vBoxMin.z) / numCells;\n      var numIntersectedCellsEstim = this.getNumIntersectedCells(side, numCells, corners, cube);\n      var maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor);\n      var maxNumTriangles = Math.floor(numIntersectedCellsEstim * expandFactor * 2);\n      this.geoOut = new IsoSurfaceGeo(maxNumVertices, maxNumTriangles, this.useVertexColors);\n      ok = this.createVertexHash(maxNumVertices, maxNumTriangles);\n      if (ok < 0) {\n        return ok;\n      }\n      var probeRadForNormalsColors = rProbeRadius;\n      if (this.excludeProbe) {\n        probeRadForNormalsColors = 0.01;\n      }\n      this.voxelWorld = new IsosurfaceBuildNormals(atomsColored.length, atomsColored, vBoxMin, vBoxMax, probeRadForNormalsColors);\n      this.voxelWorld.createVoxels();\n      ok = this.buildGeoFromCorners(marCubeResoultion, vBoxMin, vBoxMax, corners, vCellStep, cube);\n      if (this.excludeProbe) {\n        this.modifyExcludedFromGeo(side, rProbeRadius, vBoxMin, vBoxMax, this.geoOut, corners);\n        this.geoOut._vertices = null;\n        this.geoOut._colors = null;\n        this.geoOut._indices = null;\n        this.geoOut._normals = null;\n        this.geoOut._numVertices = 0;\n        this.geoOut._numTriangles = 0;\n        this.geoOut = null;\n        numIntersectedCellsEstim = this.getNumIntersectedCells(side, numCells, corners, cube);\n        maxNumVertices = Math.floor(numIntersectedCellsEstim * expandFactor);\n        maxNumTriangles = Math.floor(numIntersectedCellsEstim * expandFactor * 2);\n        this.geoOut = new IsoSurfaceGeo(maxNumVertices, maxNumTriangles, this.useVertexColors);\n        ok = this.createVertexHash(maxNumVertices, maxNumTriangles);\n        if (ok < 0) {\n          return ok;\n        }\n        ok = this.buildGeoFromCorners(side, vBoxMin, vBoxMax, corners, vCellStep, cube);\n      }\n      this.voxelWorld.buildNormals(this.geoOut._vertices.length, this.geoOut._vertices, this.geoOut._normals);\n      var radiusColorSmoothness = 6.5;\n      if (this.excludeProbe) {\n        radiusColorSmoothness -= 1.5;\n      }\n      if (this.useVertexColors) {\n        this.voxelWorld.buildColors(this.geoOut._vertices.length, this.geoOut._vertices, this.geoOut._colors, radiusColorSmoothness);\n      }\n      this.voxelWorld.destroyVoxels();\n      this.voxelWorld = null;\n      cube.destroy();\n      return ok;\n    }\n  }]);\n  return SSIsosurfaceGeometry;\n}(IsoSurfaceGeometry);\n\nfunction _createSuper$1y(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1y(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1y() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction createLabel(fieldTxt, className) {\n  var text = document.createElement('div');\n  text.className = className;\n  if (typeof fieldTxt === 'string') {\n    var spanText = document.createElement('span');\n    spanText.style.fontSize = '150%';\n    var strings = fieldTxt.split('\\n');\n    for (var i = 0, n = strings.length; i < n; ++i) {\n      var spanNodeP = document.createElement('span');\n      var spanNodeText = document.createTextNode(strings[i]);\n      spanNodeP.appendChild(spanNodeText);\n      spanText.appendChild(spanNodeP);\n      if (i < n - 1) {\n        spanText.appendChild(document.createElement('br'));\n      }\n    }\n    text.appendChild(spanText);\n  } else {\n    text.appendChild(fieldTxt);\n  }\n  text.worldPos = new Vector3();\n  return text;\n}\nvar LabelsGeometry = function (_EventDispatcher) {\n  _inherits(LabelsGeometry, _EventDispatcher);\n  var _super = _createSuper$1y(LabelsGeometry);\n  function LabelsGeometry(instanceCount, opts) {\n    var _this;\n    _classCallCheck(this, LabelsGeometry);\n    _this = _super.call(this);\n    _this._opts = opts;\n    _this.items = [];\n    _this.needsUpdate = false;\n    var xTranslation = -50;\n    var yTranslation = -50;\n    switch (opts.horizontalAlign) {\n      case 'left':\n        xTranslation = 0;\n        break;\n      case 'right':\n        xTranslation = -100;\n        break;\n    }\n    switch (opts.verticalAlign) {\n      case 'top':\n        yTranslation = -100;\n        break;\n      case 'bottom':\n        yTranslation = 0;\n        break;\n    }\n    var deltaPos = new Vector3(opts.dx || 0, opts.dy || 0, opts.dz || 0);\n    _this.userData = {\n      translation: \"translate(\".concat(xTranslation, \"%, \").concat(yTranslation, \"%)\"),\n      offset: deltaPos\n    };\n    return _this;\n  }\n  _createClass(LabelsGeometry, [{\n    key: \"setItem\",\n    value: function setItem(itemIdx, itemPos, fieldTxt) {\n      var opts = this._opts;\n      var text = this.items[itemIdx] || createLabel(fieldTxt, 'label');\n      text.worldPos.copy(itemPos);\n      text.style.textAlign = opts.horizontalAlign;\n      text.style.verticalAlign = opts.verticalAlign;\n      this.items[itemIdx] = text;\n    }\n  }, {\n    key: \"setColor\",\n    value: function setColor(itemIdx, fColor, bColor) {\n      var text = this.items[itemIdx];\n      text.opts = {\n        color: fColor,\n        background: bColor\n      };\n    }\n  }, {\n    key: \"startUpdate\",\n    value: function startUpdate() {\n      return true;\n    }\n  }, {\n    key: \"finishUpdate\",\n    value: function finishUpdate() {\n      this.needsUpdate = true;\n      this.dispatchEvent({\n        type: 'update'\n      });\n    }\n  }, {\n    key: \"finalize\",\n    value: function finalize() {\n      this.finishUpdate();\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast() {}\n  }, {\n    key: \"setOpacity\",\n    value: function setOpacity() {}\n  }, {\n    key: \"getSubset\",\n    value: function getSubset() {\n      return [];\n    }\n  }]);\n  return LabelsGeometry;\n}(EventDispatcher);\n\nvar geometries = {\n  InstancedSpheresGeometry: InstancedSpheresGeometry,\n  SimpleSpheresGeometry: SimpleSpheresGeometry,\n  Simple2CCylindersGeometry: Simple2CCylindersGeometry,\n  Instanced2CCylindersGeometry: Instanced2CCylindersGeometry,\n  ExtrudedObjectsGeometry: ExtrudedObjectsGeometry,\n  ChunkedLinesGeometry: ChunkedLinesGeometry,\n  TwoColorLinesGeometry: TwoColorLinesGeometry,\n  CrossGeometry: CrossGeometry,\n  QuickSurfGeometry: QuickSurfGeometry,\n  ContactSurfaceGeometry: ContactSurfaceGeometry,\n  SSIsosurfaceGeometry: SSIsosurfaceGeometry,\n  LabelsGeometry: LabelsGeometry\n};\n\nvar vertexShader = \"float INSTANCED_SPRITE_OVERSCALE = 1.3;\\r\\n\\r\\nattribute vec3 normal;\\r\\n\\r\\n#ifdef NORMALS_TO_G_BUFFER\\r\\n  varying vec3 viewNormal;\\r\\n#endif\\r\\n#if !defined (SPHERE_SPRITE) && !defined (CYLINDER_SPRITE)\\r\\n  varying vec3 vNormal;\\r\\n#endif\\r\\n\\r\\n#ifdef THICK_LINE\\r\\n  attribute vec4 position; // W contains vert pos or neg offset\\r\\n#else\\r\\n  attribute vec3 position;\\r\\n#endif\\r\\n\\r\\nvarying vec3 vWorldPosition;\\r\\nvarying vec3 vViewPosition;\\r\\n\\r\\n#ifdef ATTR_ALPHA_COLOR\\r\\n  attribute float alphaColor;\\r\\n  varying float alphaCol;\\r\\n#endif\\r\\n\\r\\n#if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n\\t#if NUM_DIR_LIGHTS > 0\\r\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\\r\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\r\\n\\t\\tvarying vec3 vDirectionalShadowNormal[ NUM_DIR_LIGHTS ];\\r\\n\\t#endif\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR\\r\\n  attribute vec3 color;\\r\\n  varying vec3 vColor;\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR2\\r\\n  attribute vec3 color2;\\r\\n  varying vec3 vColor2;\\r\\n  attribute vec2 uv;\\r\\n  #ifndef CYLINDER_SPRITE\\r\\n    varying vec2 vUv;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n#ifdef INSTANCED_POS\\r\\n  attribute vec4 offset;\\r\\n  #ifdef SPHERE_SPRITE\\r\\n    varying vec4 instOffset;\\r\\n  varying vec4 spritePosEye;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n#ifdef INSTANCED_MATRIX\\r\\n  attribute vec4 matVector1;\\r\\n  attribute vec4 matVector2;\\r\\n  attribute vec4 matVector3;\\r\\n  attribute vec4 invmatVector1;\\r\\n  attribute vec4 invmatVector2;\\r\\n  attribute vec4 invmatVector3;\\r\\n\\r\\n  #ifdef CYLINDER_SPRITE\\r\\n    varying vec4 matVec1;\\r\\n    varying vec4 matVec2;\\r\\n    varying vec4 matVec3;\\r\\n    varying vec4 invmatVec1;\\r\\n    varying vec4 invmatVec2;\\r\\n    varying vec4 invmatVec3;\\r\\n    varying vec4 spritePosEye;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\nuniform mat4 modelViewMatrix; // optional\\r\\nuniform mat4 projectionMatrix; // optional\\r\\nuniform mat3 normalMatrix; // optional\\r\\nuniform mat4 modelMatrix; // optional\\r\\n\\r\\n#ifdef DASHED_LINE\\r\\n  attribute float lineDistance;\\r\\n  varying float vLineDistance;\\r\\n#endif\\r\\n\\r\\n#ifdef THICK_LINE\\r\\n  attribute vec3 direction;\\r\\n  uniform mat4 projMatrixInv;\\r\\n  uniform vec2 viewport;\\r\\n  uniform float lineWidth;\\r\\n\\r\\n  vec4 transform(vec4 coord){\\r\\n    return projectionMatrix * modelViewMatrix * coord;\\r\\n  }\\r\\n\\r\\n  vec2 project(vec4 device){\\r\\n    vec3 device_normal = device.xyz/device.w;\\r\\n    vec2 clip_pos = (device_normal*0.5+0.5).xy;\\r\\n    return clip_pos * viewport;\\r\\n  }\\r\\n\\r\\n  vec4 unproject(vec2 screen, float z, float w){\\r\\n    vec2 clip_pos = screen/viewport;\\r\\n    vec2 device_normal = clip_pos*2.0-1.0;\\r\\n    return vec4(device_normal*w, z, w);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n\\r\\n/////////////////////////////////////////// Main ///////////////////////////////////////////////\\r\\nvoid main() {\\r\\n\\r\\n#ifdef ATTR_ALPHA_COLOR\\r\\n  alphaCol = alphaColor;\\r\\n#endif\\r\\n\\r\\n#ifdef INSTANCED_MATRIX\\r\\n  vec3 objectNormal = vec3(\\r\\n    dot(normal, matVector1.xyz),\\r\\n    dot(normal, matVector2.xyz),\\r\\n    dot(normal, matVector3.xyz));\\r\\n#else\\r\\n  vec3 objectNormal = vec3( normal );\\r\\n#endif\\r\\n\\r\\nvec3 transformedNormal = normalMatrix * objectNormal;\\r\\n\\r\\n#if !defined (SPHERE_SPRITE) && !defined (CYLINDER_SPRITE)\\r\\n  vNormal = normalize(transformedNormal);\\r\\n#endif\\r\\n\\r\\n#ifdef NORMALS_TO_G_BUFFER\\r\\n  viewNormal = normalize(mat3(modelViewMatrix)*objectNormal);\\r\\n#endif\\r\\n\\r\\n  vec4 localPos = vec4(position.xyz, 1.0);\\r\\n  vec4 worldPos = modelMatrix * localPos;\\r\\n  vec4 mvPosition = modelViewMatrix * localPos;\\r\\n\\r\\n// make thick line offset\\r\\n#ifdef THICK_LINE\\r\\n   // get screen pos\\r\\n   vec4 dPos = transform(vec4(position.xyz, 1.0));\\r\\n   vec2 sPos = project(dPos);\\r\\n   // move pos forward\\r\\n   vec3 position2 = position.xyz + direction.xyz * 0.5;\\r\\n   // get screen offset pos\\r\\n   vec4 dPos2 = transform(vec4(position2.xyz, 1.0));\\r\\n   vec2 sPos2 = project(dPos2);\\r\\n   // screen line direction\\r\\n   vec2 sDir = normalize(sPos2 - sPos);\\r\\n   // vertex offset (orthogonal to line direction)\\r\\n   vec2 offset1 = vec2(-sDir.y, sDir.x);\\r\\n   // move screen vertex\\r\\n   vec2 newPos = sPos + offset1 * position.w * lineWidth;\\r\\n   // get moved pos in view space\\r\\n   vec4 dNewPos =  unproject(newPos, dPos.z, dPos.w);\\r\\n   mvPosition.xyz = (projMatrixInv * dNewPos).xyz;\\r\\n#endif // THICK_LINE\\r\\n\\r\\n#ifdef INSTANCED_POS\\r\\n  #ifdef SPHERE_SPRITE\\r\\n    instOffset = offset;\\r\\n\\r\\n    vec4 posEye = modelViewMatrix * vec4( offset.xyz, 1.0 );\\r\\n    float scale = length(modelViewMatrix[0]);\\r\\n    mvPosition = posEye + vec4( position.xyz * offset.w * scale * INSTANCED_SPRITE_OVERSCALE, 0.0 );\\r\\n    posEye.w = offset.w * scale;\\r\\n\\r\\n    spritePosEye = posEye;\\r\\n #else\\r\\n    localPos = vec4( offset.xyz + position.xyz * offset.w, 1.0 );\\r\\n    worldPos = modelMatrix * localPos;\\r\\n    mvPosition = modelViewMatrix * localPos;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n#ifdef INSTANCED_MATRIX\\r\\n  #ifdef CYLINDER_SPRITE\\r\\n    matVec1 = matVector1;\\r\\n    matVec2 = matVector2;\\r\\n    matVec3 = matVector3;\\r\\n    invmatVec1 = invmatVector1;\\r\\n    invmatVec2 = invmatVector2;\\r\\n    invmatVec3 = invmatVector3;\\r\\n\\r\\n    // calculate eye coords of cylinder endpoints\\r\\n    vec4 v = vec4(0, -0.5, 0, 1);\\r\\n    vec4 p1 = modelViewMatrix * vec4(dot(v, matVector1), dot(v, matVector2), dot(v, matVector3), 1.0);\\r\\n    v.y = 0.5;\\r\\n    vec4 p2 = modelViewMatrix * vec4(dot(v, matVector1), dot(v, matVector2), dot(v, matVector3), 1.0);\\r\\n\\r\\n    // sprite is placed at the center of cylinder\\r\\n    vec4 posEye;\\r\\n    posEye.xyz = mix(p1.xyz, p2.xyz, 0.5);\\r\\n    posEye.w = 1.0;\\r\\n    spritePosEye = posEye;\\r\\n\\r\\n    // cylinder radius in eye space\\r\\n    float rad = length(modelViewMatrix[0]) * length(vec3(matVector1.x, matVector2.x, matVector3.x));\\r\\n    vec2 spriteSize;\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // In ortho projection we skip z coordinate\\r\\n      // basic sprite size at screen plane (covers only cylinder axis)\\r\\n      vec2 spriteSizeScreen = abs(p2.xy - p1.xy);\\r\\n\\r\\n      spriteSize = vec2(1.0, 1.0) * INSTANCED_SPRITE_OVERSCALE * (spriteSizeScreen + 2.0 * rad);\\r\\n    #else\\r\\n      // basic sprite size at screen plane (covers only cylinder axis)\\r\\n      vec2 spriteSizeScreen = abs(p2.xy / p2.z - p1.xy / p1.z);\\r\\n\\r\\n      // full sprite size in eye coords\\r\\n      float minZ = min(abs(p1.z), abs(p2.z));\\r\\n      spriteSize = vec2(1.0, 1.0) * INSTANCED_SPRITE_OVERSCALE * abs(posEye.z) * (spriteSizeScreen + 2.0 * rad / minZ);\\r\\n    #endif\\r\\n\\r\\n    mvPosition = posEye + vec4( position.xy * 0.5 * spriteSize, 0, 0 );\\r\\n  #else\\r\\n    localPos = vec4(dot(localPos, matVector1), dot(localPos, matVector2), dot(localPos, matVector3), 1.0);\\r\\n    worldPos = modelMatrix * localPos;\\r\\n    mvPosition = modelViewMatrix * localPos;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n  gl_Position = projectionMatrix * mvPosition;\\r\\n\\r\\n  vWorldPosition = worldPos.xyz;\\r\\n  vViewPosition = - mvPosition.xyz;\\r\\n\\r\\n#if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n\\t#if NUM_DIR_LIGHTS > 0\\r\\n\\t  vec4 worldPosition;\\r\\n\\t  // see THREE.WebGLProgram.unrollLoops\\r\\n\\t  #pragma unroll_loop_start\\r\\n\\t  for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n      vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * vec4(vWorldPosition, 1.0);\\r\\n      vDirectionalShadowNormal[ i ] = (directionalShadowMatrix[ i ] * (modelMatrix * vec4(objectNormal, 0.0))).xyz;\\r\\n\\t  }\\r\\n\\t  #pragma unroll_loop_end\\r\\n\\t#endif\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR\\r\\n  vColor = color.xyz;\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR2\\r\\n  vColor2 = color2;\\r\\n  #ifndef CYLINDER_SPRITE\\r\\n    vUv = uv;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n#ifdef DASHED_LINE\\r\\n  vLineDistance = lineDistance;\\r\\n#endif\\r\\n}\\r\\n\";\n\nvar fragmentShader$6 = \"#if defined (NORMALS_TO_G_BUFFER)\\r\\n  #define fragColor gl_FragData[0]\\r\\n#else\\r\\n  #define fragColor gl_FragColor\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_ALPHA_COLOR\\r\\n  varying float alphaCol;\\r\\n#endif\\r\\n\\r\\n#ifdef COLOR_FROM_POS\\r\\n  uniform mat4 world2colorMatrix;\\r\\n#endif\\r\\n\\r\\n#if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n\\t#if NUM_DIR_LIGHTS > 0\\r\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\\r\\n    uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ]; //only for sprites\\r\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\\r\\n\\t\\tvarying vec3 vDirectionalShadowNormal[ NUM_DIR_LIGHTS ];\\r\\n    vec4 vDirLightWorldCoord[ NUM_DIR_LIGHTS ];\\r\\n    vec3 vDirLightWorldNormal[ NUM_DIR_LIGHTS ];\\r\\n\\r\\n    #ifdef SHADOWMAP_PCF_RAND\\r\\n      // We use 4 instead uniform variable or define because this value is used in for(... i < value; ...) with\\r\\n      // unroll_loop and unroll_loop has pattern:\\r\\n      // /#pragma unroll_loop[\\\\s]+?for \\\\( int i \\\\= (\\\\d+)\\\\; i < (\\\\d+)\\\\; i \\\\+\\\\+ \\\\) \\\\{([\\\\s\\\\S]+?)(?=\\\\})\\\\}/g\\r\\n      uniform vec2 samplesKernel[4]; // 4 is length of _samplesKernel which is defined in UberMaterial.js\\r\\n      uniform sampler2D noiseTex;\\r\\n      uniform vec2 noiseTexelSize;\\r\\n      uniform vec2 srcTexelSize;\\r\\n      uniform mat4 projectionMatrix;\\r\\n    #endif\\r\\n\\t#endif\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR\\r\\n  varying vec3 vColor;\\r\\n#endif\\r\\n\\r\\n#ifdef ATTR_COLOR2\\r\\n  varying vec3 vColor2;\\r\\n  #ifndef CYLINDER_SPRITE\\r\\n    varying vec2 vUv;\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\nuniform vec3 diffuse;\\r\\nuniform vec3 emissive;\\r\\nuniform vec3 specular;\\r\\nuniform float shininess;\\r\\nuniform vec3 fixedColor;\\r\\nuniform float opacity;\\r\\nuniform float zClipValue;\\r\\nuniform float clipPlaneValue;\\r\\n\\r\\n#ifdef NORMALS_TO_G_BUFFER\\r\\n  varying vec3 viewNormal;\\r\\n#endif\\r\\n\\r\\n#define PI 3.14159265359\\r\\n#define RECIPROCAL_PI 0.31830988618\\r\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\r\\n\\r\\n#ifdef USE_FOG\\r\\n  uniform vec3 fogColor;\\r\\n  uniform float fogAlpha;\\r\\n  uniform float fogNear;\\r\\n  uniform float fogFar;\\r\\n#endif\\r\\n\\r\\nvarying vec3 vWorldPosition; // world position of the pixel (invalid when INSTANCED_SPRITE is defined)\\r\\nvarying vec3 vViewPosition;\\r\\n\\r\\n#if !defined (SPHERE_SPRITE) && !defined (CYLINDER_SPRITE)\\r\\n  varying vec3 vNormal;\\r\\n#endif\\r\\n\\r\\n/////////////////////////////////////////// ZSprites ////////////////////////////////////////////////\\r\\n#if defined (SPHERE_SPRITE) || defined (CYLINDER_SPRITE)\\r\\n  uniform float nearPlaneValue;\\r\\n#endif\\r\\n\\r\\n#ifdef SPHERE_SPRITE\\r\\n  varying vec4 spritePosEye;\\r\\n#endif\\r\\n\\r\\n#if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n  uniform float zOffset;\\r\\n\\r\\n  #if !defined(USE_LIGHTS) || !defined(SHADOWMAP) || !defined(SHADOWMAP_PCF_RAND) || !(NUM_DIR_LIGHTS > 0)\\r\\n    uniform mat4 projectionMatrix;\\r\\n  #endif\\r\\n\\r\\n  float calcDepthForSprites(vec4 pixelPosEye, float zOffset, mat4 projMatrix) {\\r\\n    vec4 pixelPosScreen = projMatrix * pixelPosEye;\\r\\n    return 0.5 * (pixelPosScreen.z / pixelPosScreen.w + 1.0) + zOffset;\\r\\n  }\\r\\n#endif\\r\\n\\r\\n#ifdef SPHERE_SPRITE\\r\\n  varying vec4 instOffset;\\r\\n  uniform mat4 modelMatrix;\\r\\n  uniform mat4 modelViewMatrix;\\r\\n  uniform mat4 invModelViewMatrix;\\r\\n  uniform mat3 normalMatrix;\\r\\n\\r\\n\\r\\n  bool intersect_ray_sphere(in vec3 origin, in vec3 ray, out vec3 point, out float frontFaced) {\\r\\n\\r\\n    // intersect XZ-projected ray with circle\\r\\n    float a = dot(ray, ray);\\r\\n    float b = dot(ray, origin);\\r\\n    float c = dot(origin, origin) - 1.0;\\r\\n    float det = b * b - a * c;\\r\\n    if (det < 0.0) return false;\\r\\n    float t1 = (-b - sqrt(det)) / a;\\r\\n    float t2 = (-b + sqrt(det)) / a;\\r\\n\\r\\n    // calculate both intersection points\\r\\n    vec3 p1 = origin + ray * t1;\\r\\n    vec3 p2 = origin + ray * t2;\\r\\n\\r\\n    // choose nearest point inside frustum\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // orthografic camera is used for dirLight sources. So in it for all spheres the point with smaller 't' is visible\\r\\n      // t1 is always smaller than t2 (from calculations)\\r\\n      point = p1;\\r\\n      frontFaced = 1.0;\\r\\n      return true;\\r\\n    #else\\r\\n      // for perspective camera first intersection can be in front of near plane. If not intersection is p1 else - p2\\r\\n      // t* = 0.0 corresponds to point of intersection near plane by the ray from camera to curPixel\\r\\n      if (t1 >= 0.0) {\\r\\n        point = p1;\\r\\n        frontFaced = 1.0;\\r\\n        return true;\\r\\n      }\\r\\n      if (t2 >= 0.0) {\\r\\n        point = p2;\\r\\n        frontFaced = -1.0;\\r\\n        return true;\\r\\n      }\\r\\n    #endif\\r\\n\\r\\n    return false;\\r\\n  }\\r\\n\\r\\n  bool get_sphere_point(in vec3 pixelPosEye, out vec3 point, out float frontFaced) {\\r\\n    vec3 origin, ray;\\r\\n\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // transform vector from sprite center to curPixel into sphere local coords\\r\\n      origin = pixelPosEye.xyz - spritePosEye.xyz;\\r\\n      origin = (invModelViewMatrix * vec4(origin, 0.0)).xyz / instOffset.w;\\r\\n\\r\\n      // transform camera orientation vector into sphere local coords\\r\\n      ray = (invModelViewMatrix * vec4(0.0, 0.0, -1.0, 0.0)).xyz;\\r\\n    #else\\r\\n      // find point of intersection near plane by the ray from camera to curPixel\\r\\n      vec4 v = vec4(-(nearPlaneValue / pixelPosEye.z) * pixelPosEye, 1.0);\\r\\n\\r\\n      // transform intersection point into sphere local coords\\r\\n      v = invModelViewMatrix * v;\\r\\n      origin = (v.xyz - instOffset.xyz) / instOffset.w;\\r\\n\\r\\n      // transform vector from camera pos to curPixel into sphere local coords\\r\\n      ray = (invModelViewMatrix * vec4(pixelPosEye, 0.0)).xyz;\\r\\n    #endif\\r\\n    ray = normalize(ray);\\r\\n\\r\\n    return intersect_ray_sphere(origin, ray, point, frontFaced);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n#ifdef CYLINDER_SPRITE\\r\\n  varying vec4 matVec1;\\r\\n  varying vec4 matVec2;\\r\\n  varying vec4 matVec3;\\r\\n  varying vec4 invmatVec1;\\r\\n  varying vec4 invmatVec2;\\r\\n  varying vec4 invmatVec3;\\r\\n\\r\\n  uniform mat4 modelMatrix;\\r\\n  uniform mat4 modelViewMatrix;\\r\\n  uniform mat4 invModelViewMatrix;\\r\\n  uniform mat3 normalMatrix;\\r\\n\\r\\n  varying vec4 spritePosEye;\\r\\n\\r\\n  bool intersect_ray_cylinder(in vec3 origin, in vec3 ray, out vec3 point, out float frontFaced) {\\r\\n\\r\\n    // intersect XZ-projected ray with circle\\r\\n    float a = dot(ray.xz, ray.xz);\\r\\n    float b = dot(ray.xz, origin.xz);\\r\\n    float c = dot(origin.xz, origin.xz) - 1.0;\\r\\n    float det = b * b - a * c;\\r\\n    if (det < 0.0) return false;\\r\\n    float t1 = (-b - sqrt(det)) / a;\\r\\n    float t2 = (-b + sqrt(det)) / a;\\r\\n\\r\\n    // calculate both intersection points\\r\\n    vec3 p1 = origin + ray * t1;\\r\\n    vec3 p2 = origin + ray * t2;\\r\\n\\r\\n    float halfHeight = 0.5;\\r\\n\\r\\n    // choose nearest point\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // orthografic camera is used for dirLight sources. So in it for all cylinders the point with smaller 't' is visible\\r\\n      // if it is not outside of cylinnder (t1 is always smaller than t2).\\r\\n      if (p1.y >= -halfHeight && p1.y <= halfHeight) {\\r\\n        point = p1;\\r\\n        frontFaced = 1.0;\\r\\n        return true;\\r\\n      }\\r\\n      if (p2.y >= -halfHeight && p2.y <= halfHeight) {\\r\\n        point = p2;\\r\\n        frontFaced = -1.0;\\r\\n        return true;\\r\\n      }\\r\\n    #else\\r\\n      // for perspective camera first intersection can be in front of near plane. If not intersection is p1 else - p2\\r\\n      // t* = 0.0 corresponds to point of intersection near plane by the ray from camera to curPixel\\r\\n      if (t1 >= 0.0 && p1.y >= -halfHeight && p1.y <= halfHeight) {\\r\\n        point = p1;\\r\\n        frontFaced = 1.0;\\r\\n        return true;\\r\\n      }\\r\\n      if (t2 >= 0.0 && p2.y >= -halfHeight && p2.y <= halfHeight) {\\r\\n        point = p2;\\r\\n        frontFaced = -1.0;\\r\\n        return true;\\r\\n      }\\r\\n    #endif\\r\\n\\r\\n    return false;\\r\\n  }\\r\\n\\r\\n  bool get_cylinder_point(in vec3 pixelPosEye, out vec3 point, out float frontFaced) {\\r\\n    vec3 origin, ray;\\r\\n    vec4 v;\\r\\n\\r\\n    #ifdef ORTHOGRAPHIC_CAMERA\\r\\n      // transform vector from sprite center to curPixel into cylinder local coords\\r\\n      v = invModelViewMatrix * vec4(pixelPosEye.xyz - spritePosEye.xyz, 0.0);\\r\\n      origin = vec3(dot(v, invmatVec1), dot(v, invmatVec2), dot(v, invmatVec3));\\r\\n\\r\\n      // transform camera orientation vector into cylinder local coords\\r\\n      v = invModelViewMatrix * vec4(0.0, 0.0, -1.0, 0.0);\\r\\n      ray = vec3(dot(v, invmatVec1), dot(v, invmatVec2), dot(v, invmatVec3));\\r\\n    #else\\r\\n      // find point of intersection near plane by the ray from camera to curPixel\\r\\n      v = vec4(-(nearPlaneValue / pixelPosEye.z) * pixelPosEye, 1.0);\\r\\n\\r\\n      // transform intersection point into cylinder local coords\\r\\n      v = invModelViewMatrix * v;\\r\\n      origin = vec3(dot(v, invmatVec1), dot(v, invmatVec2), dot(v, invmatVec3));\\r\\n\\r\\n      // transform vector from camera pos to curPixel into cylinder local coords\\r\\n      v = invModelViewMatrix * vec4(pixelPosEye, 0.0);\\r\\n      ray = vec3(dot(v, invmatVec1), dot(v, invmatVec2), dot(v, invmatVec3));\\r\\n    #endif\\r\\n    ray = normalize(ray);\\r\\n\\r\\n    return intersect_ray_cylinder(origin, ray, point, frontFaced);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n///////////////////////////////////// Pack and unpack ///////////////////////////////////////////////\\r\\nconst float PackUpscale = 256. / 255.; // fraction -> 0..1 (including 1)\\r\\nconst float UnpackDownscale = 255. / 256.; // 0..1 -> fraction (excluding 1)\\r\\n\\r\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\r\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\r\\n\\r\\n\\r\\nconst float ShiftRight8 = 1. / 256.;\\r\\n\\r\\nvec4 packDepthToRGBA( const in float v ) {\\r\\n  vec4 r = vec4( fract( v * PackFactors ), v );\\r\\n  r.yzw -= r.xyz * ShiftRight8; // tidy overflow\\r\\n  return r * PackUpscale;\\r\\n}\\r\\n\\r\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\r\\n  return dot( v, UnpackFactors );\\r\\n}\\r\\n\\r\\n////////////////////////////////////////// All Lighting /////////////////////////////////////////////////\\r\\n#ifdef TOON_SHADING\\r\\n  #define LOW_TOON_BORDER 0.0\\r\\n  #define MEDIUM_TOON_BORDER 0.7\\r\\n  #define HIGH_TOON_BORDER 1.0\\r\\n\\r\\n  #define MEDIUM_TOON_RANGE 0.5\\r\\n  #define HIGH_TOON_RANGE 0.95\\r\\n#endif\\r\\n#if defined(USE_LIGHTS) && NUM_DIR_LIGHTS > 0\\r\\n  struct ReflectedLight {\\r\\n    vec3 directDiffuse;\\r\\n    vec3 directSpecular;\\r\\n    vec3 indirectDiffuse;\\r\\n  };\\r\\n\\r\\n  struct BlinnPhongMaterial {\\r\\n    vec3  diffuseColor;\\r\\n    vec3  specularColor;\\r\\n    float specularShininess;\\r\\n  };\\r\\n\\r\\n  struct GeometricContext {\\r\\n    vec3 normal;\\r\\n    vec3 viewDir;\\r\\n  };\\r\\n\\r\\n  struct DirectionalLight {\\r\\n    vec3 direction;\\r\\n    vec3 color;\\r\\n  };\\r\\n  uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\r\\n\\r\\n  struct DirectionalLightShadow {\\r\\n     vec2 shadowMapSize;\\r\\n     float shadowBias;\\r\\n     float shadowRadius;\\r\\n   };\\r\\n  uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHTS ];\\r\\n\\r\\n  uniform vec3 ambientLightColor;\\r\\n\\r\\n  /////////////////////////////////////////// Shadowmap ////////////////////////////////////////////////\\r\\n\\r\\n  #if defined(SHADOWMAP)\\r\\n  \\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\r\\n  \\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\r\\n  \\t}\\r\\n\\r\\n    float getShadow( sampler2D shadowMap, DirectionalLightShadow dirLight, vec4 shadowCoord, vec3 vViewPosition, vec3 vNormal ) {\\r\\n   \\t  float shadow = 0.0;\\r\\n\\r\\n      // When shadows for sprites will appear use here for them normals as it done for G-buffer\\r\\n      shadowCoord.xyz += dirLight.shadowBias * vNormal;\\r\\n      shadowCoord.xyz /= shadowCoord.w;\\r\\n\\r\\n      bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\r\\n      bool inFrustum = all( inFrustumVec );\\r\\n      bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\r\\n      bool frustumTest = all( frustumTestVec );\\r\\n\\r\\n      if ( frustumTest ) {\\r\\n        #ifdef SHADOWMAP_BASIC\\r\\n      \\t  shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\r\\n      \\t#endif\\r\\n\\r\\n      \\t#ifdef SHADOWMAP_PCF_SHARP\\r\\n      \\t  vec2 texelSize = vec2( 1.0 ) / dirLight.shadowMapSize;\\r\\n\\r\\n            float dx0 = - texelSize.x * dirLight.shadowRadius;\\r\\n            float dy0 = - texelSize.y * dirLight.shadowRadius;\\r\\n            float dx1 = + texelSize.x * dirLight.shadowRadius;\\r\\n            float dy1 = + texelSize.y * dirLight.shadowRadius;\\r\\n\\r\\n            shadow = (\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\r\\n            \\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\r\\n            ) * ( 1.0 / 9.0 );\\r\\n        #endif\\r\\n\\r\\n        #ifdef SHADOWMAP_PCF_RAND\\r\\n          vec2 texelSize = vec2( 1.0 ) / dirLight.shadowMapSize;\\r\\n\\r\\n          vec4 vUv = ((projectionMatrix * vec4(vViewPosition, 1.0)) + 1.0) / 2.0;\\r\\n          vec2 vUvNoise = vUv.xy / srcTexelSize * noiseTexelSize;\\r\\n\\r\\n          vec2 noiseVec = normalize(texture2D(noiseTex, vUvNoise).rg);\\r\\n          mat2 mNoise = mat2(noiseVec.x, noiseVec.y, -noiseVec.y, noiseVec.x);\\r\\n\\r\\n          vec2 offset;\\r\\n          #pragma unroll_loop_start\\r\\n          for ( int i = 0; i < 4; i ++ ) { // 4 is length of _samplesKernel which is defined in UberMaterial.js\\r\\n            offset = mNoise * ( normalize( samplesKernel[ i ]) * texelSize * dirLight.shadowRadius );\\r\\n            shadow +=  texture2DCompare( shadowMap, shadowCoord.xy + offset, shadowCoord.z );\\r\\n          }\\r\\n          #pragma unroll_loop_end\\r\\n          shadow /= float( 4 ); // 4 is length of _samplesKernel which is defined in UberMaterial.js\\r\\n        #endif\\r\\n      }\\r\\n      return shadow;//(shadow != 1.0) ? 0.5 : 1.0;//vec4(shadow, shadow, shadow, 1.0);\\r\\n   }\\r\\n  #endif\\r\\n\\r\\n  /////////////////////////////////////////// Lighting /////////////////////////////////////////////////\\r\\n\\r\\n  vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\r\\n    return RECIPROCAL_PI * diffuseColor;\\r\\n  } // validated\\r\\n\\r\\n  vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\r\\n    // Original approximation by Christophe Schlick '94\\r\\n    //;float fresnel = pow( 1.0 - dotLH, 5.0 );\\r\\n    // Optimized variant (presented by Epic at SIGGRAPH '13)\\r\\n    float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\r\\n    return ( 1.0 - specularColor ) * fresnel + specularColor;\\r\\n  } // validated\\r\\n\\r\\n  float G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\\r\\n    // geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\\r\\n    return 0.25;\\r\\n  }\\r\\n\\r\\n  float D_BlinnPhong( const in float shininess, const in float dotNH ) {\\r\\n    return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\r\\n  }\\r\\n\\r\\n  vec3 BRDF_Specular_BlinnPhong( const in DirectionalLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\r\\n    vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\r\\n    float dotNH = saturate(dot( geometry.normal, halfDir ));\\r\\n    float dotLH = saturate(dot( incidentLight.direction, halfDir ));\\r\\n\\r\\n    vec3 F = F_Schlick( specularColor, dotLH );\\r\\n    float G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\\r\\n    float D = D_BlinnPhong( shininess, dotNH );\\r\\n\\r\\n    return F * ( G * D );\\r\\n  } // validated\\r\\n\\r\\n  void RE_Direct_BlinnPhong( const in DirectionalLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight, float penumbra ) {\\r\\n\\r\\n    float dotNL = saturate( dot( geometry.normal, directLight.direction ));\\r\\n    #ifdef TOON_SHADING\\r\\n      if(dotNL < MEDIUM_TOON_RANGE){\\r\\n        dotNL = LOW_TOON_BORDER;\\r\\n      }\\r\\n      else if(dotNL < HIGH_TOON_RANGE){\\r\\n        dotNL = MEDIUM_TOON_BORDER;\\r\\n      }\\r\\n      else{\\r\\n        dotNL = HIGH_TOON_BORDER;\\r\\n      }\\r\\n    #endif\\r\\n\\r\\n    vec3 irradiance = dotNL * directLight.color * PI;\\r\\n    reflectedLight.directDiffuse += penumbra * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\r\\n    reflectedLight.directSpecular += penumbra * irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess );\\r\\n  }\\r\\n\\r\\n  void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\r\\n    reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\r\\n  }\\r\\n\\r\\n  vec3 calcLighting(const in GeometricContext geometry, const in BlinnPhongMaterial material, vec3 vViewPosition) {\\r\\n    ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ));\\r\\n    vec3 irradiance = ambientLightColor * PI;\\r\\n\\r\\n    float shadowMask = 1.0;\\r\\n    // see THREE.WebGLProgram.unrollLoops\\r\\n  \\t#pragma unroll_loop_start\\r\\n  \\t  for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n  \\t    #ifdef SHADOWMAP\\r\\n  \\t      shadowMask = getShadow( directionalShadowMap[ i ], directionalLightShadows[ i ], vDirLightWorldCoord[ i ], vViewPosition, vDirLightWorldNormal[ i ] );\\r\\n        #endif\\r\\n\\r\\n  \\t\\t  if ( shadowMask > 0.0 ) RE_Direct_BlinnPhong( directionalLights[ i ], geometry, material, reflectedLight, shadowMask );\\r\\n  \\t\\t}\\r\\n  \\t\\t#pragma unroll_loop_end\\r\\n\\r\\n    RE_IndirectDiffuse_BlinnPhong(irradiance, material, reflectedLight);\\r\\n\\r\\n    return saturate(reflectedLight.indirectDiffuse + reflectedLight.directDiffuse + reflectedLight.directSpecular);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n/////////////////////////////////////////// Dashed Line ///////////////////////////////////////////////\\r\\n#ifdef DASHED_LINE\\r\\n  uniform float dashedLineSize;\\r\\n  uniform float dashedLinePeriod;\\r\\n  varying float vLineDistance;\\r\\n#endif\\r\\n\\r\\n/////////////////////////////////////////// Main ///////////////////////////////////////////////\\r\\nvoid main() {\\r\\n\\r\\n#ifdef CLIP_PLANE\\r\\n  if (vViewPosition.z < clipPlaneValue) discard;\\r\\n#endif\\r\\n\\r\\n#ifdef ZCLIP\\r\\n  if (vViewPosition.z < zClipValue) discard;\\r\\n#endif\\r\\n\\r\\n#if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n  #if NUM_DIR_LIGHTS > 0\\r\\n    // see THREE.WebGLProgram.unrollLoops\\r\\n    #pragma unroll_loop_start\\r\\n    for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n      vDirLightWorldCoord[ i ] = vDirectionalShadowCoord[ i ];\\r\\n      vDirLightWorldNormal[ i ] = vDirectionalShadowNormal[ i ];\\r\\n    }\\r\\n    #pragma unroll_loop_end\\r\\n  #endif\\r\\n#endif\\r\\n\\r\\n  vec4 pixelPosWorld = vec4(vWorldPosition, 1.0);\\r\\n  vec4 pixelPosEye;\\r\\n\\r\\n#ifdef SPHERE_SPRITE\\r\\n\\r\\n  vec3 viewNormalSprites;\\r\\n  float frontFaced = 1.0;\\r\\n  vec3 normal;\\r\\n\\r\\n/* quick-and-dirty method\\r\\n  normal.xy = ' + INSTANCED_SPRITE_OVERSCALE + ' * (2.0 * vUv - 1.0);\\r\\n  float r2 = dot(normal.xy, normal.xy);\\r\\n  if (r2 > 1.0) discard;\\r\\n  float normalZ = sqrt(1.0 - r2);\\r\\n  normal.z = normalZ;\\r\\n  normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\\r\\n  pixelPosEye = vec4(spritePosEye.xyz, 1.0);\\r\\n  pixelPosEye.z += spritePosEye.w * normalZ;\\r\\n*/\\r\\n\\r\\n  // ray-trace sphere surface\\r\\n  {\\r\\n    vec3 p;\\r\\n    if (!get_sphere_point(-vViewPosition, p, frontFaced)) discard;\\r\\n    vec4 v = vec4(instOffset.xyz + p * instOffset.w, 1.0);\\r\\n    pixelPosWorld = modelMatrix * v;\\r\\n    pixelPosEye = modelViewMatrix * v;\\r\\n    normal = normalize(normalMatrix * p);\\r\\n    #ifdef NORMALS_TO_G_BUFFER\\r\\n      viewNormalSprites = normalize(mat3(modelViewMatrix)*p);\\r\\n    #endif\\r\\n\\r\\n    #if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n      #if NUM_DIR_LIGHTS > 0\\r\\n        // see THREE.WebGLProgram.unrollLoops\\r\\n        #pragma unroll_loop_start\\r\\n          for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n            vDirLightWorldCoord[ i ] = directionalShadowMatrix[ i ] * pixelPosWorld;\\r\\n            vDirLightWorldNormal[ i ] = (directionalShadowMatrix[ i ] * (modelMatrix * vec4(p, 0.0))).xyz;\\r\\n          }\\r\\n        #pragma unroll_loop_end\\r\\n      #endif\\r\\n    #endif\\r\\n  }\\r\\n#endif\\r\\n\\r\\n#ifdef CYLINDER_SPRITE\\r\\n  vec3 normal;\\r\\n  vec3 viewNormalSprites;\\r\\n  float frontFaced = 1.0;\\r\\n  float cylinderY = 0.0;\\r\\n\\r\\n  // ray-trace cylinder surface\\r\\n  {\\r\\n    vec3 p;\\r\\n    if (!get_cylinder_point(-vViewPosition, p, frontFaced)) discard;\\r\\n\\r\\n    cylinderY = 0.5 * (p.y + 1.0);\\r\\n\\r\\n    vec4 v = vec4(p, 1.0);\\r\\n    v = vec4(dot(v, matVec1), dot(v, matVec2), dot(v, matVec3), 1.0);\\r\\n    pixelPosWorld = modelMatrix * v;\\r\\n    pixelPosEye = modelViewMatrix * v;\\r\\n\\r\\n    vec3 localNormal = normalize(vec3(p.x, 0.0, p.z));\\r\\n    normal = vec3(\\r\\n      dot(localNormal, matVec1.xyz),\\r\\n      dot(localNormal, matVec2.xyz),\\r\\n      dot(localNormal, matVec3.xyz));\\r\\n    #ifdef NORMALS_TO_G_BUFFER\\r\\n      viewNormalSprites = normalize(mat3(modelViewMatrix)*normal);\\r\\n    #endif\\r\\n\\r\\n    #if defined(USE_LIGHTS) && defined(SHADOWMAP)\\r\\n      #if NUM_DIR_LIGHTS > 0\\r\\n        // see THREE.WebGLProgram.unrollLoops\\r\\n        #pragma unroll_loop_start\\r\\n          for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\r\\n            vDirLightWorldCoord[ i ] = directionalShadowMatrix[ i ] * pixelPosWorld;\\r\\n            vDirLightWorldNormal[ i ] = (directionalShadowMatrix[ i ] * (modelMatrix * vec4(normal, 0.0))).xyz;\\r\\n          }\\r\\n        #pragma unroll_loop_end\\r\\n      #endif\\r\\n    #endif\\r\\n\\r\\n    normal = normalize(normalMatrix * normal);\\r\\n  }\\r\\n#endif\\r\\n\\r\\n  #ifdef ATTR_COLOR\\r\\n    vec3 vertexColor = vColor;\\r\\n  #else\\r\\n    vec3 vertexColor = vec3(1.0, 1.0, 1.0);\\r\\n  #endif\\r\\n\\r\\n  #ifdef ATTR_COLOR2\\r\\n    #ifdef CYLINDER_SPRITE\\r\\n      float colorCoef = cylinderY; // cylinder parameter is calculated from ray-tracing\\r\\n    #else\\r\\n      float colorCoef = vUv.y; // cylinder parameter is interpolated as tex coord\\r\\n    #endif\\r\\n      // choose either color or color2\\r\\n    vertexColor = mix(vColor2, vColor, step(0.5, colorCoef));\\r\\n  #endif\\r\\n\\r\\n  // negative red component is a special condition\\r\\n  if (vertexColor.x < 0.0) discard;\\r\\n\\r\\n  #ifdef DASHED_LINE\\r\\n    if ( mod( vLineDistance, dashedLinePeriod ) > dashedLineSize ) discard;\\r\\n  #endif\\r\\n\\r\\n  // transparency prepass writes only z, so we don't need to calc the color\\r\\n  #ifdef PREPASS_TRANSP\\r\\n    fragColor = vec4(1.0, 1.0, 1.0, 1.0);\\r\\n    #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n      gl_FragDepthEXT = calcDepthForSprites(pixelPosEye, zOffset, projectionMatrix);\\r\\n    #endif\\r\\n    return;\\r\\n  #endif\\r\\n\\r\\n    float totalOpacity = opacity;\\r\\n\\r\\n  #ifdef ATTR_ALPHA_COLOR\\r\\n    totalOpacity *= alphaCol;\\r\\n  #endif\\r\\n\\r\\n  // discard fully transparent pixels\\r\\n  if (totalOpacity == 0.0) discard;\\r\\n\\r\\n  #ifdef FAKE_OPACITY\\r\\n    // discard pixels in checker pattern\\r\\n    vec2 dm_coord = floor(gl_FragCoord.xy);\\r\\n    dm_coord = fract(dm_coord * 0.5);\\r\\n    if (totalOpacity < 1.0 && (dm_coord.x < 0.5 ^^ dm_coord.y < 0.5)) discard;\\r\\n    vec4 diffuseColor = vec4(diffuse, 1.0);\\r\\n  #else\\r\\n    vec4 diffuseColor = vec4(diffuse, totalOpacity);\\r\\n  #endif\\r\\n\\r\\n  float flipNormal;\\r\\n  #if !defined (SPHERE_SPRITE) && !defined (CYLINDER_SPRITE)\\r\\n    flipNormal = 1.0;\\r\\n    #ifdef DOUBLE_SIDED\\r\\n      flipNormal = float( gl_FrontFacing );\\r\\n    #endif\\r\\n    vec3 normal = normalize( vNormal ) * flipNormal;\\r\\n  #endif\\r\\n\\r\\n    diffuseColor.rgb *= vertexColor;\\r\\n\\r\\n  #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n    gl_FragDepthEXT = calcDepthForSprites(pixelPosEye, zOffset, projectionMatrix);\\r\\n  #endif\\r\\n\\r\\n  #ifdef NORMALS_TO_G_BUFFER\\r\\n    #if defined (SPHERE_SPRITE) || defined (CYLINDER_SPRITE)\\r\\n      vec3 viewNormaInColor = viewNormalSprites;\\r\\n    #else\\r\\n      vec3 viewNormaInColor = viewNormal;\\r\\n      float frontFaced = float( gl_FrontFacing );\\r\\n    #endif\\r\\n    // [-1, 1] -> [0, 1]\\r\\n    viewNormaInColor = 0.5 * viewNormaInColor + 0.5;\\r\\n    gl_FragData[1] = vec4(viewNormaInColor, frontFaced);\\r\\n  #endif\\r\\n\\r\\n  #if defined(USE_LIGHTS) && NUM_DIR_LIGHTS > 0\\r\\n    vec3 viewDir;\\r\\n    #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n      viewDir = -pixelPosEye.xyz;\\r\\n    #else\\r\\n      viewDir = vViewPosition;\\r\\n    #endif\\r\\n    GeometricContext geometry = GeometricContext(normal, normalize( viewDir ));\\r\\n    BlinnPhongMaterial material = BlinnPhongMaterial(diffuseColor.rgb, specular, shininess);\\r\\n    vec3 outgoingLight = calcLighting(geometry, material, viewDir);\\r\\n  #else\\r\\n    vec3 outgoingLight = diffuseColor.rgb;\\r\\n  #endif\\r\\n\\r\\n  #ifdef COLOR_FROM_DEPTH\\r\\n    float depth = 0.0;\\r\\n    #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n      gl_FragDepthEXT = calcDepthForSprites(pixelPosEye, zOffset, projectionMatrix);\\r\\n      depth = gl_FragDepthEXT;\\r\\n    #else\\r\\n      depth = gl_FragCoord.z;\\r\\n    #endif\\r\\n    fragColor = packDepthToRGBA(depth);\\r\\n    return;\\r\\n  #endif\\r\\n\\r\\n  #ifdef COLOR_FROM_POS\\r\\n    fragColor = world2colorMatrix * pixelPosWorld;\\r\\n  #else\\r\\n    #ifdef OVERRIDE_COLOR\\r\\n      fragColor = vec4(fixedColor, diffuseColor.a);\\r\\n    #else\\r\\n      fragColor = vec4(outgoingLight, diffuseColor.a);//vec4(vNormal, 1.0);\\r\\n    #endif\\r\\n\\r\\n    #ifdef USE_FOG\\r\\n      float viewDistance;\\r\\n      #if defined(SPHERE_SPRITE) || defined(CYLINDER_SPRITE)\\r\\n        viewDistance = abs(pixelPosEye.z);\\r\\n      #else\\r\\n        viewDistance = vViewPosition.z;\\r\\n      #endif\\r\\n      float fogFactor = smoothstep( fogNear, fogFar, viewDistance) * fogAlpha;\\r\\n      #ifdef FOG_TRANSPARENT\\r\\n        fragColor.a = fragColor.a * (1.0 - fogFactor);\\r\\n      #else\\r\\n        fragColor.rgb = mix( fragColor.rgb, fogColor, fogFactor );\\r\\n      #endif\\r\\n    #endif\\r\\n\\r\\n  #endif\\r\\n}\\r\\n\";\n\nvar capabilities = {\n  precision: 'mediump',\n  init: function init(renderer) {\n    this.precision = renderer.capabilities.getMaxPrecision('highp');\n  }\n};\n\nvar noiseWidth = 4;\nvar noiseHeight = 4;\nvar _noiseData = new Uint8Array([24, 52, 0, 254, 145, 0, 122, 0, 0, 7, 170, 0, 34, 214, 0, 173, 8, 0, 86, 249, 0, 160, 4, 0, 226, 46, 0, 224, 211, 0, 3, 157, 0, 174, 247, 0, 12, 182, 0, 220, 216, 0, 1, 109, 0, 253, 154, 0]);\nvar _noiseWrapS = RepeatWrapping;\nvar _noiseWrapT = RepeatWrapping;\nvar _noiseMinFilter = NearestFilter;\nvar _noiseMagFilter = NearestFilter;\nvar _noiseMapping = UVMapping;\nvar noiseTexture = new DataTexture(_noiseData, noiseWidth, noiseHeight, RGBFormat, UnsignedByteType, _noiseMapping, _noiseWrapS, _noiseWrapT, _noiseMagFilter, _noiseMinFilter, 1);\nnoiseTexture.needsUpdate = true;\nvar noise = {\n  noiseWidth: noiseWidth,\n  noiseHeight: noiseHeight,\n  noiseTexture: noiseTexture\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper$1x(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1x(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1x() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _samplesKernel$1 = [new Vector2(-0.541978, 0.840393), new Vector2(0.125533, -0.992089), new Vector2(0.374329, 0.927296), new Vector2(-0.105475, 0.994422)];\nvar defaultUniforms = UniformsUtils.merge([UniformsLib.fog, UniformsLib.lights, {\n  diffuse: {\n    value: new Color(0xeeeeee)\n  },\n  opacity: {\n    value: 1.0\n  },\n  specular: {\n    type: 'c',\n    value: new Color(0x111111)\n  },\n  shininess: {\n    type: 'f',\n    value: 30\n  },\n  fixedColor: {\n    type: 'c',\n    value: new Color(0xffffff)\n  },\n  zOffset: {\n    type: 'f',\n    value: 0.0\n  },\n  zClipValue: {\n    type: 'f',\n    value: 0.0\n  },\n  clipPlaneValue: {\n    type: 'f',\n    value: 0.0\n  },\n  nearPlaneValue: {\n    type: 'f',\n    value: -0.5\n  },\n  invModelViewMatrix: {\n    type: '4fv',\n    value: new Matrix4()\n  },\n  world2colorMatrix: {\n    type: '4fv',\n    value: new Matrix4()\n  },\n  dashedLineSize: {\n    type: 'f',\n    value: 0.1\n  },\n  dashedLinePeriod: {\n    type: 'f',\n    value: 0.2\n  },\n  projMatrixInv: {\n    type: '4fv',\n    value: new Matrix4()\n  },\n  viewport: {\n    type: 'v2',\n    value: new Vector2()\n  },\n  lineWidth: {\n    type: 'f',\n    value: 2.0\n  },\n  fogAlpha: {\n    type: 'f',\n    value: 1.0\n  },\n  samplesKernel: {\n    type: 'v2v',\n    value: null\n  },\n  noiseTex: {\n    type: 't',\n    value: null\n  },\n  noiseTexelSize: {\n    type: 'v2',\n    value: null\n  },\n  srcTexelSize: {\n    type: 'v2',\n    value: null\n  }\n}]);\nvar uberOptionNames = ['shininess', 'opacity', 'zOffset', 'diffuse', 'specular', 'fixedColor', 'zClipCoef', 'zClipValue', 'clipPlaneValue', 'world2colorMatrix', 'dashedLineSize', 'dashedLinePeriod', 'projMatrixInv', 'viewport', 'lineWidth', 'fogAlpha', 'samplesKernel', 'noiseTex', 'noiseTexelSize', 'srcTexelSize'];\nvar uberOptions = {\n  diffuse: new Color(0xffffff),\n  specular: new Color(0x111111),\n  shininess: 30,\n  opacity: 1,\n  fixedColor: new Color(0xffffff),\n  zOffset: 0.0,\n  zClipCoef: 2.0,\n  zClipValue: 0.0,\n  clipPlaneValue: 0.0,\n  world2colorMatrix: new Matrix4(),\n  dashedLineSize: 0.1,\n  dashedLinePeriod: 0.3,\n  projMatrixInv: new Matrix4(),\n  viewport: new Vector2(800, 600),\n  lineWidth: 2.0,\n  fogAlpha: 1.0,\n  samplesKernel: _samplesKernel$1,\n  noiseTex: noise.noiseTexture,\n  noiseTexelSize: new Vector2(1.0 / noise.noiseWidth, 1.0 / noise.noiseHeight),\n  srcTexelSize: new Vector2(1.0 / 800.0, 1.0 / 600.0),\n  copy: function copy(source) {\n    this.diffuse.copy(source.diffuse);\n    this.specular.copy(source.specular);\n    this.shininess = source.shininess;\n    this.opacity = source.opacity;\n    this.fixedColor.copy(source.fixedColor);\n    this.zOffset = source.zOffset;\n    this.zClipCoef = source.zClipCoef;\n    this.zClipValue = source.zClipValue;\n    this.clipPlaneValue = source.clipPlaneValue;\n    this.world2colorMatrix.copy(source.world2colorMatrix);\n    this.dashedLineSize = source.dashedLineSize;\n    this.dashedLinePeriod = source.dashedLinePeriod;\n    this.projMatrixInv = source.projMatrixInv;\n    this.viewport = source.viewport;\n    this.lineWidth = source.lineWidth;\n    this.toonShading = source.toonShading;\n    this.fogAlpha = source.fogAlpha;\n    this.samplesKernel = source.samplesKernel;\n    this.noiseTex = source.noiseTex;\n    this.noiseTexelSize = source.noiseTexelSize;\n    this.srcTexelSize = source.srcTexelSize;\n  }\n};\nvar UberMaterial = function (_RawShaderMaterial) {\n  _inherits(UberMaterial, _RawShaderMaterial);\n  var _super = _createSuper$1x(UberMaterial);\n  function UberMaterial(params) {\n    var _this;\n    _classCallCheck(this, UberMaterial);\n    _this = _super.call(this, params);\n    _this.fog = true;\n    _this.instancedPos = false;\n    _this.instancedMatrix = false;\n    _this.attrColor = false;\n    _this.attrColor2 = false;\n    _this.attrAlphaColor = false;\n    _this.overrideColor = false;\n    _this.sphereSprite = false;\n    _this.cylinderSprite = false;\n    _this.zClip = false;\n    _this.clipPlane = false;\n    _this.fakeOpacity = false;\n    _this.prepassTransparancy = false;\n    _this.colorFromPos = false;\n    _this.shadowmap = false;\n    _this.shadowmapType = 'random';\n    _this.colorFromDepth = false;\n    _this.orthoCam = false;\n    _this.dashedLine = false;\n    _this.transparent = true;\n    _this.thickLine = false;\n    _this.fogTransparent = false;\n    _this.normalsToGBuffer = false;\n    _this.toonShading = false;\n    _this.uberOptions = uberOptions;\n    _this.setValues(_objectSpread({\n      uniforms: UniformsUtils.clone(defaultUniforms),\n      vertexShader: _this.precisionString() + vertexShader,\n      fragmentShader: _this.precisionString() + fragmentShader$6,\n      lights: true,\n      fog: true,\n      side: DoubleSide\n    }, params));\n    return _this;\n  }\n  _createClass(UberMaterial, [{\n    key: \"precisionString\",\n    value: function precisionString() {\n      var precision = capabilities.precision;\n      var str = \"precision \".concat(precision, \" float;\\n\") + \"precision \".concat(precision, \" int;\\n\\n\");\n      return str;\n    }\n  }, {\n    key: \"copy\",\n    value: function copy(source) {\n      _get(_getPrototypeOf(UberMaterial.prototype), \"copy\", this).call(this, source);\n      this.fragmentShader = source.fragmentShader;\n      this.vertexShader = source.vertexShader;\n      this.uniforms = UniformsUtils.clone(source.uniforms);\n      this.defines = _objectSpread({}, source.defines);\n      this.extensions = source.extensions;\n      this.fog = source.fog;\n      this.instancedPos = source.instancedPos;\n      this.instancedMatrix = source.instancedMatrix;\n      this.attrColor = source.attrColor;\n      this.attrColor2 = source.attrColor2;\n      this.attrAlphaColor = source.attrAlphaColor;\n      this.overrideColor = source.overrideColor;\n      this.sphereSprite = source.sphereSprite;\n      this.cylinderSprite = source.cylinderSprite;\n      this.zClip = source.zClip;\n      this.clipPlane = source.clipPlane;\n      this.fakeOpacity = source.fakeOpacity;\n      this.colorFromPos = source.colorFromPos;\n      this.shadowmap = source.shadowmap;\n      this.shadowmapType = source.shadowmapType;\n      this.colorFromDepth = source.colorFromDepth;\n      this.orthoCam = source.orthoCam;\n      this.prepassTransparancy = source.prepassTransparancy;\n      this.dashedLine = source.dashedLine;\n      this.thickLine = source.thickLine;\n      this.fogTransparent = source.fogTransparent;\n      this.normalsToGBuffer = source.normalsToGBuffer;\n      this.toonShading = source.toonShading;\n      this.uberOptions.copy(source.uberOptions);\n      return this;\n    }\n  }, {\n    key: \"createInstance\",\n    value: function createInstance() {\n      var inst = new UberMaterial();\n      inst.copy(this);\n      inst.uberOptions = Object.create(this.uberOptions);\n      return inst;\n    }\n  }, {\n    key: \"setValues\",\n    value: function setValues(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      _get(_getPrototypeOf(UberMaterial.prototype), \"setValues\", this).call(this, values);\n      var defines = {};\n      var extensions = {};\n      if (this.fog) {\n        defines.USE_FOG = 1;\n      }\n      if (this.instancedPos) {\n        defines.INSTANCED_POS = 1;\n      }\n      if (this.instancedMatrix) {\n        defines.INSTANCED_MATRIX = 1;\n      }\n      if (this.attrColor) {\n        defines.ATTR_COLOR = 1;\n      }\n      if (this.attrColor2) {\n        defines.ATTR_COLOR2 = 1;\n      }\n      if (this.attrAlphaColor) {\n        defines.ATTR_ALPHA_COLOR = 1;\n      }\n      if (this.overrideColor) {\n        defines.OVERRIDE_COLOR = 1;\n      }\n      if (this.sphereSprite) {\n        defines.SPHERE_SPRITE = 1;\n        extensions.fragDepth = 1;\n      }\n      if (this.cylinderSprite) {\n        defines.CYLINDER_SPRITE = 1;\n        extensions.fragDepth = 1;\n      }\n      if (this.zClip) {\n        defines.ZCLIP = 1;\n      }\n      if (this.clipPlane) {\n        defines.CLIP_PLANE = 1;\n      }\n      if (this.fakeOpacity) {\n        defines.FAKE_OPACITY = 1;\n      }\n      if (this.lights) {\n        defines.USE_LIGHTS = 1;\n      }\n      if (this.colorFromPos) {\n        defines.COLOR_FROM_POS = 1;\n      }\n      if (this.shadowmap) {\n        defines.SHADOWMAP = 1;\n        if (this.shadowmapType === 'pcf') {\n          defines.SHADOWMAP_PCF_SHARP = 1;\n        } else if (this.shadowmapType === 'random') {\n          defines.SHADOWMAP_PCF_RAND = 1;\n        } else {\n          defines.SHADOWMAP_BASIC = 1;\n        }\n      }\n      if (this.colorFromDepth) {\n        defines.COLOR_FROM_DEPTH = 1;\n      }\n      if (this.orthoCam) {\n        defines.ORTHOGRAPHIC_CAMERA = 1;\n      }\n      if (this.prepassTransparancy) {\n        defines.PREPASS_TRANSP = 1;\n      }\n      if (this.dashedLine) {\n        defines.DASHED_LINE = 1;\n      }\n      if (this.thickLine) {\n        defines.THICK_LINE = 1;\n      }\n      if (this.fogTransparent) {\n        defines.FOG_TRANSPARENT = 1;\n      }\n      if (this.normalsToGBuffer) {\n        extensions.drawBuffers = 1;\n        defines.NORMALS_TO_G_BUFFER = 1;\n      }\n      if (this.toonShading) {\n        defines.TOON_SHADING = 1;\n      }\n      this.defines = defines;\n      this.extensions = extensions;\n    }\n  }, {\n    key: \"setUberOptions\",\n    value: function setUberOptions(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      for (var key in values) {\n        if (!values.hasOwnProperty(key)) {\n          continue;\n        }\n        if (this.uberOptions[key] instanceof Color) {\n          this.uberOptions[key] = values[key].clone();\n        } else {\n          this.uberOptions[key] = values[key];\n        }\n      }\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(shallow) {\n      if (!shallow) {\n        return Material.prototype.clone.call(this);\n      }\n      return this.createInstance();\n    }\n  }, {\n    key: \"updateUniforms\",\n    value: function updateUniforms() {\n      var self = this;\n      uberOptionNames.forEach(function (p) {\n        if (self.uniforms.hasOwnProperty(p)) {\n          if (self.uberOptions[p] instanceof Color || self.uberOptions[p] instanceof Matrix4) {\n            self.uniforms[p].value = self.uberOptions[p].clone();\n          } else {\n            self.uniforms[p].value = self.uberOptions[p];\n          }\n        }\n      });\n    }\n  }]);\n  return UberMaterial;\n}(RawShaderMaterial);\n\nfunction _createSuper$1w(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1w(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1w() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction UberObject (SuperClass) {\n  var NewObjectType = function (_SuperClass) {\n    _inherits(NewObjectType, _SuperClass);\n    var _super = _createSuper$1w(NewObjectType);\n    function NewObjectType() {\n      var _this;\n      _classCallCheck(this, NewObjectType);\n      for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n        rest[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(rest));\n      _this.onBeforeRender = NewObjectType.prototype.onBeforeRender;\n      return _this;\n    }\n    _createClass(NewObjectType, [{\n      key: \"onBeforeRender\",\n      value: function onBeforeRender(renderer, scene, camera, geometry, material, group) {\n        this._onBeforeRender(renderer, scene, camera, geometry, material, group);\n        this._update();\n      }\n    }, {\n      key: \"_onBeforeRender\",\n      value: function _onBeforeRender() {}\n    }, {\n      key: \"_update\",\n      value: function _update() {\n        var material = this.material;\n        if (!material) {\n          return;\n        }\n        if (material instanceof UberMaterial) {\n          material.updateUniforms();\n        }\n      }\n    }]);\n    return NewObjectType;\n  }(SuperClass);\n  return NewObjectType;\n}\n\nfunction _createSuper$1v(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1v(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1v() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh$4 = UberObject(Mesh);\nvar ZSpriteMesh = function (_OurMesh) {\n  _inherits(ZSpriteMesh, _OurMesh);\n  var _super = _createSuper$1v(ZSpriteMesh);\n  function ZSpriteMesh() {\n    var _this;\n    _classCallCheck(this, ZSpriteMesh);\n    for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n      rest[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(rest));\n    _this.castShadow = true;\n    _this.receiveShadow = true;\n    return _this;\n  }\n  _createClass(ZSpriteMesh, [{\n    key: \"_onBeforeRender\",\n    value: function _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n      OurMesh$4.prototype._onBeforeRender.call(this, renderer, scene, camera);\n      var material = this.material;\n      if (!material) {\n        return;\n      }\n      if (material.uniforms.invModelViewMatrix) {\n        this.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, this.matrixWorld);\n        material.uniforms.invModelViewMatrix.value.copy(this.modelViewMatrix).invert();\n        material.uniforms.nearPlaneValue.value = camera.near;\n        material.uniformsNeedUpdate = true;\n      }\n    }\n  }]);\n  return ZSpriteMesh;\n}(OurMesh$4);\n\nfunction _createSuper$1u(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1u(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1u() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh$3 = UberObject(Mesh);\nvar ZClippedMesh = function (_OurMesh) {\n  _inherits(ZClippedMesh, _OurMesh);\n  var _super = _createSuper$1u(ZClippedMesh);\n  function ZClippedMesh(geometry, material) {\n    var _this;\n    _classCallCheck(this, ZClippedMesh);\n    _this = _super.call(this, geometry, material);\n    _this.castShadow = true;\n    _this.receiveShadow = true;\n    return _this;\n  }\n  _createClass(ZClippedMesh, [{\n    key: \"_onBeforeRender\",\n    value: function _onBeforeRender(renderer, scene, camera) {\n      OurMesh$3.prototype._onBeforeRender.call(this, renderer, scene, camera);\n      var geo = this.geometry;\n      var material = this.material;\n      if (!geo.zClip || !material.uberOptions) {\n        return;\n      }\n      var zClipCoef = 0.5;\n      var modelView = ZClippedMesh._modelView;\n      var mvLength = ZClippedMesh._mvLength;\n      var center = ZClippedMesh._center;\n      modelView.multiplyMatrices(this.matrixWorld, camera.matrixWorldInverse);\n      var s = mvLength.setFromMatrixColumn(modelView, 0).length();\n      center.copy(geo.boundingSphere.center);\n      this.localToWorld(center);\n      material.uberOptions.zClipValue = camera.position.z - center.z - s * (zClipCoef * geo.boundingSphere.radius);\n    }\n  }]);\n  return ZClippedMesh;\n}(OurMesh$3);\n_defineProperty(ZClippedMesh, \"_mvLength\", new Vector3());\n_defineProperty(ZClippedMesh, \"_center\", new Vector3());\n_defineProperty(ZClippedMesh, \"_modelView\", new Matrix4());\n\nfunction _createSuper$1t(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1t(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1t() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TextMesh = function (_Group) {\n  _inherits(TextMesh, _Group);\n  var _super = _createSuper$1t(TextMesh);\n  function TextMesh(geometry, _material) {\n    var _this;\n    _classCallCheck(this, TextMesh);\n    _this = _super.call(this);\n    _this.geometry = geometry;\n    var self = _assertThisInitialized(_this);\n    self.initialized = false;\n    _this.geometry.addEventListener('update', function () {\n      self.update();\n    });\n    return _this;\n  }\n  _createClass(TextMesh, [{\n    key: \"init\",\n    value: function init() {\n      var children = this.children;\n      for (var i = children.length - 1; i >= 0; --i) {\n        this.remove(children[i]);\n      }\n      var _this$geometry = this.geometry,\n          items = _this$geometry.items,\n          userData = _this$geometry.userData;\n      for (var _i = 0, n = items.length; _i < n; ++_i) {\n        var srcItem = items[_i];\n        if (!srcItem) {\n          continue;\n        }\n        var item = utils.shallowCloneNode(srcItem);\n        var label = new CSS2DObject(item);\n        label.userData = clone(userData);\n        var el = label.getElement();\n        el.style.visibility = 'visible';\n        label.source = srcItem;\n        this.add(label);\n      }\n      this.initialized = true;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var geo = this.geometry;\n      if (!geo.needsUpdate) {\n        return;\n      }\n      var children = this.children;\n      if (!this.initialized) {\n        this.init();\n      }\n      for (var i = 0, n = children.length; i < n; ++i) {\n        var child = children[i];\n        var item = child.source;\n        child.position.copy(item.worldPos);\n        child.userData.color = item.opts.color;\n        child.userData.background = item.opts.background;\n      }\n    }\n  }]);\n  return TextMesh;\n}(Group);\n\nfunction _createSuper$1s(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1s(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1s() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh$2 = UberObject(Mesh);\nvar SimpleMesh = function (_OurMesh) {\n  _inherits(SimpleMesh, _OurMesh);\n  var _super = _createSuper$1s(SimpleMesh);\n  function SimpleMesh(geometry, material) {\n    var _this;\n    _classCallCheck(this, SimpleMesh);\n    _this = _super.call(this, geometry, material);\n    _this.castShadow = true;\n    _this.receiveShadow = true;\n    return _this;\n  }\n  return _createClass(SimpleMesh);\n}(OurMesh$2);\n\nfunction _createSuper$1r(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1r(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1r() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh$1 = UberObject(Mesh);\nvar _viewport = new Vector2();\nvar ThickLineMesh = function (_OurMesh) {\n  _inherits(ThickLineMesh, _OurMesh);\n  var _super = _createSuper$1r(ThickLineMesh);\n  function ThickLineMesh() {\n    _classCallCheck(this, ThickLineMesh);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ThickLineMesh, [{\n    key: \"_onBeforeRender\",\n    value: function _onBeforeRender(renderer, scene, camera, _geometry, _material, _group) {\n      var material = this.material;\n      if (!material.uberOptions) {\n        return;\n      }\n      material.uberOptions.projMatrixInv.copy(camera.projectionMatrix).invert();\n      renderer.getSize(_viewport);\n      material.uberOptions.viewport.set(_viewport.width, _viewport.height);\n    }\n  }]);\n  return ThickLineMesh;\n}(OurMesh$1);\n\nfunction _createSuper$1q(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1q(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1q() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OurMesh = UberObject(Mesh);\nvar InstancedMesh = function (_OurMesh) {\n  _inherits(InstancedMesh, _OurMesh);\n  var _super = _createSuper$1q(InstancedMesh);\n  function InstancedMesh() {\n    var _this;\n    _classCallCheck(this, InstancedMesh);\n    for (var _len = arguments.length, rest = new Array(_len), _key = 0; _key < _len; _key++) {\n      rest[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(rest));\n    _this.castShadow = true;\n    _this.receiveShadow = true;\n    return _this;\n  }\n  return _createClass(InstancedMesh);\n}(OurMesh);\n\nvar meshes = {\n  ZClipped: ZClippedMesh,\n  ZSprite: ZSpriteMesh,\n  Text: TextMesh,\n  Line: UberObject(Line),\n  LineSegments: UberObject(LineSegments),\n  Mesh: SimpleMesh,\n  ThickLineMesh: ThickLineMesh,\n  Instanced: InstancedMesh\n};\n\nfunction setMatParams(params, uniforms) {\n  return function (material) {\n    material.setValues(params);\n    material.setUberOptions(uniforms);\n  };\n}\nfunction _createInstancedCylinders(useZSprites, openEnded) {\n  return {\n    Geometry: function Geometry(a, b) {\n      return new geometries.Instanced2CCylindersGeometry(a, b, useZSprites, openEnded);\n    },\n    Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n    initMaterial: setMatParams({\n      instancedMatrix: true,\n      attrColor: true,\n      attrColor2: true,\n      attrAlphaColor: true,\n      cylinderSprite: useZSprites\n    })\n  };\n}\nfunction _createLineSegmentsGeoTriplet(geo, renderParams) {\n  var thickLines = geo.prototype instanceof ThickLinesGeometry;\n  var lineWidth = renderParams.lineWidth || 0;\n  return {\n    Geometry: geo,\n    Object: thickLines ? meshes.ThickLineMesh : meshes.LineSegments,\n    initMaterial: setMatParams({\n      lights: false,\n      attrColor: true,\n      attrAlphaColor: true,\n      thickLine: thickLines\n    }, {\n      lineWidth: lineWidth\n    })\n  };\n}\nfunction _createSimpleGeoTriplet(geoClass) {\n  return {\n    Geometry: geoClass,\n    Object: meshes.Mesh,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: true\n    })\n  };\n}\nfunction _createIsoSurfaceGeoTriplet(geoClass, caps, settings, renderParams) {\n  var surfaceOpts = {\n    wireframe: !!renderParams.wireframe,\n    fakeOpacity: settings.now.isoSurfaceFakeOpacity,\n    zClip: renderParams.zClip\n  };\n  return {\n    Geometry: geoClass,\n    Object: meshes.ZClipped,\n    initMaterial: setMatParams({\n      attrColor: true,\n      attrAlphaColor: false,\n      wireframe: surfaceOpts.wireframe,\n      fakeOpacity: surfaceOpts.fakeOpacity,\n      zClip: surfaceOpts.zClip\n    })\n  };\n}\nvar MeshCreator = function () {\n  function MeshCreator() {\n    _classCallCheck(this, MeshCreator);\n  }\n  _createClass(MeshCreator, null, [{\n    key: \"createSpheres\",\n    value: function createSpheres(caps, settings) {\n      var useZSprites = settings.now.zSprites;\n      return {\n        Geometry: function Geometry(a, b) {\n          return new geometries.InstancedSpheresGeometry(a, b, useZSprites);\n        },\n        Object: useZSprites ? meshes.ZSprite : meshes.Instanced,\n        initMaterial: setMatParams({\n          instancedPos: true,\n          attrColor: true,\n          attrAlphaColor: true,\n          sphereSprite: useZSprites\n        })\n      };\n    }\n  }, {\n    key: \"create2CClosedCylinders\",\n    value: function create2CClosedCylinders(_caps, _settings) {\n      return _createInstancedCylinders(false, false);\n    }\n  }, {\n    key: \"create2CCylinders\",\n    value: function create2CCylinders(caps, settings) {\n      return _createInstancedCylinders(settings.now.zSprites, true);\n    }\n  }, {\n    key: \"create2CLines\",\n    value: function create2CLines(_caps, _settings, renderParams) {\n      return _createLineSegmentsGeoTriplet(geometries.TwoColorLinesGeometry, renderParams);\n    }\n  }, {\n    key: \"createCrosses\",\n    value: function createCrosses(_caps, _settings, renderParams) {\n      return _createLineSegmentsGeoTriplet(geometries.CrossGeometry, renderParams);\n    }\n  }, {\n    key: \"createExtrudedChains\",\n    value: function createExtrudedChains(_caps, _settings) {\n      return _createSimpleGeoTriplet(geometries.ExtrudedObjectsGeometry);\n    }\n  }, {\n    key: \"createChunkedLines\",\n    value: function createChunkedLines(_caps, _settings, renderParams) {\n      return _createLineSegmentsGeoTriplet(geometries.ChunkedLinesGeometry, renderParams);\n    }\n  }, {\n    key: \"createQuickSurface\",\n    value: function createQuickSurface(caps, settings, renderParams) {\n      return _createIsoSurfaceGeoTriplet(geometries.QuickSurfGeometry, caps, settings, renderParams);\n    }\n  }, {\n    key: \"createContactSurface\",\n    value: function createContactSurface(caps, settings, renderParams) {\n      return _createIsoSurfaceGeoTriplet(geometries.ContactSurfaceGeometry, caps, settings, renderParams);\n    }\n  }, {\n    key: \"createSASSES\",\n    value: function createSASSES(caps, settings, renderParams) {\n      return _createIsoSurfaceGeoTriplet(geometries.SSIsosurfaceGeometry, caps, settings, renderParams);\n    }\n  }, {\n    key: \"createLabels\",\n    value: function createLabels(_caps, _settings) {\n      return {\n        Geometry: geometries.LabelsGeometry,\n        Object: meshes.Text,\n        initMaterial: function initMaterial() {}\n      };\n    }\n  }]);\n  return MeshCreator;\n}();\n\nfunction _createSuper$1p(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1p(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1p() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TransformGroup = function (_Object3D) {\n  _inherits(TransformGroup, _Object3D);\n  var _super = _createSuper$1p(TransformGroup);\n  function TransformGroup(geometry, geoParams, material, transforms) {\n    var _this;\n    _classCallCheck(this, TransformGroup);\n    _this = _super.call(this);\n    _this._geometry = geometry;\n    _this._geoParams = geoParams;\n    var mat = material.createInstance();\n    geoParams.initMaterial(mat);\n    _this._material = mat;\n    _this._transforms = transforms.length > 0 ? transforms : [new Matrix4()];\n    var meshes = _this._createMeshes(geometry);\n    for (var i = 0, n = meshes.length; i < n; ++i) {\n      _this.add(meshes[i]);\n    }\n    return _this;\n  }\n  _createClass(TransformGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var ray = TransformGroup._ray;\n      var inverseMatrix = TransformGroup._inverseMatrix;\n      var children = this.children;\n      ray.copy(raycaster.ray);\n      for (var i = 0, n = children.length; i < n; ++i) {\n        var child = children[i];\n        if (!gfxutils.belongToSelectLayers(child)) {\n          continue;\n        }\n        child.updateMatrixWorld();\n        var mtx = child.matrixWorld;\n        inverseMatrix.copy(mtx).invert();\n        raycaster.ray.copy(ray).applyMatrix4(inverseMatrix);\n        var childIntersects = [];\n        this._geometry.raycast(raycaster, childIntersects);\n        for (var j = 0, ciCount = childIntersects.length; j < ciCount; ++j) {\n          var inters = childIntersects[j];\n          if (inters.point) {\n            inters.point.applyMatrix4(mtx);\n            inters.distance = ray.origin.distanceTo(inters.point);\n          }\n          inters.object = child;\n          intersects[intersects.length] = inters;\n        }\n      }\n      raycaster.ray.copy(ray);\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(chunkIndices) {\n      var geos = this._geometry.getSubset(chunkIndices);\n      var subset = [];\n      var subIdx = 0;\n      for (var i = 0, n = geos.length; i < n; ++i) {\n        var meshes = this._createMeshes(geos[i]);\n        for (var j = 0, meshCnt = meshes.length; j < meshCnt; ++j) {\n          subset[subIdx++] = meshes[j];\n        }\n      }\n      return subset;\n    }\n  }, {\n    key: \"_createMeshes\",\n    value: function _createMeshes(geometry) {\n      var transforms = this._transforms;\n      var Mesh = this._geoParams.Object;\n      var material = this._material;\n      var meshes = [];\n      for (var i = 0, n = transforms.length; i < n; ++i) {\n        var mesh = new Mesh(geometry, material);\n        mesh.applyMatrix4(transforms[i]);\n        meshes[i] = mesh;\n      }\n      return meshes;\n    }\n  }]);\n  return TransformGroup;\n}(Object3D);\n_defineProperty(TransformGroup, \"_inverseMatrix\", new Matrix4());\n_defineProperty(TransformGroup, \"_ray\", new Ray());\n\nfunction _createSuper$1o(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1o(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1o() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction wrapper(Name, args) {\n  var params = [Name].concat(args);\n  return Name.bind.apply(Name, _toConsumableArray(params));\n}\nvar ChemGroup = function (_RCGroup) {\n  _inherits(ChemGroup, _RCGroup);\n  var _super = _createSuper$1o(ChemGroup);\n  function ChemGroup(geoParams, selection, colorer, mode, transforms, polyComplexity, material) {\n    var _this;\n    _classCallCheck(this, ChemGroup);\n    _this = _super.call(this);\n    if (_this.constructor === ChemGroup) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    _this._selection = selection;\n    _this._mode = mode;\n    _this._colorer = colorer;\n    _this._chunksIdc = selection.chunks;\n    _this._polyComplexity = polyComplexity;\n    _this._geo = new (wrapper(geoParams.Geometry, _this._makeGeoArgs()))();\n    _this._mesh = new TransformGroup(_this._geo, geoParams, material, transforms);\n    _this.add(_this._mesh);\n    _this._build();\n    return _this;\n  }\n  _createClass(ChemGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      throw new Error('ChemGroup subclass must override _makeGeoArgs() method');\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      innerOnly = innerOnly !== undefined ? innerOnly : false;\n      var chunksList = this._calcChunksList(mask, innerOnly);\n      if (chunksList.length === 0) {\n        return [];\n      }\n      return this._mesh.getSubset(chunksList);\n    }\n  }, {\n    key: \"_changeSubsetOpacity\",\n    value: function _changeSubsetOpacity(mask, value, innerOnly) {\n      var chunksList = this._calcChunksList(mask, innerOnly);\n      if (chunksList.length === 0) {\n        return;\n      }\n      this._geo.setOpacity(chunksList, value);\n    }\n  }, {\n    key: \"enableSubset\",\n    value: function enableSubset(mask, innerOnly) {\n      innerOnly = innerOnly !== undefined ? innerOnly : true;\n      this._changeSubsetOpacity(mask, 1.0, innerOnly);\n    }\n  }, {\n    key: \"disableSubset\",\n    value: function disableSubset(mask, innerOnly) {\n      innerOnly = innerOnly !== undefined ? innerOnly : true;\n      this._changeSubsetOpacity(mask, 0.0, innerOnly);\n    }\n  }]);\n  return ChemGroup;\n}(RCGroup);\n\nfunction _createSuper$1n(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1n(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1n() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsGroup = function (_ChemGroup) {\n  _inherits(AtomsGroup, _ChemGroup);\n  var _super = _createSuper$1n(AtomsGroup);\n  function AtomsGroup() {\n    _classCallCheck(this, AtomsGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var atoms = this._selection.atoms;\n      var inters = [];\n      this._mesh.raycast(raycaster, inters);\n      var atomsIdc = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!inters[i].hasOwnProperty('chunkIdx')) {\n          continue;\n        }\n        var atomIdx = atomsIdc[inters[i].chunkIdx];\n        if (atomIdx < atoms.length) {\n          inters[i].atom = atoms[atomIdx];\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask) {\n      var chunksList = [];\n      var atoms = this._selection.atoms;\n      var atomsIdc = this._chunksIdc;\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        if ((atom.mask & mask) !== 0) {\n          chunksList.push(i);\n        }\n      }\n      return chunksList;\n    }\n  }]);\n  return AtomsGroup;\n}(ChemGroup);\n\nfunction _createSuper$1m(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1m(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1m() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsSphereGroup = function (_AtomsGroup) {\n  _inherits(AtomsSphereGroup, _AtomsGroup);\n  var _super = _createSuper$1m(AtomsSphereGroup);\n  function AtomsSphereGroup() {\n    _classCallCheck(this, AtomsSphereGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsSphereGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      return [this._selection.chunks.length, this._polyComplexity];\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var atomsIdc = this._selection.chunks;\n      var _this$_selection = this._selection,\n          atoms = _this$_selection.atoms,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        geo.setItem(i, atom.position, mode.calcAtomRadius(atom));\n        geo.setColor(i, colorer.getAtomColor(atom, parent));\n      }\n      geo.finalize();\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var atomsIdc = this._selection.chunks;\n      var atoms = this._selection.atoms;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      var geo = this._geo;\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        geo.setItem(i, frameData.getAtomPos(atomsIdc[i]), mode.calcAtomRadius(atom));\n        if (updateColor) {\n          geo.setColor(i, frameData.getAtomColor(colorer, atom));\n        }\n      }\n      geo.finalize();\n    }\n  }]);\n  return AtomsSphereGroup;\n}(AtomsGroup);\n\nfunction _createSuper$1l(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1l(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1l() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsSurfaceGroup = function (_AtomsSphereGroup) {\n  _inherits(AtomsSurfaceGroup, _AtomsSphereGroup);\n  var _super = _createSuper$1l(AtomsSurfaceGroup);\n  function AtomsSurfaceGroup() {\n    _classCallCheck(this, AtomsSurfaceGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsSurfaceGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var selectedAtoms = [];\n      var _this$_selection = this._selection,\n          atoms = _this$_selection.atoms,\n          chunks = _this$_selection.chunks;\n      var n = chunks.length;\n      for (var i = 0; i < n; ++i) {\n        selectedAtoms[i] = atoms[chunks[i]];\n      }\n      var opts = this._mode.getSurfaceOpts();\n      opts.atoms = selectedAtoms;\n      return [n, opts];\n    }\n  }]);\n  return AtomsSurfaceGroup;\n}(AtomsSphereGroup);\n\nfunction _createSuper$1k(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1k(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1k() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsSASSESGroupStub = function (_AtomsSphereGroup) {\n  _inherits(AtomsSASSESGroupStub, _AtomsSphereGroup);\n  var _super = _createSuper$1k(AtomsSASSESGroupStub);\n  function AtomsSASSESGroupStub() {\n    _classCallCheck(this, AtomsSASSESGroupStub);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsSASSESGroupStub, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var selectedAtoms = [];\n      var _this$_selection = this._selection,\n          atoms = _this$_selection.atoms,\n          chunks = _this$_selection.chunks;\n      var n = chunks.length;\n      for (var i = 0; i < n; ++i) {\n        selectedAtoms[i] = atoms[chunks[i]];\n      }\n      var opts = this._mode.getSurfaceOpts();\n      opts.atoms = selectedAtoms;\n      opts.selection = this._selection;\n      opts.colorMode = this._colorer;\n      return [n, opts];\n    }\n  }]);\n  return AtomsSASSESGroupStub;\n}(AtomsSphereGroup);\n\nfunction _createSuper$1j(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1j(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1j() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction adjustColor(color) {\n  var r = color >> 16 & 255;\n  var g = color >> 8 & 255;\n  var b = color & 255;\n  if (0.2126 * r + 0.7152 * g + 0.0722 * b > 127) {\n    r = r * 3 / 10;\n    g = g * 3 / 10;\n    b = b * 3 / 10;\n  } else {\n    r = 255 - (255 - r) * 3 / 10;\n    g = 255 - (255 - g) * 3 / 10;\n    b = 255 - (255 - b) * 3 / 10;\n  }\n  return r << 16 | g << 8 | b;\n}\nfunction inverseColor(color) {\n  var r = color >> 16 & 255;\n  var g = color >> 8 & 255;\n  var b = color & 255;\n  return 255 - r << 16 | 255 - g << 8 | 255 - b;\n}\nfunction getAtomText(atom) {\n  if (atom.name.getNode() !== null) {\n    return atom.name.getNode();\n  }\n  return atom.getVisualName();\n}\nvar colorMappings = {\n  none: function none(c) {\n    return c;\n  },\n  adjust: adjustColor,\n  inverse: inverseColor\n};\nfunction propagateColor(color, rule) {\n  var result;\n  if (colorMappings.hasOwnProperty(rule)) {\n    result = utils.hexColor(colorMappings[rule](color));\n  } else {\n    var val = parseInt(rule, 16);\n    if (!Number.isNaN(val) && rule.toLowerCase().startsWith('0x')) {\n      result = utils.hexColor(val);\n    } else {\n      result = '#000000';\n    }\n  }\n  return result;\n}\nvar templateMappings = {\n  serial: function serial(a) {\n    return a.serial;\n  },\n  name: function name(a) {\n    return a.getVisualName();\n  },\n  elem: function elem(a) {\n    return a.element.name;\n  },\n  residue: function residue(a) {\n    return a.residue.getType().getName();\n  },\n  sequence: function sequence(a) {\n    return a.residue.getSequence();\n  },\n  chain: function chain(a) {\n    return a.residue.getChain().getName();\n  },\n  hetatm: function hetatm(a) {\n    return a.isHet();\n  },\n  water: function water(a) {\n    return a.residue.getType().getName() === 'HOH' || a.residue.getType().getName() === 'WAT';\n  }\n};\nvar parseTemplate = function parseTemplate(atom, str) {\n  return str.replace(/\\{\\{(\\s*\\w+\\s*)\\}\\}/g, function (m) {\n    var key = m.replace(/\\s+/g, '');\n    key = key.substring(2, key.length - 2).toLowerCase();\n    if (templateMappings.hasOwnProperty(key)) {\n      return templateMappings[key](atom);\n    }\n    return 'null';\n  });\n};\nvar AtomsTextGroup = function (_AtomsGroup) {\n  _inherits(AtomsTextGroup, _AtomsGroup);\n  var _super = _createSuper$1j(AtomsTextGroup);\n  function AtomsTextGroup() {\n    _classCallCheck(this, AtomsTextGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AtomsTextGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var opts = this._mode.getLabelOpts();\n      return [this._selection.chunks.length, opts];\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var opts = this._mode.getLabelOpts();\n      var atomsIdc = this._selection.chunks;\n      var _this$_selection = this._selection,\n          atoms = _this$_selection.atoms,\n          parent = _this$_selection.parent;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        var text = opts.template ? parseTemplate(atom, opts.template) : getAtomText(atom);\n        if (!text) {\n          continue;\n        }\n        var color = colorer.getAtomColor(atom, parent);\n        var fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16);\n        var bgColor = opts.showBg ? parseInt(propagateColor(color, opts.bg).substring(1), 16) : 'transparent';\n        geo.setItem(i, atom.position, text);\n        geo.setColor(i, fgColor, bgColor);\n      }\n      geo.finalize();\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var opts = this._mode.getLabelOpts();\n      var atomsIdc = this._selection.chunks;\n      var atoms = this._selection.atoms;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      for (var i = 0, n = atomsIdc.length; i < n; ++i) {\n        var atom = atoms[atomsIdc[i]];\n        var text = opts.template ? parseTemplate(atom, opts.template) : getAtomText(atom);\n        if (!text) {\n          continue;\n        }\n        var color = frameData.getAtomColor(colorer, atom);\n        var fgColor = parseInt(propagateColor(color, opts.fg).substring(1), 16);\n        var bgColor = opts.showBg ? parseInt(propagateColor(color, opts.bg).substring(1), 16) : 'transparent';\n        geo.setItem(i, frameData.getAtomPos(atomsIdc[i]), text);\n        if (updateColor) {\n          geo.setColor(i, fgColor, bgColor);\n        }\n      }\n      geo.finalize();\n    }\n  }]);\n  return AtomsTextGroup;\n}(AtomsGroup);\n\nfunction _createSuper$1i(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1i(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1i() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _slerp(omega, v1, v2, t) {\n  var oSin = Math.sin(omega);\n  return v1.clone().multiplyScalar(Math.sin((1 - t) * omega) / oSin).addScaledVector(v2, Math.sin(t * omega) / oSin);\n}\nvar AromaticGroup = function (_AtomsGroup) {\n  _inherits(AromaticGroup, _AtomsGroup);\n  var _super = _createSuper$1i(AromaticGroup);\n  function AromaticGroup() {\n    _classCallCheck(this, AromaticGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AromaticGroup, [{\n    key: \"_buildInner\",\n    value: function _buildInner(radOffset, addChunk) {\n      var chunksToIdx = this._selection.chunks;\n      var prevVector = new Vector3();\n      var currVector = new Vector3();\n      var segmentsHeight = this._segmentsHeight;\n      var leprStep = 1.0 / segmentsHeight;\n      var colorer = this._colorer;\n      var _this$_selection = this._selection,\n          cycles = _this$_selection.cycles,\n          parent = _this$_selection.parent;\n      var chunkIdx = 0;\n      var currAtomIdx = chunksToIdx[chunkIdx];\n      for (var cIdx = 0, cCount = cycles.length; cIdx < cCount; ++cIdx) {\n        var cycle = cycles[cIdx];\n        var cycAtoms = cycle.atoms;\n        var chunkPoints = [];\n        var tmpDir = [];\n        var center = cycle.center;\n        var cycleRad = cycle.radius - radOffset;\n        var n = cycAtoms.length;\n        var i = 0;\n        var prevPos = cycAtoms[n - 1].position;\n        var currPos = cycAtoms[i].position;\n        prevVector.subVectors(prevPos, center);\n        currVector.subVectors(currPos, center);\n        var upDir = currVector.clone().cross(prevVector).normalize();\n        for (; i < n; ++i) {\n          var omega = prevVector.angleTo(currVector);\n          tmpDir[i] = _slerp(omega, prevVector, currVector, 0.5).normalize();\n          currPos = cycAtoms[(i + 1) % n].position;\n          prevVector.copy(currVector);\n          currVector.subVectors(currPos, center);\n        }\n        for (i = 0; i < n; ++i) {\n          if (cycAtoms[i].index !== currAtomIdx) {\n            continue;\n          }\n          var start = tmpDir[i];\n          var end = tmpDir[(i + 1) % n];\n          var color = colorer.getAtomColor(cycAtoms[i], parent);\n          var currAngle = start.angleTo(end);\n          for (var j = 0; j <= segmentsHeight; ++j) {\n            chunkPoints[j] = _slerp(currAngle, start, end, j * leprStep).multiplyScalar(cycleRad).add(center);\n          }\n          addChunk(chunkIdx++, color, chunkPoints, center, upDir);\n          currAtomIdx = chunksToIdx[chunkIdx];\n        }\n      }\n    }\n  }]);\n  return AromaticGroup;\n}(AtomsGroup);\n\nfunction _createSuper$1h(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1h(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1h() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _createShape$1(rad, parts) {\n  var pts = [];\n  for (var i = 0; i < parts; ++i) {\n    var a = -2 * i / parts * Math.PI;\n    pts.push(new Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0));\n  }\n  return pts;\n}\nvar calcChunkMatrix = gfxutils.calcChunkMatrix;\nvar AromaticTorusGroup = function (_AromaticGroup) {\n  _inherits(AromaticTorusGroup, _AromaticGroup);\n  var _super = _createSuper$1h(AromaticTorusGroup);\n  function AromaticTorusGroup() {\n    _classCallCheck(this, AromaticTorusGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AromaticTorusGroup, [{\n    key: \"_build\",\n    value: function _build() {\n      var segmentsHeight = this._segmentsHeight;\n      var torusRad = this._mode.getAromRadius();\n      var radiusV = new Vector2(torusRad, torusRad);\n      var radOffset = this._mode.calcStickRadius() + 2 * torusRad;\n      var lookAtVector = new Vector3();\n      var mtc = [];\n      var geo = this._geo;\n      this._buildInner(radOffset, function (chunkIdx, color, points, center, upDir) {\n        for (var j = 0; j <= segmentsHeight; ++j) {\n          var currPoint = points[j];\n          var currDir = currPoint.clone().sub(center).cross(upDir);\n          lookAtVector.addVectors(currPoint, currDir);\n          mtc[j] = calcChunkMatrix(currPoint, lookAtVector, upDir, radiusV);\n        }\n        geo.setItem(chunkIdx, mtc);\n        geo.setColor(chunkIdx, color);\n      });\n      geo.finalize();\n    }\n  }, {\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      this._segmentsHeight = this._polyComplexity;\n      return [_createShape$1(1.0, this._polyComplexity), this._segmentsHeight + 1, this._selection.chunks.length];\n    }\n  }]);\n  return AromaticTorusGroup;\n}(AromaticGroup);\n\nfunction _createSuper$1g(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1g(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1g() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AromaticLinesGroup = function (_AromaticGroup) {\n  _inherits(AromaticLinesGroup, _AromaticGroup);\n  var _super = _createSuper$1g(AromaticLinesGroup);\n  function AromaticLinesGroup() {\n    _classCallCheck(this, AromaticLinesGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(AromaticLinesGroup, [{\n    key: \"_build\",\n    value: function _build() {\n      var _this = this;\n      var geo = this._geo;\n      var radOffset = this._mode.getAromaticOffset();\n      this._buildInner(radOffset, function (chunkIdx, color, points) {\n        var prevPt = points[0];\n        for (var j = 1; j <= _this._segmentsHeight; ++j) {\n          var currPoint = points[j];\n          geo.setSegment(chunkIdx, j - 1, prevPt, currPoint);\n          prevPt = currPoint;\n        }\n        geo.setColor(chunkIdx, color);\n      });\n      geo.finalize();\n    }\n  }, {\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      this._segmentsHeight = this._mode.getAromaticArcChunks();\n      return [this._selection.chunks.length, this._segmentsHeight, true];\n    }\n  }]);\n  return AromaticLinesGroup;\n}(AromaticGroup);\n\nfunction _createSuper$1f(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1f(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1f() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResiduesGroup = function (_ChemGroup) {\n  _inherits(ResiduesGroup, _ChemGroup);\n  var _super = _createSuper$1f(ResiduesGroup);\n  function ResiduesGroup() {\n    _classCallCheck(this, ResiduesGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ResiduesGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var residues = this._selection.residues;\n      var inters = [];\n      this._mesh.raycast(raycaster, inters);\n      var chunksIdc = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!inters[i].hasOwnProperty('chunkIdx')) {\n          continue;\n        }\n        var resIdx = chunksIdc[inters[i].chunkIdx];\n        if (resIdx < residues.length) {\n          inters[i].residue = residues[resIdx];\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask) {\n      var chunksList = [];\n      var residues = this._selection.residues;\n      var resIdc = this._chunksIdc;\n      for (var i = 0, n = resIdc.length; i < n; ++i) {\n        var res = residues[resIdc[i]];\n        if ((res._mask & mask) !== 0) {\n          chunksList.push(i);\n        }\n      }\n      return chunksList;\n    }\n  }]);\n  return ResiduesGroup;\n}(ChemGroup);\n\nfunction _createSuper$1e(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1e(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1e() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar NucleicItemGroup = function (_ResiduesGroup) {\n  _inherits(NucleicItemGroup, _ResiduesGroup);\n  var _super = _createSuper$1e(NucleicItemGroup);\n  function NucleicItemGroup() {\n    _classCallCheck(this, NucleicItemGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(NucleicItemGroup, [{\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var residues = this._selection.residues;\n      var inters = [];\n      this._mesh.raycast(raycaster, inters);\n      var chunksIdc = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!inters[i].hasOwnProperty('chunkIdx')) {\n          continue;\n        }\n        var resIdx = chunksIdc[Math.floor(inters[i].chunkIdx / 2)];\n        if (resIdx < residues.length) {\n          inters[i].residue = residues[resIdx];\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var _this$_selection = this._selection,\n          residues = _this$_selection.residues,\n          parent = _this$_selection.parent;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var stickRad = this._mode.calcStickRadius();\n      var chunkIdx = 0;\n      var resIdc = this._selection.chunks;\n      for (var i = 0, n = resIdc.length; i < n; ++i) {\n        var res = residues[resIdc[i]];\n        var color = colorer.getResidueColor(res, parent);\n        this._processItem(chunkIdx++, res._cylinders[0], res._cylinders[1], stickRad, color);\n      }\n      geo.finalize();\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask) {\n      var chunksList = [];\n      var chunkIdx = 0;\n      var residues = this._selection.residues;\n      var resIdc = this._chunksIdc;\n      for (var i = 0, n = resIdc.length; i < n; ++i) {\n        var res = residues[resIdc[i]];\n        if ((res._mask & mask) !== 0) {\n          chunksList[chunkIdx++] = 2 * i;\n          chunksList[chunkIdx++] = 2 * i + 1;\n        }\n      }\n      return chunksList;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var residues = frameData.getResidues();\n      var parent = this._selection.parent;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var stickRad = this._mode.calcStickRadius();\n      var chunkIdx = 0;\n      var resIdc = this._selection.chunks;\n      for (var i = 0, n = resIdc.length; i < n; ++i) {\n        var res = residues[resIdc[i]];\n        var color = colorer.getResidueColor(res, parent);\n        this._processItem(chunkIdx++, res._cylinders[0], res._cylinders[1], stickRad, color);\n      }\n      geo.finishUpdate();\n    }\n  }]);\n  return NucleicItemGroup;\n}(ResiduesGroup);\n\nfunction _createSuper$1d(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1d(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1d() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar NucleicCylindersGroup = function (_NucleicItemGroup) {\n  _inherits(NucleicCylindersGroup, _NucleicItemGroup);\n  var _super = _createSuper$1d(NucleicCylindersGroup);\n  function NucleicCylindersGroup() {\n    _classCallCheck(this, NucleicCylindersGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(NucleicCylindersGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      return [this._selection.chunks.length, this._polyComplexity];\n    }\n  }, {\n    key: \"_processItem\",\n    value: function _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n      var geo = this._geo;\n      geo.setItem(chunkIdx, cyl1, cyl2, stickRad);\n      geo.setColor(chunkIdx, color, color);\n    }\n  }]);\n  return NucleicCylindersGroup;\n}(NucleicItemGroup);\n\nfunction _createSuper$1c(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1c(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1c() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar NucleicSpheresGroup = function (_NucleicItemGroup) {\n  _inherits(NucleicSpheresGroup, _NucleicItemGroup);\n  var _super = _createSuper$1c(NucleicSpheresGroup);\n  function NucleicSpheresGroup() {\n    _classCallCheck(this, NucleicSpheresGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(NucleicSpheresGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      return [this._selection.chunks.length * 2, this._polyComplexity];\n    }\n  }, {\n    key: \"_processItem\",\n    value: function _processItem(chunkIdx, cyl1, cyl2, stickRad, color) {\n      var geo = this._geo;\n      var idx = chunkIdx * 2;\n      geo.setItem(idx, cyl1, stickRad);\n      geo.setColor(idx, color);\n      idx++;\n      geo.setItem(idx, cyl2, stickRad);\n      geo.setColor(idx, color);\n    }\n  }]);\n  return NucleicSpheresGroup;\n}(NucleicItemGroup);\n\nvar Smooth = {};\n\n(function (exports) {\n  (function () {\n    var AbstractInterpolator,\n        CubicInterpolator,\n        Enum,\n        LinearInterpolator,\n        NearestInterpolator,\n        PI,\n        SincFilterInterpolator,\n        _Smooth,\n        clipClamp,\n        clipMirror,\n        clipPeriodic,\n        defaultConfig,\n        getColumn,\n        getType,\n        isValidNumber,\n        k,\n        makeLanczosWindow,\n        makeScaledFunction,\n        makeSincKernel,\n        normalizeScaleTo,\n        shallowCopy,\n        sin,\n        sinc,\n        v,\n        validateNumber,\n        validateVector,\n        __hasProp = Object.prototype.hasOwnProperty,\n        __extends = function __extends(child, parent) {\n      for (var key in parent) {\n        if (__hasProp.call(parent, key)) child[key] = parent[key];\n      }\n      function ctor() {\n        this.constructor = child;\n      }\n      ctor.prototype = parent.prototype;\n      child.prototype = new ctor();\n      child.__super__ = parent.prototype;\n      return child;\n    };\n    Enum = {\n      METHOD_NEAREST: 'nearest',\n      METHOD_LINEAR: 'linear',\n      METHOD_CUBIC: 'cubic',\n      METHOD_LANCZOS: 'lanczos',\n      METHOD_SINC: 'sinc',\n      CLIP_CLAMP: 'clamp',\n      CLIP_ZERO: 'zero',\n      CLIP_PERIODIC: 'periodic',\n      CLIP_MIRROR: 'mirror',\n      CUBIC_TENSION_DEFAULT: 0,\n      CUBIC_TENSION_CATMULL_ROM: 0\n    };\n    defaultConfig = {\n      method: Enum.METHOD_CUBIC,\n      cubicTension: Enum.CUBIC_TENSION_DEFAULT,\n      clip: Enum.CLIP_CLAMP,\n      scaleTo: 0,\n      sincFilterSize: 2,\n      sincWindow: void 0\n    };\n    clipClamp = function clipClamp(i, n) {\n      return Math.max(0, Math.min(i, n - 1));\n    };\n    clipPeriodic = function clipPeriodic(i, n) {\n      i = i % n;\n      if (i < 0) i += n;\n      return i;\n    };\n    clipMirror = function clipMirror(i, n) {\n      var period;\n      period = 2 * (n - 1);\n      i = clipPeriodic(i, period);\n      if (i > n - 1) i = period - i;\n      return i;\n    };\n    AbstractInterpolator = function () {\n      function AbstractInterpolator(array, config) {\n        this.array = array.slice(0);\n        this.length = this.array.length;\n        if (!(this.clipHelper = {\n          clamp: this.clipHelperClamp,\n          zero: this.clipHelperZero,\n          periodic: this.clipHelperPeriodic,\n          mirror: this.clipHelperMirror\n        }[config.clip])) {\n          throw 'Invalid clip: ' + config.clip;\n        }\n      }\n      AbstractInterpolator.prototype.getClippedInput = function (i) {\n        if (0 <= i && i < this.length) {\n          return this.array[i];\n        } else {\n          return this.clipHelper(i);\n        }\n      };\n      AbstractInterpolator.prototype.clipHelperClamp = function (i) {\n        return this.array[clipClamp(i, this.length)];\n      };\n      AbstractInterpolator.prototype.clipHelperZero = function (i) {\n        return 0;\n      };\n      AbstractInterpolator.prototype.clipHelperPeriodic = function (i) {\n        return this.array[clipPeriodic(i, this.length)];\n      };\n      AbstractInterpolator.prototype.clipHelperMirror = function (i) {\n        return this.array[clipMirror(i, this.length)];\n      };\n      AbstractInterpolator.prototype.interpolate = function (t) {\n        throw 'Subclasses of AbstractInterpolator must override the interpolate() method.';\n      };\n      return AbstractInterpolator;\n    }();\n    NearestInterpolator = function (_super) {\n      __extends(NearestInterpolator, _super);\n      function NearestInterpolator() {\n        NearestInterpolator.__super__.constructor.apply(this, arguments);\n      }\n      NearestInterpolator.prototype.interpolate = function (t) {\n        return this.getClippedInput(Math.round(t));\n      };\n      return NearestInterpolator;\n    }(AbstractInterpolator);\n    LinearInterpolator = function (_super) {\n      __extends(LinearInterpolator, _super);\n      function LinearInterpolator() {\n        LinearInterpolator.__super__.constructor.apply(this, arguments);\n      }\n      LinearInterpolator.prototype.interpolate = function (t) {\n        var k;\n        k = Math.floor(t);\n        t -= k;\n        return (1 - t) * this.getClippedInput(k) + t * this.getClippedInput(k + 1);\n      };\n      return LinearInterpolator;\n    }(AbstractInterpolator);\n    CubicInterpolator = function (_super) {\n      __extends(CubicInterpolator, _super);\n      function CubicInterpolator(array, config) {\n        this.tangentFactor = 1 - Math.max(-1, Math.min(1, config.cubicTension));\n        CubicInterpolator.__super__.constructor.apply(this, arguments);\n      }\n      CubicInterpolator.prototype.getTangent = function (k) {\n        return this.tangentFactor * (this.getClippedInput(k + 1) - this.getClippedInput(k - 1)) / 2;\n      };\n      CubicInterpolator.prototype.interpolate = function (t) {\n        var k, m, p, t2, t3;\n        k = Math.floor(t);\n        m = [this.getTangent(k), this.getTangent(k + 1)];\n        p = [this.getClippedInput(k), this.getClippedInput(k + 1)];\n        t -= k;\n        t2 = t * t;\n        t3 = t * t2;\n        return (2 * t3 - 3 * t2 + 1) * p[0] + (t3 - 2 * t2 + t) * m[0] + (-2 * t3 + 3 * t2) * p[1] + (t3 - t2) * m[1];\n      };\n      return CubicInterpolator;\n    }(AbstractInterpolator);\n    sin = Math.sin, PI = Math.PI;\n    sinc = function sinc(x) {\n      if (x === 0) {\n        return 1;\n      } else {\n        return sin(PI * x) / (PI * x);\n      }\n    };\n    makeLanczosWindow = function makeLanczosWindow(a) {\n      return function (x) {\n        return sinc(x / a);\n      };\n    };\n    makeSincKernel = function makeSincKernel(window) {\n      return function (x) {\n        return sinc(x) * window(x);\n      };\n    };\n    SincFilterInterpolator = function (_super) {\n      __extends(SincFilterInterpolator, _super);\n      function SincFilterInterpolator(array, config) {\n        SincFilterInterpolator.__super__.constructor.apply(this, arguments);\n        this.a = config.sincFilterSize;\n        if (!config.sincWindow) throw 'No sincWindow provided';\n        this.kernel = makeSincKernel(config.sincWindow);\n      }\n      SincFilterInterpolator.prototype.interpolate = function (t) {\n        var k, n, sum, _ref, _ref2;\n        k = Math.floor(t);\n        sum = 0;\n        for (n = _ref = k - this.a + 1, _ref2 = k + this.a; _ref <= _ref2 ? n <= _ref2 : n >= _ref2; _ref <= _ref2 ? n++ : n--) {\n          sum += this.kernel(t - n) * this.getClippedInput(n);\n        }\n        return sum;\n      };\n      return SincFilterInterpolator;\n    }(AbstractInterpolator);\n    getColumn = function getColumn(arr, i) {\n      var row, _i, _len, _results;\n      _results = [];\n      for (_i = 0, _len = arr.length; _i < _len; _i++) {\n        row = arr[_i];\n        _results.push(row[i]);\n      }\n      return _results;\n    };\n    makeScaledFunction = function makeScaledFunction(f, baseScale, scaleRange) {\n      var scaleFactor, translation;\n      if (scaleRange.join === '0,1') {\n        return f;\n      } else {\n        scaleFactor = baseScale / (scaleRange[1] - scaleRange[0]);\n        translation = scaleRange[0];\n        return function (t) {\n          return f(scaleFactor * (t - translation));\n        };\n      }\n    };\n    getType = function getType(x) {\n      return Object.prototype.toString.call(x).slice('[object '.length, -1);\n    };\n    validateNumber = function validateNumber(n) {\n      if (isNaN(n)) throw 'NaN in Smooth() input';\n      if (getType(n) !== 'Number') throw 'Non-number in Smooth() input';\n      if (!isFinite(n)) throw 'Infinity in Smooth() input';\n    };\n    validateVector = function validateVector(v, dimension) {\n      var n, _i, _len;\n      if (getType(v) !== 'Array') throw 'Non-vector in Smooth() input';\n      if (v.length !== dimension) throw 'Inconsistent dimension in Smooth() input';\n      for (_i = 0, _len = v.length; _i < _len; _i++) {\n        n = v[_i];\n        validateNumber(n);\n      }\n    };\n    isValidNumber = function isValidNumber(n) {\n      return getType(n) === 'Number' && isFinite(n) && !isNaN(n);\n    };\n    normalizeScaleTo = function normalizeScaleTo(s) {\n      var invalidErr;\n      invalidErr = 'scaleTo param must be number or array of two numbers';\n      switch (getType(s)) {\n        case 'Number':\n          if (!isValidNumber(s)) throw invalidErr;\n          s = [0, s];\n          break;\n        case 'Array':\n          if (s.length !== 2) throw invalidErr;\n          if (!(isValidNumber(s[0]) && isValidNumber(s[1]))) throw invalidErr;\n          break;\n        default:\n          throw invalidErr;\n      }\n      return s;\n    };\n    shallowCopy = function shallowCopy(obj) {\n      var copy, k, v;\n      copy = {};\n      for (k in obj) {\n        if (!__hasProp.call(obj, k)) continue;\n        v = obj[k];\n        copy[k] = v;\n      }\n      return copy;\n    };\n    _Smooth = function Smooth(arr, config) {\n      var baseDomainEnd, dimension, i, interpolator, interpolatorClass, interpolators, k, n, properties, smoothFunc, v;\n      if (config == null) config = {};\n      properties = {};\n      config = shallowCopy(config);\n      properties.config = shallowCopy(config);\n      if (config.scaleTo == null) config.scaleTo = config.period;\n      if (config.sincFilterSize == null) {\n        config.sincFilterSize = config.lanczosFilterSize;\n      }\n      for (k in defaultConfig) {\n        if (!__hasProp.call(defaultConfig, k)) continue;\n        v = defaultConfig[k];\n        if (config[k] == null) config[k] = v;\n      }\n      if (!(interpolatorClass = {\n        nearest: NearestInterpolator,\n        linear: LinearInterpolator,\n        cubic: CubicInterpolator,\n        lanczos: SincFilterInterpolator,\n        sinc: SincFilterInterpolator\n      }[config.method])) {\n        throw 'Invalid method: ' + config.method;\n      }\n      if (config.method === 'lanczos') {\n        config.sincWindow = makeLanczosWindow(config.sincFilterSize);\n      }\n      if (arr.length < 2) throw 'Array must have at least two elements';\n      properties.count = arr.length;\n      smoothFunc = function () {\n        var _i, _j, _len, _len2;\n        switch (getType(arr[0])) {\n          case 'Number':\n            properties.dimension = 'scalar';\n            if (_Smooth.deepValidation) {\n              for (_i = 0, _len = arr.length; _i < _len; _i++) {\n                n = arr[_i];\n                validateNumber(n);\n              }\n            }\n            interpolator = new interpolatorClass(arr, config);\n            return function (t) {\n              return interpolator.interpolate(t);\n            };\n          case 'Array':\n            properties.dimension = dimension = arr[0].length;\n            if (!dimension) throw 'Vectors must be non-empty';\n            if (_Smooth.deepValidation) {\n              for (_j = 0, _len2 = arr.length; _j < _len2; _j++) {\n                v = arr[_j];\n                validateVector(v, dimension);\n              }\n            }\n            interpolators = function () {\n              var _results;\n              _results = [];\n              for (i = 0; 0 <= dimension ? i < dimension : i > dimension; 0 <= dimension ? i++ : i--) {\n                _results.push(new interpolatorClass(getColumn(arr, i), config));\n              }\n              return _results;\n            }();\n            return function (t) {\n              var interpolator, _k, _len3, _results;\n              _results = [];\n              for (_k = 0, _len3 = interpolators.length; _k < _len3; _k++) {\n                interpolator = interpolators[_k];\n                _results.push(interpolator.interpolate(t));\n              }\n              return _results;\n            };\n          default:\n            throw 'Invalid element type: ' + getType(arr[0]);\n        }\n      }();\n      if (config.clip === 'periodic') {\n        baseDomainEnd = arr.length;\n      } else {\n        baseDomainEnd = arr.length - 1;\n      }\n      config.scaleTo || (config.scaleTo = baseDomainEnd);\n      properties.domain = normalizeScaleTo(config.scaleTo);\n      smoothFunc = makeScaledFunction(smoothFunc, baseDomainEnd, properties.domain);\n      properties.domain.sort();\n      for (k in properties) {\n        if (!__hasProp.call(properties, k)) continue;\n        v = properties[k];\n        smoothFunc[k] = v;\n      }\n      return smoothFunc;\n    };\n    for (k in Enum) {\n      if (!__hasProp.call(Enum, k)) continue;\n      v = Enum[k];\n      _Smooth[k] = v;\n    }\n    _Smooth.deepValidation = true;\n    (exports !== null ? exports : window).Smooth = _Smooth;\n  }).call(commonjsGlobal);\n})(Smooth);\n\nvar ResidueType = chem.ResidueType;\nvar calcMatrix = gfxutils.calcChunkMatrix;\nfunction _buildStructureInterpolator(points, tension) {\n  var path = Smooth.Smooth(points, {\n    method: Smooth.Smooth.METHOD_CUBIC,\n    clip: Smooth.Smooth.CLIP_CLAMP,\n    cubicTension: tension,\n    scaleTo: 1\n  });\n  return function (t, argTrans) {\n    var transformT = argTrans;\n    if (transformT === null) {\n      transformT = function transformT(tt) {\n        return (tt * (points.length - 1 - 2) + 1) / (points.length - 1);\n      };\n    }\n    var newt = transformT(t);\n    var ans = path(newt);\n    return new Vector3(ans[0], ans[1], ans[2]);\n  };\n}\nfunction _addPoints(centerPoints, topPoints, idx, residue) {\n  if (!residue._isValid) {\n    centerPoints[idx] = centerPoints[idx - 1];\n    topPoints[idx] = topPoints[idx - 1];\n    return;\n  }\n  var cp = residue._controlPoint;\n  centerPoints[idx] = [cp.x, cp.y, cp.z];\n  var tp = cp.clone().add(residue._wingVector);\n  topPoints[idx] = [tp.x, tp.y, tp.z];\n}\nfunction _addPointsForLoneResidue(centerPoints, topPoints, idx, residue) {\n  var nucleic = (residue._type.flags & ResidueType.Flags.NUCLEIC) !== 0;\n  var nameFrom = nucleic ? \"C5'\" : 'N';\n  var nameTo = nucleic ? \"C3'\" : 'C';\n  var posFrom;\n  var posTo;\n  residue.forEachAtom(function (atom) {\n    var name = atom.getVisualName();\n    if (!posFrom && name === nameFrom) {\n      posFrom = atom.position;\n    } else if (!posTo && name === nameTo) {\n      posTo = atom.position;\n    }\n  });\n  if (!(posFrom && posTo)) {\n    posFrom = residue._firstAtom.position;\n    posTo = residue._lastAtom.position;\n  }\n  if (posFrom && posTo) {\n    var shift = posTo.clone().sub(posFrom);\n    var wing = residue._wingVector;\n    var cp = residue._controlPoint;\n    var tp = cp.clone().add(wing);\n    var cpPrev = cp.clone().sub(shift);\n    var tpPrev = cpPrev.clone().add(wing);\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z];\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z];\n    ++idx;\n    centerPoints[idx] = [cpPrev.x, cpPrev.y, cpPrev.z];\n    topPoints[idx] = [tpPrev.x, tpPrev.y, tpPrev.z];\n    ++idx;\n    centerPoints[idx] = [cp.x, cp.y, cp.z];\n    topPoints[idx] = [tp.x, tp.y, tp.z];\n    ++idx;\n    var cpNext = cp.clone().add(shift);\n    var tpNext = cpNext.clone().add(wing);\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z];\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z];\n    ++idx;\n    centerPoints[idx] = [cpNext.x, cpNext.y, cpNext.z];\n    topPoints[idx] = [tpNext.x, tpNext.y, tpNext.z];\n  }\n}\nfunction _calcPoints(residues, firstIdx, lastIdx, boundaries) {\n  var left = boundaries.start;\n  var right = boundaries.end;\n  function _prevIdx(idx) {\n    return idx > left && residues[idx - 1]._isValid ? idx - 1 : idx;\n  }\n  function _nextIdx(idx) {\n    return idx < right && residues[idx + 1]._isValid ? idx + 1 : idx;\n  }\n  var topPoints = [];\n  var centerPoints = [];\n  var arrIdx = 0;\n  function _extrapolate2(currIdx, otherIdx) {\n    var cp = residues[currIdx]._controlPoint.clone().lerp(residues[otherIdx]._controlPoint, -0.25);\n    var tp = cp.clone().add(residues[currIdx]._wingVector);\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z];\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z];\n    centerPoints[arrIdx] = [cp.x, cp.y, cp.z];\n    topPoints[arrIdx++] = [tp.x, tp.y, tp.z];\n  }\n  var prevIdx = _prevIdx(firstIdx);\n  var nextIdx = _nextIdx(lastIdx);\n  if (prevIdx === nextIdx) {\n    _addPointsForLoneResidue(centerPoints, topPoints, arrIdx, residues[firstIdx]);\n    return {\n      centerPoints: centerPoints,\n      topPoints: topPoints\n    };\n  }\n  if (firstIdx === prevIdx) {\n    _extrapolate2(firstIdx, _nextIdx(firstIdx));\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[_prevIdx(prevIdx)]);\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[prevIdx]);\n  }\n  for (var idx = firstIdx; idx <= lastIdx; ++idx) {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[idx]);\n  }\n  if (nextIdx === _nextIdx(nextIdx)) {\n    _extrapolate2(lastIdx, _prevIdx(lastIdx));\n  } else {\n    _addPoints(centerPoints, topPoints, arrIdx++, residues[nextIdx]);\n    _addPoints(centerPoints, topPoints, arrIdx, residues[_nextIdx(nextIdx)]);\n  }\n  return {\n    centerPoints: centerPoints,\n    topPoints: topPoints\n  };\n}\nvar CartoonHelper = function () {\n  function CartoonHelper(residues, startIdx, endIdx, segmentsCount, tension, boundaries) {\n    _classCallCheck(this, CartoonHelper);\n    var pointsArrays = _calcPoints(residues, startIdx, endIdx, boundaries);\n    this._topInterp = _buildStructureInterpolator(pointsArrays.topPoints, tension);\n    this._centerInterp = _buildStructureInterpolator(pointsArrays.centerPoints, tension);\n    this._shift = 0.5 / (endIdx - startIdx + 2);\n    this._valueStep = (1.0 - 2 * this._shift) / (2 * (endIdx - startIdx + 1) * (segmentsCount - 1));\n    this._segmentsCount = segmentsCount;\n  }\n  _createClass(CartoonHelper, [{\n    key: \"prepareMatrices\",\n    value: function prepareMatrices(idx, firstRad, secondRad) {\n      var mtcCount = this._segmentsCount;\n      var outMtc = new Array(mtcCount);\n      var currRad = new Vector2(0, 0);\n      var topInterp = this._topInterp;\n      var cenInterp = this._centerInterp;\n      var currentValue = this._shift + this._valueStep * (mtcCount - 1) * idx;\n      for (var mtxIdx = 0; mtxIdx < mtcCount; ++mtxIdx) {\n        var lerpVal = Math.min(1.0, mtxIdx / (mtcCount - 1));\n        currRad.lerpVectors(firstRad, secondRad, lerpVal);\n        var currTop = topInterp(currentValue, null);\n        var currCenter = cenInterp(currentValue, null);\n        currentValue += this._valueStep;\n        var nextCenter = cenInterp(currentValue, null);\n        outMtc[mtxIdx] = calcMatrix(currCenter.clone(), nextCenter.clone(), currTop.clone().sub(currCenter), currRad);\n      }\n      return outMtc;\n    }\n  }]);\n  return CartoonHelper;\n}();\n\nfunction _createSuper$1b(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1b(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1b() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _createShape(rad, parts) {\n  var pts = [];\n  for (var i = 0; i < parts; ++i) {\n    var a = Math.PI / 2.0 - 2 * Math.PI * i / parts;\n    pts.push(new Vector3(Math.cos(a) * rad, Math.sin(a) * rad, 0));\n  }\n  return pts;\n}\nfunction _loopThrough(subDiv, residues, segmentsHeight, tension, mode, callback) {\n  for (var subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n    var subs = subDiv[subDivI].arr;\n    var boundaries = subDiv[subDivI].boundaries;\n    for (var i = 0, n = subs.length; i < n; ++i) {\n      var idc = [subs[i].start, subs[i].end];\n      var matrixHelper = new CartoonHelper(residues, idc[0], idc[1], segmentsHeight, tension, boundaries);\n      var prevLast = null;\n      var startIdx = subs[i].start * 2;\n      var endIdx = subs[i].end * 2 + 1;\n      var prevSecondRad = mode.getResidueRadius(residues[0], 0);\n      for (var idx = startIdx; idx <= endIdx; ++idx) {\n        var resIdx = idx / 2 | 0;\n        var currRes = residues[resIdx];\n        var firstRad = mode.getResidueRadius(currRes, idx % 2);\n        var secondRad = mode.getResidueRadius(currRes, 1 + idx % 2);\n        var mtc = matrixHelper.prepareMatrices(idx - idc[0] * 2, firstRad, secondRad);\n        mtc.unshift(prevLast === null ? mtc[0] : prevLast);\n        var hasSlope = firstRad.x !== secondRad.x || firstRad.y !== secondRad.y;\n        var hasCut = firstRad.x !== prevSecondRad.x || firstRad.y !== prevSecondRad.y;\n        callback(currRes, mtc, hasSlope, hasCut);\n        prevLast = mtc[segmentsHeight];\n        prevSecondRad = secondRad;\n      }\n    }\n  }\n}\nvar ResiduesSubseqGroup = function (_ResiduesGroup) {\n  _inherits(ResiduesSubseqGroup, _ResiduesGroup);\n  var _super = _createSuper$1b(ResiduesSubseqGroup);\n  function ResiduesSubseqGroup() {\n    _classCallCheck(this, ResiduesSubseqGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ResiduesSubseqGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var cmpMultiplier = this._mode.getHeightSegmentsRatio();\n      this._segmentsHeight = this._polyComplexity * cmpMultiplier | 0;\n      return [_createShape(1.0, this._polyComplexity), this._segmentsHeight + 1, this._selection.chunks.length * 2];\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var _this$_selection = this._selection,\n          residues = _this$_selection.residues,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var tension = mode.getTension();\n      var geo = this._geo;\n      var chunkIdx = 0;\n      var chunkIdc = [];\n      _loopThrough(this._selection.subdivs, residues, this._segmentsHeight, tension, mode, function (currRes, mtc) {\n        var hasSlope = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var hasCut = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        var color = colorer.getResidueColor(currRes, parent);\n        chunkIdc[chunkIdx] = currRes._index;\n        geo.setItem(chunkIdx, mtc, hasSlope, hasCut);\n        geo.setColor(chunkIdx++, color);\n      });\n      this._chunksIdc = chunkIdc;\n      geo.finalize();\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var parent = this._selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var tension = mode.getTension();\n      var geo = this._geo;\n      var frameRes = frameData.getResidues();\n      var chunkIdx = 0;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      _loopThrough(this._selection.subdivs, frameRes, this._segmentsHeight, tension, mode, function (currRes, mtc) {\n        geo.setItem(chunkIdx, mtc);\n        if (updateColor) {\n          geo.setColor(chunkIdx, colorer.getResidueColor(currRes, parent));\n        }\n        chunkIdx++;\n      });\n      geo.finalize();\n    }\n  }]);\n  return ResiduesSubseqGroup;\n}(ResiduesGroup);\n\nfunction _createSuper$1a(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1a(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1a() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResiduesTraceGroup = function (_ChemGroup) {\n  _inherits(ResiduesTraceGroup, _ChemGroup);\n  var _super = _createSuper$1a(ResiduesTraceGroup);\n  function ResiduesTraceGroup() {\n    _classCallCheck(this, ResiduesTraceGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ResiduesTraceGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var subDiv = this._selection.subdivs;\n      var chunksCount = 0;\n      for (var subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n        var subs = subDiv[subDivI].arr;\n        for (var i = 0, n = subs.length; i < n; ++i) {\n          chunksCount += subs[i].end - subs[i].start;\n        }\n      }\n      return [chunksCount, this._polyComplexity];\n    }\n  }, {\n    key: \"_build\",\n    value: function _build() {\n      var _this$_selection = this._selection,\n          residues = _this$_selection.residues,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var chunkIdx = 0;\n      var chunkIdc = [];\n      var subDiv = this._selection.subdivs;\n      var stickRad = mode.calcStickRadius();\n      for (var subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n        var subs = subDiv[subDivI].arr;\n        for (var i = 0, n = subs.length; i < n; ++i) {\n          var startIdx = subs[i].start;\n          var endIdx = subs[i].end;\n          var prevRes = residues[startIdx];\n          for (var idx = startIdx + 1; idx <= endIdx; ++idx) {\n            var currRes = residues[idx];\n            chunkIdc[chunkIdx] = {\n              first: prevRes._index,\n              second: currRes._index\n            };\n            geo.setItem(chunkIdx, prevRes._controlPoint, currRes._controlPoint, stickRad);\n            geo.setColor(chunkIdx, colorer.getResidueColor(prevRes, parent), colorer.getResidueColor(currRes, parent));\n            chunkIdx++;\n            prevRes = currRes;\n          }\n        }\n      }\n      this._chunksIdc = chunkIdc;\n      geo.finalize();\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var residues = frameData.getResidues();\n      var parent = this._selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var chunkIdx = 0;\n      var subDiv = this._selection.subdivs;\n      var stickRad = mode.calcStickRadius();\n      var updateColor = frameData.needsColorUpdate(colorer);\n      for (var subDivI = 0, subDivN = subDiv.length; subDivI < subDivN; ++subDivI) {\n        var subs = subDiv[subDivI].arr;\n        for (var i = 0, n = subs.length; i < n; ++i) {\n          var startIdx = subs[i].start;\n          var endIdx = subs[i].end;\n          var prevRes = residues[startIdx];\n          for (var idx = startIdx + 1; idx <= endIdx; ++idx) {\n            var currRes = residues[idx];\n            geo.setItem(chunkIdx, prevRes._controlPoint, currRes._controlPoint, stickRad);\n            if (updateColor) {\n              geo.setColor(chunkIdx, colorer.getResidueColor(prevRes, parent), colorer.getResidueColor(currRes, parent));\n            }\n            chunkIdx++;\n            prevRes = currRes;\n          }\n        }\n      }\n      geo.finalize();\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var inters = [];\n      var residues = this._selection.residues;\n      this._mesh.raycast(raycaster, inters);\n      var chunksToIdx = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!inters[i].hasOwnProperty('chunkIdx')) {\n          continue;\n        }\n        var chunkIdx = inters[i].chunkIdx;\n        var chunk = chunksToIdx[Math.floor(chunkIdx / 2)];\n        var resIdx = chunkIdx % 2 === 0 ? chunk.first : chunk.second;\n        if (resIdx < residues.length) {\n          inters[i].residue = residues[resIdx];\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask) {\n      var chunksList = [];\n      var chunksToIdx = this._chunksIdc;\n      var residues = this._selection.residues;\n      for (var i = 0, n = chunksToIdx.length; i < n; ++i) {\n        var chunk = chunksToIdx[i];\n        if (residues[chunk.first]._mask & mask) {\n          chunksList.push(i * 2);\n        }\n        if (residues[chunk.second]._mask & mask) {\n          chunksList.push(i * 2 + 1);\n        }\n      }\n      return chunksList;\n    }\n  }]);\n  return ResiduesTraceGroup;\n}(ChemGroup);\n\nfunction _createSuper$19(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$19(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$19() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction getCylinderCount(bondOrder) {\n  return bondOrder < 2 ? 1 : bondOrder;\n}\nvar BondsGroup = function (_ChemGroup) {\n  _inherits(BondsGroup, _ChemGroup);\n  var _super = _createSuper$19(BondsGroup);\n  function BondsGroup() {\n    _classCallCheck(this, BondsGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(BondsGroup, [{\n    key: \"_makeGeoArgs\",\n    value: function _makeGeoArgs() {\n      var drawMultiple = this._mode.drawMultiorderBonds();\n      var showAromatic = this._mode.showAromaticLoops();\n      var bondsIdc = this._selection.chunks;\n      var bonds = this._selection.bonds;\n      var bondsCount = 0;\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        bondsCount += this.getBondOrder(bonds[bondsIdc[i]], drawMultiple, showAromatic);\n      }\n      return [bondsCount, this._polyComplexity];\n    }\n  }, {\n    key: \"getBondOrder\",\n    value: function getBondOrder(bond, drawMultiple, showAromatic) {\n      var bondOrder = 1;\n      if (drawMultiple && (!showAromatic || bond._type !== Bond$5.BondType.AROMATIC)) {\n        bondOrder = getCylinderCount(bond._order);\n      }\n      return bondOrder;\n    }\n  }, {\n    key: \"raycast\",\n    value: function raycast(raycaster, intersects) {\n      var bonds = this._selection.bonds;\n      var inters = [];\n      this._mesh.raycast(raycaster, inters);\n      var bondsIdc = this._chunksIdc;\n      for (var i = 0, n = inters.length; i < n; ++i) {\n        if (!inters[i].hasOwnProperty('chunkIdx')) {\n          continue;\n        }\n        var chunkIdx = inters[i].chunkIdx;\n        var bondIdx = bondsIdc[Math.floor(chunkIdx / 2)];\n        if (bondIdx < bonds.length) {\n          var bond = bonds[bondIdx];\n          inters[i].atom = chunkIdx % 2 === 0 ? bond._left : bond._right;\n          intersects.push(inters[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_calcChunksList\",\n    value: function _calcChunksList(mask, innerOnly) {\n      var chunksList = [];\n      var bonds = this._selection.bonds;\n      var chunksToIdx = this._chunksIdc;\n      for (var i = 0, n = chunksToIdx.length; i < n; ++i) {\n        var bond = bonds[chunksToIdx[i]];\n        if (bond._left.mask & mask && (!innerOnly || bond._right.mask & mask)) {\n          chunksList.push(2 * i);\n        }\n        if (bond._right.mask & mask && (!innerOnly || bond._left.mask & mask)) {\n          chunksList.push(2 * i + 1);\n        }\n      }\n      return chunksList;\n    }\n  }]);\n  return BondsGroup;\n}(ChemGroup);\n\nfunction _createSuper$18(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$18(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$18() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar BondsCylinderGroup = function (_BondsGroup) {\n  _inherits(BondsCylinderGroup, _BondsGroup);\n  var _super = _createSuper$18(BondsCylinderGroup);\n  function BondsCylinderGroup() {\n    _classCallCheck(this, BondsCylinderGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(BondsCylinderGroup, [{\n    key: \"_build\",\n    value: function _build() {\n      var bondsIdc = this._selection.chunks;\n      var _this$_selection = this._selection,\n          bonds = _this$_selection.bonds,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var drawMultiple = mode.drawMultiorderBonds();\n      var showAromatic = mode.showAromaticLoops();\n      var stickRad = mode.calcStickRadius();\n      var emptyOffset = mode.calcSpaceFraction();\n      var normDir;\n      var leftPos = new Vector3();\n      var rightPos = new Vector3();\n      var currBondIdx = 0;\n      var chunksToIdx = [];\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        var bond = bonds[bondsIdc[i]];\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        var a1Pos = atom1.position;\n        var a2Pos = atom2.position;\n        normDir = bond.calcNormalDir();\n        var order = this.getBondOrder(bond, drawMultiple, showAromatic);\n        var minRad = Math.min(mode.calcAtomRadius(atom1), mode.calcAtomRadius(atom2));\n        var dist = 2 * minRad / order;\n        var currStickRad = drawMultiple ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset)) : stickRad;\n        for (var j = 0; j < order; ++j) {\n          var scale = dist * (order % 2 === 0 ? ((j / 2 | 0) + 0.5) * (1 - 2 * (j % 2)) : ((j + 1) / 2 | 0) * (-1 + 2 * (j % 2)));\n          chunksToIdx[currBondIdx] = bond._index;\n          leftPos.copy(a1Pos);\n          leftPos.addScaledVector(normDir, scale);\n          rightPos.copy(a2Pos);\n          rightPos.addScaledVector(normDir, scale);\n          geo.setItem(currBondIdx, leftPos, rightPos, currStickRad);\n          geo.setColor(currBondIdx++, colorer.getAtomColor(atom1, parent), colorer.getAtomColor(atom2, parent));\n        }\n      }\n      geo.finalize();\n      this._chunksIdc = chunksToIdx;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var bondsIdc = this._selection.chunks;\n      var bonds = this._selection.bonds;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var drawMultiple = mode.drawMultiorderBonds();\n      var showAromatic = mode.showAromaticLoops();\n      var stickRad = mode.calcStickRadius();\n      var emptyOffset = mode.calcSpaceFraction();\n      var normDir;\n      var leftPos = new Vector3();\n      var rightPos = new Vector3();\n      var currBondIdx = 0;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        var bond = bonds[bondsIdc[i]];\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        var a1Pos = frameData.getAtomPos(atom1.index).clone();\n        var a2Pos = frameData.getAtomPos(atom2.index);\n        normDir = bond.calcNormalDir();\n        var order = this.getBondOrder(bond, drawMultiple, showAromatic);\n        var minRad = Math.min(mode.calcAtomRadius(atom1), mode.calcAtomRadius(atom2));\n        var dist = 2 * minRad / order;\n        var currStickRad = drawMultiple ? Math.min(stickRad, dist * 0.5 * (1.0 - emptyOffset)) : stickRad;\n        for (var j = 0; j < order; ++j) {\n          var scale = dist * (order % 2 === 0 ? ((j / 2 | 0) + 0.5) * (1 - 2 * (j % 2)) : ((j + 1) / 2 | 0) * (-1 + 2 * (j % 2)));\n          leftPos.copy(a1Pos);\n          leftPos.addScaledVector(normDir, scale);\n          rightPos.copy(a2Pos);\n          rightPos.addScaledVector(normDir, scale);\n          geo.setItem(currBondIdx, leftPos, rightPos, currStickRad);\n          if (updateColor) {\n            geo.setColor(currBondIdx, frameData.getAtomColor(colorer, atom1), frameData.getAtomColor(colorer, atom2));\n          }\n          currBondIdx++;\n        }\n      }\n      geo.finalize();\n    }\n  }]);\n  return BondsCylinderGroup;\n}(BondsGroup);\n\nfunction _createSuper$17(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$17(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$17() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar STEP_SIZE = 0.15;\nvar BondsLinesGroup = function (_BondsGroup) {\n  _inherits(BondsLinesGroup, _BondsGroup);\n  var _super = _createSuper$17(BondsLinesGroup);\n  function BondsLinesGroup() {\n    _classCallCheck(this, BondsLinesGroup);\n    return _super.apply(this, arguments);\n  }\n  _createClass(BondsLinesGroup, [{\n    key: \"_build\",\n    value: function _build() {\n      var bondsIdc = this._selection.chunks;\n      var _this$_selection = this._selection,\n          bonds = _this$_selection.bonds,\n          parent = _this$_selection.parent;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var drawMultiple = mode.drawMultiorderBonds();\n      var showAromatic = mode.showAromaticLoops();\n      var bondDir = new Vector3();\n      var leftPos = new Vector3();\n      var rightPos = new Vector3();\n      var currBondIdx = 0;\n      var chunksToIdx = [];\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        var bond = bonds[bondsIdc[i]];\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        var a1Pos = atom1.position;\n        var a2Pos = atom2.position;\n        var a1Hangs = atom1.bonds.length === 1;\n        var a2Hangs = atom2.bonds.length === 1;\n        bondDir.subVectors(a2Pos, a1Pos);\n        var len = bondDir.length();\n        var normDir = bond.calcNormalDir();\n        var order = this.getBondOrder(bond, drawMultiple, showAromatic);\n        for (var j = 0; j < order; ++j) {\n          leftPos.copy(a1Pos);\n          rightPos.copy(a2Pos);\n          var scale = order % 2 === 0 ? ((j / 2 | 0) + 0.5) * (1 - 2 * (j % 2)) : ((j + 1) / 2 | 0) * (-1 + 2 * (j % 2));\n          chunksToIdx[currBondIdx] = bond._index;\n          if (order === 2 && !a1Hangs && !a2Hangs) {\n            scale -= 0.5;\n            scale *= -1;\n          }\n          if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n            leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / len);\n            rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / len);\n          }\n          scale *= STEP_SIZE;\n          leftPos.addScaledVector(normDir, scale);\n          rightPos.addScaledVector(normDir, scale);\n          geo.setItem(currBondIdx, leftPos, rightPos);\n          geo.setColor(currBondIdx++, colorer.getAtomColor(atom1, parent), colorer.getAtomColor(atom2, parent));\n        }\n      }\n      geo.finalize();\n      this._chunksIdc = chunksToIdx;\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      var bondsIdc = this._selection.chunks;\n      var bonds = this._selection.bonds;\n      var mode = this._mode;\n      var colorer = this._colorer;\n      var geo = this._geo;\n      var drawMultiple = mode.drawMultiorderBonds();\n      var showAromatic = mode.showAromaticLoops();\n      var bondDir = new Vector3();\n      var leftPos = new Vector3();\n      var rightPos = new Vector3();\n      var currBondIdx = 0;\n      var updateColor = frameData.needsColorUpdate(colorer);\n      for (var i = 0, n = bondsIdc.length; i < n; ++i) {\n        var bond = bonds[bondsIdc[i]];\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        var a1Pos = frameData.getAtomPos(atom1.index).clone();\n        var a2Pos = frameData.getAtomPos(atom2.index);\n        var a1Hangs = atom1.bonds.length === 1;\n        var a2Hangs = atom2.bonds.length === 1;\n        bondDir.subVectors(a2Pos, a1Pos);\n        var len = bondDir.length();\n        var normDir = bond.calcNormalDir();\n        var order = this.getBondOrder(bond, drawMultiple, showAromatic);\n        for (var j = 0; j < order; ++j) {\n          leftPos.copy(a1Pos);\n          rightPos.copy(a2Pos);\n          var scale = order % 2 === 0 ? ((j / 2 | 0) + 0.5) * (1 - 2 * (j % 2)) : ((j + 1) / 2 | 0) * (-1 + 2 * (j % 2));\n          if (order === 2 && !a1Hangs && !a2Hangs) {\n            scale -= 0.5;\n            scale *= -1;\n          }\n          if (!a1Hangs && !a2Hangs && order > 1 && scale !== 0) {\n            leftPos.lerpVectors(a1Pos, a2Pos, STEP_SIZE / len);\n            rightPos.lerpVectors(a1Pos, a2Pos, 1.0 - STEP_SIZE / len);\n          }\n          scale *= STEP_SIZE;\n          leftPos.addScaledVector(normDir, scale);\n          rightPos.addScaledVector(normDir, scale);\n          geo.setItem(currBondIdx, leftPos, rightPos);\n          if (updateColor) {\n            geo.setColor(currBondIdx, frameData.getAtomColor(colorer, atom1), frameData.getAtomColor(colorer, atom2));\n          }\n          currBondIdx++;\n        }\n      }\n      geo.finalize();\n    }\n  }]);\n  return BondsLinesGroup;\n}(BondsGroup);\n\nvar groups = {\n  AtomsSphereGroup: AtomsSphereGroup,\n  AtomsSurfaceGroup: AtomsSurfaceGroup,\n  AtomsSASSESGroupStub: AtomsSASSESGroupStub,\n  AtomsTextGroup: AtomsTextGroup,\n  AromaticTorusGroup: AromaticTorusGroup,\n  AromaticLinesGroup: AromaticLinesGroup,\n  NucleicCylindersGroup: NucleicCylindersGroup,\n  NucleicSpheresGroup: NucleicSpheresGroup,\n  ResiduesSubseqGroup: ResiduesSubseqGroup,\n  ResiduesTraceGroup: ResiduesTraceGroup,\n  BondsCylinderGroup: BondsCylinderGroup,\n  BondsLinesGroup: BondsLinesGroup\n};\n\nfunction _createSuper$16(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$16(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$16() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AtomsProcessor = function (_RCGroup) {\n  _inherits(AtomsProcessor, _RCGroup);\n  var _super = _createSuper$16(AtomsProcessor);\n  function AtomsProcessor(AtomsGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, AtomsProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    _this._mode = mode;\n    var atoms = complex.getAtoms();\n    var transforms = complex.getTransforms();\n    complex.forEachComponent(function (component) {\n      var atomsIdc = [];\n      var atomCount = 0;\n      component.forEachAtom(function (atom) {\n        if (!self._checkAtom(atom, mask)) {\n          return;\n        }\n        atomsIdc[atomCount++] = atom.index;\n      });\n      if (atomCount === 0) {\n        return;\n      }\n      var atomsGroup = new AtomsGroup(geoParams, {\n        atoms: atoms,\n        chunks: atomsIdc,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      atomsGroup._component = component;\n      self.add(atomsGroup);\n    });\n    return _this;\n  }\n  _createClass(AtomsProcessor, [{\n    key: \"_checkAtom\",\n    value: function _checkAtom(atom, mask) {\n      return atom.mask & mask;\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return AtomsProcessor;\n}(RCGroup);\n\nfunction _createSuper$15(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$15(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$15() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OrphanAtomsProcessor = function (_AtomsProcessor) {\n  _inherits(OrphanAtomsProcessor, _AtomsProcessor);\n  var _super = _createSuper$15(OrphanAtomsProcessor);\n  function OrphanAtomsProcessor() {\n    _classCallCheck(this, OrphanAtomsProcessor);\n    return _super.apply(this, arguments);\n  }\n  _createClass(OrphanAtomsProcessor, [{\n    key: \"_checkAtom\",\n    value: function _checkAtom(atom, mask) {\n      if (!(atom.mask & mask)) {\n        return false;\n      }\n      var bonds = atom.bonds;\n      for (var i = 0, n = bonds.length; i < n; ++i) {\n        if (bonds[i]._left.mask & mask && bonds[i]._right.mask & mask) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }]);\n  return OrphanAtomsProcessor;\n}(AtomsProcessor);\n\nfunction _createSuper$14(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$14(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$14() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResiduesProcessor = function (_RCGroup) {\n  _inherits(ResiduesProcessor, _RCGroup);\n  var _super = _createSuper$14(ResiduesProcessor);\n  function ResiduesProcessor(ResidueGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, ResiduesProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    var residues = complex.getResidues();\n    var transforms = complex.getTransforms();\n    complex.forEachComponent(function (component) {\n      var chunksCount = 0;\n      var resIdc = [];\n      component.forEachResidue(function (residue) {\n        if (self._checkResidue(residue, mask)) {\n          resIdc[chunksCount++] = residue._index;\n        }\n      });\n      if (chunksCount === 0) {\n        return;\n      }\n      var residuesGroup = new ResidueGroup(geoParams, {\n        residues: residues,\n        chunks: resIdc,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      residuesGroup._component = component;\n      self.add(residuesGroup);\n    });\n    return _this;\n  }\n  _createClass(ResiduesProcessor, [{\n    key: \"checkResidue\",\n    value: function checkResidue(residue, mask) {\n      return residue._mask & mask;\n    }\n  }, {\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return ResiduesProcessor;\n}(RCGroup);\n\nfunction _createSuper$13(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$13(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$13() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar NucleicProcessor = function (_ResidueProcessor) {\n  _inherits(NucleicProcessor, _ResidueProcessor);\n  var _super = _createSuper$13(NucleicProcessor);\n  function NucleicProcessor() {\n    _classCallCheck(this, NucleicProcessor);\n    return _super.apply(this, arguments);\n  }\n  _createClass(NucleicProcessor, [{\n    key: \"_checkResidue\",\n    value: function _checkResidue(residue, mask) {\n      return mask & residue._mask && residue._cylinders !== null;\n    }\n  }]);\n  return NucleicProcessor;\n}(ResiduesProcessor);\n\nfunction _createSuper$12(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$12(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$12() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar SubseqsProcessor = function (_RCGroup) {\n  _inherits(SubseqsProcessor, _RCGroup);\n  var _super = _createSuper$12(SubseqsProcessor);\n  function SubseqsProcessor(ResidueGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, SubseqsProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    var residues = complex.getResidues();\n    var transforms = complex.getTransforms();\n    complex.forEachComponent(function (component) {\n      var subDivs = component.getMaskedSubdivSequences(mask);\n      var chunksCount = 0;\n      var resIdc = [];\n      for (var subDivI = 0, subDivN = subDivs.length; subDivI < subDivN; ++subDivI) {\n        var subs = subDivs[subDivI].arr;\n        for (var i = 0, n = subs.length; i < n; ++i) {\n          for (var j = subs[i].start, jEnd = subs[i].end; j <= jEnd; ++j) {\n            resIdc[chunksCount++] = residues[j]._index;\n          }\n        }\n      }\n      if (chunksCount === 0) {\n        return;\n      }\n      var residuesGroup = new ResidueGroup(geoParams, {\n        residues: residues,\n        chunks: resIdc,\n        subdivs: subDivs,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      residuesGroup._component = component;\n      self.add(residuesGroup);\n    });\n    return _this;\n  }\n  _createClass(SubseqsProcessor, [{\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return SubseqsProcessor;\n}(RCGroup);\n\nfunction _createSuper$11(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$11(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$11() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar BondsProcessor = function (_RCGroup) {\n  _inherits(BondsProcessor, _RCGroup);\n  var _super = _createSuper$11(BondsProcessor);\n  function BondsProcessor(BondsGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, BondsProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    var bonds = complex.getBonds();\n    var transforms = complex.getTransforms();\n    complex.forEachComponent(function (component) {\n      var bondsIdc = [];\n      var bondsCount = 0;\n      component.forEachBond(function (bond) {\n        var atom1 = bond._left;\n        var atom2 = bond._right;\n        if (!(atom1.mask & mask) || !(atom2.mask & mask)) {\n          return;\n        }\n        bondsIdc[bondsCount++] = bond._index;\n      });\n      if (bondsCount === 0) {\n        return;\n      }\n      var bondsGroup = new BondsGroup(geoParams, {\n        bonds: bonds,\n        chunks: bondsIdc,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      bondsGroup._component = component;\n      self.add(bondsGroup);\n    });\n    return _this;\n  }\n  _createClass(BondsProcessor, [{\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return BondsProcessor;\n}(RCGroup);\n\nfunction _createSuper$10(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$10(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$10() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AromaticProcessor = function (_RCGroup) {\n  _inherits(AromaticProcessor, _RCGroup);\n  var _super = _createSuper$10(AromaticProcessor);\n  function AromaticProcessor(AromaticGroup, geoParams, complex, colorer, mode, polyComplexity, mask, material) {\n    var _this;\n    _classCallCheck(this, AromaticProcessor);\n    _this = _super.call(this);\n    var self = _assertThisInitialized(_this);\n    _this._complex = complex;\n    var atoms = complex.getAtoms();\n    var transforms = complex.getTransforms();\n    if (!mode.showAromaticLoops()) {\n      return _possibleConstructorReturn(_this);\n    }\n    complex.forEachComponent(function (component) {\n      var atomsIdc = [];\n      var chunksCount = 0;\n      var cycles = [];\n      var cycleIdx = 0;\n      component.forEachCycle(function (cycle) {\n        var cycAtoms = cycle.atoms;\n        var perCycle = 0;\n        for (var i = 0, n = cycAtoms.length; i < n; ++i) {\n          if ((cycAtoms[i].mask & mask) !== 0) {\n            ++perCycle;\n            atomsIdc[chunksCount++] = cycAtoms[i].index;\n          }\n        }\n        if (perCycle > 0) {\n          cycles[cycleIdx++] = cycle;\n        }\n      });\n      var atomsGroup = new AromaticGroup(geoParams, {\n        cycles: cycles,\n        atoms: atoms,\n        chunks: atomsIdc,\n        parent: complex\n      }, colorer, mode, transforms, polyComplexity, material);\n      atomsGroup._component = component;\n      self.add(atomsGroup);\n    });\n    return _this;\n  }\n  _createClass(AromaticProcessor, [{\n    key: \"getSubset\",\n    value: function getSubset(mask, innerOnly) {\n      var totalSubset = [];\n      var children = this.children;\n      var meshIdx = 0;\n      for (var i = 0, n = children.length; i < n; ++i) {\n        if (children[i].getSubset) {\n          var chSubset = children[i].getSubset(mask, innerOnly);\n          for (var j = 0, m = chSubset.length; j < m; ++j) {\n            var subsetEl = chSubset[j];\n            subsetEl._component = children[i]._component;\n            totalSubset[meshIdx++] = subsetEl;\n          }\n        }\n      }\n      return totalSubset;\n    }\n  }]);\n  return AromaticProcessor;\n}(RCGroup);\n\nvar processors = {\n  Atoms: AtomsProcessor,\n  OrphanAtoms: OrphanAtomsProcessor,\n  Residues: ResiduesProcessor,\n  Nucleic: NucleicProcessor,\n  Subseqs: SubseqsProcessor,\n  Bonds: BondsProcessor,\n  Aromatic: AromaticProcessor\n};\n\nfunction _bakeGroup(triplet, Processor, Group) {\n  return function (complex, colorer, mode, polyComplexity, mask, material) {\n    return new Processor(Group, triplet, complex, colorer, mode, polyComplexity, mask, material);\n  };\n}\nvar GroupsFactory = function () {\n  function GroupsFactory() {\n    _classCallCheck(this, GroupsFactory);\n  }\n  _createClass(GroupsFactory, null, [{\n    key: \"AtomsSpheres\",\n    value: function AtomsSpheres(caps, settings) {\n      var gfxTriplet = MeshCreator.createSpheres(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSphereGroup);\n    }\n  }, {\n    key: \"OrphanedAtomsCrosses\",\n    value: function OrphanedAtomsCrosses(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createCrosses(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.OrphanAtoms, groups.AtomsSphereGroup);\n    }\n  }, {\n    key: \"BondsCylinders\",\n    value: function BondsCylinders(caps, settings) {\n      var gfxTriplet = MeshCreator.create2CCylinders(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsCylinderGroup);\n    }\n  }, {\n    key: \"BondsLines\",\n    value: function BondsLines(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.create2CLines(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Bonds, groups.BondsLinesGroup);\n    }\n  }, {\n    key: \"CartoonChains\",\n    value: function CartoonChains(caps, settings) {\n      var gfxTriplet = MeshCreator.createExtrudedChains(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Subseqs, groups.ResiduesSubseqGroup);\n    }\n  }, {\n    key: \"TraceChains\",\n    value: function TraceChains(caps, settings) {\n      var gfxTriplet = MeshCreator.create2CClosedCylinders(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Subseqs, groups.ResiduesTraceGroup);\n    }\n  }, {\n    key: \"NucleicSpheres\",\n    value: function NucleicSpheres(caps, settings) {\n      var gfxTriplet = MeshCreator.createSpheres(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Nucleic, groups.NucleicSpheresGroup);\n    }\n  }, {\n    key: \"NucleicCylinders\",\n    value: function NucleicCylinders(caps, settings) {\n      var gfxTriplet = MeshCreator.create2CCylinders(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Nucleic, groups.NucleicCylindersGroup);\n    }\n  }, {\n    key: \"ALoopsTorus\",\n    value: function ALoopsTorus(caps, settings) {\n      var gfxTriplet = MeshCreator.createExtrudedChains(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Aromatic, groups.AromaticTorusGroup);\n    }\n  }, {\n    key: \"ALoopsLines\",\n    value: function ALoopsLines(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createChunkedLines(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Aromatic, groups.AromaticLinesGroup);\n    }\n  }, {\n    key: \"QuickSurfGeo\",\n    value: function QuickSurfGeo(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createQuickSurface(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup);\n    }\n  }, {\n    key: \"ContactSurfaceGeo\",\n    value: function ContactSurfaceGeo(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createContactSurface(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSurfaceGroup);\n    }\n  }, {\n    key: \"SASSESSurfaceGeo\",\n    value: function SASSESSurfaceGeo(caps, settings, renderParams) {\n      var gfxTriplet = MeshCreator.createSASSES(caps, settings, renderParams);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsSASSESGroupStub);\n    }\n  }, {\n    key: \"TextLabelsGeo\",\n    value: function TextLabelsGeo(caps, settings) {\n      var gfxTriplet = MeshCreator.createLabels(caps, settings);\n      return _bakeGroup(gfxTriplet, processors.Atoms, groups.AtomsTextGroup);\n    }\n  }]);\n  return GroupsFactory;\n}();\n\nvar Mode = function () {\n  function Mode(opts) {\n    _classCallCheck(this, Mode);\n    if (this.constructor === Mode) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    this.opts = merge(utils.deriveDeep(this.settings.now.modes[this.id], true), opts);\n  }\n  _createClass(Mode, [{\n    key: \"identify\",\n    value: function identify() {\n      var diff = utils.objectsDiff(this.opts, this.settings.now.modes[this.id]);\n      if (!isEmpty(diff)) {\n        return [this.id, diff];\n      }\n      return this.id;\n    }\n  }, {\n    key: \"buildGeometry\",\n    value: function buildGeometry(complex, colorer, mask, material) {\n      var polyComplexity = this.opts.polyComplexity ? this.opts.polyComplexity[this.settings.now.resolution] : 0;\n      var groupList = this.depGroups;\n      var groupCount = groupList.length;\n      var group = new gfxutils.RCGroup();\n      var self = this;\n      for (var i = 0; i < groupCount; ++i) {\n        var currGroup = groupList[i];\n        var renderParams = {};\n        if (isArray(currGroup)) {\n          renderParams = currGroup[1].call(this);\n          var _currGroup = currGroup;\n          var _currGroup2 = _slicedToArray(_currGroup, 1);\n          currGroup = _currGroup2[0];\n        }\n        var Group = GroupsFactory[currGroup](null, this.settings, renderParams);\n        var newGroup = new Group(complex, colorer, self, polyComplexity, mask, material);\n        if (newGroup.children.length > 0) {\n          group.add(newGroup);\n        }\n      }\n      return group;\n    }\n  }]);\n  return Mode;\n}();\nmakeContextDependent(Mode.prototype);\nMode.prototype.id = '__';\nMode.prototype.depGroups = [];\n\nfunction _createSuper$$(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$$(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$$() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction getRenderParams$1() {\n  return {\n    lineWidth: this.opts.lineWidth\n  };\n}\nvar LinesMode = function (_Mode) {\n  _inherits(LinesMode, _Mode);\n  var _super = _createSuper$$(LinesMode);\n  function LinesMode(opts) {\n    var _this;\n    _classCallCheck(this, LinesMode);\n    _this = _super.call(this, opts);\n    _this.depGroups = _this.depGroups.slice(0);\n    var groups = _this.depGroups;\n    for (var i = 0, n = groups.length; i < n; ++i) {\n      groups[i] = [groups[i], getRenderParams$1];\n    }\n    return _this;\n  }\n  _createClass(LinesMode, [{\n    key: \"drawMultiorderBonds\",\n    value: function drawMultiorderBonds() {\n      return this.opts.multibond;\n    }\n  }, {\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius() {\n      return this.opts.atom;\n    }\n  }, {\n    key: \"getAromaticOffset\",\n    value: function getAromaticOffset() {\n      return this.opts.offsarom;\n    }\n  }, {\n    key: \"getAromaticArcChunks\",\n    value: function getAromaticArcChunks() {\n      return this.opts.chunkarom;\n    }\n  }, {\n    key: \"showAromaticLoops\",\n    value: function showAromaticLoops() {\n      return this.opts.showarom;\n    }\n  }]);\n  return LinesMode;\n}(Mode);\n_defineProperty(LinesMode, \"id\", 'LN');\nLinesMode.prototype.id = 'LN';\nLinesMode.prototype.name = 'Lines';\nLinesMode.prototype.shortName = 'Lines';\nLinesMode.prototype.depGroups = ['ALoopsLines', 'BondsLines', 'OrphanedAtomsCrosses'];\n\nfunction _createSuper$_(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$_(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$_() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LicoriceMode = function (_Mode) {\n  _inherits(LicoriceMode, _Mode);\n  var _super = _createSuper$_(LicoriceMode);\n  function LicoriceMode() {\n    _classCallCheck(this, LicoriceMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(LicoriceMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(_atom) {\n      return this.opts.bond;\n    }\n  }, {\n    key: \"calcStickRadius\",\n    value: function calcStickRadius() {\n      return this.opts.bond;\n    }\n  }, {\n    key: \"calcSpaceFraction\",\n    value: function calcSpaceFraction() {\n      return this.opts.space;\n    }\n  }, {\n    key: \"getAromRadius\",\n    value: function getAromRadius() {\n      return this.opts.aromrad;\n    }\n  }, {\n    key: \"showAromaticLoops\",\n    value: function showAromaticLoops() {\n      return this.opts.showarom;\n    }\n  }, {\n    key: \"drawMultiorderBonds\",\n    value: function drawMultiorderBonds() {\n      return this.opts.multibond;\n    }\n  }]);\n  return LicoriceMode;\n}(Mode);\n_defineProperty(LicoriceMode, \"id\", 'LC');\nLicoriceMode.prototype.id = 'LC';\nLicoriceMode.prototype.name = 'Licorice';\nLicoriceMode.prototype.shortName = 'Licorice';\nLicoriceMode.prototype.depGroups = ['AtomsSpheres', 'BondsCylinders', 'ALoopsTorus'];\n\nfunction _createSuper$Z(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$Z(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$Z() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar BallsAndSticksMode = function (_Mode) {\n  _inherits(BallsAndSticksMode, _Mode);\n  var _super = _createSuper$Z(BallsAndSticksMode);\n  function BallsAndSticksMode() {\n    _classCallCheck(this, BallsAndSticksMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(BallsAndSticksMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(atom) {\n      return atom.element.radius * this.opts.atom;\n    }\n  }, {\n    key: \"calcStickRadius\",\n    value: function calcStickRadius() {\n      return this.opts.bond;\n    }\n  }, {\n    key: \"getAromRadius\",\n    value: function getAromRadius() {\n      return this.opts.aromrad;\n    }\n  }, {\n    key: \"showAromaticLoops\",\n    value: function showAromaticLoops() {\n      return this.opts.showarom;\n    }\n  }, {\n    key: \"calcSpaceFraction\",\n    value: function calcSpaceFraction() {\n      return this.opts.space;\n    }\n  }, {\n    key: \"drawMultiorderBonds\",\n    value: function drawMultiorderBonds() {\n      return this.opts.multibond;\n    }\n  }]);\n  return BallsAndSticksMode;\n}(Mode);\n_defineProperty(BallsAndSticksMode, \"id\", 'BS');\nBallsAndSticksMode.prototype.id = 'BS';\nBallsAndSticksMode.prototype.name = 'Balls and Sticks';\nBallsAndSticksMode.prototype.shortName = 'Balls';\nBallsAndSticksMode.prototype.depGroups = ['AtomsSpheres', 'BondsCylinders', 'ALoopsTorus'];\n\nfunction _createSuper$Y(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$Y(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$Y() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VanDerWaalsMode = function (_Mode) {\n  _inherits(VanDerWaalsMode, _Mode);\n  var _super = _createSuper$Y(VanDerWaalsMode);\n  function VanDerWaalsMode() {\n    _classCallCheck(this, VanDerWaalsMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(VanDerWaalsMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(atom) {\n      return atom.element.radius;\n    }\n  }]);\n  return VanDerWaalsMode;\n}(Mode);\n_defineProperty(VanDerWaalsMode, \"id\", 'VW');\nVanDerWaalsMode.prototype.id = 'VW';\nVanDerWaalsMode.prototype.name = 'Van der Waals';\nVanDerWaalsMode.prototype.shortName = 'VDW';\nVanDerWaalsMode.prototype.depGroups = ['AtomsSpheres'];\n\nfunction _createSuper$X(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$X(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$X() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TraceMode = function (_Mode) {\n  _inherits(TraceMode, _Mode);\n  var _super = _createSuper$X(TraceMode);\n  function TraceMode() {\n    _classCallCheck(this, TraceMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TraceMode, [{\n    key: \"calcStickRadius\",\n    value: function calcStickRadius() {\n      return this.opts.radius;\n    }\n  }]);\n  return TraceMode;\n}(Mode);\n_defineProperty(TraceMode, \"id\", 'TR');\nTraceMode.prototype.id = 'TR';\nTraceMode.prototype.name = 'Trace';\nTraceMode.prototype.shortName = 'Trace';\nTraceMode.prototype.depGroups = ['TraceChains'];\n\nfunction _createSuper$W(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$W(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$W() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TubeMode = function (_Mode) {\n  _inherits(TubeMode, _Mode);\n  var _super = _createSuper$W(TubeMode);\n  function TubeMode() {\n    _classCallCheck(this, TubeMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TubeMode, [{\n    key: \"getResidueRadius\",\n    value: function getResidueRadius(_residue) {\n      return this.TUBE_RADIUS;\n    }\n  }, {\n    key: \"getHeightSegmentsRatio\",\n    value: function getHeightSegmentsRatio() {\n      return this.opts.heightSegmentsRatio;\n    }\n  }, {\n    key: \"getTension\",\n    value: function getTension() {\n      return this.opts.tension;\n    }\n  }, {\n    key: \"buildGeometry\",\n    value: function buildGeometry(complex, colorer, mask, material) {\n      var rad = this.opts.radius;\n      this.TUBE_RADIUS = new Vector2(rad, rad);\n      return Mode.prototype.buildGeometry.call(this, complex, colorer, mask, material);\n    }\n  }]);\n  return TubeMode;\n}(Mode);\n_defineProperty(TubeMode, \"id\", 'TU');\nTubeMode.prototype.id = 'TU';\nTubeMode.prototype.name = 'Tube';\nTubeMode.prototype.shortName = 'Tube';\nTubeMode.prototype.depGroups = ['CartoonChains'];\n\nfunction _createSuper$V(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$V(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$V() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar CartoonMode = function (_Mode) {\n  _inherits(CartoonMode, _Mode);\n  var _super = _createSuper$V(CartoonMode);\n  function CartoonMode(opts) {\n    var _this;\n    _classCallCheck(this, CartoonMode);\n    _this = _super.call(this, opts);\n    _this.secCache = {};\n    return _this;\n  }\n  _createClass(CartoonMode, [{\n    key: \"getResidueStartRadius\",\n    value: function getResidueStartRadius(residue) {\n      var second = residue.getSecondary();\n      if (!second || !second.generic) {\n        return this.TUBE_RADIUS;\n      }\n      var secOpts = this.secCache[second.generic];\n      if (!secOpts) {\n        return this.TUBE_RADIUS;\n      }\n      if (second.term === residue) {\n        return secOpts.start;\n      }\n      return secOpts.center;\n    }\n  }, {\n    key: \"getResidueEndRadius\",\n    value: function getResidueEndRadius(residue) {\n      var second = residue.getSecondary();\n      if (second === null || !second.generic) {\n        return this.TUBE_RADIUS;\n      }\n      var secOpts = this.secCache[second.generic];\n      if (!secOpts) {\n        return this.TUBE_RADIUS;\n      }\n      if (second.term === residue) {\n        return this.ARROW_END;\n      }\n      return secOpts.center;\n    }\n  }, {\n    key: \"getResidueRadius\",\n    value: function getResidueRadius(residue, val) {\n      var startRad = this.getResidueStartRadius(residue);\n      if (val === 0) {\n        return startRad;\n      }\n      var endRad = this.getResidueEndRadius(residue);\n      if (val === 2) {\n        return endRad;\n      }\n      return startRad.clone().lerp(endRad, val / 2.0);\n    }\n  }, {\n    key: \"calcStickRadius\",\n    value: function calcStickRadius(_res) {\n      return this.opts.radius;\n    }\n  }, {\n    key: \"getHeightSegmentsRatio\",\n    value: function getHeightSegmentsRatio() {\n      return this.opts.heightSegmentsRatio;\n    }\n  }, {\n    key: \"getTension\",\n    value: function getTension() {\n      return this.opts.tension;\n    }\n  }, {\n    key: \"buildGeometry\",\n    value: function buildGeometry(complex, colorer, mask, material) {\n      var tubeRad = this.opts.radius;\n      var secHeight = this.opts.depth;\n      this.TUBE_RADIUS = new Vector2(tubeRad, tubeRad);\n      this.ARROW_END = new Vector2(secHeight, tubeRad);\n      var secCache = {};\n      var secData = this.opts.ss;\n      for (var prop in secData) {\n        secCache[prop] = {\n          center: new Vector2(secHeight, secData[prop].width),\n          start: new Vector2(secHeight, secData[prop].arrow)\n        };\n      }\n      this.secCache = secCache;\n      return Mode.prototype.buildGeometry.call(this, complex, colorer, mask, material);\n    }\n  }]);\n  return CartoonMode;\n}(Mode);\n_defineProperty(CartoonMode, \"id\", 'CA');\nCartoonMode.prototype.id = 'CA';\nCartoonMode.prototype.name = 'Cartoon';\nCartoonMode.prototype.shortName = 'Cartoon';\nCartoonMode.prototype.depGroups = ['CartoonChains', 'NucleicSpheres', 'NucleicCylinders'];\n\nfunction _createSuper$U(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$U(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$U() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar selectors$4 = chem.selectors;\nfunction getRenderParams() {\n  return {\n    wireframe: this.opts.wireframe,\n    zClip: this.opts.zClip\n  };\n}\nvar SurfaceMode = function (_Mode) {\n  _inherits(SurfaceMode, _Mode);\n  var _super = _createSuper$U(SurfaceMode);\n  function SurfaceMode(opts) {\n    var _this;\n    _classCallCheck(this, SurfaceMode);\n    _this = _super.call(this, opts);\n    _this.depGroups = _this.depGroups.slice(0);\n    var surfaces = _this.surfaceNames;\n    var groups = _this.depGroups;\n    for (var i = 0, n = surfaces.length; i < n; ++i) {\n      groups[groups.length] = [surfaces[i], getRenderParams];\n    }\n    return _this;\n  }\n  _createClass(SurfaceMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(atom) {\n      return atom.element.radius;\n    }\n  }, {\n    key: \"getVisibilitySelector\",\n    value: function getVisibilitySelector() {\n      var visibilitySelector = null;\n      if (this.opts.subset !== '') {\n        var res = selectors$4.parse(this.opts.subset);\n        if (!res.error) {\n          visibilitySelector = res.selector;\n        }\n      }\n      return visibilitySelector;\n    }\n  }]);\n  return SurfaceMode;\n}(Mode);\nSurfaceMode.prototype.isSurface = true;\nSurfaceMode.prototype.surfaceNames = [];\n\nfunction _createSuper$T(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$T(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$T() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar QuickSurfaceMode = function (_SurfaceMode) {\n  _inherits(QuickSurfaceMode, _SurfaceMode);\n  var _super = _createSuper$T(QuickSurfaceMode);\n  function QuickSurfaceMode() {\n    _classCallCheck(this, QuickSurfaceMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(QuickSurfaceMode, [{\n    key: \"getSurfaceOpts\",\n    value: function getSurfaceOpts() {\n      return {\n        useBeads: false,\n        isoValue: this.opts.isoValue,\n        gaussLim: this.opts.gaussLim[this.settings.now.resolution],\n        radScale: this.opts.scale,\n        gridSpacing: this.opts.gridSpacing[this.settings.now.resolution],\n        zClip: this.opts.zClip,\n        visibilitySelector: this.getVisibilitySelector()\n      };\n    }\n  }]);\n  return QuickSurfaceMode;\n}(SurfaceMode);\n_defineProperty(QuickSurfaceMode, \"id\", 'QS');\nQuickSurfaceMode.prototype.id = 'QS';\nQuickSurfaceMode.prototype.name = 'Quick Surface';\nQuickSurfaceMode.prototype.shortName = 'Quick Surf';\nQuickSurfaceMode.prototype.surfaceNames = ['QuickSurfGeo'];\n\nfunction _createSuper$S(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$S(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$S() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar IsoSurfaceMode = function (_SurfaceMode) {\n  _inherits(IsoSurfaceMode, _SurfaceMode);\n  var _super = _createSuper$S(IsoSurfaceMode);\n  function IsoSurfaceMode(excludeProbe, opts) {\n    var _this;\n    _classCallCheck(this, IsoSurfaceMode);\n    _this = _super.call(this, opts);\n    _this._excludeProbe = excludeProbe;\n    return _this;\n  }\n  _createClass(IsoSurfaceMode, [{\n    key: \"calcAtomRadius\",\n    value: function calcAtomRadius(atom) {\n      return atom.element.radius;\n    }\n  }, {\n    key: \"getSurfaceOpts\",\n    value: function getSurfaceOpts() {\n      return {\n        gridSpacing: this.opts.polyComplexity[this.settings.now.resolution],\n        radScale: this._radScale,\n        zClip: this.opts.zClip,\n        visibilitySelector: this.getVisibilitySelector(),\n        probeRadius: this.opts.probeRadius,\n        excludeProbe: this._excludeProbe\n      };\n    }\n  }]);\n  return IsoSurfaceMode;\n}(SurfaceMode);\nIsoSurfaceMode.prototype.id = 'SU';\nIsoSurfaceMode.prototype.name = 'Surface';\nIsoSurfaceMode.prototype.shortName = 'Surface';\nIsoSurfaceMode.prototype.surfaceNames = ['SASSESSurfaceGeo'];\nIsoSurfaceMode.prototype._radScale = 1;\nIsoSurfaceMode.prototype._excludeProbe = false;\n\nfunction _createSuper$R(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$R(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$R() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar IsoSurfaceSASMode = function (_IsoSurfaceMode) {\n  _inherits(IsoSurfaceSASMode, _IsoSurfaceMode);\n  var _super = _createSuper$R(IsoSurfaceSASMode);\n  function IsoSurfaceSASMode(opts) {\n    _classCallCheck(this, IsoSurfaceSASMode);\n    return _super.call(this, false, opts);\n  }\n  return _createClass(IsoSurfaceSASMode);\n}(IsoSurfaceMode);\n_defineProperty(IsoSurfaceSASMode, \"id\", 'SA');\nIsoSurfaceSASMode.prototype.id = 'SA';\nIsoSurfaceSASMode.prototype.name = 'Solvent Accessible Surface';\nIsoSurfaceSASMode.prototype.shortName = 'SAS';\n\nfunction _createSuper$Q(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$Q(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$Q() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar IsoSurfaceSESMode = function (_IsoSurfaceMode) {\n  _inherits(IsoSurfaceSESMode, _IsoSurfaceMode);\n  var _super = _createSuper$Q(IsoSurfaceSESMode);\n  function IsoSurfaceSESMode(opts) {\n    _classCallCheck(this, IsoSurfaceSESMode);\n    return _super.call(this, true, opts);\n  }\n  return _createClass(IsoSurfaceSESMode);\n}(IsoSurfaceMode);\n_defineProperty(IsoSurfaceSESMode, \"id\", 'SE');\nIsoSurfaceSESMode.prototype.id = 'SE';\nIsoSurfaceSESMode.prototype.name = 'Solvent Excluded Surface';\nIsoSurfaceSESMode.prototype.shortName = 'SES';\n\nfunction _createSuper$P(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$P(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$P() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ContactSurfaceMode = function (_SurfaceMode) {\n  _inherits(ContactSurfaceMode, _SurfaceMode);\n  var _super = _createSuper$P(ContactSurfaceMode);\n  function ContactSurfaceMode() {\n    _classCallCheck(this, ContactSurfaceMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ContactSurfaceMode, [{\n    key: \"getSurfaceOpts\",\n    value: function getSurfaceOpts() {\n      return {\n        probeRadius: this.opts.probeRadius,\n        radScale: this.opts.polyComplexity[this.settings.now.resolution],\n        scaleFactor: this.opts.polyComplexity[this.settings.now.resolution],\n        gridSpacing: 1.0 / this.opts.polyComplexity[this.settings.now.resolution],\n        isoValue: this.opts.isoValue,\n        probePositions: this.opts.probePositions,\n        zClip: this.opts.zClip,\n        visibilitySelector: this.getVisibilitySelector()\n      };\n    }\n  }]);\n  return ContactSurfaceMode;\n}(SurfaceMode);\n_defineProperty(ContactSurfaceMode, \"id\", 'CS');\nContactSurfaceMode.prototype.id = 'CS';\nContactSurfaceMode.prototype.name = 'Contact Surface';\nContactSurfaceMode.prototype.shortName = 'Contact Surf';\nContactSurfaceMode.prototype.isSurface = true;\nContactSurfaceMode.prototype.surfaceNames = ['ContactSurfaceGeo'];\n\nfunction _createSuper$O(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$O(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$O() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TextMode = function (_Mode) {\n  _inherits(TextMode, _Mode);\n  var _super = _createSuper$O(TextMode);\n  function TextMode() {\n    _classCallCheck(this, TextMode);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TextMode, [{\n    key: \"getTemplateOptions\",\n    value: function getTemplateOptions() {\n      return this.opts.template;\n    }\n  }, {\n    key: \"getLabelOpts\",\n    value: function getLabelOpts() {\n      return merge(this.opts, {\n        colors: true,\n        adjustColor: true,\n        transparent: true\n      });\n    }\n  }]);\n  return TextMode;\n}(Mode);\n_defineProperty(TextMode, \"id\", 'TX');\nTextMode.prototype.id = 'TX';\nTextMode.prototype.name = 'Text mode';\nTextMode.prototype.shortName = 'Text';\nTextMode.prototype.depGroups = ['TextLabelsGeo'];\n\nvar modes$1 = new EntityList([LinesMode, LicoriceMode, BallsAndSticksMode, VanDerWaalsMode, TraceMode, TubeMode, CartoonMode, QuickSurfaceMode, IsoSurfaceSASMode, IsoSurfaceSESMode, ContactSurfaceMode, TextMode]);\n\nfunction clamp(x, a, b) {\n  return x <= b ? x < 0 ? 0 : x : b;\n}\nfunction lerpColor(c1, c2, alpha) {\n  var beta = 1 - alpha;\n  var r1 = c1 >> 16 & 0xff;\n  var g1 = c1 >> 8 & 0xff;\n  var b1 = c1 & 0xff;\n  var r2 = c2 >> 16 & 0xff;\n  var g2 = c2 >> 8 & 0xff;\n  var b2 = c2 & 0xff;\n  var r = beta * r1 + alpha * r2;\n  var g = beta * g1 + alpha * g2;\n  var b = beta * b1 + alpha * b2;\n  return r << 16 | g << 8 | b;\n}\nvar Palette = function () {\n  function Palette(name, id) {\n    _classCallCheck(this, Palette);\n    this.name = name || 'Custom';\n    this.id = id || 'CP';\n  }\n  _createClass(Palette, [{\n    key: \"getElementColor\",\n    value: function getElementColor(name) {\n      var asIs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var color = this.elementColors[name];\n      return color === undefined && !asIs ? this.defaultElementColor : color;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(name) {\n      var asIs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var color = this.residueColors[name];\n      return color === undefined && !asIs ? this.defaultResidueColor : color;\n    }\n  }, {\n    key: \"getChainColor\",\n    value: function getChainColor(name) {\n      var chain = name.charCodeAt(0);\n      chain = ((chain < 0 ? 0 : chain >= 256 ? chain - 256 : chain) & 0x1f) % this.chainColors.length;\n      return this.chainColors[chain];\n    }\n  }, {\n    key: \"getSecondaryColor\",\n    value: function getSecondaryColor(type) {\n      var asIs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var color = this.secondaryColors[type];\n      return color === undefined && !asIs ? this.defaultSecondaryColor : color;\n    }\n  }, {\n    key: \"getSequentialColor\",\n    value: function getSequentialColor(index) {\n      var colors = this.colors;\n      var len = colors.length;\n      return index < 0 ? colors[index % len + len] : colors[index % len];\n    }\n  }, {\n    key: \"getGradientColor\",\n    value: function getGradientColor(value, gradientName) {\n      var gradient = this.gradients[gradientName];\n      if (!gradient) {\n        return this.defaultNamedColor;\n      }\n      var count = gradient.length;\n      var index = value * (count - 1);\n      var left = Math.floor(index);\n      var right = clamp(left + 1, 0, count - 1);\n      left = clamp(left, 0, count - 1);\n      return lerpColor(gradient[left], gradient[right], index - left);\n    }\n  }, {\n    key: \"getNamedColor\",\n    value: function getNamedColor(name) {\n      var asIs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var color = this.namedColors[name];\n      return color === undefined && !asIs ? this.defaultNamedColor : color;\n    }\n  }]);\n  return Palette;\n}();\nassign(Palette.prototype, {\n  colors: [0xffffff, 0xff0000, 0x00ff00, 0x0000ff, 0x808080],\n  minRangeColor: 0x000000,\n  midRangeColor: 0x7f7f7f,\n  maxRangeColor: 0xffffff,\n  defaultElementColor: 0xffffff,\n  elementColors: {},\n  defaultResidueColor: 0xffffff,\n  residueColors: {},\n  chainColors: [0xffffff],\n  defaultSecondaryColor: 0xffffff,\n  secondaryColors: {},\n  defaultGradientColor: 0x000000,\n  defaultNamedColor: 0xffffff,\n  namedColorsArray: [\n  ['indianred', 0xcd5c5c], ['lightcoral', 0xf08080], ['salmon', 0xfa8072], ['darksalmon', 0xe9967a], ['lightsalmon', 0xffa07a], ['crimson', 0xdc143c], ['red', 0xff0000], ['firebrick', 0xb22222], ['darkred', 0x8b0000], ['pink', 0xffc0cb], ['lightpink', 0xffb6c1], ['hotpink', 0xff69b4], ['deeppink', 0xff1493], ['mediumvioletred', 0xc71585], ['palevioletred', 0xdb7093], ['coral', 0xff7f50], ['tomato', 0xff6347], ['orangered', 0xff4500], ['darkorange', 0xff8c00], ['orange', 0xffa500], ['gold', 0xffd700], ['yellow', 0xffff00], ['lightyellow', 0xffffe0], ['lemonchiffon', 0xfffacd], ['lightgoldenrodyellow', 0xfafad2], ['papayawhip', 0xffefd5], ['moccasin', 0xffe4b5], ['peachpuff', 0xffdab9], ['palegoldenrod', 0xeee8aa], ['khaki', 0xf0e68c], ['darkkhaki', 0xbdb76b], ['lavender', 0xe6e6fa], ['thistle', 0xd8bfd8], ['plum', 0xdda0dd], ['violet', 0xee82ee], ['orchid', 0xda70d6], ['fuchsia', 0xff00ff], ['magenta', 0xff00ff], ['mediumorchid', 0xba55d3], ['mediumpurple', 0x9370db], ['rebeccapurple', 0x663399], ['blueviolet', 0x8a2be2], ['darkviolet', 0x9400d3], ['darkorchid', 0x9932cc], ['darkmagenta', 0x8b008b], ['purple', 0x800080], ['indigo', 0x4b0082], ['slateblue', 0x6a5acd], ['mediumslateblue', 0x7b68ee], ['darkslateblue', 0x483d8b], ['greenyellow', 0xadff2f], ['chartreuse', 0x7fff00], ['lawngreen', 0x7cfc00], ['lime', 0x00ff00], ['limegreen', 0x32cd32], ['palegreen', 0x98fb98], ['lightgreen', 0x90ee90], ['mediumspringgreen', 0x00fa9a], ['springgreen', 0x00ff7f], ['mediumseagreen', 0x3cb371], ['seagreen', 0x2e8b57], ['forestgreen', 0x228b22], ['green', 0x008000], ['darkgreen', 0x006400], ['yellowgreen', 0x9acd32], ['olivedrab', 0x6b8e23], ['olive', 0x808000], ['darkolivegreen', 0x556b2f], ['mediumaquamarine', 0x66cdaa], ['darkseagreen', 0x8fbc8f], ['lightseagreen', 0x20b2aa], ['darkcyan', 0x008b8b], ['teal', 0x008080], ['aqua', 0x00ffff], ['cyan', 0x00ffff], ['lightcyan', 0xe0ffff], ['paleturquoise', 0xafeeee], ['aquamarine', 0x7fffd4], ['turquoise', 0x40e0d0], ['mediumturquoise', 0x48d1cc], ['darkturquoise', 0x00ced1], ['cadetblue', 0x5f9ea0], ['steelblue', 0x4682b4], ['lightsteelblue', 0xb0c4de], ['powderblue', 0xb0e0e6], ['lightblue', 0xadd8e6], ['skyblue', 0x87ceeb], ['lightskyblue', 0x87cefa], ['deepskyblue', 0x00bfff], ['dodgerblue', 0x1e90ff], ['cornflowerblue', 0x6495ed], ['royalblue', 0x4169e1], ['blue', 0x0000ff], ['mediumblue', 0x0000cd], ['darkblue', 0x00008b], ['navy', 0x000080], ['midnightblue', 0x191970], ['cornsilk', 0xfff8dc], ['blanchedalmond', 0xffebcd], ['bisque', 0xffe4c4], ['navajowhite', 0xffdead], ['wheat', 0xf5deb3], ['burlywood', 0xdeb887], ['tan', 0xd2b48c], ['rosybrown', 0xbc8f8f], ['sandybrown', 0xf4a460], ['goldenrod', 0xdaa520], ['darkgoldenrod', 0xb8860b], ['peru', 0xcd853f], ['chocolate', 0xd2691e], ['saddlebrown', 0x8b4513], ['sienna', 0xa0522d], ['brown', 0xa52a2a], ['maroon', 0x800000], ['white', 0xffffff], ['snow', 0xfffafa], ['honeydew', 0xf0fff0], ['mintcream', 0xf5fffa], ['azure', 0xf0ffff], ['aliceblue', 0xf0f8ff], ['ghostwhite', 0xf8f8ff], ['whitesmoke', 0xf5f5f5], ['seashell', 0xfff5ee], ['beige', 0xf5f5dc], ['oldlace', 0xfdf5e6], ['floralwhite', 0xfffaf0], ['ivory', 0xfffff0], ['antiquewhite', 0xfaebd7], ['linen', 0xfaf0e6], ['lavenderblush', 0xfff0f5], ['mistyrose', 0xffe4e1], ['gainsboro', 0xdcdcdc], ['lightgray', 0xd3d3d3], ['silver', 0xc0c0c0], ['darkgray', 0xa9a9a9], ['gray', 0x808080], ['dimgray', 0x696969], ['lightslategray', 0x778899], ['slategray', 0x708090], ['darkslategray', 0x2f4f4f], ['black', 0x000000]\n  ],\n  namedColors: {},\n  gradients: {\n    rainbow: [0x0000ff,\n    0x00ffff,\n    0x00ff00,\n    0xffff00,\n    0xff0000\n    ],\n    temp: [0x0000ff,\n    0x007fff,\n    0xffffff,\n    0xff7f00,\n    0xff0000\n    ],\n    hot: [0xffffff,\n    0xff7f00,\n    0xff0000\n    ],\n    cold: [0xffffff,\n    0x007fff,\n    0x0000ff\n    ],\n    'blue-red': [0x0000ff,\n    0xffffff,\n    0xff0000\n    ],\n    reds: [0xffffff,\n    0xff0000\n    ],\n    blues: [0xffffff,\n    0x0000ff\n    ]\n  }\n});\nvar _Palette$prototype = Palette.prototype,\n    namedColorsArray = _Palette$prototype.namedColorsArray,\n    namedColors = _Palette$prototype.namedColors;\nfor (var i = 0, length = namedColorsArray.length; i < length; ++i) {\n  var _namedColorsArray$i = _slicedToArray(namedColorsArray[i], 2),\n      name = _namedColorsArray$i[0],\n      value = _namedColorsArray$i[1];\n  namedColors[name] = value;\n}\n\nvar palette$2 = new Palette('CPK', 'CP');\npalette$2.elementColors = {\n  H: 0xffffff,\n  C: 0x202020,\n  N: 0x2060ff,\n  O: 0xee2010,\n  F: 0x00ff00,\n  P: 0x8020ff,\n  S: 0xffff00,\n  CL: 0x00bb00,\n  FE: 0xd0d0d0,\n  CO: 0xd0d0d0,\n  NI: 0xd0d0d0,\n  CU: 0xd0d0d0,\n  BR: 0x008800,\n  I: 0x005500\n};\n\nvar _palette$secondaryCol$1;\nvar palette$1 = new Palette('Jmol', 'JM');\npalette$1.colors = [\n0x0000ff,\n0x0055ff,\n0x00abff,\n0x00ffff,\n0x00ffab,\n0x00ff55,\n0x00ff00,\n0x55ff00,\n0xabff00,\n0xffff00,\n0xffab00,\n0xff5500,\n0xff0000,\n0xff0055,\n0xff00ab,\n0xff00ff,\n0xab00ff,\n0x5500ff\n];\npalette$1.elementColors = {\n  H: 0xffffff,\n  D: 0xffffc0,\n  T: 0xffffa0,\n  HE: 0xd9ffff,\n  LI: 0xcc80ff,\n  BE: 0xc2ff00,\n  B: 0xffb5b5,\n  C: 0x909090,\n  N: 0x3050f8,\n  O: 0xff0d0d,\n  F: 0x90e050,\n  NE: 0xb3e3f5,\n  NA: 0xab5cf2,\n  MG: 0x8aff00,\n  AL: 0xbfa6a6,\n  SI: 0xf0c8a0,\n  P: 0xff8000,\n  S: 0xffff30,\n  CL: 0x1ff01f,\n  AR: 0x80d1e3,\n  K: 0x8f40d4,\n  CA: 0x3dff00,\n  SC: 0xe6e6e6,\n  TI: 0xbfc2c7,\n  V: 0xa6a6ab,\n  CR: 0x8a99c7,\n  MN: 0x9c7ac7,\n  FE: 0xe06633,\n  CO: 0xf090a0,\n  NI: 0x50d050,\n  CU: 0xc88033,\n  ZN: 0x7d80b0,\n  GA: 0xc28f8f,\n  GE: 0x668f8f,\n  AS: 0xbd80e3,\n  SE: 0xffa100,\n  BR: 0xa62929,\n  KR: 0x5cb8d1,\n  RB: 0x702eb0,\n  SR: 0x00ff00,\n  Y: 0x94ffff,\n  ZR: 0x94e0e0,\n  NB: 0x73c2c9,\n  MO: 0x54b5b5,\n  TC: 0x3b9e9e,\n  RU: 0x248f8f,\n  RH: 0x0a7d8c,\n  PD: 0x006985,\n  AG: 0xc0c0c0,\n  CD: 0xffd98f,\n  IN: 0xa67573,\n  SN: 0x668080,\n  SB: 0x9e63b5,\n  TE: 0xd47a00,\n  I: 0x940094,\n  XE: 0x429eb0,\n  CS: 0x57178f,\n  BA: 0x00c900,\n  LA: 0x70d4ff,\n  CE: 0xffffc7,\n  PR: 0xd9ffc7,\n  ND: 0xc7ffc7,\n  PM: 0xa3ffc7,\n  SM: 0x8fffc7,\n  EU: 0x61ffc7,\n  GD: 0x45ffc7,\n  TB: 0x30ffc7,\n  DY: 0x1fffc7,\n  HO: 0x00ff9c,\n  ER: 0x00e675,\n  TM: 0x00d452,\n  YB: 0x00bf38,\n  LU: 0x00ab24,\n  HF: 0x4dc2ff,\n  TA: 0x4da6ff,\n  W: 0x2194d6,\n  RE: 0x267dab,\n  OS: 0x266696,\n  IR: 0x175487,\n  PT: 0xd0d0e0,\n  AU: 0xffd123,\n  HG: 0xb8b8d0,\n  TL: 0xa6544d,\n  PB: 0x575961,\n  BI: 0x9e4fb5,\n  PO: 0xab5c00,\n  AT: 0x754f45,\n  RN: 0x428296,\n  FR: 0x420066,\n  RA: 0x007d00,\n  AC: 0x70abfa,\n  TH: 0x00baff,\n  PA: 0x00a1ff,\n  U: 0x008fff,\n  NP: 0x0080ff,\n  PU: 0x006bff,\n  AM: 0x545cf2,\n  CM: 0x785ce3,\n  BK: 0x8a4fe3,\n  CF: 0xa136d4,\n  ES: 0xb31fd4,\n  FM: 0xb31fba,\n  MD: 0xb30da6,\n  NO: 0xbd0d87,\n  LR: 0xc70066,\n  RF: 0xcc0059,\n  DB: 0xd1004f,\n  SG: 0xd90045,\n  BH: 0xe00038,\n  HS: 0xe6002e,\n  MT: 0xeb0026\n};\npalette$1.defaultResidueColor = 0xbea06e;\npalette$1.residueColors = {\n  ALA: 0xc8c8c8,\n  ARG: 0x145aff,\n  ASN: 0x00dcdc,\n  ASP: 0xe60a0a,\n  CYS: 0xe6e600,\n  GLN: 0x00dcdc,\n  GLU: 0xe60a0a,\n  GLY: 0xebebeb,\n  HIS: 0x8282d2,\n  ILE: 0x0f820f,\n  LEU: 0x0f820f,\n  LYS: 0x145aff,\n  MET: 0xe6e600,\n  PHE: 0x3232aa,\n  PRO: 0xdc9682,\n  SER: 0xfa9600,\n  THR: 0xfa9600,\n  TRP: 0xb45ab4,\n  TYR: 0x3232aa,\n  VAL: 0x0f820f,\n  A: 0xa0a0ff,\n  C: 0xff8c4b,\n  G: 0xff7070,\n  I: 0x80ffff,\n  T: 0xa0ffa0,\n  U: 0xff8080,\n  DA: 0xa0a0ff,\n  DC: 0xff8c4b,\n  DG: 0xff7070,\n  DI: 0x80ffff,\n  DT: 0xa0ffa0,\n  DU: 0xff8080,\n  '+A': 0xa0a0ff,\n  '+C': 0xff8c4b,\n  '+G': 0xff7070,\n  '+I': 0x80ffff,\n  '+T': 0xa0ffa0,\n  '+U': 0xff8080\n};\npalette$1.chainColors = [\n0xffffffff,\n0xffc0d0ff,\n0xffb0ffb0,\n0xffffc0c8,\n0xffffff80,\n0xffffc0ff,\n0xffb0f0f0,\n0xffffd070,\n0xfff08080,\n0xfff5deb3,\n0xff00bfff,\n0xffcd5c5c,\n0xff66cdaa,\n0xff9acd32,\n0xffee82ee,\n0xff00ced1,\n0xff00ff7f,\n0xff3cb371,\n0xff00008b,\n0xffbdb76b,\n0xff006400,\n0xff800000,\n0xff808000,\n0xff800080,\n0xff008080,\n0xffb8860b,\n0xffb22222\n];\nvar StructuralElementType$2 = StructuralElement.Type;\npalette$1.secondaryColors = (_palette$secondaryCol$1 = {}, _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.HELIX_ALPHA, 0xff0080), _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.HELIX_PI, 0x600080), _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.HELIX_310, 0xa00080), _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.STRAND, 0xffc800), _defineProperty(_palette$secondaryCol$1, StructuralElementType$2.TURN, 0x6080ff), _defineProperty(_palette$secondaryCol$1, \"dna\", 0xae00fe), _defineProperty(_palette$secondaryCol$1, \"rna\", 0xfd0162), _palette$secondaryCol$1);\n\nvar _palette$secondaryCol;\nvar palette = new Palette('VMD', 'VM');\npalette.colors = [\n0x0000ff,\n0xff0000,\n0x606060,\n0xff8000,\n0xffff00,\n0x808033,\n0x999999,\n0x00ff00,\n0xffffff,\n0xff9999,\n0x40c0c0,\n0xa600a6,\n0x80e666,\n0xe666b3,\n0x804d00,\n0x8080c0\n];\npalette.defaultElementColor = 0x804d00;\npalette.elementColors = {\n  H: 0xffffff,\n  C: 0x40bfbf,\n  N: 0x0000ff,\n  O: 0xff0000,\n  P: 0x808033,\n  S: 0xffff00\n};\npalette.defaultResidueColor = 0x40c0c0;\npalette.residueColors = {\n  ALA: 0x0000ff,\n  ARG: 0xffffff,\n  ASN: 0x808033,\n  ASP: 0xff0000,\n  CYS: 0xffff00,\n  GLN: 0xff8000,\n  GLU: 0xff9999,\n  GLY: 0xffffff,\n  HIS: 0x40c0c0,\n  ILE: 0x00ff00,\n  LEU: 0xff9999,\n  LYS: 0x40c0c0,\n  MET: 0xffff00,\n  PHE: 0xa600a6,\n  PRO: 0x804c00,\n  SER: 0xffff00,\n  THR: 0xe666b3,\n  TRP: 0x999999,\n  TYR: 0x00ff00,\n  VAL: 0x808033,\n  A: 0x0000ff,\n  C: 0xff8000,\n  G: 0xffff00,\n  T: 0xa600a6,\n  U: 0x00ff00,\n  DA: 0x0000ff,\n  DC: 0xff8000,\n  DG: 0xffff00,\n  DT: 0xa600a6,\n  DU: 0x00ff00,\n  '+A': 0x0000ff,\n  '+C': 0xff8000,\n  '+G': 0xffff00,\n  '+T': 0xa600a6,\n  '+U': 0x00ff00,\n  WAT: 0x40c0c0,\n  H2O: 0x40c0c0,\n  HOH: 0x40c0c0\n};\npalette.chainColors = [0xffffff].concat(palette.colors);\nvar StructuralElementType$1 = StructuralElement.Type;\npalette.secondaryColors = (_palette$secondaryCol = {}, _defineProperty(_palette$secondaryCol, StructuralElementType$1.HELIX_ALPHA, 0xa600a6), _defineProperty(_palette$secondaryCol, StructuralElementType$1.HELIX_310, 0x0000ff), _defineProperty(_palette$secondaryCol, StructuralElementType$1.HELIX_PI, 0xff0000), _defineProperty(_palette$secondaryCol, StructuralElementType$1.STRAND, 0xffff00), _defineProperty(_palette$secondaryCol, StructuralElementType$1.BRIDGE, 0x808033), _defineProperty(_palette$secondaryCol, StructuralElementType$1.TURN, 0x40c0c0), _palette$secondaryCol);\n\nvar palettes$1 = new EntityList([palette$2, palette$1, palette]);\n\nvar Colorer = function () {\n  function Colorer(opts) {\n    _classCallCheck(this, Colorer);\n    if (this.constructor === Colorer) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    this.opts = merge(utils.deriveDeep(settings$1.now.colorers[this.id], true), opts);\n    this.palette = palettes$1.first;\n  }\n  _createClass(Colorer, [{\n    key: \"identify\",\n    value: function identify() {\n      var diff = utils.objectsDiff(this.opts, settings$1.now.colorers[this.id]);\n      if (!isEmpty(diff)) {\n        return [this.id, diff];\n      }\n      return this.id;\n    }\n  }]);\n  return Colorer;\n}();\nColorer.prototype.id = '__';\n\nfunction _createSuper$N(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$N(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$N() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ElementColorer = function (_Colorer) {\n  _inherits(ElementColorer, _Colorer);\n  var _super = _createSuper$N(ElementColorer);\n  function ElementColorer() {\n    _classCallCheck(this, ElementColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ElementColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      var type = atom.element.name;\n      if (type === 'C' && this.opts.carbon >= 0) {\n        return this.opts.carbon;\n      }\n      return this.palette.getElementColor(type);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(_residue, _complex) {\n      return this.palette.defaultResidueColor;\n    }\n  }]);\n  return ElementColorer;\n}(Colorer);\n_defineProperty(ElementColorer, \"id\", 'EL');\nElementColorer.prototype.id = 'EL';\nElementColorer.prototype.name = 'Element';\nElementColorer.prototype.shortName = 'Element';\n\nfunction _createSuper$M(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$M(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$M() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResidueTypeColorer = function (_Colorer) {\n  _inherits(ResidueTypeColorer, _Colorer);\n  var _super = _createSuper$M(ResidueTypeColorer);\n  function ResidueTypeColorer() {\n    _classCallCheck(this, ResidueTypeColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ResidueTypeColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      return this.palette.getResidueColor(residue._type._name);\n    }\n  }]);\n  return ResidueTypeColorer;\n}(Colorer);\n_defineProperty(ResidueTypeColorer, \"id\", 'RT');\nResidueTypeColorer.prototype.id = 'RT';\nResidueTypeColorer.prototype.name = 'Residue Type';\nResidueTypeColorer.prototype.shortName = 'Residue';\n\nfunction _createSuper$L(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$L(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$L() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar SequenceColorer = function (_Colorer) {\n  _inherits(SequenceColorer, _Colorer);\n  var _super = _createSuper$L(SequenceColorer);\n  function SequenceColorer() {\n    _classCallCheck(this, SequenceColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SequenceColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var chain = residue._chain;\n      if (chain.minSequence === Number.POSITIVE_INFINITY && chain.maxSequence === Number.NEGATIVE_INFINITY) {\n        return this.palette.defaultNamedColor;\n      }\n      var min = chain.minSequence;\n      var max = chain.maxSequence > min ? chain.maxSequence : min + 1;\n      return this.palette.getGradientColor((residue._sequence - min) / (max - min), this.opts.gradient);\n    }\n  }]);\n  return SequenceColorer;\n}(Colorer);\n_defineProperty(SequenceColorer, \"id\", 'SQ');\nSequenceColorer.prototype.id = 'SQ';\nSequenceColorer.prototype.name = 'Sequence';\nSequenceColorer.prototype.shortName = 'Sequence';\n\nfunction _createSuper$K(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$K(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$K() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ChainColorer = function (_Colorer) {\n  _inherits(ChainColorer, _Colorer);\n  var _super = _createSuper$K(ChainColorer);\n  function ChainColorer() {\n    _classCallCheck(this, ChainColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ChainColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      return this.palette.getChainColor(residue.getChain()._name);\n    }\n  }]);\n  return ChainColorer;\n}(Colorer);\n_defineProperty(ChainColorer, \"id\", 'CH');\nChainColorer.prototype.id = 'CH';\nChainColorer.prototype.name = 'Chain';\nChainColorer.prototype.shortName = 'Chain';\n\nfunction _createSuper$J(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$J(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$J() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar SecondaryStructureColorer = function (_Colorer) {\n  _inherits(SecondaryStructureColorer, _Colorer);\n  var _super = _createSuper$J(SecondaryStructureColorer);\n  function SecondaryStructureColorer() {\n    _classCallCheck(this, SecondaryStructureColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(SecondaryStructureColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      if (residue._type.flags & ResidueType$1.Flags.DNA) {\n        return this.palette.getSecondaryColor('dna');\n      }\n      if (residue._type.flags & ResidueType$1.Flags.RNA) {\n        return this.palette.getSecondaryColor('rna');\n      }\n      var secondary = residue.getSecondary();\n      if (secondary) {\n        var color = this.palette.getSecondaryColor(secondary.type, true);\n        if (color === undefined) {\n          color = this.palette.getSecondaryColor(secondary.generic);\n        }\n        return color;\n      }\n      return this.palette.defaultSecondaryColor;\n    }\n  }]);\n  return SecondaryStructureColorer;\n}(Colorer);\n_defineProperty(SecondaryStructureColorer, \"id\", 'SS');\nSecondaryStructureColorer.prototype.id = 'SS';\nSecondaryStructureColorer.prototype.name = 'Secondary Structure';\nSecondaryStructureColorer.prototype.shortName = 'Structure';\n\nfunction _createSuper$I(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$I(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$I() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar UniformColorer = function (_Colorer) {\n  _inherits(UniformColorer, _Colorer);\n  var _super = _createSuper$I(UniformColorer);\n  function UniformColorer() {\n    _classCallCheck(this, UniformColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(UniformColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(_atom, _complex) {\n      return this.opts.color;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(_residue, _complex) {\n      return this.opts.color;\n    }\n  }]);\n  return UniformColorer;\n}(Colorer);\n_defineProperty(UniformColorer, \"id\", 'UN');\nUniformColorer.prototype.id = 'UN';\nUniformColorer.prototype.name = 'Uniform';\nUniformColorer.prototype.shortName = 'Uniform';\n\nfunction _createSuper$H(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$H(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$H() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ConditionalColorer = function (_Colorer) {\n  _inherits(ConditionalColorer, _Colorer);\n  var _super = _createSuper$H(ConditionalColorer);\n  function ConditionalColorer(opts) {\n    var _this;\n    _classCallCheck(this, ConditionalColorer);\n    _this = _super.call(this, opts);\n    var parsed = selectors$5.parse(_this.opts.subset);\n    _this._subsetCached = parsed.error ? selectors$5.none() : parsed.selector;\n    return _this;\n  }\n  _createClass(ConditionalColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      return this._subsetCached.includesAtom(atom) ? this.opts.color : this.opts.baseColor;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var subset = this._subsetCached;\n      var atoms = residue._atoms;\n      for (var i = 0, n = atoms.length; i < n; ++i) {\n        if (!subset.includesAtom(atoms[i])) {\n          return this.opts.baseColor;\n        }\n      }\n      return this.opts.color;\n    }\n  }]);\n  return ConditionalColorer;\n}(Colorer);\n_defineProperty(ConditionalColorer, \"id\", 'CO');\nConditionalColorer.prototype.id = 'CO';\nConditionalColorer.prototype.name = 'Conditional';\nConditionalColorer.prototype.shortName = 'Conditional';\n\nfunction _createSuper$G(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$G(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$G() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ConformationColorer = function (_Colorer) {\n  _inherits(ConformationColorer, _Colorer);\n  var _super = _createSuper$G(ConformationColorer);\n  function ConformationColorer() {\n    _classCallCheck(this, ConformationColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ConformationColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      return this.palette.getChainColor(String.fromCharCode(atom.location));\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(_residue, _complex) {\n      return this.palette.defaultResidueColor;\n    }\n  }]);\n  return ConformationColorer;\n}(Colorer);\n_defineProperty(ConformationColorer, \"id\", 'CF');\nConformationColorer.prototype.id = 'CF';\nConformationColorer.prototype.name = 'Conformation';\nConformationColorer.prototype.shortName = 'Conformation';\n\nfunction _createSuper$F(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$F(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$F() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar TemperatureColorer = function (_Colorer) {\n  _inherits(TemperatureColorer, _Colorer);\n  var _super = _createSuper$F(TemperatureColorer);\n  function TemperatureColorer() {\n    _classCallCheck(this, TemperatureColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TemperatureColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      var opts = this.opts;\n      var factor = 1;\n      if (atom.temperature && opts) {\n        if (opts.min === opts.max) {\n          factor = atom.temperature > opts.max ? 1 : 0;\n        } else {\n          factor = (atom.temperature - opts.min) / (opts.max - opts.min);\n        }\n        return this.palette.getGradientColor(factor, opts.gradient);\n      }\n      return this.palette.defaultGradientColor;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var opts = this.opts;\n      if (!opts) {\n        return this.palette.defaultGradientColor;\n      }\n      if (residue.temperature) {\n        var factor = 0;\n        if (opts.min === opts.max) {\n          factor = residue.temperature > opts.max ? 1 : 0;\n        } else {\n          factor = (residue.temperature - opts.min) / (opts.max - opts.min);\n        }\n        return this.palette.getGradientColor(factor, opts.gradient);\n      }\n      return this.palette.defaultGradientColor;\n    }\n  }]);\n  return TemperatureColorer;\n}(Colorer);\n_defineProperty(TemperatureColorer, \"id\", 'TM');\nTemperatureColorer.prototype.id = 'TM';\nTemperatureColorer.prototype.name = 'Temperature';\nTemperatureColorer.prototype.shortName = 'Temperature';\n\nfunction _createSuper$E(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$E(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$E() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OccupancyColorer = function (_Colorer) {\n  _inherits(OccupancyColorer, _Colorer);\n  var _super = _createSuper$E(OccupancyColorer);\n  function OccupancyColorer() {\n    _classCallCheck(this, OccupancyColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(OccupancyColorer, [{\n    key: \"_getColorByOccupancy\",\n    value: function _getColorByOccupancy(occupancy, opts) {\n      if (occupancy !== undefined) {\n        var factor = 1 - occupancy;\n        return this.palette.getGradientColor(factor, opts.gradient);\n      }\n      return this.palette.defaultGradientColor;\n    }\n  }, {\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      var opts = this.opts;\n      return this._getColorByOccupancy(atom.occupancy, opts);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var opts = this.opts;\n      return this._getColorByOccupancy(residue.occupancy, opts);\n    }\n  }]);\n  return OccupancyColorer;\n}(Colorer);\n_defineProperty(OccupancyColorer, \"id\", 'OC');\nOccupancyColorer.prototype.id = 'OC';\nOccupancyColorer.prototype.name = 'Occupancy';\nOccupancyColorer.prototype.shortName = 'Occupancy';\n\nfunction _createSuper$D(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$D(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$D() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar HydrophobicityColorer = function (_Colorer) {\n  _inherits(HydrophobicityColorer, _Colorer);\n  var _super = _createSuper$D(HydrophobicityColorer);\n  function HydrophobicityColorer() {\n    _classCallCheck(this, HydrophobicityColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(HydrophobicityColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var color = this.palette.defaultResidueColor;\n      if (residue._type.hydrophobicity !== undefined) {\n        var min = -4.5;\n        var max = 4.5;\n        color = this.palette.getGradientColor((residue._type.hydrophobicity - min) / (max - min), this.opts.gradient);\n      }\n      return color;\n    }\n  }]);\n  return HydrophobicityColorer;\n}(Colorer);\n_defineProperty(HydrophobicityColorer, \"id\", 'HY');\nHydrophobicityColorer.prototype.id = 'HY';\nHydrophobicityColorer.prototype.name = 'Hydrophobicity';\nHydrophobicityColorer.prototype.shortName = 'Hydrophobicity';\n\nfunction _createSuper$C(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$C(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$C() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar MoleculeColorer = function (_Colorer) {\n  _inherits(MoleculeColorer, _Colorer);\n  var _super = _createSuper$C(MoleculeColorer);\n  function MoleculeColorer() {\n    _classCallCheck(this, MoleculeColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(MoleculeColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, complex) {\n      return this.getResidueColor(atom.residue, complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(residue, _complex) {\n      var molecule = residue._molecule;\n      var count = _complex.getMoleculeCount();\n      if (count > 1) {\n        return this.palette.getGradientColor((molecule.index - 1) / (count - 1), this.opts.gradient);\n      }\n      return this.palette.getGradientColor(0, this.opts.gradient);\n    }\n  }]);\n  return MoleculeColorer;\n}(Colorer);\n_defineProperty(MoleculeColorer, \"id\", 'MO');\nMoleculeColorer.prototype.id = 'MO';\nMoleculeColorer.prototype.name = 'Molecule';\nMoleculeColorer.prototype.shortName = 'Molecule';\n\nfunction _createSuper$B(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$B(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$B() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction scaleColor(c, factor) {\n  var r1 = c >> 16 & 0xff;\n  var g1 = c >> 8 & 0xff;\n  var b1 = c & 0xff;\n  var r = factor * r1;\n  var g = factor * g1;\n  var b = factor * b1;\n  return r << 16 | g << 8 | b;\n}\nvar CarbonColorer = function (_Colorer) {\n  _inherits(CarbonColorer, _Colorer);\n  var _super = _createSuper$B(CarbonColorer);\n  function CarbonColorer() {\n    _classCallCheck(this, CarbonColorer);\n    return _super.apply(this, arguments);\n  }\n  _createClass(CarbonColorer, [{\n    key: \"getAtomColor\",\n    value: function getAtomColor(atom, _complex) {\n      var colorCarbon = this.opts.color;\n      var colorNotCarbon = scaleColor(colorCarbon, this.opts.factor);\n      return atom.flags & Atom$2.Flags.CARBON ? colorCarbon : colorNotCarbon;\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(_residue, _complex) {\n      return this.opts.color;\n    }\n  }]);\n  return CarbonColorer;\n}(Colorer);\n_defineProperty(CarbonColorer, \"id\", 'CB');\nCarbonColorer.prototype.id = 'CB';\nCarbonColorer.prototype.name = 'Carbon';\nCarbonColorer.prototype.shortName = 'Carbon';\n\nvar colorers$1 = new EntityList([ElementColorer, ResidueTypeColorer, SequenceColorer, ChainColorer, SecondaryStructureColorer, UniformColorer, ConditionalColorer, ConformationColorer, TemperatureColorer, OccupancyColorer, HydrophobicityColorer, MoleculeColorer, CarbonColorer]);\n\nfunction neutralColor(intensity) {\n  return new Color(intensity, intensity, intensity);\n}\nvar materialList = [{\n  id: 'DF',\n  name: 'Diffuse',\n  shortName: 'Diffuse',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 1,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'SF',\n  name: 'Soft Plastic',\n  shortName: 'Soft',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.1),\n    shininess: 30,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'PL',\n  name: 'Glossy Plastic',\n  shortName: 'Glossy',\n  uberOptions: {\n    diffuse: neutralColor(0.56),\n    specular: neutralColor(0.28),\n    shininess: 100,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'ME',\n  name: 'Metal',\n  shortName: 'Metal',\n  uberOptions: {\n    diffuse: neutralColor(0.56),\n    specular: neutralColor(0.55),\n    shininess: 30,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'TR',\n  name: 'Transparent',\n  shortName: 'Transparent',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 1,\n    opacity: 0.5\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: true,\n    toonShading: false\n  }\n}, {\n  id: 'GL',\n  name: 'Glass',\n  shortName: 'Glass',\n  uberOptions: {\n    diffuse: neutralColor(0.5),\n    specular: neutralColor(0.65),\n    shininess: 100,\n    opacity: 0.5\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: true,\n    toonShading: false\n  }\n}, {\n  id: 'BA',\n  name: 'Backdrop',\n  shortName: 'Backdrop',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 1,\n    opacity: 1.0\n  },\n  values: {\n    lights: false,\n    fog: false,\n    depthWrite: false,\n    transparent: false,\n    toonShading: false\n  }\n}, {\n  id: 'TN',\n  name: 'Toon',\n  shortName: 'Toon',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 1,\n    opacity: 1.0\n  },\n  values: {\n    lights: true,\n    fog: true,\n    depthWrite: true,\n    transparent: false,\n    toonShading: true\n  }\n}, {\n  id: 'FL',\n  name: 'Flat',\n  shortName: 'Flat',\n  uberOptions: {\n    diffuse: neutralColor(1.0),\n    specular: neutralColor(0.0),\n    shininess: 0,\n    opacity: 1.0\n  },\n  values: {\n    lights: false,\n    fog: true,\n    depthWrite: true,\n    transparent: false\n  }\n}];\nvar materials$1 = new EntityList(materialList);\n\nfunction _gatherObjects(root, meshTypes) {\n  var meshes = [];\n  root.traverse(function (object) {\n    for (var i = 0; i < meshTypes.length; i++) {\n      if (object instanceof meshTypes[i]) {\n        meshes[meshes.length] = object;\n        break;\n      }\n    }\n  });\n  return meshes;\n}\nfunction createDerivativeMesh(mesh, values, layer) {\n  var material = mesh.material.createInstance();\n  material.setValues(values);\n  var newMesh = new mesh.constructor(mesh.geometry, material);\n  newMesh.material.needsUpdate = true;\n  newMesh.applyMatrix4(mesh.matrix);\n  newMesh.layers.set(layer);\n  return newMesh;\n}\nfunction traverseMeshes(root, meshTypes, func) {\n  var meshes = _gatherObjects(root, meshTypes);\n  for (var i = 0, n = meshes.length; i < n; ++i) {\n    var mesh = meshes[i];\n    if (!mesh.parent) {\n      continue;\n    }\n    func(mesh);\n  }\n}\nfunction applyTransformsToMeshes(root, mtc) {\n  var mtcCount = mtc.length;\n  if (mtcCount < 1) {\n    return;\n  }\n  var meshTypes = [Mesh, LineSegments, Line];\n  traverseMeshes(root, meshTypes, function (mesh) {\n    mesh.applyMatrix4(mtc[0]);\n    for (var j = 1; j < mtcCount; ++j) {\n      var newMesh = new mesh.constructor(mesh.geometry, mesh.material);\n      mesh.parent.add(newMesh);\n      newMesh.applyMatrix4(mtc[j]);\n    }\n  });\n}\nvar processTransparentMaterial = function () {\n  var matValues = {\n    prepassTransparancy: true,\n    fakeOpacity: false,\n    transparent: false,\n    colorFromDepth: false,\n    lights: false,\n    shadowmap: false,\n    fog: false\n  };\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return;\n    }\n    traverseMeshes(root, [Mesh, LineSegments], function (mesh) {\n      mesh.material.setValues({\n        prepassTransparancy: false,\n        fakeOpacity: false\n      });\n      mesh.material.needsUpdate = true;\n      mesh.layers.set(gfxutils.LAYERS.TRANSPARENT);\n      var prepassTranspMesh = createDerivativeMesh(mesh, matValues, gfxutils.LAYERS.PREPASS_TRANSPARENT);\n      mesh.parent.add(prepassTranspMesh);\n    });\n  };\n}();\nvar processColFromPosMaterial = function () {\n  var matValues = {\n    colorFromPos: true,\n    transparent: false,\n    colorFromDepth: false,\n    lights: false,\n    shadowmap: false,\n    fog: false,\n    overrideColor: false,\n    fogTransparent: false,\n    attrColor: false,\n    attrColor2: false,\n    attrAlphaColor: false,\n    fakeOpacity: false\n  };\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return;\n    }\n    traverseMeshes(root, [Mesh, LineSegments], function (mesh) {\n      var colFromPosMesh = createDerivativeMesh(mesh, matValues, gfxutils.LAYERS.COLOR_FROM_POSITION);\n      mesh.parent.add(colFromPosMesh);\n    });\n  };\n}();\nvar createShadowmapMaterial = function () {\n  var matValues = {\n    colorFromDepth: true,\n    orthoCam: true,\n    lights: false,\n    shadowmap: false,\n    fog: false\n  };\n  return function (root, material) {\n    if (!(material instanceof UberMaterial)) {\n      return;\n    }\n    traverseMeshes(root, [Mesh, LineSegments], function (mesh) {\n      if (!mesh.receiveShadow && mesh.material.shadowmap) {\n        mesh.material.setValues({\n          shadowmap: false\n        });\n      }\n      if (!mesh.material.lights) {\n        return;\n      }\n      if (!mesh.castShadow) {\n        return;\n      }\n      if (!gfxutils.belongToSelectLayers(mesh)) {\n        return;\n      }\n      var shadowmapMesh = createDerivativeMesh(mesh, matValues, gfxutils.LAYERS.SHADOWMAP);\n      shadowmapMesh.isShadowmapMesh = true;\n      mesh.parent.add(shadowmapMesh);\n    });\n  };\n}();\nfunction removeShadowmapMaterial(root, material) {\n  if (!(material instanceof UberMaterial)) {\n    return;\n  }\n  traverseMeshes(root, [Mesh, LineSegments], function (mesh) {\n    if (mesh.isShadowmapMesh) {\n      mesh.parent.remove(mesh);\n    }\n  });\n}\nfunction forEachMeshInGroup(group, process) {\n  function processObj(object) {\n    if (object instanceof Mesh) {\n      process(object);\n    }\n    for (var i = 0, l = object.children.length; i < l; i++) {\n      processObj(object.children[i]);\n    }\n  }\n  processObj(group);\n}\nfunction _countMeshTriangles(mesh) {\n  var geom = mesh.geometry;\n  if (geom instanceof InstancedBufferGeometry) {\n    var attribs = geom.attributes;\n    for (var property in attribs) {\n      if (attribs.hasOwnProperty(property) && attribs[property] instanceof InstancedBufferAttribute) {\n        var currAttr = attribs[property];\n        var indexSize = geom.index ? geom.index.array.length / 3 : 0;\n        return indexSize * currAttr.array.length / currAttr.itemSize;\n      }\n    }\n    return 0;\n  }\n  if (geom instanceof BufferGeometry) {\n    return geom.index ? geom.index.array.length / 3 : 0;\n  }\n  return geom.faces ? geom.faces.length : 0;\n}\nfunction countTriangles(group) {\n  var totalCount = 0;\n  forEachMeshInGroup(group, function (mesh) {\n    totalCount += _countMeshTriangles(mesh);\n  });\n  return totalCount;\n}\nvar meshutils = {\n  applyTransformsToMeshes: applyTransformsToMeshes,\n  processTransparentMaterial: processTransparentMaterial,\n  processColFromPosMaterial: processColFromPosMaterial,\n  createShadowmapMaterial: createShadowmapMaterial,\n  removeShadowmapMaterial: removeShadowmapMaterial,\n  forEachMeshInGroup: forEachMeshInGroup,\n  countTriangles: countTriangles\n};\n\nvar selectors$3 = chem.selectors;\nvar Representation = function () {\n  function Representation(index, mode, colorer, selector) {\n    _classCallCheck(this, Representation);\n    var startMaterialValues = {\n      clipPlane: settings$1.now.draft.clipPlane,\n      fogTransparent: settings$1.now.bg.transparent,\n      shadowmap: settings$1.now.shadow.on,\n      shadowmapType: settings$1.now.shadow.type\n    };\n    this.index = index;\n    this.mode = mode;\n    this.colorer = colorer;\n    this.selector = selector;\n    this.selectorString = '';\n    this.count = 0;\n    this.material = new UberMaterial();\n    this.material.setValues(startMaterialValues);\n    this.material.setUberOptions({\n      fogAlpha: settings$1.now.fogAlpha\n    });\n    this.materialPreset = materials$1.first;\n    this.needsRebuild = true;\n    this.visible = true;\n    this.setMode(mode);\n  }\n  _createClass(Representation, [{\n    key: \"markAtoms\",\n    value: function markAtoms(complex) {\n      this.count = complex.markAtoms(this.selector, 1 << this.index);\n      this.needsRebuild = true;\n      return this.count;\n    }\n  }, {\n    key: \"unmarkAtoms\",\n    value: function unmarkAtoms(complex) {\n      complex.clearAtomBits(1 << this.index);\n      this.count = 0;\n    }\n  }, {\n    key: \"setMode\",\n    value: function setMode(mode) {\n      this.mode = mode;\n    }\n  }, {\n    key: \"setMaterialPreset\",\n    value: function setMaterialPreset(preset) {\n      this.materialPreset = preset;\n      this.material.setUberOptions(preset.uberOptions);\n      this.material.setValues(preset.values);\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.geo = null;\n      this.selectionGeo = null;\n    }\n  }, {\n    key: \"buildGeometry\",\n    value: function buildGeometry(complex) {\n      this.reset();\n      this.needsRebuild = false;\n      if (settings$1.now.ao) {\n        this.material.setValues({\n          normalsToGBuffer: settings$1.now.ao\n        });\n      }\n      this.geo = this.mode.buildGeometry(complex, this.colorer, 1 << this.index, this.material);\n      if (this.material.uberOptions.opacity < 0.99 && settings$1.now.transparency === 'prepass') {\n        meshutils.processTransparentMaterial(this.geo, this.material);\n      }\n      this.geo.visible = this.visible;\n      gfxutils.processObjRenderOrder(this.geo, this.materialPreset.id);\n      meshutils.processColFromPosMaterial(this.geo, this.material);\n      if (settings$1.now.shadow.on) {\n        meshutils.createShadowmapMaterial(this.geo, this.material);\n      }\n      return this.geo;\n    }\n  }, {\n    key: \"buildSelectionGeometry\",\n    value: function buildSelectionGeometry(mask) {\n      var sg = null;\n      if (this.geo && 'getSubset' in this.geo) {\n        var meshes = this.geo.getSubset(mask);\n        if (meshes && meshes.length > 0) {\n          sg = new Group();\n          sg.matrixAutoUpdate = false;\n          sg.matrix = this.geo.matrix;\n          for (var j = 0; j < meshes.length; j++) {\n            var m = meshes[j];\n            sg.add(m);\n          }\n        }\n      }\n      if (sg) {\n        sg.visible = this.visible;\n      }\n      this.selectionGeo = sg;\n      return this.selectionGeo;\n    }\n  }, {\n    key: \"compare\",\n    value: function compare(repSettings) {\n      var diff = {};\n      var selStr = String(this.selector);\n      if (!repSettings || selStr.valueOf() !== String(repSettings.selector).valueOf()) {\n        diff.selector = selStr;\n      }\n      var modeDiff = this.mode.identify();\n      if (!repSettings || Array.isArray(modeDiff) || modeDiff !== repSettings.mode) {\n        diff.mode = modeDiff;\n      }\n      var colorerDiff = this.colorer.identify();\n      if (!repSettings || Array.isArray(colorerDiff) || colorerDiff !== repSettings.colorer) {\n        diff.colorer = colorerDiff;\n      }\n      if (!repSettings || this.materialPreset.id !== repSettings.material) {\n        diff.material = this.materialPreset.id;\n      }\n      return diff;\n    }\n  }, {\n    key: \"change\",\n    value: function change(repSettings, complex, mode, color) {\n      var diff = {};\n      if (repSettings.selector) {\n        var newSelectorObject = selectors$3.parse(repSettings.selector).selector;\n        var newSelector = String(newSelectorObject);\n        if (this.selectorString !== newSelector) {\n          diff.selector = newSelector;\n          this.selectorString = newSelector;\n          this.selector = newSelectorObject;\n          this.markAtoms(complex);\n        }\n      }\n      if (repSettings.mode) {\n        var newMode = repSettings.mode;\n        if (!isEqual(this.mode.identify(), newMode)) {\n          diff.mode = newMode;\n          this.setMode(mode);\n        }\n      }\n      if (repSettings.colorer) {\n        var newColorer = repSettings.colorer;\n        if (!isEqual(this.colorer.identify(), newColorer)) {\n          diff.colorer = newColorer;\n          this.colorer = color;\n        }\n      }\n      if (repSettings.material) {\n        var newMaterial = repSettings.material;\n        if (!isEqual(this.materialPreset.id, newMaterial)) {\n          diff.material = newMaterial;\n          this.setMaterialPreset(materials$1.get(repSettings.material));\n        }\n      }\n      return diff;\n    }\n  }, {\n    key: \"show\",\n    value: function show(visible) {\n      this.visible = visible;\n      if (this.geo) {\n        this.geo.visible = visible;\n      }\n      if (this.selectionGeo) {\n        this.selectionGeo.visible = visible;\n      }\n    }\n  }]);\n  return Representation;\n}();\n\nfunction _createSuper$A(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$A(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$A() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _traverseComponentGroups(root, component, callback) {\n  var children = root.children;\n  if (!children) {\n    return;\n  }\n  for (var i = 0, n = children.length; i < n; ++i) {\n    var child = children[i];\n    if (child._component === component) {\n      callback(child);\n    }\n    if (child instanceof gfxutils.RCGroup) {\n      _traverseComponentGroups(child, component, callback);\n    }\n  }\n}\nfunction ComplexEditor() {}\nvar ComplexComponentEditor = function (_ComplexEditor) {\n  _inherits(ComplexComponentEditor, _ComplexEditor);\n  var _super = _createSuper$A(ComplexComponentEditor);\n  function ComplexComponentEditor(complexVisual) {\n    var _this;\n    _classCallCheck(this, ComplexComponentEditor);\n    _this = _super.call(this);\n    _this._complexVisual = complexVisual;\n    _this._inProgress = false;\n    return _this;\n  }\n  _createClass(ComplexComponentEditor, [{\n    key: \"begin\",\n    value: function begin() {\n      var complex = this._complexVisual.getComplex();\n      this._componentTransforms = [];\n      for (var i = 0; i < complex._components.length; ++i) {\n        var component = complex._components[i];\n        this._componentTransforms[component._index] = new Object3D();\n      }\n      this._inProgress = true;\n      return true;\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      if (!this._inProgress) {\n        return;\n      }\n      var complex = this._complexVisual.getComplex();\n      for (var i = 0; i < complex._components.length; ++i) {\n        this._bakeComponentTransform(complex._components[i]);\n      }\n      complex.onAtomPositionChanged();\n      this._resetComponentTransform();\n      this._complexVisual.finalizeEdit();\n    }\n  }, {\n    key: \"discard\",\n    value: function discard() {\n      if (!this._inProgress) {\n        return;\n      }\n      this._resetComponentTransform();\n      this._complexVisual.finalizeEdit();\n    }\n  }, {\n    key: \"getAltObj\",\n    value: function getAltObj() {\n      var res = {\n        objects: [],\n        pivot: new Vector3(0, 0, 0)\n      };\n      var visual = this._complexVisual;\n      var component = visual.getSelectedComponent();\n      if (component === null) {\n        return res;\n      }\n      var selection = this._complexVisual.getSelectionGeo();\n      var selectionMask = 1 << visual.getSelectionBit();\n      var i;\n      var j;\n      var reprNode;\n      var geo;\n      _traverseComponentGroups(visual, component, function (child) {\n        res.objects.push(child);\n      });\n      for (i = 0; i < selection.children.length; ++i) {\n        reprNode = selection.children[i];\n        for (j = 0; j < reprNode.children.length; ++j) {\n          geo = reprNode.children[j];\n          if (geo.hasOwnProperty('_component') && geo._component === component) {\n            res.objects.push(geo);\n          }\n        }\n      }\n      res.objects.push(this._componentTransforms[component._index]);\n      var bbmin = new Vector3(Number.MAX_VALUE, Number.MAX_VALUE, Number.MAX_VALUE);\n      var bbmax = new Vector3(-Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);\n      component.forEachResidue(function (residue) {\n        var atoms = residue._atoms;\n        for (j = 0; j < atoms.length; ++j) {\n          if (atoms[j].mask & selectionMask) {\n            bbmin.min(atoms[j].position);\n            bbmax.max(atoms[j].position);\n          }\n        }\n      });\n      res.pivot.lerpVectors(bbmin, bbmax, 0.5);\n      return res;\n    }\n  }, {\n    key: \"_bakeComponentTransform\",\n    value: function _bakeComponentTransform(component) {\n      var t = this._componentTransforms[component._index];\n      if (t && (!(t.position.x === 0 && t.position.y === 0 && t.position.z === 0) || !(t.quaternion.x === 0 && t.quaternion.y === 0 && t.quaternion.z === 0 && t.quaternion.w === 1))) {\n        t.updateMatrix();\n        component.forEachResidue(function (residue) {\n          var atoms = residue._atoms;\n          for (var j = 0; j < atoms.length; ++j) {\n            atoms[j].position.applyMatrix4(t.matrix);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_resetComponentTransform\",\n    value: function _resetComponentTransform() {\n      var visual = this._complexVisual;\n      var selection = this._complexVisual.getSelectionGeo();\n      var i;\n      var j;\n      var reprNode;\n      var geo;\n      for (i = 0; i < this._componentTransforms.length; ++i) {\n        geo = this._componentTransforms[i];\n        geo.position.set(0, 0, 0);\n        geo.quaternion.set(0, 0, 0, 1);\n      }\n      for (i = 0; i < visual.children.length; ++i) {\n        reprNode = visual.children[i];\n        for (j = 0; j < reprNode.children.length; ++j) {\n          geo = reprNode.children[j];\n          if (geo.hasOwnProperty('_component')) {\n            geo.position.set(0, 0, 0);\n            geo.quaternion.set(0, 0, 0, 1);\n          }\n        }\n      }\n      for (i = 0; i < selection.children.length; ++i) {\n        reprNode = selection.children[i];\n        for (j = 0; j < reprNode.children.length; ++j) {\n          geo = reprNode.children[j];\n          if (geo.hasOwnProperty('_component')) {\n            geo.position.set(0, 0, 0);\n            geo.quaternion.set(0, 0, 0, 1);\n          }\n        }\n      }\n    }\n  }]);\n  return ComplexComponentEditor;\n}(ComplexEditor);\nvar ComplexFragmentEditor = function (_ComplexEditor2) {\n  _inherits(ComplexFragmentEditor, _ComplexEditor2);\n  var _super2 = _createSuper$A(ComplexFragmentEditor);\n  function ComplexFragmentEditor(complexVisual) {\n    var _this2;\n    _classCallCheck(this, ComplexFragmentEditor);\n    _this2 = _super2.call(this);\n    _this2._complexVisual = complexVisual;\n    _this2._inProgress = false;\n    return _this2;\n  }\n  _createClass(ComplexFragmentEditor, [{\n    key: \"begin\",\n    value: function begin() {\n      var visual = this._complexVisual;\n      var selection = this._complexVisual.getSelectionGeo();\n      var atoms = this._getSelectionBorderAtoms();\n      if (atoms.length < 1 || atoms.length > 2) {\n        logger.error('Can only edit fragments with one or two bound atoms.');\n        return false;\n      }\n      this._fragmentBoundAtoms = atoms;\n      var selectionMask = 1 << visual.getSelectionBit();\n      visual.disableSubset(selectionMask, true);\n      for (var k = 0; k < selection.children.length; ++k) {\n        selection.children[k].visible = false;\n      }\n      var pivotPos = atoms[0].position.clone();\n      if (atoms.length === 2) {\n        pivotPos.lerp(atoms[1].position, 0.5);\n      }\n      this._fragmentGeo = new Group();\n      visual.add(this._fragmentGeo);\n      this._fragmentGeo.position.copy(pivotPos);\n      this._fragmentSelectionGeo = new Group();\n      selection.add(this._fragmentSelectionGeo);\n      this._fragmentSelectionGeo.position.copy(pivotPos);\n      var offset = pivotPos.clone();\n      offset.negate();\n      for (var i = 0; i < visual.children.length; ++i) {\n        var g = visual.children[i];\n        if (!('getSubset' in g)) {\n          continue;\n        }\n        var vg = new Group();\n        this._fragmentGeo.add(vg);\n        var sg = new Group();\n        this._fragmentSelectionGeo.add(sg);\n        var meshes = g.getSubset(selectionMask, true);\n        for (var j = 0; j < meshes.length; j++) {\n          var m = meshes[j];\n          vg.add(m);\n          m.position.copy(offset);\n        }\n        var smeshes = g.getSubset(selectionMask, true);\n        for (var h = 0; h < smeshes.length; h++) {\n          var sm = smeshes[h];\n          sg.add(sm);\n          sm.position.copy(offset);\n        }\n      }\n      gfxutils.applySelectionMaterial(this._fragmentSelectionGeo);\n      this._inProgress = true;\n      return true;\n    }\n  }, {\n    key: \"apply\",\n    value: function apply() {\n      if (!this._inProgress) {\n        return;\n      }\n      var visual = this._complexVisual;\n      var selectionBit = visual.getSelectionBit();\n      var p = this._fragmentGeo.position;\n      var m = this._fragmentGeo.matrix.clone();\n      m.multiply(new Matrix4().makeTranslation(-p.x, -p.y, -p.z));\n      this._bakeAtomTransform(m, 1 << selectionBit);\n      visual.enableSubset(1 << selectionBit, true);\n      visual.getComplex().onAtomPositionChanged();\n      visual.finalizeEdit();\n    }\n  }, {\n    key: \"discard\",\n    value: function discard() {\n      if (!this._inProgress) {\n        return;\n      }\n      var visual = this._complexVisual;\n      var selection = this._complexVisual.getSelectionGeo();\n      this._fragmentGeo.parent.remove(this._fragmentGeo);\n      visual.enableSubset(1 << visual.getSelectionBit(), true);\n      for (var i = 0; i < selection.children.length; ++i) {\n        var node = selection.children[i];\n        if (node.visible) {\n          selection.remove(node);\n        } else {\n          node.visible = true;\n        }\n      }\n      visual.finalizeEdit();\n    }\n  }, {\n    key: \"isFreeRotationAllowed\",\n    value: function isFreeRotationAllowed() {\n      return this._fragmentBoundAtoms.length < 2;\n    }\n  }, {\n    key: \"getAltObj\",\n    value: function getAltObj() {\n      var res = {\n        objects: [],\n        pivot: new Vector3(0, 0, 0)\n      };\n      res.objects.push(this._fragmentGeo, this._fragmentSelectionGeo);\n      var boundAtoms = this._fragmentBoundAtoms;\n      if (boundAtoms.length === 1) {\n        if (boundAtoms[0].bonds.length === 1) {\n          var bond = boundAtoms[0].bonds[0];\n          res.axis = new Vector3().subVectors(bond._right.position, bond._left.position);\n          res.axis.normalize();\n          res.axis.transformDirection(this._complexVisual.matrixWorld);\n        }\n      } else if (boundAtoms.length === 2) {\n        res.axis = new Vector3().subVectors(boundAtoms[1].position, boundAtoms[0].position);\n        res.axis.normalize();\n        res.axis.transformDirection(this._complexVisual.matrixWorld);\n      }\n      return res;\n    }\n  }, {\n    key: \"_getSelectionBorderAtoms\",\n    value: function _getSelectionBorderAtoms() {\n      var complex = this._complexVisual.getComplex();\n      var selectionMask = 1 << this._complexVisual.getSelectionBit();\n      var atomHash = {};\n      complex.forEachBond(function (bond) {\n        if (bond._left.mask & selectionMask) {\n          if ((bond._right.mask & selectionMask) === 0) {\n            atomHash[bond._left.index] = 1;\n          }\n        } else if (bond._right.mask & selectionMask) {\n          atomHash[bond._right.index] = 1;\n        }\n      });\n      var atoms = [];\n      var keys = Object.keys(atomHash);\n      for (var i = 0, n = keys.length; i < n; ++i) {\n        var idx = keys[i];\n        atoms.push(complex._atoms[idx]);\n      }\n      return atoms;\n    }\n  }, {\n    key: \"_bakeAtomTransform\",\n    value: function _bakeAtomTransform(matrix, mask) {\n      this._complexVisual.getComplex().forEachAtom(function (atom) {\n        if (atom.mask & mask) {\n          atom.position.applyMatrix4(matrix);\n        }\n      });\n    }\n  }]);\n  return ComplexFragmentEditor;\n}(ComplexEditor);\nvar ComplexVisualEdit = {\n  ComponentEditor: ComplexComponentEditor,\n  FragmentEditor: ComplexFragmentEditor\n};\n\nfunction _createSuper$z(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$z(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$z() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar selectors$2 = chem.selectors;\nfunction lookupAndCreate(entityList, specs) {\n  if (!Array.isArray(specs)) {\n    specs = [specs];\n  }\n  var _specs = specs,\n      _specs2 = _slicedToArray(_specs, 2),\n      id = _specs2[0],\n      opts = _specs2[1];\n  var Entity = entityList.get(id) || entityList.first;\n  return new Entity(opts);\n}\nvar ComplexVisual = function (_Visual) {\n  _inherits(ComplexVisual, _Visual);\n  var _super = _createSuper$z(ComplexVisual);\n  function ComplexVisual(name, dataSource) {\n    var _this;\n    _classCallCheck(this, ComplexVisual);\n    _this = _super.call(this, name, dataSource);\n    _this._complex = dataSource;\n    _this._reprList = [];\n    _this._repr = null;\n    _this._reprListChanged = true;\n    _this._selectionBit = 0;\n    _this._reprUsedBits = 0;\n    _this._selectionCount = 0;\n    _this._selectionGeometry = new Group();\n    return _this;\n  }\n  _createClass(ComplexVisual, [{\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      return this._complex.getBoundaries();\n    }\n  }, {\n    key: \"release\",\n    value: function release() {\n      if (this._selectionGeometry.parent) {\n        this._selectionGeometry.remove(this._selectionGeometry);\n      }\n      Visual.prototype.release.call(this);\n    }\n  }, {\n    key: \"getComplex\",\n    value: function getComplex() {\n      return this._complex;\n    }\n  }, {\n    key: \"getSelectionCount\",\n    value: function getSelectionCount() {\n      return this._selectionCount;\n    }\n  }, {\n    key: \"getSelectionGeo\",\n    value: function getSelectionGeo() {\n      return this._selectionGeometry;\n    }\n  }, {\n    key: \"getSelectionBit\",\n    value: function getSelectionBit() {\n      return this._selectionBit;\n    }\n  }, {\n    key: \"getEditor\",\n    value: function getEditor() {\n      return this._editor;\n    }\n  }, {\n    key: \"resetReps\",\n    value: function resetReps(reps) {\n      if (this._complex) {\n        this._complex.clearAtomBits(~0);\n      }\n      this._reprListChanged = true;\n      this._reprUsedBits = 0;\n      this._reprList.length = reps.length;\n      for (var i = 0, n = reps.length; i < n; ++i) {\n        var rep = reps[i];\n        var selector = void 0;\n        var selectorString = void 0;\n        if (typeof rep.selector === 'string') {\n          selectorString = rep.selector;\n          var _selectors$parse = selectors$2.parse(selectorString);\n          selector = _selectors$parse.selector;\n        } else if (typeof rep.selector === 'undefined') {\n          selectorString = settings$1.now.presets.default[0].selector;\n          var _selectors$parse2 = selectors$2.parse(selectorString);\n          selector = _selectors$parse2.selector;\n        } else {\n          selector = rep.selector;\n          selectorString = selector.toString();\n        }\n        var mode = lookupAndCreate(modes$1, rep.mode);\n        var colorer = lookupAndCreate(colorers$1, rep.colorer);\n        var material = materials$1.get(rep.material) || materials$1.first;\n        this._reprList[i] = new Representation(i, mode, colorer, selector);\n        this._reprList[i].setMaterialPreset(material);\n        this._reprList[i].selectorString = selectorString;\n        if (this._complex) {\n          this._complex.markAtoms(selector, 1 << i);\n        }\n        this._reprUsedBits |= 1 << i;\n      }\n      this._repr = reps.length > 0 ? this._reprList[0] : null;\n      this._selectionBit = reps.length;\n      this._reprUsedBits |= 1 << this._selectionBit;\n      this._selectionCount = 0;\n      if (this._complex) {\n        this._complex.update();\n      }\n    }\n  }, {\n    key: \"repCount\",\n    value: function repCount() {\n      return this._reprList.length;\n    }\n  }, {\n    key: \"repCurrent\",\n    value: function repCurrent(index) {\n      if (index >= 0 && index < this._reprList.length) {\n        this._repr = this._reprList[index];\n      } else {\n        index = this._reprList.indexOf(this._repr);\n      }\n      return index;\n    }\n  }, {\n    key: \"rep\",\n    value: function rep(index, _rep) {\n      if (!_rep && (index === undefined || index instanceof Object)) {\n        _rep = index;\n        index = this.repCurrent();\n      }\n      if (index < 0 || index > this._reprList.length) {\n        logger.error(\"Rep \".concat(index, \" does not exist!\"));\n        return null;\n      }\n      if (index === this._reprList.length) {\n        var res = this.repAdd(_rep);\n        logger.warn(\"Rep \".concat(index, \" does not exist! New representation was created.\"));\n        return {\n          desc: res.desc,\n          index: index,\n          status: 'created'\n        };\n      }\n      var target = this._reprList[index];\n      var desc = {\n        selector: target.selectorString,\n        mode: target.mode.identify(),\n        colorer: target.colorer.identify(),\n        material: target.materialPreset.id\n      };\n      if (_rep) {\n        var diff = target.change(_rep, this._complex, lookupAndCreate(modes$1, _rep.mode), lookupAndCreate(colorers$1, _rep.colorer));\n        if (!isEmpty(diff)) {\n          target.needsRebuild = true;\n          for (var key in diff) {\n            if (diff.hasOwnProperty(key)) {\n              desc[key] = diff[key];\n              logger.debug(\"rep[\".concat(index, \"].\").concat(key, \" changed to \").concat(diff[key]));\n            }\n          }\n          if (diff.mode && target.mode.isSurface && (settings$1.now.resolution === 'ultra' || settings$1.now.resolution === 'high')) {\n            logger.report('Surface resolution was changed to \"medium\" to avoid hang-ups.');\n            settings$1.set('resolution', 'medium');\n          }\n          return {\n            desc: desc,\n            index: index,\n            status: 'changed'\n          };\n        }\n      }\n      return {\n        desc: desc,\n        index: index,\n        status: ''\n      };\n    }\n  }, {\n    key: \"repGet\",\n    value: function repGet(index) {\n      if (index === undefined || index instanceof Object) {\n        index = this.repCurrent();\n      }\n      if (index < 0 || index >= this._reprList.length) {\n        return null;\n      }\n      return this._reprList[index];\n    }\n  }, {\n    key: \"_getFreeReprIdx\",\n    value: function _getFreeReprIdx() {\n      var bits = this._reprUsedBits;\n      for (var i = 0; i <= ComplexVisual.NUM_REPRESENTATION_BITS; ++i, bits >>= 1) {\n        if ((bits & 1) === 0) {\n          return i;\n        }\n      }\n      return -1;\n    }\n  }, {\n    key: \"repAdd\",\n    value: function repAdd(rep) {\n      if (this._reprList.length >= ComplexVisual.NUM_REPRESENTATION_BITS) {\n        return null;\n      }\n      var newSelectionBit = this._getFreeReprIdx();\n      if (newSelectionBit < 0) {\n        return null;\n      }\n      var originalSelection = this.buildSelectorFromMask(1 << this._selectionBit);\n      var def = settings$1.now.presets.default[0];\n      var desc = merge({\n        selector: def.selector,\n        mode: def.mode,\n        colorer: def.colorer,\n        material: def.material\n      }, rep);\n      var selector = typeof desc.selector === 'string' ? selectors$2.parse(desc.selector).selector : desc.selector;\n      var target = new Representation(this._selectionBit, lookupAndCreate(modes$1, desc.mode), lookupAndCreate(colorers$1, desc.colorer), selector);\n      target.selectorString = selector.toString();\n      target.setMaterialPreset(materials$1.get(desc.material));\n      target.markAtoms(this._complex);\n      this._reprList.push(target);\n      this._selectionBit = newSelectionBit;\n      this._reprUsedBits |= 1 << this._selectionBit;\n      this._complex.markAtoms(originalSelection, 1 << this._selectionBit);\n      return {\n        desc: desc,\n        index: this._reprList.length - 1\n      };\n    }\n  }, {\n    key: \"repRemove\",\n    value: function repRemove(index) {\n      if (index === undefined) {\n        index = this.repCurrent();\n      }\n      var count = this._reprList.length;\n      if (index < 0 || index >= count || count <= 1) {\n        return;\n      }\n      var target = this._reprList[index];\n      target.unmarkAtoms(this._complex);\n      this._reprUsedBits &= ~(1 << target.index);\n      this._reprList.splice(index, 1);\n      if (target === this._repr) {\n        --count;\n        index = index < count ? index : count - 1;\n        this._repr = this._reprList[index];\n      }\n      this._reprListChanged = true;\n    }\n  }, {\n    key: \"repHide\",\n    value: function repHide(index, hide) {\n      if (hide === undefined) {\n        hide = true;\n      }\n      if (index < 0 || index >= this._reprList.length) {\n        return;\n      }\n      var target = this._reprList[index];\n      target.show(!hide);\n    }\n  }, {\n    key: \"select\",\n    value: function select(selector, append) {\n      if (append) {\n        this._selectionCount += this._complex.markAtomsAdditionally(selector, 1 << this._selectionBit);\n      } else {\n        this._selectionCount = this._complex.markAtoms(selector, 1 << this._selectionBit);\n      }\n      this._complex.updateStructuresMask();\n      this.rebuildSelectionGeometry();\n    }\n  }, {\n    key: \"resetSelectionMask\",\n    value: function resetSelectionMask() {\n      if (this._selectionCount !== 0) {\n        this._selectionCount = 0;\n        if (this._complex) {\n          this._complex.clearAtomBits(1 << this._selectionBit);\n        }\n      }\n    }\n  }, {\n    key: \"updateSelectionMask\",\n    value: function updateSelectionMask(pickedObj) {\n      var self = this;\n      var atom = pickedObj.atom;\n      var residue = pickedObj.residue,\n          chain = pickedObj.chain,\n          molecule = pickedObj.molecule;\n      var setMask = 1 << this._selectionBit;\n      var clearMask = ~setMask;\n      if (atom) {\n        residue = atom.residue;\n        chain = residue._chain;\n        molecule = residue._molecule;\n        if (atom.mask & setMask) {\n          atom.mask &= clearMask;\n          residue._mask &= clearMask;\n          chain._mask &= clearMask;\n          if (molecule) {\n            molecule.mask &= clearMask;\n          }\n          this._selectionCount--;\n        } else {\n          atom.mask |= setMask;\n          this._selectionCount++;\n          residue.collectMask();\n          chain.collectMask();\n          if (molecule) {\n            molecule.collectMask();\n          }\n        }\n      } else if (residue) {\n        chain = residue._chain;\n        molecule = residue._molecule;\n        if (residue._mask & setMask) {\n          residue._mask &= clearMask;\n          chain._mask &= clearMask;\n          residue.forEachAtom(function (a) {\n            if (a.mask & setMask) {\n              a.mask &= clearMask;\n              self._selectionCount--;\n            }\n          });\n        } else {\n          residue._mask |= setMask;\n          residue.forEachAtom(function (a) {\n            if (!(a.mask & setMask)) {\n              a.mask |= setMask;\n              self._selectionCount++;\n            }\n          });\n          chain.collectMask();\n          if (molecule) {\n            molecule.collectMask();\n          }\n        }\n      } else if (chain || molecule) {\n        var obj = chain || molecule;\n        if (obj._mask & setMask) {\n          obj._mask &= clearMask;\n          obj.forEachResidue(function (r) {\n            if (r._mask & setMask) {\n              r._mask &= clearMask;\n              r.forEachAtom(function (a) {\n                if (a.mask & setMask) {\n                  a.mask &= clearMask;\n                  self._selectionCount--;\n                }\n              });\n              r._mask &= clearMask;\n            }\n          });\n        } else {\n          obj._mask |= setMask;\n          obj.forEachResidue(function (r) {\n            if (!(r._mask & setMask)) {\n              r._mask |= setMask;\n              r.forEachAtom(function (a) {\n                if (!(a.mask & setMask)) {\n                  a.mask |= setMask;\n                  self._selectionCount++;\n                }\n              });\n              var otherObj = chain ? r.getMolecule() : r.getChain();\n              if (otherObj) {\n                otherObj.collectMask();\n              }\n            }\n          });\n        }\n      } else {\n        this.resetSelectionMask();\n      }\n    }\n  }, {\n    key: \"expandSelection\",\n    value: function expandSelection() {\n      var self = this;\n      var selectionMask = 1 << this._selectionBit;\n      var tmpMask = 1 << 31;\n      this._complex.forEachBond(function (bond) {\n        if (bond._left.mask & selectionMask) {\n          if ((bond._right.mask & selectionMask) === 0) {\n            bond._right.mask |= tmpMask;\n          }\n        } else if (bond._right.mask & selectionMask) {\n          bond._left.mask |= tmpMask;\n        }\n      });\n      var deselectionMask = ~tmpMask;\n      this._complex.forEachAtom(function (atom) {\n        if (atom.mask & tmpMask) {\n          atom.mask = atom.mask & deselectionMask | selectionMask;\n          ++self._selectionCount;\n        }\n      });\n      this._complex.updateStructuresMask();\n    }\n  }, {\n    key: \"shrinkSelection\",\n    value: function shrinkSelection() {\n      var self = this;\n      var selectionMask = 1 << this._selectionBit;\n      var tmpMask = 1 << 31;\n      this._complex.forEachBond(function (bond) {\n        if (bond._left.mask & selectionMask) {\n          if ((bond._right.mask & selectionMask) === 0) {\n            bond._left.mask |= tmpMask;\n          }\n        } else if (bond._right.mask & selectionMask) {\n          bond._right.mask |= tmpMask;\n        }\n      });\n      this._complex.forEachAtom(function (atom) {\n        if (atom.mask & selectionMask && atom.bonds.length === 1) {\n          atom.mask |= tmpMask;\n        }\n      });\n      var deselectionMask = ~(selectionMask | tmpMask);\n      this._complex.forEachAtom(function (atom) {\n        if (atom.mask & tmpMask) {\n          atom.mask &= deselectionMask;\n          --self._selectionCount;\n        }\n      });\n      this._complex.updateStructuresMask();\n    }\n  }, {\n    key: \"getSelectedComponent\",\n    value: function getSelectedComponent() {\n      var selectionMask = 1 << this._selectionBit;\n      var component = null;\n      var multiple = false;\n      this._complex.forEachAtom(function (atom) {\n        if (atom.mask & selectionMask) {\n          if (component === null) {\n            component = atom.residue._component;\n          } else if (component !== atom.residue._component) {\n            multiple = true;\n          }\n        }\n      });\n      return multiple ? null : component;\n    }\n  }, {\n    key: \"getSelectionCenter\",\n    value: function getSelectionCenter(center, includesAtom, selRule) {\n      center.set(0.0, 0.0, 0.0);\n      var count = 0;\n      this._complex.forEachAtom(function (atom) {\n        if (includesAtom(atom, selRule)) {\n          center.add(atom.position);\n          count++;\n        }\n      });\n      if (count === 0) {\n        return false;\n      }\n      center.divideScalar(count);\n      center.applyMatrix4(this.matrix);\n      return true;\n    }\n  }, {\n    key: \"needsRebuild\",\n    value: function needsRebuild() {\n      if (this._reprListChanged) {\n        return true;\n      }\n      var reprList = this._reprList;\n      for (var i = 0, n = reprList.length; i < n; ++i) {\n        var repr = reprList[i];\n        if (repr.needsRebuild) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"rebuild\",\n    value: function rebuild() {\n      var self = this;\n      gfxutils.clearTree(this);\n      return new Promise(function (resolve) {\n        var complex = self._complex;\n        if (!complex) {\n          resolve();\n          return;\n        }\n        var errorOccured = false;\n        setTimeout(function () {\n          console.time('build');\n          var reprList = self._reprList;\n          var palette = palettes$1.get(settings$1.now.palette) || palettes$1.first;\n          var hasGeometry = false;\n          for (var i = 0, n = reprList.length; i < n; ++i) {\n            var repr = reprList[i];\n            repr.colorer.palette = palette;\n            if (repr.needsRebuild) {\n              repr.reset();\n              try {\n                repr.buildGeometry(complex);\n              } catch (e) {\n                if (e instanceof utils.OutOfMemoryError) {\n                  repr.needsRebuild = false;\n                  repr.reset();\n                  logger.error(\"Not enough memory to build geometry for representation \".concat(repr.index + 1));\n                  errorOccured = true;\n                } else {\n                  throw e;\n                }\n              }\n            }\n            hasGeometry = errorOccured || hasGeometry || gfxutils.groupHasGeometryToRender(repr.geo);\n            if (repr.geo) {\n              self.add(repr.geo);\n            }\n          }\n          self._reprListChanged = false;\n          console.timeEnd('build');\n          resolve();\n        }, 10);\n      });\n    }\n  }, {\n    key: \"setNeedsRebuild\",\n    value: function setNeedsRebuild() {\n      var reprList = this._reprList;\n      for (var i = 0, n = reprList.length; i < n; ++i) {\n        reprList[i].needsRebuild = true;\n      }\n    }\n  }, {\n    key: \"rebuildSelectionGeometry\",\n    value: function rebuildSelectionGeometry() {\n      var mask = 1 << this._selectionBit;\n      gfxutils.clearTree(this._selectionGeometry);\n      for (var i = 0, n = this._reprList.length; i < n; ++i) {\n        var repr = this._reprList[i];\n        var sg = repr.buildSelectionGeometry(mask);\n        if (!sg) {\n          continue;\n        }\n        this._selectionGeometry.add(sg);\n        for (var j = 0; j < sg.children.length; j++) {\n          var m = sg.children[j];\n          if (this._editor && this._editor._componentTransforms) {\n            var t = this._editor._componentTransforms[m._component._index];\n            if (t) {\n              m.position.copy(t.position);\n              m.quaternion.copy(t.quaternion);\n            }\n          }\n        }\n        gfxutils.applySelectionMaterial(sg);\n      }\n    }\n  }, {\n    key: \"_buildSelectorFromSortedLists\",\n    value: function _buildSelectorFromSortedLists(atoms, residues, chains) {\n      var complex = this._complex;\n      function optimizeList(list) {\n        var result = [];\n        var k = 0;\n        var first = NaN;\n        var last = NaN;\n        for (var i = 0, n = list.length; i < n; ++i) {\n          var value = list[i];\n          if (value === last + 1) {\n            last = value;\n          } else {\n            if (!Number.isNaN(first)) {\n              result[k++] = new selectors$2.Range(first, last);\n            }\n            first = last = value;\n          }\n        }\n        if (!Number.isNaN(first)) {\n          result[k] = new selectors$2.Range(first, last);\n        }\n        return result;\n      }\n      var expression = null;\n      if (chains.length === complex._chains.length) {\n        expression = selectors$2.all();\n      } else {\n        var selector;\n        if (chains.length > 0) {\n          selector = selectors$2.chain(chains);\n          expression = expression ? selectors$2.or(expression, selector) : selector;\n        }\n        if (Object.keys(residues).length > 0) {\n          for (var ch in residues) {\n            if (residues.hasOwnProperty(ch)) {\n              selector = selectors$2.and(selectors$2.chain(ch), selectors$2.residx(optimizeList(residues[ch])));\n              expression = expression ? selectors$2.or(expression, selector) : selector;\n            }\n          }\n        }\n        if (atoms.length > 0) {\n          selector = selectors$2.serial(optimizeList(atoms));\n          expression = expression ? selectors$2.or(expression, selector) : selector;\n        }\n        if (!expression) {\n          expression = selectors$2.none();\n        }\n      }\n      return expression;\n    }\n  }, {\n    key: \"buildSelectorFromMask\",\n    value: function buildSelectorFromMask(mask) {\n      var complex = this._complex;\n      var chains = [];\n      var residues = {};\n      var atoms = [];\n      complex.forEachChain(function (chain) {\n        if (chain._mask & mask) {\n          chains.push(chain._name);\n        }\n      });\n      complex.forEachResidue(function (residue) {\n        if (residue._mask & mask && !(residue._chain._mask & mask)) {\n          var c = residue._chain._name;\n          if (!(c in residues)) {\n            residues[c] = [residue._index];\n          } else {\n            residues[c].push(residue._index);\n          }\n        }\n      });\n      complex.forEachAtom(function (atom) {\n        if (atom.mask & mask && !(atom.residue._mask & mask)) {\n          atoms.push(atom.serial);\n        }\n      });\n      return this._buildSelectorFromSortedLists(atoms, residues, chains);\n    }\n  }, {\n    key: \"forSelectedResidues\",\n    value: function forSelectedResidues(process) {\n      var selectionMask = 1 << this._selectionBit;\n      this._complex.forEachResidue(function (residue) {\n        if (residue._mask & selectionMask) {\n          process(residue);\n        }\n      });\n    }\n  }, {\n    key: \"beginComponentEdit\",\n    value: function beginComponentEdit() {\n      if (this._editor) {\n        return null;\n      }\n      var editor = new ComplexVisualEdit.ComponentEditor(this);\n      if (!editor.begin()) {\n        return null;\n      }\n      this._editor = editor;\n      return editor;\n    }\n  }, {\n    key: \"beginFragmentEdit\",\n    value: function beginFragmentEdit() {\n      if (this._editor) {\n        return null;\n      }\n      var editor = new ComplexVisualEdit.FragmentEditor(this);\n      if (!editor.begin()) {\n        return null;\n      }\n      this._editor = editor;\n      return editor;\n    }\n  }, {\n    key: \"finalizeEdit\",\n    value: function finalizeEdit() {\n      this._editor = null;\n    }\n  }, {\n    key: \"setMaterialValues\",\n    value: function setMaterialValues(values) {\n      var needTraverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      for (var i = 0, n = this._reprList.length; i < n; ++i) {\n        var rep = this._reprList[i];\n        rep.material.setValues(values);\n        if (needTraverse) {\n          rep.geo.traverse(function (object) {\n            if (object instanceof Mesh) {\n              object.material.setValues(values);\n              if (process !== undefined) {\n                process(object);\n              }\n              object.material.needsUpdate = true;\n            }\n          });\n        }\n      }\n    }\n  }, {\n    key: \"setUberOptions\",\n    value: function setUberOptions(values) {\n      for (var i = 0, n = this._reprList.length; i < n; ++i) {\n        var rep = this._reprList[i];\n        rep.material.setUberOptions(values);\n      }\n    }\n  }, {\n    key: \"within\",\n    value: function within(selector, radius) {\n      var vw = this._complex.getVoxelWorld();\n      if (vw === null) {\n        return false;\n      }\n      var selectionMask = 1 << this._selectionBit;\n      this._complex.markAtoms(selector, selectionMask);\n      if (vw) {\n        vw.forEachAtomWithinDistFromMasked(this._complex, selectionMask, Number(radius), function (atom) {\n          atom.mask |= selectionMask;\n        });\n      }\n      this._selectionCount = this._complex.countAtomsByMask(selectionMask);\n      this._complex.updateStructuresMask();\n      return this.buildSelectorFromMask(selectionMask);\n    }\n  }]);\n  return ComplexVisual;\n}(Visual);\nComplexVisual.NUM_REPRESENTATION_BITS = 30;\n\nvar vertexVolumeFaces = \"varying vec3 pos;\\r\\n\\r\\nvoid main() {\\r\\n  // we're assuming local position is in [-0.5, 0.5]\\r\\n  // we need to offset it to be represented in RGB\\r\\n  pos = position.xyz + 0.5;\\r\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\r\\n}\";\n\nvar fragmentVolumeFaces = \"varying vec3 pos;\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = vec4(pos, 0.5);\\r\\n}\";\n\nvar vertexVolume = \"varying vec4 screenSpacePos;\\r\\n\\r\\nvoid main() {\\r\\n  screenSpacePos = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\r\\n  gl_Position = screenSpacePos;\\r\\n}\";\n\nvar fragmentVolume = \"uniform mat4 projectionMatrix;\\r\\n\\r\\n// 3D volume texture\\r\\nuniform vec3 volumeDim;    // volume dimensions, pixels\\r\\nuniform sampler2D tileTex; // tiled texture containing all Z-slices of a 3D data\\r\\nuniform vec2 tileTexSize;  // size of tiled texture, pixels\\r\\nuniform vec2 tileStride;   // UV stride between slices in tile tex, pixels\\r\\n\\r\\nuniform vec3 boxAngles;//value of angles({x: alpha, y:beta, z:gamma}) types 1 - if angle is obtuse, 0 - if acute\\r\\nuniform vec3 delta; //Projection box delta's from non-orthogonal origin axes; {x: XY, y : XZ, z: YZ}\\r\\n\\r\\nuniform vec3 _isoLevel0;\\r\\nuniform float _flipV;\\r\\nuniform sampler2D _BFLeft;\\r\\nuniform sampler2D _BFRight;\\r\\nuniform sampler2D _FFLeft;\\r\\nuniform sampler2D _FFRight;\\r\\nuniform sampler2D _WFFLeft;\\r\\nuniform sampler2D _WFFRight;\\r\\n\\r\\nvarying vec4 screenSpacePos;\\r\\n\\r\\n#define NO_COLOR vec4(0., 0., 0., 0.)\\r\\n\\r\\nvec4 sample3DTexture(vec3 texCoord) {\\r\\n  // a pair of Z slices is determined by nearest slice border\\r\\n  float zSliceBorder = floor(texCoord.z * volumeDim.z + 0.5);\\r\\n  float zSliceNumber1 = max(zSliceBorder - 1.0, 0.0);\\r\\n  float zSliceNumber2 = min(zSliceBorder, volumeDim.z - 1.0);\\r\\n\\r\\n  float rowTiles = floor(tileTexSize.x / tileStride.x);\\r\\n\\r\\n  // calculate coords in tile texture for both slices\\r\\n  vec2 tileOffset = vec2(mod(zSliceNumber1, rowTiles), floor(zSliceNumber1 / rowTiles));\\r\\n  vec2 texCoordSlice1 = (texCoord.xy * volumeDim.xy + tileOffset * tileStride) / tileTexSize.xy;\\r\\n  tileOffset = vec2(mod(zSliceNumber2, rowTiles), floor(zSliceNumber2 / rowTiles));\\r\\n  vec2 texCoordSlice2 = (texCoord.xy * volumeDim.xy + tileOffset * tileStride) / tileTexSize.xy;\\r\\n\\r\\n  // bilinear filtering\\r\\n  vec4 colorSlice1 = texture2D(tileTex, texCoordSlice1);\\r\\n  vec4 colorSlice2 = texture2D(tileTex, texCoordSlice2);\\r\\n  float weightSlice2 = texCoord.z * volumeDim.z - (zSliceNumber1 + 0.5);\\r\\n  return mix(colorSlice1, colorSlice2, weightSlice2);\\r\\n}\\r\\n\\r\\nvec4 sample3DTextureInclined(vec3 boxCoord) { // delta:{ x: XY, y : XZ, z: YZ }\\r\\n  vec3 textCoord = boxCoord;\\r\\n  vec2 currDelta = mix(boxCoord.zz, vec2(1., 1.) - boxCoord.zz, boxAngles.yx) * delta.yz;\\r\\n\\r\\n  textCoord.y = (boxCoord.y  - currDelta.y) / (1. - delta.z);\\r\\n  if (textCoord.y < 0.0 || textCoord.y > 1.0)\\r\\n    return NO_COLOR;\\r\\n\\r\\n  currDelta.x += mix(textCoord.y, 1.0 - textCoord.y, boxAngles.z) * delta.x;\\r\\n\\r\\n  textCoord.x = (boxCoord.x - currDelta.x) / (1. - delta.x - delta.y);\\r\\n  if (textCoord.x < 0.0 || textCoord.x > 1.0)\\r\\n    return NO_COLOR;\\r\\n\\r\\n  return sample3DTexture(textCoord);\\r\\n}\\r\\n\\r\\nfloat CalcColor(vec3 iter, vec3 dir) {\\r\\n  float d = 1. / 128.;\\r\\n  vec3 dx = vec3(d, 0.0, 0.0);\\r\\n  vec3 dy = vec3(0.0, d, 0.0);\\r\\n  vec3 dz = vec3(0.0, 0.0, d);\\r\\n\\r\\n  // #Opt: coordInc.x:(iter + dx).x > 1. ? 0.: sample3DTextureInclined(iter + dx).x,\\r\\n  vec3 coordInc = mix(\\r\\n    vec3(\\r\\n      sample3DTextureInclined(iter + dx).x,\\r\\n      sample3DTextureInclined(iter + dy).x,\\r\\n      sample3DTextureInclined(iter + dz).x\\r\\n    ),\\r\\n    vec3(0. ,0. , 0.),\\r\\n    vec3(floor((iter + dx).x), floor((iter + dy).y), floor((iter + dz).z))\\r\\n  );\\r\\n\\r\\n  // #Opt: coordDec.x:(iter - dx).x < 0. ? 0.: sample3DTextureInclined(iter - dx).x,\\r\\n  vec3 coordDec = mix(\\r\\n    vec3(0. ,0. , 0.),\\r\\n    vec3(\\r\\n      sample3DTextureInclined(iter - dx).x,\\r\\n      sample3DTextureInclined(iter - dy).x,\\r\\n      sample3DTextureInclined(iter - dz).x\\r\\n    ),\\r\\n    vec3(ceil((iter - dx).x), ceil((iter - dy).y), ceil((iter - dz).z))\\r\\n  );\\r\\n\\r\\n  vec3 N = normalize(coordInc - coordDec);\\r\\n  float dif = max(0.0, dot(N, dir));\\r\\n  return dif;\\r\\n}\\r\\n\\r\\nvec3 AccuracyIso(vec3 left, vec3 right, float volLeft, float threshold) {\\r\\n  for (int i = 0; i < 5; i++) {\\r\\n    vec3 iterator = 0.5 * (left + right);\\r\\n    float vol = sample3DTextureInclined(iterator).r;\\r\\n    if ((volLeft - threshold) * (vol - threshold) < 0.)\\r\\n      right = iterator;\\r\\n    else\\r\\n      left = iterator;\\r\\n  }\\r\\n  return 0.5 * (left + right);\\r\\n}\\r\\n\\r\\nvec3 CorrectIso(vec3 left, vec3 right, float tr) {\\r\\n  for (int j = 0; j < 5; j++) {\\r\\n    vec3 iterator = 0.5 * (left + right);\\r\\n    float vol = sample3DTextureInclined(iterator).r;\\r\\n    if (vol < tr)\\r\\n      right = iterator;\\r\\n    else\\r\\n      left = iterator;\\r\\n  }\\r\\n  return 0.5 * (left + right);\\r\\n}\\r\\n\\r\\nvec4 GetIso1(vec3 start, vec3 back, float molDist, vec3 dir, float tr, int count) {\\r\\n  float vol, stepSize = (float(count) + 2.) / float(STEPS_COUNT);\\r\\n  vec3 step = stepSize * dir, iterator = start, left, right;\\r\\n  vec4 acc = NO_COLOR;\\r\\n\\r\\n  for (int i = 0; i < STEPS_COUNT; i++) {\\r\\n    iterator = iterator + step;\\r\\n    vol = sample3DTextureInclined(iterator).r;\\r\\n    if (length(iterator - back) <= stepSize || (vol > tr))\\r\\n      break;\\r\\n  }\\r\\n\\r\\n  if (vol > tr)\\r\\n    acc = vec4(CorrectIso(iterator, iterator - step, tr).xyz, 1.);\\r\\n\\r\\n  return acc;\\r\\n}\\r\\n\\r\\nfloat easeOut(float x0, float x1, float x) {\\r\\n  float t = clamp((x - x0) / (x1 - x0), 0.0, 1.0);\\r\\n  return 1.0 - (1.0 - t) * (1.0 - t);\\r\\n}\\r\\n\\r\\nfloat easeIn(float x0, float x1, float x) {\\r\\n  float t = clamp((x - x0) / (x1 - x0), 0.0, 1.0);\\r\\n  return t * t;\\r\\n}\\r\\n\\r\\nvec3 GetColSimple(float vol) {\\r\\n  float t = easeOut(_isoLevel0.x, _isoLevel0.y, vol);\\r\\n  float s = easeIn(_isoLevel0.y, _isoLevel0.z, vol);\\r\\n  return vec3(0.5, 0.6, 0.7) * (1.0 - t) + 2.0 * vec3(s, 0, 0);\\r\\n}\\r\\n\\r\\nvec4 VolRender(vec3 start, vec3 back, float molDist, vec3 dir) {\\r\\n  vec4 acc = NO_COLOR, iso;\\r\\n  vec3 iterator = start, sumColor = vec3(0., 0., 0.);\\r\\n  float stepSize, alpha, sumAlpha = 0.0, vol, curStepSize, molD;\\r\\n  vec3 step, col, colOld, right;\\r\\n  float tr0 = _isoLevel0.x;\\r\\n  float dif, r, kd, finish;\\r\\n  int count = 0, stopMol = 0;\\r\\n\\r\\n  for (int k = 0; k < 3; k++) {\\r\\n    stepSize = (float(k) + 2.) / float(STEPS_COUNT);\\r\\n    kd = 140. * tr0 * stepSize;\\r\\n    r = 1. - kd;\\r\\n    step = stepSize * dir;\\r\\n    iso = GetIso1(iterator, back, molDist, dir, tr0, k);\\r\\n    if (iso.a < 0.1 || length(iso.xyz - start) > molDist)\\r\\n      break;\\r\\n    iterator = iso.xyz;\\r\\n    dif = 1.;// CalcColor(iterator, dir);\\r\\n    colOld = GetColSimple(tr0);\\r\\n    curStepSize = stepSize;\\r\\n    for (int i = 0; i < STEPS_COUNT; i++) {\\r\\n      iterator = iterator + step;\\r\\n      molD = length(iterator - start);\\r\\n      vol = sample3DTextureInclined(iterator).r;\\r\\n      finish = distance(iterator, back) - stepSize;\\r\\n      if (finish < 0.0 || vol < tr0 || (sumAlpha > 0.97) || molD > molDist)\\r\\n        break;\\r\\n      alpha = (1. - r);\\r\\n      col = GetColSimple(vol);\\r\\n      vol = sample3DTextureInclined(iterator - 0.5 * step).r;\\r\\n      vec3 colMid = GetColSimple(vol);\\r\\n      sumColor += (1. - sumAlpha) * (colOld + 4.* colMid + col) * alpha / 6.;\\r\\n      sumAlpha += (1. - sumAlpha) * alpha;// *(1. - 1.0*dif*dif);\\r\\n      colOld = col;\\r\\n    } // for i\\r\\n\\r\\n    if (finish < 0.0 || sumAlpha > 0.97)\\r\\n      break;\\r\\n\\r\\n    if (molD > molDist) {\\r\\n      curStepSize = stepSize - (molD - molDist);\\r\\n      right = iterator - (molD - molDist) * dir;\\r\\n      vol = sample3DTextureInclined(right).r;\\r\\n    } else {\\r\\n      vec3 left = iterator - step;\\r\\n      right = CorrectIso(left, iterator, tr0);\\r\\n      curStepSize = distance(left, right);\\r\\n      vol = tr0;\\r\\n    }\\r\\n\\r\\n    alpha = (1. - r) * curStepSize / stepSize;\\r\\n    dif = 1.;// CalcColor(right, dir);\\r\\n    col = GetColSimple(vol);\\r\\n    vol = sample3DTextureInclined(iterator - 0.5 * curStepSize / stepSize * step).r;\\r\\n    vec3 colMid = GetColSimple(vol);\\r\\n    sumColor += (1. - sumAlpha) * (colOld + 4. * colMid + col) * alpha / 6.;\\r\\n    sumAlpha += (1. - sumAlpha) * alpha;// *(1. - 1.0*dif*dif);\\r\\n\\r\\n    if (molD > molDist)\\r\\n      break;\\r\\n  } // for k\\r\\n  acc.rgb = 1. * sumColor / sumAlpha;\\r\\n  acc.a = sumAlpha;\\r\\n  return acc;\\r\\n}\\r\\n\\r\\nvec4 VolRender1(vec3 start, vec3 back, float molDist, vec3 dir) {\\r\\n  float stepSize = 1.0 / float(STEPS_COUNT);\\r\\n  float len = length(back - start);\\r\\n  vec3 step = stepSize * dir;\\r\\n  vec3 iterator = start;\\r\\n  float acc = 0.0;\\r\\n\\r\\n  for (int i = 0; i < STEPS_COUNT; i++) {\\r\\n    if (float(i) * stepSize > len)\\r\\n      break;\\r\\n    iterator = iterator + step;\\r\\n    if (sample3DTextureInclined(iterator).r > _isoLevel0.x)\\r\\n      acc += 10. * sample3DTextureInclined(iterator).r / float(STEPS_COUNT);\\r\\n  }\\r\\n\\r\\n  return vec4(1.,1.,1., acc);\\r\\n}\\r\\n\\r\\nvec4 IsoRender(vec3 start, vec3 back, float molDist, vec3 dir) {\\r\\n  vec4 tst = GetIso1(start, back, 2., dir, _isoLevel0.x, 0);\\r\\n  vec4 col = NO_COLOR;\\r\\n\\r\\n  if (length(tst.xyz - start) < molDist && tst.a > 0.1) {\\r\\n    float dif =  CalcColor(tst.xyz, dir);\\r\\n    dif = 0.9 * dif * dif;\\r\\n    col = vec4(dif, dif, dif, 1);\\r\\n  }\\r\\n  return col;\\r\\n}\\r\\n\\r\\nvec4 VolRender2(vec3 start, vec3 back, float molDist, vec3 dir) {\\r\\n  return sample3DTexture(start);\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n  vec3 tc = screenSpacePos.xyz / screenSpacePos.w * 0.5 + 0.5;\\r\\n\\r\\n  if (_flipV > 0.0) {\\r\\n    tc.y = 1.0 - tc.y;\\r\\n  }\\r\\n\\r\\n  vec3 start;\\r\\n  vec3 back;\\r\\n  vec3 molBack;\\r\\n  if (projectionMatrix[0][2] < 0.0) {\\r\\n    start = texture2D(_FFLeft, tc.xy).xyz;\\r\\n    back = texture2D(_BFLeft, tc.xy).xyz;\\r\\n    molBack = texture2D(_WFFLeft, tc.xy).xyz;\\r\\n  } else {\\r\\n    start = texture2D(_FFRight, tc.xy).xyz;\\r\\n    back = texture2D(_BFRight, tc.xy).xyz;\\r\\n    molBack = texture2D(_WFFRight, tc.xy).xyz;\\r\\n  }\\r\\n\\r\\n  vec3 dir = normalize(back - start);\\r\\n\\r\\n  float molDist = 2.0;\\r\\n  if (length(molBack) > 0.001) {\\r\\n    molDist = distance(start, molBack);\\r\\n  }\\r\\n\\r\\n  #ifdef ISO_MODE\\r\\n    gl_FragColor = IsoRender(start, back, molDist, dir);\\r\\n  #else\\r\\n    gl_FragColor = VolRender(start, back, molDist, dir);\\r\\n  #endif\\r\\n}\\r\\n\";\n\nvar vertexFarPlane = \"varying vec4 volPos;\\r\\nuniform float aspectRatio;\\r\\nuniform float farZ;\\r\\nuniform float tanHalfFOV;\\r\\nuniform mat4  matWorld2Volume;\\r\\n\\r\\nvoid main() {\\r\\n  // rescale plane to fill in the whole far plane area seen from camera\\r\\n  vec3 pos = position.xyz;\\r\\n  pos.x = pos.x * tanHalfFOV * farZ * aspectRatio;\\r\\n  pos.y = pos.y * tanHalfFOV * farZ;\\r\\n  // common transformation\\r\\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);\\r\\n  // calc pos in volume CS\\r\\n  volPos = matWorld2Volume * modelMatrix * vec4(pos, 1.0);\\r\\n  // we're assuming local position is in [-0.5, 0.5]\\r\\n  // we need to offset it to be represented in RGB\\r\\n  volPos = volPos + 0.5;\\r\\n  volPos.w = 0.5;\\r\\n}\\r\\n\";\n\nvar fragmentFarPlane = \"varying vec4 volPos;\\r\\n\\r\\nvoid main() {\\r\\n  gl_FragColor = volPos;\\r\\n}\";\n\nfunction _createSuper$y(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$y(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$y() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar volumeUniforms = UniformsUtils.merge([{\n  volumeDim: {\n    type: 'v3',\n    value: new Vector3(512, 512, 512)\n  },\n  tileTex: {\n    type: 't',\n    value: null\n  },\n  tileTexSize: {\n    type: 'v2',\n    value: new Vector2(512, 512)\n  },\n  tileStride: {\n    type: 'v2',\n    value: new Vector2(512, 512)\n  },\n  boxAngles: {\n    type: 'v3',\n    value: new Vector3(1, 1, 1)\n  },\n  delta: {\n    type: 'v3',\n    value: new Vector3(0, 0, 0)\n  },\n  _isoLevel0: {\n    type: 'v2',\n    value: new Vector3(0.5, 0.75, 1.0)\n  },\n  _flipV: {\n    type: 'f',\n    value: 0.0\n  },\n  _BFLeft: {\n    type: 't',\n    value: null\n  },\n  _BFRight: {\n    type: 't',\n    value: null\n  },\n  _FFLeft: {\n    type: 't',\n    value: null\n  },\n  _FFRight: {\n    type: 't',\n    value: null\n  },\n  _WFFLeft: {\n    type: 't',\n    value: null\n  },\n  _WFFRight: {\n    type: 't',\n    value: null\n  }\n}]);\nfunction overrideUniforms(params, defUniforms) {\n  var uniforms = UniformsUtils.clone(defUniforms);\n  for (var p in params) {\n    if (uniforms.hasOwnProperty(p)) {\n      uniforms[p].value = params[p];\n    }\n  }\n  return uniforms;\n}\nfunction facesPosMaterialParams(params, sideType) {\n  return {\n    uniforms: overrideUniforms(params, {}),\n    vertexShader: vertexVolumeFaces,\n    fragmentShader: fragmentVolumeFaces,\n    transparent: false,\n    depthTest: false,\n    depthWrite: false,\n    side: sideType\n  };\n}\nvar BackFacePosMaterial = function (_ShaderMaterial) {\n  _inherits(BackFacePosMaterial, _ShaderMaterial);\n  var _super = _createSuper$y(BackFacePosMaterial);\n  function BackFacePosMaterial(params) {\n    _classCallCheck(this, BackFacePosMaterial);\n    var backFaceParams = facesPosMaterialParams(params, BackSide);\n    return _super.call(this, backFaceParams);\n  }\n  return _createClass(BackFacePosMaterial);\n}(ShaderMaterial);\nvar ShaderParams = _createClass(function ShaderParams(params, uniforms, vertexShader, fragmentShader) {\n  _classCallCheck(this, ShaderParams);\n  this.uniforms = overrideUniforms(params, uniforms);\n  this.vertexShader = vertexShader;\n  this.fragmentShader = fragmentShader;\n  this.transparent = false;\n  this.depthTest = false;\n  this.depthWrite = false;\n  this.side = FrontSide;\n});\nvar BackFacePosMaterialFarPlane = function (_ShaderMaterial2) {\n  _inherits(BackFacePosMaterialFarPlane, _ShaderMaterial2);\n  var _super2 = _createSuper$y(BackFacePosMaterialFarPlane);\n  function BackFacePosMaterialFarPlane(params) {\n    _classCallCheck(this, BackFacePosMaterialFarPlane);\n    var matUniforms = UniformsUtils.merge([{\n      aspectRatio: {\n        type: 'f',\n        value: 0.0\n      },\n      farZ: {\n        type: 'f',\n        value: 0.0\n      },\n      tanHalfFOV: {\n        type: 'f',\n        value: 0.0\n      },\n      matWorld2Volume: {\n        type: '4fv',\n        value: new Matrix4()\n      }\n    }]);\n    var shaderParams = new ShaderParams(params, matUniforms, vertexFarPlane, fragmentFarPlane);\n    return _super2.call(this, shaderParams);\n  }\n  return _createClass(BackFacePosMaterialFarPlane);\n}(ShaderMaterial);\nvar FrontFacePosMaterial = function (_ShaderMaterial3) {\n  _inherits(FrontFacePosMaterial, _ShaderMaterial3);\n  var _super3 = _createSuper$y(FrontFacePosMaterial);\n  function FrontFacePosMaterial(params) {\n    _classCallCheck(this, FrontFacePosMaterial);\n    var frontFaceParams = facesPosMaterialParams(params, FrontSide);\n    return _super3.call(this, frontFaceParams);\n  }\n  return _createClass(FrontFacePosMaterial);\n}(ShaderMaterial);\nvar VolumeMaterial = function (_ShaderMaterial4) {\n  _inherits(VolumeMaterial, _ShaderMaterial4);\n  var _super4 = _createSuper$y(VolumeMaterial);\n  function VolumeMaterial(params) {\n    var _this;\n    _classCallCheck(this, VolumeMaterial);\n    var shaderParams = new ShaderParams(params, volumeUniforms, vertexVolume, fragmentVolume);\n    shaderParams.transparent = true;\n    shaderParams.depthTest = true;\n    _this = _super4.call(this, shaderParams);\n    _this.updateDefines();\n    return _this;\n  }\n  _createClass(VolumeMaterial, [{\n    key: \"updateDefines\",\n    value: function updateDefines() {\n      this.defines = {\n        ISO_MODE: settings$1.now.modes.VD.isoMode,\n        STEPS_COUNT: settings$1.now.modes.VD.polyComplexity[settings$1.now.resolution] * 100\n      };\n      this.needsUpdate = true;\n    }\n  }]);\n  return VolumeMaterial;\n}(ShaderMaterial);\nvar VolumeMaterial$1 = {\n  BackFacePosMaterial: BackFacePosMaterial,\n  BackFacePosMaterialFarPlane: BackFacePosMaterialFarPlane,\n  FrontFacePosMaterial: FrontFacePosMaterial,\n  VolumeMaterial: VolumeMaterial\n};\n\nfunction _createSuper$x(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$x(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$x() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VolumeMesh = function (_Mesh) {\n  _inherits(VolumeMesh, _Mesh);\n  var _super = _createSuper$x(VolumeMesh);\n  function VolumeMesh() {\n    var _this;\n    _classCallCheck(this, VolumeMesh);\n    var geo = new BufferGeometry();\n    _this = _super.call(this, geo);\n    _defineProperty(_assertThisInitialized(_this), \"volumeInfo\", {});\n    _this.clipPlane = new Plane();\n    var size = new Vector3(0.5, 0.5, 0.5);\n    _this.size = size;\n    _this.cullFlag = [true, true, true, true, true, true, true, true, false, false, false, false, false, false];\n    _this.faces = [{\n      indices: [],\n      norm: new Vector3(0, 0, -1)\n    }, {\n      indices: [],\n      norm: new Vector3(0, 0, 1)\n    }, {\n      indices: [],\n      norm: new Vector3(0, -1, 0)\n    }, {\n      indices: [],\n      norm: new Vector3(0, 1, 0)\n    }, {\n      indices: [],\n      norm: new Vector3(-1, 0, 0)\n    }, {\n      indices: [],\n      norm: new Vector3(1, 0, 0)\n    }, {\n      indices: [],\n      norm: new Vector3(0, 0, 0)\n    }];\n    _this.vertices = [new Vector3(-size.x, -size.y, -size.z), new Vector3(-size.x, size.y, -size.z), new Vector3(size.x, -size.y, -size.z), new Vector3(size.x, size.y, -size.z), new Vector3(-size.x, -size.y, size.z), new Vector3(-size.x, size.y, size.z), new Vector3(size.x, -size.y, size.z), new Vector3(size.x, size.y, size.z), new Vector3(0.0, 0.0, 0.0),\n    new Vector3(0.0, 0.0, 0.0), new Vector3(0.0, 0.0, 0.0), new Vector3(0.0, 0.0, 0.0), new Vector3(0.0, 0.0, 0.0), new Vector3(0.0, 0.0, 0.0)];\n    geo.setAttribute('position', new BufferAttribute(new Float32Array(_this.vertices.length * 3), 3));\n    _this.name = 'VolumeMesh';\n    return _this;\n  }\n  _createClass(VolumeMesh, [{\n    key: \"_updateVertices\",\n    value: function _updateVertices() {\n      var corners = VolumeMesh._corners;\n      var edges = VolumeMesh._edges;\n      var edgeIntersections = VolumeMesh._edgeIntersections;\n      var i;\n      var norm = this.clipPlane.normal;\n      var D = this.clipPlane.constant;\n      var vert = this.vertices;\n      var size = this.size;\n      var cornerMark = [0, 0, 0, 0, 0, 0, 0, 0];\n      var edgeMark = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1];\n      var curEdge = new Vector3();\n      var curEdgeInter = null;\n      function CheckX() {\n        if (norm.x === 0) return 0;\n        var x = -(norm.dot(curEdge) + D) / norm.x;\n        if (-size.x <= x && x <= size.x) {\n          curEdgeInter.set(x, curEdge.y, curEdge.z);\n          if (x === size.x) return 2;\n          if (x === -size.x) return -2;\n          return 1;\n        }\n        return 0;\n      }\n      function CheckY() {\n        if (norm.y === 0) return 0;\n        var y = -(norm.dot(curEdge) + D) / norm.y;\n        if (-size.y <= y && y <= size.y) {\n          curEdgeInter.set(curEdge.x, y, curEdge.z);\n          if (y === size.y) return 2;\n          if (y === -size.y) return -2;\n          return 1;\n        }\n        return 0;\n      }\n      function CheckZ() {\n        if (norm.z === 0) return 0;\n        var z = -(norm.dot(curEdge) + D) / norm.z;\n        if (-size.z <= z && z <= size.z) {\n          curEdgeInter.set(curEdge.x, curEdge.y, z);\n          if (z === size.z) return 2;\n          if (z === -size.z) return -2;\n          return 1;\n        }\n        return 0;\n      }\n      for (var curEdgeIdx = 0; curEdgeIdx < 12; ++curEdgeIdx) {\n        var curEdgeSource = edges[curEdgeIdx];\n        curEdgeInter = edgeIntersections[curEdgeIdx];\n        curEdge.set(curEdgeSource[2], curEdgeSource[3], curEdgeSource[4]);\n        curEdge.multiply(size);\n        var flag = 0;\n        if (curEdgeSource[2] === 0) flag = CheckX();\n        if (curEdgeSource[3] === 0) flag = CheckY();\n        if (curEdgeSource[4] === 0) flag = CheckZ();\n        if (flag === -2) {\n          cornerMark[curEdgeSource[0]] = 1;\n        } else if (flag === 2) {\n          cornerMark[curEdgeSource[1]] = 1;\n        } else if (flag === 0) {\n          edgeMark[curEdgeIdx] = 0;\n        }\n      }\n      var face = {\n        indices: [],\n        norm: norm.clone().negate()\n      };\n      var nextVertex = 8;\n      for (i = 0; i < 8; ++i) {\n        if (cornerMark[i] === 1) {\n          vert[nextVertex].set(corners[i][0], corners[i][1], corners[i][2]).multiply(size);\n          face.indices.push(nextVertex++);\n          edgeMark[corners[i][3]] = 0;\n          edgeMark[corners[i][4]] = 0;\n          edgeMark[corners[i][5]] = 0;\n        }\n      }\n      for (i = 0; i < 12; ++i) {\n        if (edgeMark[i] === 1) {\n          vert[nextVertex].copy(edgeIntersections[i]);\n          face.indices.push(nextVertex++);\n        }\n      }\n      this.faces[6] = face;\n      var diff = new Vector3();\n      var coplanarPoint = new Vector3();\n      this.clipPlane.coplanarPoint(coplanarPoint);\n      for (i = 0; i < vert.length; ++i) {\n        this.cullFlag[i] = false;\n        if (i < 8) {\n          diff.subVectors(vert[i], coplanarPoint);\n          this.cullFlag[i] = norm.dot(diff) >= 0.0;\n        } else if (i < 8 + face.indices.length) {\n          this.cullFlag[i] = true;\n        }\n      }\n      var positions = this.geometry.getAttribute('position');\n      var idx = 0;\n      for (i = 0; i < vert.length; ++i) {\n        positions.array[idx++] = vert[i].x;\n        positions.array[idx++] = vert[i].y;\n        positions.array[idx++] = vert[i].z;\n      }\n      positions.needsUpdate = true;\n    }\n  }, {\n    key: \"_collectVertices\",\n    value: function _collectVertices(face, filter) {\n      var i;\n      var vert = this.vertices;\n      face.indices = [];\n      for (i = 0; i < vert.length; ++i) {\n        if (this.cullFlag[i] && filter(vert[i])) {\n          face.indices.push(i);\n        }\n      }\n    }\n  }, {\n    key: \"_sortIndices\",\n    value: function _sortIndices(face, right) {\n      var i;\n      var j;\n      var vert = this.vertices;\n      var angle = [];\n      var dir = new Vector3();\n      for (i = 1; i < face.indices.length; ++i) {\n        dir.subVectors(vert[face.indices[i]], vert[face.indices[0]]);\n        dir.normalize();\n        dir.cross(right);\n        dir.negate();\n        angle[i] = face.norm.dot(dir);\n      }\n      for (i = 1; i < face.indices.length - 1; ++i) {\n        for (j = i + 1; j < face.indices.length; ++j) {\n          if (angle[j] < angle[i]) {\n            var t = angle[i];\n            angle[i] = angle[j];\n            angle[j] = t;\n            t = face.indices[i];\n            face.indices[i] = face.indices[j];\n            face.indices[j] = t;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_updateIndices\",\n    value: function _updateIndices() {\n      var i;\n      var faceIdx;\n      var face;\n      var vert = this.vertices;\n      var size = this.size;\n      this._collectVertices(this.faces[0], function (vertex) {\n        return vertex.z === -size.z;\n      });\n      this._collectVertices(this.faces[1], function (vertex) {\n        return vertex.z === size.z;\n      });\n      this._collectVertices(this.faces[2], function (vertex) {\n        return vertex.y === -size.y;\n      });\n      this._collectVertices(this.faces[3], function (vertex) {\n        return vertex.y === size.y;\n      });\n      this._collectVertices(this.faces[4], function (vertex) {\n        return vertex.x === -size.x;\n      });\n      this._collectVertices(this.faces[5], function (vertex) {\n        return vertex.x === size.x;\n      });\n      var vCenter = new Vector3();\n      var vRight = new Vector3();\n      var vDir = new Vector3();\n      for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n        face = this.faces[faceIdx];\n        if (face.indices.length === 0) continue;\n        vCenter.set(0, 0, 0);\n        for (i = 0; i < face.indices.length; ++i) {\n          vCenter.add(vert[face.indices[i]]);\n        }\n        vCenter.multiplyScalar(1.0 / face.indices.length);\n        vRight.subVectors(vert[face.indices[0]], vCenter);\n        vRight.normalize();\n        var rightProj = [];\n        for (i = 0; i < face.indices.length; ++i) {\n          vDir.subVectors(vert[face.indices[i]], vCenter);\n          rightProj[i] = vDir.dot(vRight);\n        }\n        for (i = 1; i < face.indices.length; ++i) {\n          if (rightProj[i] < rightProj[0]) {\n            var t = rightProj[0];\n            rightProj[0] = rightProj[i];\n            rightProj[i] = t;\n            var _face$indices = _slicedToArray(face.indices, 1);\n            t = _face$indices[0];\n            face.indices[0] = face.indices[i];\n            face.indices[i] = t;\n          }\n        }\n        this._sortIndices(face, vRight);\n      }\n      var numIndices = 0;\n      for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n        face = this.faces[faceIdx];\n        if (face.indices.length >= 3) {\n          numIndices += 3 * (face.indices.length - 2);\n        }\n      }\n      var offset = 0;\n      var indices = new Uint16Array(numIndices);\n      for (faceIdx = 0; faceIdx < this.faces.length; ++faceIdx) {\n        face = this.faces[faceIdx];\n        for (i = 0; i < face.indices.length - 2; ++i) {\n          indices[offset] = face.indices[0];\n          indices[offset + 1] = face.indices[i + 1];\n          indices[offset + 2] = face.indices[i + 2];\n          offset += 3;\n        }\n      }\n      this.geometry.setIndex(new BufferAttribute(indices, 1));\n    }\n  }, {\n    key: \"setDataSource\",\n    value: function setDataSource(dataSource) {\n      var vm = new VolumeMaterial$1.VolumeMaterial();\n      var dim = dataSource.getDimensions();\n      var stride = dataSource.getTiledTextureStride();\n      var texture = dataSource.buildTiledTexture();\n      var bbox = dataSource.getBox();\n      vm.uniforms.volumeDim.value.set(dim[0], dim[1], dim[2]);\n      vm.uniforms.tileTex.value = texture;\n      vm.uniforms.tileTexSize.value.set(texture.image.width, texture.image.height);\n      vm.uniforms.tileStride.value.set(stride[0], stride[1]);\n      Object.assign(this.volumeInfo, dataSource.getVolumeInfo());\n      var volInfo = this.volumeInfo;\n      vm.uniforms.delta.value.copy(volInfo.delta);\n      vm.uniforms.boxAngles.value.set(volInfo.obtuseAngle[0], volInfo.obtuseAngle[1], volInfo.obtuseAngle[2]);\n      this.material = vm;\n      bbox.getSize(this.scale);\n      bbox.getCenter(this.position);\n    }\n  }, {\n    key: \"_updateIsoLevel\",\n    value: function _updateIsoLevel() {\n      var _settings$now$modes$V = settings$1.now.modes.VD,\n          kSigma = _settings$now$modes$V.kSigma,\n          kSigmaMed = _settings$now$modes$V.kSigmaMed,\n          kSigmaMax = _settings$now$modes$V.kSigmaMax;\n      var volInfo = this.volumeInfo;\n      var mean = volInfo.dmean - volInfo.dmin;\n      var span = volInfo.dmax - volInfo.dmin;\n      var level = function level(k) {\n        return (mean + k * volInfo.sd) / span;\n      };\n      this.material.uniforms._isoLevel0.value.set(level(kSigma), level(kSigmaMed), level(kSigmaMax));\n    }\n  }, {\n    key: \"rebuild\",\n    value: function rebuild(camera) {\n      var nearClipPlaneOffset = VolumeMesh._nearClipPlaneOffset;\n      var pos = VolumeMesh._pos;\n      var norm = VolumeMesh._norm;\n      var norm4D = VolumeMesh._norm4D;\n      var matrixWorldToLocal = VolumeMesh._matrixWorldToLocal;\n      var clipPlane = VolumeMesh._clipPlane;\n      this._updateIsoLevel();\n      camera.getWorldDirection(norm);\n      camera.getWorldPosition(pos);\n      pos.addScaledVector(norm, camera.near + nearClipPlaneOffset);\n      matrixWorldToLocal.copy(this.matrixWorld).invert();\n      pos.applyMatrix4(matrixWorldToLocal);\n      norm4D.set(norm.x, norm.y, norm.z, 0.0);\n      norm4D.applyMatrix4(matrixWorldToLocal);\n      norm.copy(norm4D);\n      norm.normalize();\n      clipPlane.setFromNormalAndCoplanarPoint(norm, pos);\n      if (!this.clipPlane.equals(clipPlane)) {\n        this.clipPlane = clipPlane.clone();\n        this._updateVertices();\n        this._updateIndices();\n      }\n    }\n  }]);\n  return VolumeMesh;\n}(Mesh);\n_defineProperty(VolumeMesh, \"_corners\", [\n[-1, -1, -1, 0, 4, 8], [1, -1, -1, 0, 5, 9], [1, 1, -1, 1, 5, 10], [-1, 1, -1, 1, 4, 11], [-1, -1, 1, 2, 6, 8], [1, -1, 1, 2, 7, 9], [1, 1, 1, 3, 7, 10], [-1, 1, 1, 3, 6, 11]]);\n_defineProperty(VolumeMesh, \"_edges\", [\n[0, 1, 0, -1, -1], [2, 3, 0, 1, -1], [4, 5, 0, -1, 1], [6, 7, 0, 1, 1], [0, 3, -1, 0, -1], [1, 2, 1, 0, -1], [4, 7, -1, 0, 1], [5, 6, 1, 0, 1], [0, 4, -1, -1, 0], [1, 5, 1, -1, 0], [2, 6, -1, 1, 0], [3, 7, 1, 1, 0]]);\n_defineProperty(VolumeMesh, \"_edgeIntersections\", function () {\n  var edgeIntersections = [];\n  for (var j = 0; j < 12; ++j) {\n    edgeIntersections.push(new Vector3());\n  }\n  return edgeIntersections;\n}());\n_defineProperty(VolumeMesh, \"_nearClipPlaneOffset\", 0.2);\n_defineProperty(VolumeMesh, \"_pos\", new Vector3());\n_defineProperty(VolumeMesh, \"_norm\", new Vector3());\n_defineProperty(VolumeMesh, \"_norm4D\", new Vector4());\n_defineProperty(VolumeMesh, \"_matrixWorldToLocal\", new Matrix4());\n_defineProperty(VolumeMesh, \"_clipPlane\", new Plane());\n\nfunction _flattenArray(input) {\n  var n = input.length;\n  var output = new Float32Array(n * 3);\n  for (var i = 0; i < n; ++i) {\n    var j = 3 * i;\n    var v = input[i];\n    output[j] = v.x;\n    output[j + 1] = v.y;\n    output[j + 2] = v.z;\n  }\n  return output;\n}\nvar VolumeBounds = function () {\n  function VolumeBounds(bBox, volInfo) {\n    _classCallCheck(this, VolumeBounds);\n    var delta = volInfo.delta;\n    var obtuseAngle = volInfo.obtuseAngle;\n    var bSize = new Vector3();\n    bBox.getSize(bSize);\n    bSize.multiplyScalar(0.5);\n    var offsetVert = this._getBaseVertices(delta, obtuseAngle);\n    var geometry = new BufferGeometry();\n    var vertices = [];\n    for (var i = 0; i < 4; i++) {\n      vertices.push(offsetVert[i].clone().multiply(bSize));\n      vertices.push(offsetVert[(i + 1) % 4].clone().multiply(bSize));\n    }\n    var translation = new Vector3(2 * bSize.x * (1 - delta.x - delta.y), 0, 0);\n    for (var _i = 0; _i < 8; _i++) {\n      vertices.push(vertices[_i].clone().add(translation));\n    }\n    for (var _i2 = 0; _i2 < 4; _i2++) {\n      vertices.push(vertices[_i2 * 2].clone());\n      vertices.push(vertices[_i2 * 2 + 8].clone());\n    }\n    var center = new Vector3();\n    bBox.getCenter(center);\n    vertices.forEach(function (vertex) {\n      return vertex.add(center);\n    });\n    var flatVertices = _flattenArray(vertices);\n    geometry.setAttribute('position', new BufferAttribute(flatVertices, 3));\n    this._lines = new LineSegments(geometry, new LineBasicMaterial({\n      color: 0xffffff\n    }));\n    this._lines.layers.set(gfxutils.LAYERS.VOLUME);\n  }\n  _createClass(VolumeBounds, [{\n    key: \"_getBaseVertices\",\n    value: function _getBaseVertices(delta, obtuseAngle) {\n      var projTable = VolumeBounds._projectionTable;\n      var proj = function proj(index, inv) {\n        var currDelta = delta[projTable[index][0]];\n        var angleValue = -0.5 * (inv - 1) + inv * obtuseAngle[projTable[index][1]];\n        return angleValue * currDelta;\n      };\n      var offsetVert = [new Vector3(-1 + 2 * (proj('XZ', 1) + proj('XY', 1)), -1 + 2 * proj('YZ', 1), -1), new Vector3(-1 + 2 * (proj('XZ', -1) + proj('XY', 1)), -1 + 2 * proj('YZ', -1), 1), new Vector3(-1 + 2 * (proj('XZ', -1) + proj('XY', -1)), 1 - 2 * proj('YZ', 1), 1), new Vector3(-1 + 2 * (proj('XZ', 1) + proj('XY', -1)), 1 - 2 * proj('YZ', -1), -1)];\n      return offsetVert;\n    }\n  }, {\n    key: \"getMesh\",\n    value: function getMesh() {\n      return this._lines;\n    }\n  }]);\n  return VolumeBounds;\n}();\n_defineProperty(VolumeBounds, \"_projectionTable\", {\n  XY: ['x', 2],\n  XZ: ['y', 1],\n  YZ: ['z', 0]\n});\n\nvar VolumeFarPlane = function () {\n  function VolumeFarPlane(volume, width, height) {\n    _classCallCheck(this, VolumeFarPlane);\n    var planeGeo = this._initPlaneGeo(width, height);\n    var mat = new VolumeMaterial$1.BackFacePosMaterialFarPlane();\n    this._plane = new meshes.Mesh(planeGeo, mat);\n    this._plane.frustumCulled = false;\n    this._plane.doubleSided = true;\n    var matWorldToVolume = new Matrix4();\n    this._plane._onBeforeRender = function (_renderer, _scene, camera, _geometry, _material, _group) {\n      var material = this.material;\n      if (!volume || !material) {\n        return;\n      }\n      var planeCamPos = new Vector4(0, 0, -(camera.far - 0.1), 1);\n      planeCamPos.applyMatrix4(camera.matrixWorld);\n      this.matrix.identity();\n      this.matrix.makeTranslation(planeCamPos.x, planeCamPos.y, planeCamPos.z);\n      this.matrixWorld.copy(this.matrix);\n      this.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, this.matrixWorld);\n      this.normalMatrix.getNormalMatrix(this.modelViewMatrix);\n      var volumeMatrix = volume.matrixWorld;\n      matWorldToVolume.copy(volumeMatrix).invert();\n      material.uniforms.aspectRatio.value = camera.aspect;\n      material.uniforms.farZ.value = camera.far;\n      material.uniforms.tanHalfFOV.value = Math.tan(MathUtils.DEG2RAD * 0.5 * camera.fov);\n      material.uniforms.matWorld2Volume.value = matWorldToVolume;\n    };\n    this._plane.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE);\n  }\n  _createClass(VolumeFarPlane, [{\n    key: \"_initPlaneGeo\",\n    value: function _initPlaneGeo(width, height) {\n      var planeGeo = new BufferGeometry();\n      width = width || 1;\n      height = height || 1;\n      var vertices = new Float32Array([-0.5 * width, 0.5 * height, 0, 0.5 * width, 0.5 * height, 0, -0.5 * width, -0.5 * height, 0, 0.5 * width, -0.5 * height, 0]);\n      planeGeo.setAttribute('position', new BufferAttribute(vertices, 3));\n      planeGeo.setIndex([0, 2, 1, 2, 3, 1]);\n      return planeGeo;\n    }\n  }, {\n    key: \"getMesh\",\n    value: function getMesh() {\n      return this._plane;\n    }\n  }]);\n  return VolumeFarPlane;\n}();\n\nfunction _createSuper$w(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$w(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$w() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VolumeVisual = function (_Visual) {\n  _inherits(VolumeVisual, _Visual);\n  var _super = _createSuper$w(VolumeVisual);\n  function VolumeVisual(name, dataSource) {\n    var _this;\n    _classCallCheck(this, VolumeVisual);\n    _this = _super.call(this, name, dataSource);\n    _this._mesh = new VolumeMesh();\n    _this._mesh.setDataSource(dataSource);\n    _this.add(_this._mesh);\n    _this._frame = new VolumeBounds(_this.getBoundaries().boundingBox, _this._mesh.volumeInfo);\n    _this.add(_this._frame.getMesh());\n    _this.showFrame(settings$1.now.modes.VD.frame);\n    _this._farPlane = new VolumeFarPlane(_this._mesh, 2, 2);\n    _this.add(_this._farPlane.getMesh());\n    return _this;\n  }\n  _createClass(VolumeVisual, [{\n    key: \"getBoundaries\",\n    value: function getBoundaries() {\n      var box = this._dataSource.getBox();\n      var sphere = new Sphere();\n      box.getBoundingSphere(sphere);\n      return {\n        boundingBox: box,\n        boundingSphere: sphere\n      };\n    }\n  }, {\n    key: \"getMesh\",\n    value: function getMesh() {\n      return this._mesh;\n    }\n  }, {\n    key: \"showFrame\",\n    value: function showFrame(needShow) {\n      this._frame.getMesh().material.visible = needShow;\n    }\n  }]);\n  return VolumeVisual;\n}(Visual);\n\nfunction _createSuper$v(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$v(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$v() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LoaderList = function (_EntityList) {\n  _inherits(LoaderList, _EntityList);\n  var _super = _createSuper$v(LoaderList);\n  function LoaderList() {\n    var someLoaders = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    _classCallCheck(this, LoaderList);\n    return _super.call(this, someLoaders, ['types']);\n  }\n  _createClass(LoaderList, [{\n    key: \"find\",\n    value: function find(specs) {\n      var list = [];\n      if (specs.type) {\n        list = this._dict.types[specs.type.toLowerCase()] || [];\n      } else if (specs.source) {\n        return this._list.filter(function (SomeLoader) {\n          return SomeLoader.canProbablyLoad && SomeLoader.canProbablyLoad(specs.source);\n        });\n      }\n      return _toConsumableArray(list);\n    }\n  }]);\n  return LoaderList;\n}(EntityList);\n\nfunction _createSuper$u(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$u(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$u() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Loader = function (_EventDispatcher) {\n  _inherits(Loader, _EventDispatcher);\n  var _super = _createSuper$u(Loader);\n  function Loader(source, options) {\n    var _this;\n    _classCallCheck(this, Loader);\n    _this = _super.call(this);\n    _this._source = source;\n    _this._options = options || {};\n    _this._abort = false;\n    _this._agent = null;\n    return _this;\n  }\n  _createClass(Loader, [{\n    key: \"load\",\n    value: function load() {\n      return Promise.reject(new Error('Loading from this source is not implemented'));\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._abort = true;\n      if (this._agent) {\n        this._agent.abort();\n      }\n    }\n  }], [{\n    key: \"extractName\",\n    value: function extractName(_source) {\n      return undefined;\n    }\n  }]);\n  return Loader;\n}(EventDispatcher);\nmakeContextDependent(Loader.prototype);\n\nfunction _createSuper$t(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$t(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$t() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FileLoader = function (_Loader) {\n  _inherits(FileLoader, _Loader);\n  var _super = _createSuper$t(FileLoader);\n  function FileLoader(source, options) {\n    var _this;\n    _classCallCheck(this, FileLoader);\n    _this = _super.call(this, source, options);\n    options = _this._options;\n    _this._binary = options.binary === true;\n    return _this;\n  }\n  _createClass(FileLoader, [{\n    key: \"load\",\n    value: function load() {\n      var _this2 = this;\n      return new Promise(function (resolve, reject) {\n        if (_this2._abort) {\n          throw new Error('Loading aborted');\n        }\n        var blob = _this2._source;\n        var reader = _this2._agent = new FileReader();\n        reader.addEventListener('load', function () {\n          resolve(reader.result);\n        });\n        reader.addEventListener('error', function () {\n          reject(reader.error);\n        });\n        reader.addEventListener('abort', function () {\n          reject(new Error('Loading aborted'));\n        });\n        reader.addEventListener('progress', function (event) {\n          _this2.dispatchEvent(event);\n        });\n        if (_this2._binary) {\n          reader.readAsArrayBuffer(blob);\n        } else {\n          reader.readAsText(blob);\n        }\n      });\n    }\n  }], [{\n    key: \"canProbablyLoad\",\n    value: function canProbablyLoad(source) {\n      return File && source instanceof File || Blob && source instanceof Blob;\n    }\n  }, {\n    key: \"extractName\",\n    value: function extractName(source) {\n      return source && source.name;\n    }\n  }]);\n  return FileLoader;\n}(Loader);\nFileLoader.types = ['file', 'blob'];\n\nfunction _createSuper$s(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$s(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$s() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar urlStartRegexp = /^(https?|ftp):\\/\\//i;\nvar XHRLoader = function (_Loader) {\n  _inherits(XHRLoader, _Loader);\n  var _super = _createSuper$s(XHRLoader);\n  function XHRLoader(source, options) {\n    var _this;\n    _classCallCheck(this, XHRLoader);\n    _this = _super.call(this, source, options);\n    options = _this._options;\n    _this._binary = options.binary === true;\n    return _this;\n  }\n  _createClass(XHRLoader, [{\n    key: \"load\",\n    value: function load() {\n      var _this2 = this;\n      return new Promise(function (resolve, reject) {\n        if (_this2._abort) {\n          throw new Error('Loading aborted');\n        }\n        var url = _this2._source;\n        var request = _this2._agent = new XMLHttpRequest();\n        request.addEventListener('load', function () {\n          if (request.status === 200) {\n            resolve(request.response);\n          } else {\n            reject(new Error(\"HTTP \".concat(request.status, \" while fetching \").concat(url)));\n          }\n        });\n        request.addEventListener('error', function () {\n          reject(new Error('HTTP request failed'));\n        });\n        request.addEventListener('abort', function () {\n          reject(new Error('Loading aborted'));\n        });\n        request.addEventListener('progress', function (event) {\n          _this2.dispatchEvent(event);\n        });\n        request.open('GET', url);\n        if (_this2._binary) {\n          request.responseType = 'arraybuffer';\n        } else {\n          request.responseType = 'text';\n        }\n        request.send();\n      });\n    }\n  }], [{\n    key: \"canProbablyLoad\",\n    value: function canProbablyLoad(source) {\n      return isString(source) && urlStartRegexp.test(source);\n    }\n  }, {\n    key: \"extractName\",\n    value: function extractName(source) {\n      if (source) {\n        var last = (source.indexOf('?') + 1 || source.lastIndexOf('#') + 1 || source.length + 1) - 1;\n        return source.slice(source.lastIndexOf('/', last) + 1, last);\n      }\n      return undefined;\n    }\n  }]);\n  return XHRLoader;\n}(Loader);\nXHRLoader.types = ['url'];\n\nfunction _createSuper$r(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$r(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$r() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ImmediateLoader = function (_Loader) {\n  _inherits(ImmediateLoader, _Loader);\n  var _super = _createSuper$r(ImmediateLoader);\n  function ImmediateLoader() {\n    _classCallCheck(this, ImmediateLoader);\n    return _super.apply(this, arguments);\n  }\n  _createClass(ImmediateLoader, [{\n    key: \"load\",\n    value: function load() {\n      var _this = this;\n      return new Promise(function (resolve) {\n        if (_this._abort) {\n          throw new Error('Loading aborted');\n        }\n        resolve(_this._source);\n      });\n    }\n  }], [{\n    key: \"canProbablyLoad\",\n    value: function canProbablyLoad(_source) {\n      return false;\n    }\n  }]);\n  return ImmediateLoader;\n}(Loader);\nImmediateLoader.types = ['immediate'];\n\nvar loaders = new LoaderList([\nFileLoader, XHRLoader, ImmediateLoader]);\n\nfunction _createSuper$q(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$q(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$q() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ParserList = function (_EntityList) {\n  _inherits(ParserList, _EntityList);\n  var _super = _createSuper$q(ParserList);\n  function ParserList() {\n    var someParsers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    _classCallCheck(this, ParserList);\n    return _super.call(this, someParsers, ['formats', 'extensions']);\n  }\n  _createClass(ParserList, [{\n    key: \"find\",\n    value: function find(specs) {\n      var list = [];\n      if (specs.format) {\n        list = this._dict.formats[specs.format.toLowerCase()] || [];\n      } else if (specs.ext) {\n        list = this._dict.extensions[specs.ext.toLowerCase()] || [];\n      }\n      if (list.length === 0 && !specs.format && specs.data) {\n        return this._list.filter(function (SomeParser) {\n          return SomeParser.canProbablyParse && SomeParser.canProbablyParse(specs.data);\n        });\n      }\n      return _toConsumableArray(list);\n    }\n  }]);\n  return ParserList;\n}(EntityList);\n\nvar Parser = function () {\n  function Parser(data, options) {\n    _classCallCheck(this, Parser);\n    this._data = data;\n    this._options = options || {};\n    this._abort = false;\n  }\n  _createClass(Parser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      throw new Error('Parsing this type of data is not implemented');\n    }\n  }, {\n    key: \"parse\",\n    value: function parse() {\n      var _this = this;\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          try {\n            if (_this._abort) {\n              return reject(new Error('Parsing aborted'));\n            }\n            return resolve(_this.parseSync());\n          } catch (error) {\n            return reject(error);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"getModel\",\n    value: function getModel() {\n      this.model._parseHeader(this._data);\n      return this.model;\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._abort = true;\n    }\n  }]);\n  return Parser;\n}();\nmakeContextDependent(Parser.prototype);\n\nvar Remark290 = function () {\n  function Remark290() {\n    _classCallCheck(this, Remark290);\n    this.matrices = [];\n    this._matrix = null;\n    this._matrixIndex = -1;\n  }\n  _createClass(Remark290, [{\n    key: \"parse\",\n    value: function parse(stream) {\n      var matrix = this._matrix;\n      if (stream.readString(12, 18) === '  SMTRY') {\n        var matrixRow = stream.readCharCode(19) - 49;\n        var matrixData = stream.readString(20, 80).trim().split(/\\s+/);\n        var matrixIndex = parseInt(matrixData[0], 10);\n        if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n          this._matrixIndex = matrixIndex;\n          this._matrix = matrix = new Matrix4();\n          this.matrices[this.matrices.length] = matrix;\n        }\n        var _matrix = matrix,\n            elements = _matrix.elements;\n        elements[matrixRow] = parseFloat(matrixData[1]);\n        elements[matrixRow + 4] = parseFloat(matrixData[2]);\n        elements[matrixRow + 8] = parseFloat(matrixData[3]);\n        elements[matrixRow + 12] = parseFloat(matrixData[4]);\n      }\n    }\n  }]);\n  return Remark290;\n}();\nRemark290.prototype.id = 290;\n\nvar Assembly$2 = chem.Assembly;\nvar Remark350 = function () {\n  function Remark350(complex) {\n    _classCallCheck(this, Remark350);\n    this._complex = complex;\n    this.assemblies = [];\n    this._assembly = null;\n    this._matrix = null;\n    this._matrixIndex = -1;\n  }\n  _createClass(Remark350, [{\n    key: \"parse\",\n    value: function parse(stream) {\n      var assembly = this._assembly;\n      var matrix = this._matrix;\n      if (assembly && stream.readString(12, 18) === '  BIOMT') {\n        var matrixRow = stream.readCharCode(19) - 49;\n        var matrixData = stream.readString(20, 80).trim().split(/\\s+/);\n        var matrixIndex = parseInt(matrixData[0], 10);\n        if (this._matrix === null || matrixIndex !== this._matrixIndex) {\n          this._matrixIndex = matrixIndex;\n          this._matrix = matrix = new Matrix4();\n          assembly.addMatrix(matrix);\n        }\n        var _matrix = matrix,\n            elements = _matrix.elements;\n        elements[matrixRow] = parseFloat(matrixData[1]);\n        elements[matrixRow + 4] = parseFloat(matrixData[2]);\n        elements[matrixRow + 8] = parseFloat(matrixData[3]);\n        elements[matrixRow + 12] = parseFloat(matrixData[4]);\n      } else if (assembly && stream.readString(35, 41) === 'CHAINS:') {\n        var entries = stream.readString(42, 80).split(',');\n        for (var i = 0, n = entries.length; i < n; ++i) {\n          var chain = entries[i].trim();\n          if (chain.length > 0) {\n            assembly.addChain(chain);\n          }\n        }\n      } else if (stream.readString(12, 23) === 'BIOMOLECULE:') {\n        this._matrix = null;\n        this._matrixIndex = -1;\n        this._assembly = assembly = new Assembly$2(this._complex);\n        this.assemblies.push(assembly);\n      }\n    }\n  }]);\n  return Remark350;\n}();\nRemark350.prototype.id = 350;\n\nvar PDBStream = function () {\n  function PDBStream(data) {\n    _classCallCheck(this, PDBStream);\n    this._data = data;\n    this._start = 0;\n    this._nextCR = -1;\n    this._nextLF = -1;\n    this._next = -1;\n    this._end = data.length;\n    this.next();\n  }\n  _createClass(PDBStream, [{\n    key: \"readLine\",\n    value: function readLine() {\n      return this._data.slice(this._start, this._next);\n    }\n  }, {\n    key: \"readChar\",\n    value: function readChar(pos) {\n      pos = this._start + pos - 1;\n      return pos < this._next ? this._data[pos] : ' ';\n    }\n  }, {\n    key: \"readCharCode\",\n    value: function readCharCode(pos) {\n      pos = this._start + pos - 1;\n      return pos < this._next ? this._data.charCodeAt(pos) : 32;\n    }\n  }, {\n    key: \"readString\",\n    value: function readString(begin, end) {\n      var from = this._start + begin - 1;\n      var to = this._start + end;\n      return this._data.slice(from, to < this._next ? to : this._next);\n    }\n  }, {\n    key: \"readInt\",\n    value: function readInt(begin, end) {\n      return parseInt(this.readString(begin, end), 10);\n    }\n  }, {\n    key: \"readFloat\",\n    value: function readFloat(begin, end) {\n      return parseFloat(this.readString(begin, end));\n    }\n  }, {\n    key: \"end\",\n    value: function end() {\n      return this._start >= this._end;\n    }\n  }, {\n    key: \"next\",\n    value: function next() {\n      var start = this._next + 1;\n      this._start = start < this._end ? start : this._end;\n      if (this._start > this._nextCR) {\n        this._nextCR = (this._data.indexOf('\\r', this._start) + 1 || this._end + 1) - 1;\n      }\n      if (this._start > this._nextLF) {\n        this._nextLF = (this._data.indexOf('\\n', this._start) + 1 || this._end + 1) - 1;\n      }\n      this._next = this._nextCR + 1 < this._nextLF ? this._nextCR : this._nextLF;\n    }\n  }]);\n  return PDBStream;\n}();\n\nfunction _createSuper$p(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$p(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$p() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$8 = chem.Complex,\n    Element$8 = chem.Element,\n    Helix$2 = chem.Helix,\n    Sheet$2 = chem.Sheet,\n    Strand$2 = chem.Strand,\n    Bond$4 = chem.Bond,\n    Molecule$7 = chem.Molecule;\nvar TAG_LENGTH = 6;\nfunction nameToElement$1(name) {\n  var veryLong = name.trim().length === 4;\n  return name.slice(0, veryLong ? 1 : 2).trim();\n}\nvar pdbStartRegexp = /^(HEADER\\s|COMPND\\s|REMARK\\s|ATOM {2}|HETATM|MODEL )/i;\nvar remarkParsers = {\n  290: Remark290,\n  350: Remark350\n};\nvar PDBParser = function (_Parser) {\n  _inherits(PDBParser, _Parser);\n  var _super = _createSuper$p(PDBParser);\n  function PDBParser(data, options) {\n    var _this;\n    _classCallCheck(this, PDBParser);\n    _this = _super.call(this, data, options);\n    _this._complex = null;\n    _this._chain = null;\n    _this._residue = null;\n    _this._sheet = null;\n    _this._serialAtomMap = null;\n    _this._modelId = 1;\n    _this._compaundFound = false;\n    _this._biomoleculeFound = false;\n    _this._allowedChainsIDs = null;\n    _this._lastMolId = -1;\n    _this._remarks = {};\n    _this._remark = null;\n    _this._molecules = [];\n    _this._molecule = null;\n    _this._compndCurrToken = '';\n    _this._options.fileType = 'pdb';\n    return _this;\n  }\n  _createClass(PDBParser, [{\n    key: \"_finalize\",\n    value: function _finalize() {\n      this._fixBondsArray();\n      this._fixChains();\n      var remark290 = this._remarks[290];\n      this._complex.symmetry = isUndefined(remark290) ? [] : remark290.matrices;\n      var remark350 = this._remarks[350];\n      this._complex.units = this._complex.units.concat(isUndefined(remark350) ? [] : remark350.assemblies);\n      this._finalizeMolecules();\n      this._complex.finalize({\n        needAutoBonding: true,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n    }\n  }, {\n    key: \"_finalizeMolecules\",\n    value: function _finalizeMolecules() {\n      var chainDict = {};\n      var i;\n      var chains = this._complex._chains;\n      for (i = 0; i < chains.length; ++i) {\n        var chainObj = chains[i];\n        var chainName = chainObj._name;\n        chainDict[chainName] = chainObj;\n      }\n      for (i = 0; i < this._molecules.length; i++) {\n        var m = this._molecules[i];\n        var residues = [];\n        for (var j = 0; j < m._chains.length; j++) {\n          var name = m._chains[j];\n          var chain = chainDict[name];\n          residues = residues.concat(chain._residues.slice());\n        }\n        var molecule = new Molecule$7(this._complex, m._name, i + 1);\n        molecule.residues = residues;\n        this._complex._molecules[i] = molecule;\n      }\n    }\n  }, {\n    key: \"_fixChains\",\n    value: function _fixChains() {\n      var idChainMap = {};\n      var complex = this._complex;\n      for (var i = 0; i < complex._chains.length; i++) {\n        var chain = complex._chains[i];\n        idChainMap[chain._name.charCodeAt(0)] = chain;\n      }\n    }\n  }, {\n    key: \"_fixBondsArray\",\n    value: function _fixBondsArray() {\n      var serialAtomMap = this._serialAtomMap = {};\n      var complex = this._complex;\n      var atoms = complex._atoms;\n      for (var i = 0, ni = atoms.length; i < ni; ++i) {\n        var atom = atoms[i];\n        serialAtomMap[atom.serial] = atom;\n      }\n      var bonds = complex._bonds;\n      var logger = this.logger;\n      for (var j = 0, nj = bonds.length; j < nj; ++j) {\n        var bond = bonds[j];\n        if (bond._right < bond._left) {\n          logger.debug('_fixBondsArray: Logic error.');\n        }\n        bond._left = serialAtomMap[bond._left] || null;\n        bond._right = serialAtomMap[bond._right] || null;\n      }\n    }\n  }, {\n    key: \"_parseATOM\",\n    value: function _parseATOM(stream) {\n      if (this._modelId !== 1) {\n        return;\n      }\n      var het = stream.readCharCode(1) === 0x48;\n      var serial = het ? stream.readInt(7, 11) : stream.readInt(6, 11);\n      var name = stream.readString(13, 16);\n      var altLoc = stream.readChar(17);\n      var resName = stream.readString(18, 20).trim();\n      var chainID = stream.readChar(22);\n      var resSeq = stream.readInt(23, 26);\n      var iCode = stream.readChar(27);\n      var x = stream.readFloat(31, 38);\n      var y = stream.readFloat(39, 46);\n      var z = stream.readFloat(47, 54);\n      var occupancy = stream.readFloat(55, 60);\n      var tempFactor = stream.readFloat(61, 66);\n      var element = stream.readString(77, 78).trim() || nameToElement$1(name);\n      var charge = stream.readInt(79, 80) || 0;\n      if (this.settings.now.nowater) {\n        if (resName === 'HOH' || resName === 'WAT') {\n          return;\n        }\n      }\n      name = name.trim();\n      var type = Element$8.getByName(element);\n      var role = Element$8.Role[name];\n      var chain = this._chain;\n      if (!chain || chain.getName() !== chainID) {\n        this._chain = chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n        this._residue = null;\n      }\n      var residue = this._residue;\n      if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n        this._residue = residue = chain.addResidue(resName, resSeq, iCode);\n      }\n      var xyz = new Vector3(x, y, z);\n      residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n    }\n  }, {\n    key: \"_parseENDMDL\",\n    value: function _parseENDMDL() {\n      this._modelId += 1;\n    }\n  }, {\n    key: \"_parseCONECT\",\n    value: function _parseCONECT(stream) {\n      var serial0 = stream.readInt(7, 11);\n      var serial1 = stream.readInt(12, 16);\n      var serial2 = stream.readInt(17, 21);\n      var serial3 = stream.readInt(22, 26);\n      var serial4 = stream.readInt(27, 31);\n      var complex = this._complex;\n      if (serial1 && serial1 > serial0) {\n        complex.addBond(serial0, serial1, 0, Bond$4.BondType.UNKNOWN, true);\n      }\n      if (serial2 && serial2 > serial0) {\n        complex.addBond(serial0, serial2, 0, Bond$4.BondType.UNKNOWN, true);\n      }\n      if (serial3 && serial3 > serial0) {\n        complex.addBond(serial0, serial3, 0, Bond$4.BondType.UNKNOWN, true);\n      }\n      if (serial4 && serial4 > serial0) {\n        complex.addBond(serial0, serial4, 0, Bond$4.BondType.UNKNOWN, true);\n      }\n    }\n  }, {\n    key: \"_parseCOMPND\",\n    value: function _parseCOMPND(stream) {\n      var str = stream.readString(11, 80);\n      var tokenIdx = str.indexOf(':');\n      this._compndCurrToken = tokenIdx > 0 ? str.substring(0, tokenIdx).trim() : this._compndCurrToken;\n      if (this._compndCurrToken === 'MOL_ID') {\n        this._molecule = {\n          _index: '',\n          _chains: []\n        };\n        this._molecule._index = parseInt(str.substring(tokenIdx + 1, str.indexOf(';')), 10);\n        this._molecules.push(this._molecule);\n      } else if (this._compndCurrToken === 'MOLECULE' && this._molecule != null) {\n        this._molecule._name = str.substring(tokenIdx + 1, str.indexOf(';')).trim();\n      } else if (this._compndCurrToken === 'CHAIN' && this._molecule != null) {\n        var chainStr = str.substring(tokenIdx + 1, 80).trim();\n        var lastChar = chainStr[chainStr.length - 1];\n        if (lastChar === ';' || lastChar === ',') {\n          chainStr = chainStr.slice(0, -1);\n        }\n        chainStr = chainStr.replace(/\\s+/g, '');\n        var chains = chainStr.split(',');\n        this._molecule._chains = this._molecule._chains.concat(chains);\n      }\n    }\n  }, {\n    key: \"_parseREMARK\",\n    value: function _parseREMARK(stream) {\n      var remarkNum = stream.readInt(8, 10);\n      var remark = this._remarks[remarkNum];\n      if (isUndefined(remark)) {\n        var RemarkParser = remarkParsers[remarkNum];\n        if (typeof RemarkParser === 'function') {\n          this._remarks[remarkNum] = remark = new RemarkParser(this._complex);\n        }\n      }\n      if (!isUndefined(remark)) {\n        remark.parse(stream);\n      }\n    }\n  }, {\n    key: \"_parseHELIX\",\n    value: function _parseHELIX(stream) {\n      var _this2 = this;\n      var fields = [20, 22, 32, 34];\n      this._parseSTRUCTURE(stream, fields, function (obj) {\n        _this2._complex.addHelix(obj);\n        _this2._complex.structures.push(obj);\n      });\n    }\n  }, {\n    key: \"_parseSHEET\",\n    value: function _parseSHEET(stream) {\n      var _this3 = this;\n      var fields = [22, 23, 33, 34];\n      this._parseSTRUCTURE(stream, fields, function (obj) {\n        _this3._complex.addSheet(obj);\n      });\n    }\n  }, {\n    key: \"_parseSTRUCTURE\",\n    value: function _parseSTRUCTURE(stream, pars, adder) {\n      var startId = 0;\n      var startIndex = 1;\n      var endId = 2;\n      var endIndex = 3;\n      var codeOfS = 0x53;\n      var serialNumber = stream.readInt(8, 10);\n      var structureName = stream.readString(12, 14).trim();\n      var comment = stream.readString(41, 70).trim();\n      var helLength = stream.readInt(72, 76);\n      var helixClass = stream.readInt(39, 40);\n      var shWidth = stream.readInt(15, 16);\n      var shCur = stream.readInt(42, 45);\n      var shPrev = stream.readInt(57, 60);\n      var startChainID = stream.readString(pars[startId], pars[endId] + 1).charCodeAt(0);\n      var endChainID = stream.readString(pars[endId], pars[endId] + 1).charCodeAt(0);\n      var startSequenceNumber = stream.readInt(pars[startIndex], pars[startIndex] + 3);\n      var iCodeStr = stream.readString(pars[startIndex] + 4, pars[startIndex] + 4);\n      var startICode = 0;\n      if (iCodeStr.length > 0) {\n        startICode = iCodeStr.charCodeAt(0);\n      }\n      var endSequenceNumber = stream.readInt(pars[endIndex], pars[endIndex] + 3);\n      iCodeStr = stream.readString(pars[endIndex] + 4, pars[endIndex] + 4);\n      var endICode = 0;\n      if (iCodeStr.length > 0) {\n        endICode = iCodeStr.charCodeAt(0);\n      }\n      var obj;\n      var cs = this._sheet;\n      if (stream.readCharCode(1) === codeOfS) {\n        if (cs !== null && cs.getName() !== structureName) {\n          cs = null;\n          this._sheet = null;\n        }\n        if (cs === null) {\n          this._sheet = obj = new Sheet$2(structureName, shWidth);\n          adder(obj);\n        } else {\n          obj = cs;\n        }\n        var strand = new Strand$2(obj, this._complex.getUnifiedSerial(startChainID, startSequenceNumber, startICode), this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode), helixClass, shCur, shPrev);\n        obj.addStrand(strand);\n        this._complex.structures.push(strand);\n      } else {\n        obj = new Helix$2(helixClass, this._complex.getUnifiedSerial(startChainID, startSequenceNumber, startICode), this._complex.getUnifiedSerial(endChainID, endSequenceNumber, endICode), serialNumber, structureName, comment, helLength);\n        adder(obj);\n      }\n    }\n  }, {\n    key: \"_parseHEADER\",\n    value: function _parseHEADER(stream) {\n      var metadata = this._complex.metadata;\n      metadata.classification = stream.readString(11, 50).trim();\n      metadata.date = stream.readString(51, 59).trim();\n      var id = stream.readString(63, 66).trim();\n      metadata.id = id;\n      if (id) {\n        this._complex.name = id;\n      }\n      metadata.format = 'pdb';\n    }\n  }, {\n    key: \"_parseTITLE\",\n    value: function _parseTITLE(stream) {\n      var metadata = this._complex.metadata;\n      metadata.title = metadata.title || [];\n      var line = stream.readInt(9, 10) || 1;\n      metadata.title[line - 1] = stream.readString(11, 80).trim();\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var stream = new PDBStream(this._data);\n      var result = this._complex = new Complex$8();\n      while (!stream.end()) {\n        var tag = stream.readString(1, TAG_LENGTH);\n        var func = PDBParser.tagParsers[tag];\n        if (typeof func === 'function') {\n          func.call(this, stream);\n        }\n        stream.next();\n      }\n      this._finalize();\n      this._serialAtomMap = null;\n      this._sheet = null;\n      this._residue = null;\n      this._chain = null;\n      this._complex = null;\n      if (result.getAtomCount() === 0) {\n        throw new Error('The data does not contain valid atoms');\n      }\n      return result;\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && pdbStartRegexp.test(data);\n    }\n  }]);\n  return PDBParser;\n}(Parser);\n_defineProperty(PDBParser, \"tagParsers\", {\n  HEADER: PDBParser.prototype._parseHEADER,\n  'TITLE ': PDBParser.prototype._parseTITLE,\n  'ATOM  ': PDBParser.prototype._parseATOM,\n  HETATM: PDBParser.prototype._parseATOM,\n  ENDMDL: PDBParser.prototype._parseENDMDL,\n  CONECT: PDBParser.prototype._parseCONECT,\n  COMPND: PDBParser.prototype._parseCOMPND,\n  REMARK: PDBParser.prototype._parseREMARK,\n  'HELIX ': PDBParser.prototype._parseHELIX,\n  'SHEET ': PDBParser.prototype._parseSHEET,\n  'ATOM 1': PDBParser.prototype._parseATOM,\n  'ATOM 2': PDBParser.prototype._parseATOM,\n  'ATOM 3': PDBParser.prototype._parseATOM,\n  'ATOM 4': PDBParser.prototype._parseATOM,\n  'ATOM 5': PDBParser.prototype._parseATOM,\n  'ATOM 6': PDBParser.prototype._parseATOM,\n  'ATOM 7': PDBParser.prototype._parseATOM,\n  'ATOM 8': PDBParser.prototype._parseATOM,\n  'ATOM 9': PDBParser.prototype._parseATOM\n});\nPDBParser.formats = ['pdb'];\nPDBParser.extensions = ['.pdb', '.ent'];\n\nfunction _createSuper$o(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$o(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$o() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$7 = chem.Complex,\n    Element$7 = chem.Element,\n    SGroup = chem.SGroup,\n    Bond$3 = chem.Bond;\nvar cOrderCharCodes = {\n  A: 0,\n  S: 1,\n  D: 2,\n  T: 3\n};\nvar cmlStartRegexp = /\\s*<\\?xml\\b[^?>]*\\?>\\s*<(?:cml|molecule)\\b/i;\nvar CMLParser = function (_Parser) {\n  _inherits(CMLParser, _Parser);\n  var _super = _createSuper$o(CMLParser);\n  function CMLParser(data, options) {\n    var _this;\n    _classCallCheck(this, CMLParser);\n    _this = _super.call(this, data, options);\n    _this._complex = null;\n    _this._residue = null;\n    _this._serialAtomMap = null;\n    _this._modelId = 1;\n    _this._lastMolId = -1;\n    _this._readOnlyOneMolecule = false;\n    _this._options.fileType = 'cml';\n    return _this;\n  }\n  _createClass(CMLParser, [{\n    key: \"_rebuidBondIndexes\",\n    value: function _rebuidBondIndexes(atoms, bonds) {\n      var count = atoms.length;\n      for (var i = 0; i < count; i++) {\n        var atomId = atoms[i].id;\n        var countBonds = bonds.length;\n        for (var j = 0; j < countBonds; j++) {\n          var idxs = bonds[j].atomRefs2.split(' ');\n          if (idxs[0] === atomId) {\n            bonds[j].start = i;\n          }\n          if (idxs[1] === atomId) {\n            bonds[j].end = i;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_createSGroup\",\n    value: function _createSGroup(molecule, moleculeArr) {\n      var newGroup = new SGroup(molecule.id, molecule.fieldData, new Vector3(parseFloat(molecule.x), parseFloat(molecule.y), 0), molecule.atomRefs, molecule);\n      if (molecule.placement === 'Relative') {\n        newGroup._center = new Vector3(0, 0, 0);\n      }\n      if (molecule.fieldName === 'MDLBG_FRAGMENT_CHARGE') {\n        newGroup._charge = parseInt(molecule.fieldData, 10) || 0;\n      }\n      if (molecule.fieldName === 'MDLBG_FRAGMENT_COEFFICIENT') {\n        newGroup._repeat = parseInt(molecule.fieldData, 10) || 1;\n      }\n      moleculeArr.push(newGroup);\n    }\n  }, {\n    key: \"_extractSGroup\",\n    value: function _extractSGroup(molecule, moleculeArr) {\n      if (!Array.isArray(moleculeArr)) {\n        moleculeArr = [];\n      }\n      if (molecule) {\n        if (Array.isArray(molecule)) {\n          var count = molecule.length;\n          for (var i = 0; i < count; i++) {\n            if (molecule[i].molecule) {\n              moleculeArr = moleculeArr.concat(this._extractSGroup(molecule[i].molecule));\n            }\n            this._createSGroup(molecule[i], moleculeArr);\n          }\n        } else {\n          if (molecule.molecule) {\n            if (molecule.molecule) {\n              moleculeArr = moleculeArr.concat(this._extractSGroup(molecule.molecule));\n            }\n          }\n          this._createSGroup(molecule, moleculeArr);\n        }\n      }\n      return moleculeArr;\n    }\n  }, {\n    key: \"_extractSGroups\",\n    value: function _extractSGroups(molecule, atoms) {\n      var moleculeArr = this._extractSGroup(molecule);\n      var count = atoms.length;\n      var i;\n      var j;\n      for (i = 0; i < count; i++) {\n        var atomId = atoms[i].id;\n        for (j = 0; j < moleculeArr.length; j++) {\n          var firstAtomRef = moleculeArr[j]._atoms.split(' ')[0];\n          if (firstAtomRef === atomId) {\n            if (!atoms[i].sgroupRef) {\n              atoms[i].sgroupRef = [];\n            }\n            atoms[i].sgroupRef.push(moleculeArr[j]);\n          }\n        }\n      }\n      var atomMap = {};\n      var mapEntry = null;\n      var nLimon = 100000000;\n      var bLow = new Vector3(nLimon, nLimon, nLimon);\n      var bHight = new Vector3(-nLimon, -nLimon, -nLimon);\n      function cycleFuncInner(e) {\n        mapEntry = atomMap[e];\n        if (mapEntry) {\n          moleculeArr[j]._atoms.push(mapEntry.a);\n        }\n      }\n      function cycleFunc(e) {\n        mapEntry = atomMap[e];\n        if (mapEntry) {\n          bLow.set(Math.min(bLow.x, mapEntry.x), Math.min(bLow.y, mapEntry.y), Math.min(bLow.z, mapEntry.z));\n          bHight.set(Math.max(bHight.x, mapEntry.x), Math.max(bHight.y, mapEntry.y), Math.max(bHight.z, mapEntry.z));\n          cycleFuncInner(e);\n        }\n      }\n      for (i = 0; i < atoms.length; i++) {\n        atomMap[atoms[i].id] = {};\n        atomMap[atoms[i].id].x = atoms[i].x2;\n        if (atoms[i].x3) {\n          atomMap[atoms[i].id].x = atoms[i].x3;\n        }\n        atomMap[atoms[i].id].x = parseFloat(atomMap[atoms[i].id].x);\n        atomMap[atoms[i].id].y = atoms[i].y2;\n        if (atoms[i].y3) {\n          atomMap[atoms[i].id].y = atoms[i].y3;\n        }\n        atomMap[atoms[i].id].y = parseFloat(atomMap[atoms[i].id].y);\n        atomMap[atoms[i].id].z = '0.0';\n        if (atoms[i].z3) {\n          atomMap[atoms[i].id].z = atoms[i].z3;\n        }\n        atomMap[atoms[i].id].z = parseFloat(atomMap[atoms[i].id].z);\n        atomMap[atoms[i].id].a = atoms[i];\n      }\n      var atomsRef;\n      for (j = 0; j < moleculeArr.length; j++) {\n        if (moleculeArr[j]._center !== null) {\n          bLow.set(nLimon, nLimon, nLimon);\n          bHight.set(-nLimon, -nLimon, -nLimon);\n          atomsRef = moleculeArr[j]._atoms.split(' ');\n          moleculeArr[j]._atoms = [];\n          atomsRef.forEach(cycleFunc);\n          moleculeArr[j]._center.addVectors(bLow, bHight);\n          moleculeArr[j]._center.multiplyScalar(0.5);\n        } else {\n          atomsRef = moleculeArr[j]._atoms.split(' ');\n          moleculeArr[j]._atoms = [];\n          atomsRef.forEach(cycleFuncInner);\n        }\n      }\n      atomMap = null;\n    }\n  }, {\n    key: \"_traverseData\",\n    value: function _traverseData(dom) {\n      function isArray(o) {\n        return Object.prototype.toString.apply(o) === '[object Array]';\n      }\n      function parseNode(xmlNode, result) {\n        if (xmlNode.nodeName === '#text' && xmlNode.nodeValue.trim() === '') {\n          return;\n        }\n        var jsonNode = {};\n        jsonNode.xmlNode = xmlNode;\n        var existing = result[xmlNode.nodeName];\n        if (existing) {\n          if (!isArray(existing)) {\n            result[xmlNode.nodeName] = [existing, jsonNode];\n          } else {\n            result[xmlNode.nodeName].push(jsonNode);\n          }\n        } else {\n          result[xmlNode.nodeName] = jsonNode;\n        }\n        var length;\n        var i;\n        if (xmlNode.attributes) {\n          length = xmlNode.attributes.length;\n          for (i = 0; i < length; i++) {\n            var attribute = xmlNode.attributes[i];\n            jsonNode[attribute.nodeName] = attribute.nodeValue;\n          }\n        }\n        length = xmlNode.childNodes.length;\n        for (i = 0; i < length; i++) {\n          parseNode(xmlNode.childNodes[i], jsonNode);\n        }\n      }\n      var result = {};\n      if (dom.childNodes.length) {\n        parseNode(dom.childNodes[0], result);\n      }\n      return result;\n    }\n  }, {\n    key: \"_findSuitableMolecule\",\n    value: function _findSuitableMolecule(data, molSet) {\n      for (var key in data) {\n        if (key === 'xmlNode') {\n          continue;\n        } else if (key === 'molecule') {\n          if (data.molecule) {\n            if (data.molecule.atomArray && data.molecule.atomArray.atom) {\n              molSet.push(data);\n            }\n            if (Array.isArray(data.molecule)) {\n              for (var i = 0; i < data.molecule.length; i++) {\n                if (data.molecule[i].atomArray && data.molecule[i].atomArray.atom) {\n                  molSet.push({\n                    molecule: data.molecule[i]\n                  });\n                }\n              }\n            }\n          }\n        } else if (data[key] && data[key] !== null && _typeof(data[key]) === 'object') {\n          this._findSuitableMolecule(data[key], molSet);\n        }\n      }\n    }\n  }, {\n    key: \"_selectComponents\",\n    value: function _selectComponents(text) {\n      var parser = new DOMParser();\n      var doc = parser.parseFromString(text, 'application/xml');\n      var traversedData = this._traverseData(doc);\n      var rawData;\n      var self = this;\n      function prepareComponentCompound(data) {\n        var atoms = [];\n        if (data.molecule && data.molecule.atomArray && data.molecule.atomArray.atom) {\n          if (!Array.isArray(data.molecule.atomArray.atom)) {\n            atoms.push(data.molecule.atomArray.atom);\n          } else {\n            atoms = data.molecule.atomArray.atom;\n          }\n        } else if (!data.molecule) {\n          var ret = {};\n          ret.atomLabels = null;\n          ret.labelsCount = 1;\n          return ret;\n        }\n        if (data.molecule.molecule) {\n          self._extractSGroups(data.molecule.molecule, atoms);\n        }\n        var atom;\n        var count = atoms.length;\n        for (var i = 0; i < count; i++) {\n          atom = atoms[i];\n          atom.edges = [];\n        }\n        var localBond = [];\n        if (data.molecule.bondArray && data.molecule.bondArray.bond) {\n          if (!Array.isArray(data.molecule.bondArray.bond)) {\n            localBond.push(data.molecule.bondArray.bond);\n          } else {\n            localBond = data.molecule.bondArray.bond;\n          }\n        }\n        var bond;\n        count = localBond.length;\n        self._rebuidBondIndexes(atoms, localBond);\n        function addCurrBond(index) {\n          bond = localBond[index];\n          atom = atoms[bond.start];\n          if (!atom) {\n            return false;\n          }\n          atom.edges.push(bond.end);\n          atom = atoms[bond.end];\n          if (!atom) {\n            return false;\n          }\n          atom.edges.push(bond.start);\n          return true;\n        }\n        for (var _i = 0; _i < count; _i++) {\n          if (!addCurrBond(_i)) {\n            continue;\n          }\n          var orderAttr = bond.xmlNode.getAttribute('order');\n          var tc = parseInt(orderAttr, 10);\n          localBond[_i].order = 0;\n          localBond[_i].type = Bond$3.BondType.UNKNOWN;\n          if (tc > 1) {\n            localBond[_i].order = tc;\n          } else {\n            var order = cOrderCharCodes[orderAttr];\n            if (order !== undefined) {\n              localBond[_i].order = order;\n              if (orderAttr === 'A') {\n                localBond[_i].type = Bond$3.BondType.AROMATIC;\n              }\n            }\n          }\n        }\n        count = atoms.length;\n        for (var _i2 = 0; _i2 < count; _i2++) {\n          atom = atoms[_i2];\n          atom.edges.sort();\n        }\n        var labels = self._breadWidthSearch(atoms, 0);\n        var retStruct = {};\n        retStruct.atoms = atoms;\n        retStruct.bonds = localBond;\n        retStruct.labels = labels.atomLabels;\n        retStruct.count = Math.min(1, labels.labelsCount);\n        retStruct.curr = -1;\n        retStruct.originalCML = doc;\n        return retStruct;\n      }\n      if (traversedData.cml) {\n        rawData = traversedData.cml;\n      } else {\n        rawData = traversedData;\n      }\n      var retData = [];\n      var filteredData = [];\n      this._findSuitableMolecule(rawData, filteredData);\n      if (this._readOnlyOneMolecule && filteredData.length > 1) {\n        filteredData.splice(1, filteredData.length - 1);\n      }\n      filteredData.forEach(function (d) {\n        var rd = prepareComponentCompound(d);\n        if (rd.atoms.length > 0) {\n          retData.push(rd);\n        }\n      });\n      return retData;\n    }\n  }, {\n    key: \"_packLabel\",\n    value: function _packLabel(compId, molId) {\n      var shift = 16;\n      return (molId << shift) + compId;\n    }\n  }, {\n    key: \"_unpackLabel\",\n    value: function _unpackLabel(l) {\n      var shift = 16;\n      var mask = (1 << shift) - 1;\n      return {\n        molId: l >>> shift,\n        compId: l & mask\n      };\n    }\n  }, {\n    key: \"_breadWidthSearch\",\n    value: function _breadWidthSearch(atoms, molID) {\n      var atomLabels = new Array(atoms.length);\n      var id;\n      for (id = 0; id < atomLabels.length; id++) {\n        atomLabels[id] = this._packLabel(0, molID);\n      }\n      var breadthQueue = [];\n      var componentID = 0;\n      var labeledAtoms = atoms.length;\n      while (labeledAtoms > 0) {\n        componentID++;\n        var startID = -1;\n        for (id = 0; id < atomLabels.length; id++) {\n          if (this._unpackLabel(atomLabels[id]).compId === 0) {\n            startID = id;\n            break;\n          }\n        }\n        if (startID < 0) {\n          break;\n        }\n        breadthQueue.push(atoms[startID]);\n        atomLabels[startID] = this._packLabel(componentID, molID);\n        labeledAtoms--;\n        while (breadthQueue.length > 0) {\n          var curr = breadthQueue.shift();\n          if (!curr) {\n            continue;\n          }\n          for (var i = 0; i < curr.edges.length; i++) {\n            if (atomLabels[curr.edges[i]] !== componentID) {\n              breadthQueue.push(atoms[curr.edges[i]]);\n              atomLabels[curr.edges[i]] = componentID;\n              labeledAtoms--;\n            }\n          }\n        }\n      }\n      var ret = {};\n      ret.atomLabels = atomLabels;\n      ret.labelsCount = componentID;\n      return ret;\n    }\n  }, {\n    key: \"_parseBond\",\n    value: function _parseBond(eAtom, mainAtom, order, type) {\n      if (eAtom >= 0) {\n        var h = [Math.min(eAtom, mainAtom), Math.max(eAtom, mainAtom)];\n        this._complex.addBond(h[0], h[1], order, type, true);\n      }\n    }\n  }, {\n    key: \"_fixBondsArray\",\n    value: function _fixBondsArray() {\n      var serialAtomMap = this._serialAtomMap = {};\n      var complex = this._complex;\n      var atoms = complex._atoms;\n      for (var i = 0, ni = atoms.length; i < ni; ++i) {\n        var atom = atoms[i];\n        serialAtomMap[atom.serial] = atom;\n      }\n      var bonds = complex._bonds;\n      var logger = this.logger;\n      for (var j = 0, nj = bonds.length; j < nj; ++j) {\n        var bond = bonds[j];\n        if (bond._right < bond._left) {\n          logger.debug('_fixBondsArray: Logic error.');\n        }\n        bond._left = serialAtomMap[bond._left] || null;\n        bond._right = serialAtomMap[bond._right] || null;\n      }\n    }\n  }, {\n    key: \"_parseSet\",\n    value: function _parseSet(varData) {\n      var complex = this._complex = new Complex$7();\n      var data = varData;\n      var currentLabel = data.curr;\n      var atoms = data.atoms,\n          labels = data.labels;\n      var atom = null;\n      var i;\n      var j;\n      var count = atoms.length;\n      function addFunc(a) {\n        a.xmlNodeRef = atom;\n        if (atom.x2) {\n          atom.x3 = atom.x2;\n          delete atom.x2;\n        }\n        if (atom.y2) {\n          atom.y3 = atom.y2;\n          delete atom.y2;\n        }\n        if (!atom.z3) {\n          atom.z3 = '0.0';\n        }\n        atom.complexAtom = a;\n      }\n      var chains = {};\n      var reorder = [];\n      for (i = 0; i < count; i++) {\n        reorder.push(i);\n      }\n      reorder.sort(function (a, b) {\n        return labels[a] - labels[b];\n      });\n      for (i = 0; i < count; i++) {\n        var atomCharge = 0;\n        var lLabel = labels[reorder[i]];\n        if (this._unpackLabel(lLabel).molId === this._unpackLabel(currentLabel).molId) {\n          atom = atoms[reorder[i]];\n          var atomFullNameStruct = atom.elementType;\n          if (atom.sgroupRef) {\n            var countRef = atom.sgroupRef.length;\n            for (var k = 0; k < countRef; ++k) {\n              complex._sgroups.push(atom.sgroupRef[k]);\n            }\n          }\n          if (atom.x3 || atom.x2) {\n            var currAtomComp = this._unpackLabel(lLabel).compId;\n            var chainID = ' ';\n            var resSeq = currAtomComp;\n            var iCode = ' ';\n            var strLabel = currAtomComp.toString();\n            if (strLabel.length === 1) {\n              strLabel = \"0\".concat(strLabel);\n            }\n            var resName = \"N\".concat(strLabel);\n            var chain = chains[chainID];\n            if (!chain || chain.getName() !== chainID) {\n              chains[chainID] = chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n              this._residue = null;\n            }\n            var residue = this._residue;\n            if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n              this._residue = residue = chain.addResidue(resName, resSeq, iCode);\n            }\n            var xyz = null;\n            if (atom.x3) {\n              xyz = new Vector3(parseFloat(atom.x3), parseFloat(atom.y3), parseFloat(atom.z3));\n            } else if (atom.x2) {\n              xyz = new Vector3(parseFloat(atom.x2), parseFloat(atom.y2), 0);\n            }\n            var element = Element$7.ByName[atom.elementType.toUpperCase()];\n            if (!element) {\n              element = JSON.parse(JSON.stringify(Element$7.ByName[Object.keys(Element$7.ByName)[Object.keys(Element$7.ByName).length - 1]]));\n              element.number += 1;\n              element.name = atom.elementType.toUpperCase();\n              element.fullName = 'Unknown';\n              Element$7.ByName[atom.elementType.toUpperCase()] = element;\n            }\n            var atomSerial = parseInt(atom.id.replace(/[^0-9]/, ''), 10);\n            var added = residue.addAtom(atomFullNameStruct, element, xyz, Element$7.Role.SG, true, atomSerial, ' ', 1.0, 0.0, atomCharge);\n            if (atom.hydrogenCount) {\n              added.hydrogenCount = parseInt(atom.hydrogenCount, 10);\n            }\n            if (atom.mrvValence) {\n              added.valence = parseInt(atom.mrvValence, 10);\n            }\n            addFunc(added);\n          }\n        }\n      }\n      chains = null;\n      for (i = 0; i < data.bonds.length; i++) {\n        var cb = data.bonds[i];\n        if (this._unpackLabel(labels[cb.start]).molId === this._unpackLabel(currentLabel).molId && this._unpackLabel(labels[cb.end]).molId === this._unpackLabel(currentLabel).molId) {\n          atom = atoms[cb.start];\n          if (!atom || !atoms[cb.end]) {\n            continue;\n          }\n          this._parseBond(parseInt(atom.id.replace(/[^0-9]/, ''), 10), parseInt(atoms[cb.end].id.replace(/[^0-9]/, ''), 10), cb.order, cb.type);\n        }\n      }\n      for (i = 0; i < this._complex.getSGroupCount(); i++) {\n        var sGrp = this._complex.getSGroups()[i];\n        for (j = 0; j < sGrp._atoms.length; j++) {\n          sGrp._atoms[j] = sGrp._atoms[j].complexAtom;\n        }\n      }\n      for (i = 0; i < count; i++) {\n        if (this._unpackLabel(labels[i]).molId === this._unpackLabel(currentLabel).molId) {\n          atom = atoms[i];\n          atom.complexAtom = null;\n          delete atom.complexAtom;\n        }\n      }\n      this._complex.originalCML = data.originalCML;\n      this._fixBondsArray();\n      complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n      this._serialAtomMap = null;\n      this._complex = null;\n      return complex;\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var complexes = [];\n      var self = this;\n      var moleculaSet = this._selectComponents(this._data);\n      moleculaSet.forEach(function (molSet) {\n        molSet.curr = 2;\n        if (molSet.count === 0) {\n          molSet.count = 1;\n        }\n        for (var i = 0; i < molSet.count; i++) {\n          molSet.curr = i + 1;\n          complexes.push(self._parseSet(molSet, false));\n        }\n      });\n      var totalAtomsParsed = 0;\n      complexes.forEach(function (c) {\n        totalAtomsParsed += c.getAtomCount();\n      });\n      if (totalAtomsParsed <= 0) {\n        throw new Error('The data does not contain valid atoms');\n      }\n      if (complexes.length > 1) {\n        var joinedComplex = new Complex$7();\n        joinedComplex.joinComplexes(complexes);\n        joinedComplex.originalCML = complexes[0].originalCML;\n        return joinedComplex;\n      }\n      if (complexes.length === 1) {\n        return complexes[0];\n      }\n      return new Complex$7();\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && cmlStartRegexp.test(data);\n    }\n  }]);\n  return CMLParser;\n}(Parser);\nCMLParser.formats = ['cml'];\nCMLParser.extensions = ['.cml'];\n\nvar mmtf = {exports: {}};\n\n(function (module, exports) {\n  !function (r, t) {\n    t(exports);\n  }(commonjsGlobal, function (r) {\n    function t(r, t, n) {\n      for (var e = (r.byteLength, 0), i = n.length; i > e; e++) {\n        var o = n.charCodeAt(e);\n        if (128 > o) r.setUint8(t++, o >>> 0 & 127 | 0);else if (2048 > o) r.setUint8(t++, o >>> 6 & 31 | 192), r.setUint8(t++, o >>> 0 & 63 | 128);else if (65536 > o) r.setUint8(t++, o >>> 12 & 15 | 224), r.setUint8(t++, o >>> 6 & 63 | 128), r.setUint8(t++, o >>> 0 & 63 | 128);else {\n          if (!(1114112 > o)) throw new Error('bad codepoint ' + o);\n          r.setUint8(t++, o >>> 18 & 7 | 240), r.setUint8(t++, o >>> 12 & 63 | 128), r.setUint8(t++, o >>> 6 & 63 | 128), r.setUint8(t++, o >>> 0 & 63 | 128);\n        }\n      }\n    }\n    function n(r) {\n      for (var t = 0, n = 0, e = r.length; e > n; n++) {\n        var i = r.charCodeAt(n);\n        if (128 > i) t += 1;else if (2048 > i) t += 2;else if (65536 > i) t += 3;else {\n          if (!(1114112 > i)) throw new Error('bad codepoint ' + i);\n          t += 4;\n        }\n      }\n      return t;\n    }\n    function e(r, i, o) {\n      var a = _typeof(r);\n      if ('string' === a) {\n        var u = n(r);\n        if (32 > u) return i.setUint8(o, 160 | u), t(i, o + 1, r), 1 + u;\n        if (256 > u) return i.setUint8(o, 217), i.setUint8(o + 1, u), t(i, o + 2, r), 2 + u;\n        if (65536 > u) return i.setUint8(o, 218), i.setUint16(o + 1, u), t(i, o + 3, r), 3 + u;\n        if (4294967296 > u) return i.setUint8(o, 219), i.setUint32(o + 1, u), t(i, o + 5, r), 5 + u;\n      }\n      if (r instanceof Uint8Array) {\n        var u = r.byteLength,\n            s = new Uint8Array(i.buffer);\n        if (256 > u) return i.setUint8(o, 196), i.setUint8(o + 1, u), s.set(r, o + 2), 2 + u;\n        if (65536 > u) return i.setUint8(o, 197), i.setUint16(o + 1, u), s.set(r, o + 3), 3 + u;\n        if (4294967296 > u) return i.setUint8(o, 198), i.setUint32(o + 1, u), s.set(r, o + 5), 5 + u;\n      }\n      if ('number' === a) {\n        if (!isFinite(r)) throw new Error('Number not finite: ' + r);\n        if (Math.floor(r) !== r) return i.setUint8(o, 203), i.setFloat64(o + 1, r), 9;\n        if (r >= 0) {\n          if (128 > r) return i.setUint8(o, r), 1;\n          if (256 > r) return i.setUint8(o, 204), i.setUint8(o + 1, r), 2;\n          if (65536 > r) return i.setUint8(o, 205), i.setUint16(o + 1, r), 3;\n          if (4294967296 > r) return i.setUint8(o, 206), i.setUint32(o + 1, r), 5;\n          throw new Error('Number too big 0x' + r.toString(16));\n        }\n        if (r >= -32) return i.setInt8(o, r), 1;\n        if (r >= -128) return i.setUint8(o, 208), i.setInt8(o + 1, r), 2;\n        if (r >= -32768) return i.setUint8(o, 209), i.setInt16(o + 1, r), 3;\n        if (r >= -2147483648) return i.setUint8(o, 210), i.setInt32(o + 1, r), 5;\n        throw new Error('Number too small -0x' + (-r).toString(16).substr(1));\n      }\n      if (null === r) return i.setUint8(o, 192), 1;\n      if ('boolean' === a) return i.setUint8(o, r ? 195 : 194), 1;\n      if ('object' === a) {\n        var u,\n            f = 0,\n            c = Array.isArray(r);\n        if (c) u = r.length;else {\n          var d = Object.keys(r);\n          u = d.length;\n        }\n        var f;\n        if (16 > u ? (i.setUint8(o, u | (c ? 144 : 128)), f = 1) : 65536 > u ? (i.setUint8(o, c ? 220 : 222), i.setUint16(o + 1, u), f = 3) : 4294967296 > u && (i.setUint8(o, c ? 221 : 223), i.setUint32(o + 1, u), f = 5), c) for (var l = 0; u > l; l++) {\n          f += e(r[l], i, o + f);\n        } else for (var l = 0; u > l; l++) {\n          var v = d[l];\n          f += e(v, i, o + f), f += e(r[v], i, o + f);\n        }\n        return f;\n      }\n      throw new Error('Unknown type ' + a);\n    }\n    function i(r) {\n      var t = _typeof(r);\n      if ('string' === t) {\n        var e = n(r);\n        if (32 > e) return 1 + e;\n        if (256 > e) return 2 + e;\n        if (65536 > e) return 3 + e;\n        if (4294967296 > e) return 5 + e;\n      }\n      if (r instanceof Uint8Array) {\n        var e = r.byteLength;\n        if (256 > e) return 2 + e;\n        if (65536 > e) return 3 + e;\n        if (4294967296 > e) return 5 + e;\n      }\n      if ('number' === t) {\n        if (Math.floor(r) !== r) return 9;\n        if (r >= 0) {\n          if (128 > r) return 1;\n          if (256 > r) return 2;\n          if (65536 > r) return 3;\n          if (4294967296 > r) return 5;\n          throw new Error('Number too big 0x' + r.toString(16));\n        }\n        if (r >= -32) return 1;\n        if (r >= -128) return 2;\n        if (r >= -32768) return 3;\n        if (r >= -2147483648) return 5;\n        throw new Error('Number too small -0x' + r.toString(16).substr(1));\n      }\n      if ('boolean' === t || null === r) return 1;\n      if ('object' === t) {\n        var e,\n            o = 0;\n        if (Array.isArray(r)) {\n          e = r.length;\n          for (var a = 0; e > a; a++) {\n            o += i(r[a]);\n          }\n        } else {\n          var u = Object.keys(r);\n          e = u.length;\n          for (var a = 0; e > a; a++) {\n            var s = u[a];\n            o += i(s) + i(r[s]);\n          }\n        }\n        if (16 > e) return 1 + o;\n        if (65536 > e) return 3 + o;\n        if (4294967296 > e) return 5 + o;\n        throw new Error('Array or object too long 0x' + e.toString(16));\n      }\n      throw new Error('Unknown type ' + t);\n    }\n    function o(r) {\n      var t = new ArrayBuffer(i(r)),\n          n = new DataView(t);\n      return e(r, n, 0), new Uint8Array(t);\n    }\n    function a(r, t, n) {\n      return t ? new r(t.buffer, t.byteOffset, t.byteLength / (n || 1)) : void 0;\n    }\n    function u(r) {\n      return a(DataView, r);\n    }\n    function s(r) {\n      return a(Uint8Array, r);\n    }\n    function f(r) {\n      return a(Int8Array, r);\n    }\n    function c(r) {\n      return a(Int32Array, r, 4);\n    }\n    function d(r) {\n      return a(Float32Array, r, 4);\n    }\n    function l(r, t) {\n      var n = r.length / 2;\n      t || (t = new Int16Array(n));\n      for (var e = 0, i = 0; n > e; ++e, i += 2) {\n        t[e] = r[i] << 8 ^ r[i + 1] << 0;\n      }\n      return t;\n    }\n    function v(r, t) {\n      var n = r.length;\n      t || (t = new Uint8Array(2 * n));\n      for (var e = u(t), i = 0; n > i; ++i) {\n        e.setInt16(2 * i, r[i]);\n      }\n      return s(t);\n    }\n    function g(r, t) {\n      var n = r.length / 4;\n      t || (t = new Int32Array(n));\n      for (var e = 0, i = 0; n > e; ++e, i += 4) {\n        t[e] = r[i] << 24 ^ r[i + 1] << 16 ^ r[i + 2] << 8 ^ r[i + 3] << 0;\n      }\n      return t;\n    }\n    function L(r, t) {\n      var n = r.length;\n      t || (t = new Uint8Array(4 * n));\n      for (var e = u(t), i = 0; n > i; ++i) {\n        e.setInt32(4 * i, r[i]);\n      }\n      return s(t);\n    }\n    function h(r, t) {\n      var n = r.length;\n      t || (t = new Float32Array(n / 4));\n      for (var e = u(t), i = u(r), o = 0, a = 0, s = n / 4; s > o; ++o, a += 4) {\n        e.setFloat32(a, i.getFloat32(a), !0);\n      }\n      return t;\n    }\n    function y(r, t, n) {\n      var e = r.length,\n          i = 1 / t;\n      n || (n = new Float32Array(e));\n      for (var o = 0; e > o; ++o) {\n        n[o] = r[o] * i;\n      }\n      return n;\n    }\n    function m(r, t, n) {\n      var e = r.length;\n      n || (n = new Int32Array(e));\n      for (var i = 0; e > i; ++i) {\n        n[i] = Math.round(r[i] * t);\n      }\n      return n;\n    }\n    function p(r, t) {\n      var n, e;\n      if (!t) {\n        var i = 0;\n        for (n = 0, e = r.length; e > n; n += 2) {\n          i += r[n + 1];\n        }\n        t = new r.constructor(i);\n      }\n      var o = 0;\n      for (n = 0, e = r.length; e > n; n += 2) {\n        for (var a = r[n], u = r[n + 1], s = 0; u > s; ++s) {\n          t[o] = a, ++o;\n        }\n      }\n      return t;\n    }\n    function U(r) {\n      if (0 === r.length) return new Int32Array();\n      var t,\n          n,\n          e = 2;\n      for (t = 1, n = r.length; n > t; ++t) {\n        r[t - 1] !== r[t] && (e += 2);\n      }\n      var i = new Int32Array(e),\n          o = 0,\n          a = 1;\n      for (t = 1, n = r.length; n > t; ++t) {\n        r[t - 1] !== r[t] ? (i[o] = r[t - 1], i[o + 1] = a, a = 1, o += 2) : ++a;\n      }\n      return i[o] = r[r.length - 1], i[o + 1] = a, i;\n    }\n    function b(r, t) {\n      var n = r.length;\n      t || (t = new r.constructor(n)), n && (t[0] = r[0]);\n      for (var e = 1; n > e; ++e) {\n        t[e] = r[e] + t[e - 1];\n      }\n      return t;\n    }\n    function I(r, t) {\n      var n = r.length;\n      t || (t = new r.constructor(n)), t[0] = r[0];\n      for (var e = 1; n > e; ++e) {\n        t[e] = r[e] - r[e - 1];\n      }\n      return t;\n    }\n    function w(r, t) {\n      var n,\n          e,\n          i = r instanceof Int8Array ? 127 : 32767,\n          o = -i - 1,\n          a = r.length;\n      if (!t) {\n        var u = 0;\n        for (n = 0; a > n; ++n) {\n          r[n] < i && r[n] > o && ++u;\n        }\n        t = new Int32Array(u);\n      }\n      for (n = 0, e = 0; a > n;) {\n        for (var s = 0; r[n] === i || r[n] === o;) {\n          s += r[n], ++n;\n        }\n        s += r[n], ++n, t[e] = s, ++e;\n      }\n      return t;\n    }\n    function C(r, t) {\n      var n,\n          e = t ? 127 : 32767,\n          i = -e - 1,\n          o = r.length,\n          a = 0;\n      for (n = 0; o > n; ++n) {\n        var u = r[n];\n        0 === u ? ++a : a += u === e || u === i ? 2 : u > 0 ? Math.ceil(u / e) : Math.ceil(u / i);\n      }\n      var s = t ? new Int8Array(a) : new Int16Array(a),\n          f = 0;\n      for (n = 0; o > n; ++n) {\n        var u = r[n];\n        if (u >= 0) for (; u >= e;) {\n          s[f] = e, ++f, u -= e;\n        } else for (; i >= u;) {\n          s[f] = i, ++f, u -= i;\n        }\n        s[f] = u, ++f;\n      }\n      return s;\n    }\n    function A(r, t) {\n      return b(p(r), t);\n    }\n    function x(r) {\n      return U(I(r));\n    }\n    function M(r, t, n) {\n      return y(p(r, c(n)), t, n);\n    }\n    function F(r, t) {\n      return U(m(r, t));\n    }\n    function S(r, t, n) {\n      return y(b(r, c(n)), t, n);\n    }\n    function E(r, t, n) {\n      return I(m(r, t), n);\n    }\n    function N(r, t, n) {\n      return y(w(r, c(n)), t, n);\n    }\n    function O(r, t, n) {\n      var e = w(r, c(n));\n      return S(e, t, d(e));\n    }\n    function T(r, t, n) {\n      return C(E(r, t), n);\n    }\n    function k(r) {\n      var t = u(r),\n          n = t.getInt32(0),\n          e = t.getInt32(4),\n          i = r.subarray(8, 12),\n          r = r.subarray(12);\n      return [n, r, e, i];\n    }\n    function j(r, t, n, e) {\n      var i = new ArrayBuffer(12 + e.byteLength),\n          o = new Uint8Array(i),\n          a = new DataView(i);\n      return a.setInt32(0, r), a.setInt32(4, t), n && o.set(n, 8), o.set(e, 12), o;\n    }\n    function q(r) {\n      var t = r.length,\n          n = s(r);\n      return j(2, t, void 0, n);\n    }\n    function D(r) {\n      var t = r.length,\n          n = L(r);\n      return j(4, t, void 0, n);\n    }\n    function P(r, t) {\n      var n = r.length / t,\n          e = L([t]),\n          i = s(r);\n      return j(5, n, e, i);\n    }\n    function z(r) {\n      var t = r.length,\n          n = L(U(r));\n      return j(6, t, void 0, n);\n    }\n    function B(r) {\n      var t = r.length,\n          n = L(x(r));\n      return j(8, t, void 0, n);\n    }\n    function V(r, t) {\n      var n = r.length,\n          e = L([t]),\n          i = L(F(r, t));\n      return j(9, n, e, i);\n    }\n    function G(r, t) {\n      var n = r.length,\n          e = L([t]),\n          i = v(T(r, t));\n      return j(10, n, e, i);\n    }\n    function R(r) {\n      var t = {};\n      return rr.forEach(function (n) {\n        void 0 !== r[n] && (t[n] = r[n]);\n      }), r.bondAtomList && (t.bondAtomList = D(r.bondAtomList)), r.bondOrderList && (t.bondOrderList = q(r.bondOrderList)), t.xCoordList = G(r.xCoordList, 1e3), t.yCoordList = G(r.yCoordList, 1e3), t.zCoordList = G(r.zCoordList, 1e3), r.bFactorList && (t.bFactorList = G(r.bFactorList, 100)), r.atomIdList && (t.atomIdList = B(r.atomIdList)), r.altLocList && (t.altLocList = z(r.altLocList)), r.occupancyList && (t.occupancyList = V(r.occupancyList, 100)), t.groupIdList = B(r.groupIdList), t.groupTypeList = D(r.groupTypeList), r.secStructList && (t.secStructList = q(r.secStructList)), r.insCodeList && (t.insCodeList = z(r.insCodeList)), r.sequenceIndexList && (t.sequenceIndexList = B(r.sequenceIndexList)), t.chainIdList = P(r.chainIdList, 4), r.chainNameList && (t.chainNameList = P(r.chainNameList, 4)), t;\n    }\n    function H(r) {\n      function t(r) {\n        for (var t = {}, n = 0; r > n; n++) {\n          var e = o();\n          t[e] = o();\n        }\n        return t;\n      }\n      function n(t) {\n        var n = r.subarray(a, a + t);\n        return a += t, n;\n      }\n      function e(t) {\n        var n = r.subarray(a, a + t);\n        a += t;\n        var e = 65535;\n        if (t > e) {\n          for (var i = [], o = 0; o < n.length; o += e) {\n            i.push(String.fromCharCode.apply(null, n.subarray(o, o + e)));\n          }\n          return i.join('');\n        }\n        return String.fromCharCode.apply(null, n);\n      }\n      function i(r) {\n        for (var t = new Array(r), n = 0; r > n; n++) {\n          t[n] = o();\n        }\n        return t;\n      }\n      function o() {\n        var o,\n            s,\n            f = r[a];\n        if (0 === (128 & f)) return a++, f;\n        if (128 === (240 & f)) return s = 15 & f, a++, t(s);\n        if (144 === (240 & f)) return s = 15 & f, a++, i(s);\n        if (160 === (224 & f)) return s = 31 & f, a++, e(s);\n        if (224 === (224 & f)) return o = u.getInt8(a), a++, o;\n        switch (f) {\n          case 192:\n            return a++, null;\n          case 194:\n            return a++, !1;\n          case 195:\n            return a++, !0;\n          case 196:\n            return s = u.getUint8(a + 1), a += 2, n(s);\n          case 197:\n            return s = u.getUint16(a + 1), a += 3, n(s);\n          case 198:\n            return s = u.getUint32(a + 1), a += 5, n(s);\n          case 202:\n            return o = u.getFloat32(a + 1), a += 5, o;\n          case 203:\n            return o = u.getFloat64(a + 1), a += 9, o;\n          case 204:\n            return o = r[a + 1], a += 2, o;\n          case 205:\n            return o = u.getUint16(a + 1), a += 3, o;\n          case 206:\n            return o = u.getUint32(a + 1), a += 5, o;\n          case 208:\n            return o = u.getInt8(a + 1), a += 2, o;\n          case 209:\n            return o = u.getInt16(a + 1), a += 3, o;\n          case 210:\n            return o = u.getInt32(a + 1), a += 5, o;\n          case 217:\n            return s = u.getUint8(a + 1), a += 2, e(s);\n          case 218:\n            return s = u.getUint16(a + 1), a += 3, e(s);\n          case 219:\n            return s = u.getUint32(a + 1), a += 5, e(s);\n          case 220:\n            return s = u.getUint16(a + 1), a += 3, i(s);\n          case 221:\n            return s = u.getUint32(a + 1), a += 5, i(s);\n          case 222:\n            return s = u.getUint16(a + 1), a += 3, t(s);\n          case 223:\n            return s = u.getUint32(a + 1), a += 5, t(s);\n        }\n        throw new Error('Unknown type 0x' + f.toString(16));\n      }\n      var a = 0,\n          u = new DataView(r.buffer);\n      return o();\n    }\n    function W(r, t, n, e) {\n      switch (r) {\n        case 1:\n          return h(t);\n        case 2:\n          return f(t);\n        case 3:\n          return l(t);\n        case 4:\n          return g(t);\n        case 5:\n          return s(t);\n        case 6:\n          return p(g(t), new Uint8Array(n));\n        case 7:\n          return p(g(t));\n        case 8:\n          return A(g(t));\n        case 9:\n          return M(g(t), g(e)[0]);\n        case 10:\n          return O(l(t), g(e)[0]);\n        case 11:\n          return y(l(t), g(e)[0]);\n        case 12:\n          return N(l(t), g(e)[0]);\n        case 13:\n          return N(f(t), g(e)[0]);\n        case 14:\n          return w(l(t));\n        case 15:\n          return w(f(t));\n      }\n    }\n    function X(r, t) {\n      t = t || {};\n      var n = t.ignoreFields,\n          e = {};\n      return nr.forEach(function (t) {\n        var i = n ? -1 !== n.indexOf(t) : !1,\n            o = r[t];\n        i || void 0 === o || (o instanceof Uint8Array ? e[t] = W.apply(null, k(o)) : e[t] = o);\n      }), e;\n    }\n    function J(r) {\n      return String.fromCharCode.apply(null, r).replace(/\\0/g, '');\n    }\n    function K(r, t, n) {\n      n = n || {};\n      var e,\n          i,\n          o,\n          a,\n          u,\n          s,\n          f = n.firstModelOnly,\n          c = t.onModel,\n          d = t.onChain,\n          l = t.onGroup,\n          v = t.onAtom,\n          g = t.onBond,\n          L = 0,\n          h = 0,\n          y = 0,\n          m = 0,\n          p = 0,\n          U = -1,\n          b = r.chainNameList,\n          I = r.secStructList,\n          w = r.insCodeList,\n          C = r.sequenceIndexList,\n          A = r.atomIdList,\n          x = r.bFactorList,\n          M = r.altLocList,\n          F = r.occupancyList,\n          S = r.bondAtomList,\n          E = r.bondOrderList;\n      for (e = 0, i = r.chainsPerModel.length; i > e && !(f && L > 0); ++e) {\n        var N = r.chainsPerModel[L];\n        for (c && c({\n          chainCount: N,\n          modelIndex: L\n        }), o = 0; N > o; ++o) {\n          var O = r.groupsPerChain[h];\n          if (d) {\n            var T = J(r.chainIdList.subarray(4 * h, 4 * h + 4)),\n                k = null;\n            b && (k = J(b.subarray(4 * h, 4 * h + 4))), d({\n              groupCount: O,\n              chainIndex: h,\n              modelIndex: L,\n              chainId: T,\n              chainName: k\n            });\n          }\n          for (a = 0; O > a; ++a) {\n            var j = r.groupList[r.groupTypeList[y]],\n                q = j.atomNameList.length;\n            if (l) {\n              var D = null;\n              I && (D = I[y]);\n              var P = null;\n              r.insCodeList && (P = String.fromCharCode(w[y]));\n              var z = null;\n              C && (z = C[y]), l({\n                atomCount: q,\n                groupIndex: y,\n                chainIndex: h,\n                modelIndex: L,\n                groupId: r.groupIdList[y],\n                groupType: r.groupTypeList[y],\n                groupName: j.groupName,\n                singleLetterCode: j.singleLetterCode,\n                chemCompType: j.chemCompType,\n                secStruct: D,\n                insCode: P,\n                sequenceIndex: z\n              });\n            }\n            for (u = 0; q > u; ++u) {\n              if (v) {\n                var B = null;\n                A && (B = A[m]);\n                var V = null;\n                x && (V = x[m]);\n                var G = null;\n                M && (G = String.fromCharCode(M[m]));\n                var R = null;\n                F && (R = F[m]), v({\n                  atomIndex: m,\n                  groupIndex: y,\n                  chainIndex: h,\n                  modelIndex: L,\n                  atomId: B,\n                  element: j.elementList[u],\n                  atomName: j.atomNameList[u],\n                  formalCharge: j.formalChargeList[u],\n                  xCoord: r.xCoordList[m],\n                  yCoord: r.yCoordList[m],\n                  zCoord: r.zCoordList[m],\n                  bFactor: V,\n                  altLoc: G,\n                  occupancy: R\n                });\n              }\n              m += 1;\n            }\n            if (g) {\n              var H = j.bondAtomList;\n              for (u = 0, s = j.bondOrderList.length; s > u; ++u) {\n                g({\n                  atomIndex1: m - q + H[2 * u],\n                  atomIndex2: m - q + H[2 * u + 1],\n                  bondOrder: j.bondOrderList[u]\n                });\n              }\n            }\n            y += 1;\n          }\n          h += 1;\n        }\n        if (p = U + 1, U = m - 1, g && S) for (u = 0, s = S.length; s > u; u += 2) {\n          var W = S[u],\n              X = S[u + 1];\n          (W >= p && U >= W || X >= p && U >= X) && g({\n            atomIndex1: W,\n            atomIndex2: X,\n            bondOrder: E ? E[u / 2] : null\n          });\n        }\n        L += 1;\n      }\n    }\n    function Q(r) {\n      return o(R(r));\n    }\n    function Y(r, t) {\n      r instanceof ArrayBuffer && (r = new Uint8Array(r));\n      var n;\n      return n = r instanceof Uint8Array ? H(r) : r, X(n, t);\n    }\n    function Z(r, t, n, e) {\n      function i() {\n        try {\n          var r = Y(o.response);\n          n(r);\n        } catch (t) {\n          e(t);\n        }\n      }\n      var o = new XMLHttpRequest();\n      o.addEventListener('load', i, !0), o.addEventListener('error', e, !0), o.responseType = 'arraybuffer', o.open('GET', t + r.toUpperCase()), o.send();\n    }\n    function $(r, t, n) {\n      Z(r, or, t, n);\n    }\n    function _(r, t, n) {\n      Z(r, ar, t, n);\n    }\n    var rr = ['mmtfVersion', 'mmtfProducer', 'unitCell', 'spaceGroup', 'structureId', 'title', 'depositionDate', 'releaseDate', 'experimentalMethods', 'resolution', 'rFree', 'rWork', 'bioAssemblyList', 'ncsOperatorList', 'entityList', 'groupList', 'numBonds', 'numAtoms', 'numGroups', 'numChains', 'numModels', 'groupsPerChain', 'chainsPerModel'],\n        tr = ['xCoordList', 'yCoordList', 'zCoordList', 'groupIdList', 'groupTypeList', 'chainIdList', 'bFactorList', 'atomIdList', 'altLocList', 'occupancyList', 'secStructList', 'insCodeList', 'sequenceIndexList', 'chainNameList', 'bondAtomList', 'bondOrderList'],\n        nr = rr.concat(tr),\n        er = 'v1.1.0dev',\n        ir = '//mmtf.rcsb.org/v1.0/',\n        or = ir + 'full/',\n        ar = ir + 'reduced/';\n    r.encode = Q, r.decode = Y, r.traverse = K, r.fetch = $, r.fetchReduced = _, r.version = er, r.fetchUrl = or, r.fetchReducedUrl = ar, r.encodeMsgpack = o, r.encodeMmtf = R, r.decodeMsgpack = H, r.decodeMmtf = X;\n  });\n})(mmtf, mmtf.exports);\nvar MMTF = mmtf.exports;\n\nfunction _createSuper$n(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$n(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$n() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$6 = chem.Complex,\n    Chain$1 = chem.Chain,\n    Atom$1 = chem.Atom,\n    Element$6 = chem.Element,\n    Helix$1 = chem.Helix,\n    Sheet$1 = chem.Sheet,\n    Strand$1 = chem.Strand,\n    Bond$2 = chem.Bond,\n    Assembly$1 = chem.Assembly,\n    Molecule$6 = chem.Molecule;\nvar ArrayComparator = function () {\n  function ArrayComparator(original) {\n    _classCallCheck(this, ArrayComparator);\n    this._original = Array.from(original);\n    this._original.sort();\n    this._sum = 0;\n    for (var i = 0; i < this._original.length; ++i) {\n      this._sum += this._original[i];\n    }\n  }\n  _createClass(ArrayComparator, [{\n    key: \"compare\",\n    value: function compare(candidate) {\n      var len = candidate.length;\n      if (len !== this._original.length) {\n        return false;\n      }\n      var sum = 0;\n      var i;\n      for (i = 0; i < len; ++i) {\n        sum += candidate[i];\n      }\n      if (sum !== this._sum) {\n        return false;\n      }\n      var sorted = Array.from(candidate);\n      sorted.sort();\n      for (i = 0; i < len; ++i) {\n        if (sorted[i] !== this._original[i]) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }]);\n  return ArrayComparator;\n}();\nArrayComparator.prototype.constructor = ArrayComparator;\nvar StructuralElementType = StructuralElement.Type;\nvar secStructToType = [StructuralElementType.HELIX_PI,\nStructuralElementType.BEND,\nStructuralElementType.HELIX_ALPHA,\nStructuralElementType.STRAND,\nStructuralElementType.HELIX_310,\nStructuralElementType.BRIDGE,\nStructuralElementType.TURN,\nStructuralElementType.COIL\n];\nfunction getFirstByte(buf) {\n  var bytes = new Uint8Array(buf, 0, 1);\n  return bytes[0];\n}\nvar MMTFParser = function (_Parser) {\n  _inherits(MMTFParser, _Parser);\n  var _super = _createSuper$n(MMTFParser);\n  function MMTFParser(data, options) {\n    var _this;\n    _classCallCheck(this, MMTFParser);\n    _this = _super.call(this, data, options);\n    _this._options.fileType = 'mmtf';\n    return _this;\n  }\n  _createClass(MMTFParser, [{\n    key: \"_onModel\",\n    value: function _onModel(_modelData) {}\n  }, {\n    key: \"_onChain\",\n    value: function _onChain(chainData) {\n      if (chainData.modelIndex !== 0) {\n        return;\n      }\n      var chain = new Chain$1(this._complex, chainData.chainName);\n      this._complex._chains[chainData.chainIndex] = chain;\n      chain._index = chainData.chainIndex;\n    }\n  }, {\n    key: \"_onGroup\",\n    value: function _onGroup(groupData) {\n      if (groupData.modelIndex !== 0) {\n        return;\n      }\n      if (this.settings.now.nowater) {\n        if (groupData.groupName === 'HOH' || groupData.groupName === 'WAT') {\n          return;\n        }\n      }\n      var chain = this._complex._chains[groupData.chainIndex];\n      var icode = !groupData.insCode.charCodeAt(0) ? '' : groupData.insCode;\n      var residue = chain.addResidue(groupData.groupName, groupData.groupId, icode);\n      residue._index = groupData.groupIndex;\n      this._updateSecStructure(this._complex, residue, groupData);\n    }\n  }, {\n    key: \"_onAtom\",\n    value: function _onAtom(atomData) {\n      if (atomData.modelIndex !== 0) {\n        return;\n      }\n      var altLoc = !atomData.altLoc.charCodeAt(0) ? '' : atomData.altLoc;\n      var atom = new Atom$1(atomData.groupIndex,\n      atomData.atomName, Element$6.getByName(atomData.element.toUpperCase()), new Vector3(atomData.xCoord, atomData.yCoord, atomData.zCoord), Element$6.Role[atomData.atomName], false,\n      atomData.atomId, altLoc, atomData.occupancy, atomData.bFactor, atomData.formalCharge);\n      this._complex._atoms[atomData.atomIndex] = atom;\n      atom.index = atomData.atomIndex;\n      this._serialAtomMap[atomData.atomId] = atom;\n    }\n  }, {\n    key: \"_onBond\",\n    value: function _onBond(bondData) {\n      var right = Math.max(bondData.atomIndex1, bondData.atomIndex2);\n      if (right >= this._complex._atoms.length) {\n        return;\n      }\n      var left = Math.min(bondData.atomIndex1, bondData.atomIndex2);\n      this._complex.addBond(this._complex._atoms[left], this._complex._atoms[right], bondData.bondOrder, Bond$2.BondType.UNKNOWN, true);\n    }\n  }, {\n    key: \"_updateSecStructure\",\n    value: function _updateSecStructure(complex, residue, groupData) {\n      var helixClasses = [3, -1, 1, -1, 5];\n      if (!isUndefined(groupData) && groupData.secStruct === this._ssType) {\n        residue._secondary = this._ssStruct;\n        if (this._ssStruct) {\n          this._ssStruct.term = residue;\n        }\n        return;\n      }\n      if (!isUndefined(groupData)) {\n        var type = secStructToType[groupData.secStruct];\n        this._ssType = groupData.secStruct;\n        this._ssStart = residue;\n        var struct = null;\n        switch (this._ssType) {\n          case -1:\n          case 7:\n            break;\n          case 0:\n          case 2:\n          case 4:\n            struct = new Helix$1(helixClasses[this._ssType], residue, residue, 0, '', '', 0);\n            complex._helices.push(struct);\n            break;\n          case 3:\n            {\n              var sheet = new Sheet$1('', 0);\n              complex._sheets.push(sheet);\n              struct = new Strand$1(sheet, residue, residue, 0, null, null);\n              break;\n            }\n          default:\n            if (type !== undefined) {\n              struct = new StructuralElement(type, residue, residue);\n            }\n            break;\n        }\n        this._ssStruct = struct;\n        residue._secondary = struct;\n        if (struct) {\n          complex.structures.push(struct);\n        }\n      }\n    }\n  }, {\n    key: \"_updateMolecules\",\n    value: function _updateMolecules(mmtfData) {\n      var entities = mmtfData.entityList;\n      if (!entities) {\n        return;\n      }\n      var chainsInModel0 = mmtfData.chainsPerModel[0];\n      for (var i = 0; i < entities.length; i++) {\n        var entity = entities[i];\n        var chains = entity.chainIndexList;\n        var residues = [];\n        for (var j = 0; j < chains.length; j++) {\n          var chainIndex = chains[j];\n          if (chainIndex >= chainsInModel0) {\n            continue;\n          }\n          var chain = this._complex._chains[chainIndex];\n          residues = residues.concat(chain._residues.slice());\n        }\n        var molecule = new Molecule$6(this._complex, entity.description, i + 1);\n        molecule.residues = residues;\n        this._complex._molecules[i] = molecule;\n      }\n    }\n  }, {\n    key: \"_traverse\",\n    value: function _traverse(mmtfData) {\n      var self = this;\n      var metadata = this._complex.metadata;\n      metadata.id = mmtfData.structureId;\n      metadata.title = [];\n      metadata.title[0] = mmtfData.title;\n      metadata.date = mmtfData.releaseDate;\n      metadata.format = 'mmtf';\n      var eventCallbacks = {\n        onModel: function onModel(modelData) {\n          self._onModel(modelData);\n        },\n        onChain: function onChain(chainData) {\n          self._onChain(chainData);\n        },\n        onGroup: function onGroup(groupData) {\n          self._onGroup(groupData);\n        },\n        onAtom: function onAtom(atomData) {\n          self._onAtom(atomData);\n        },\n        onBond: function onBond(bondData) {\n          self._onBond(bondData);\n        }\n      };\n      this._ssType = -1;\n      this._ssStruct = null;\n      this._ssStart = null;\n      MMTF.traverse(mmtfData, eventCallbacks);\n      this._updateSecStructure(this._complex);\n      this._updateMolecules(mmtfData);\n    }\n  }, {\n    key: \"_linkAtomsToResidues\",\n    value: function _linkAtomsToResidues() {\n      for (var i = 0; i < this._complex._atoms.length; ++i) {\n        var atom = this._complex._atoms[i];\n        var residue = this._complex._residues[atom.residue];\n        atom.residue = residue;\n        residue._atoms.push(atom);\n      }\n    }\n  }, {\n    key: \"_findSynonymousChains\",\n    value: function _findSynonymousChains() {\n      var named = {};\n      for (var i = 0; i < this._complex._chains.length; ++i) {\n        var chain = this._complex._chains[i];\n        var name = chain.getName();\n        if (!named.hasOwnProperty(name)) {\n          named[name] = [];\n        }\n        named[name].push(chain._index);\n      }\n      return named;\n    }\n  }, {\n    key: \"_parseAssemblyInfo\",\n    value: function _parseAssemblyInfo(mmtfData) {\n      var i;\n      var j;\n      var k;\n      var assemblies = [];\n      var logger = this.logger;\n      for (i = 0; i < mmtfData.bioAssemblyList.length; ++i) {\n        var baInfo = mmtfData.bioAssemblyList[i];\n        if (baInfo.transformList.length === 0) {\n          continue;\n        }\n        var chains = baInfo.transformList[0].chainIndexList;\n        var chainListCheck = new ArrayComparator(chains);\n        var chainNames = {};\n        for (j = 0; j < chains.length; ++j) {\n          chainNames[this._complex._chains[chains[j]].getName()] = 1;\n        }\n        var allChains = [];\n        var name = void 0;\n        for (name in chainNames) {\n          if (chainNames.hasOwnProperty(name)) {\n            Array.prototype.push.apply(allChains, this._chainsByName[name]);\n          }\n        }\n        if (!chainListCheck.compare(allChains)) {\n          logger.debug('MMTF: Assembly is missing some of the synonymous chains. Skipping...');\n        }\n        var a = new Assembly$1(this._complex);\n        for (name in chainNames) {\n          if (chainNames.hasOwnProperty(name)) {\n            a.addChain(name);\n          }\n        }\n        a.addMatrix(new Matrix4().fromArray(baInfo.transformList[0].matrix).transpose());\n        for (j = 1; j < baInfo.transformList.length; ++j) {\n          var transform = baInfo.transformList[j];\n          if (!chainListCheck.compare(transform.chainIndexList)) {\n            logger.debug('MMTF: Chain lists differ for different transforms in one assembly. Skipping...');\n            continue;\n          }\n          var m = new Matrix4().fromArray(transform.matrix).transpose();\n          for (k = 0; k < a.matrices.length; ++k) {\n            if (a.matrices[k].equals(m)) {\n              break;\n            }\n          }\n          if (k === a.matrices.length) {\n            a.addMatrix(m);\n          }\n        }\n        a.finalize();\n        assemblies.push(a);\n      }\n      return assemblies;\n    }\n  }, {\n    key: \"_markHeteroAtoms\",\n    value: function _markHeteroAtoms(mmtfData) {\n      var chainsInModel0 = mmtfData.chainsPerModel[0];\n      for (var i = 0; i < mmtfData.entityList.length; ++i) {\n        var entity = mmtfData.entityList[i];\n        if (entity.type !== 'polymer') {\n          for (var j = 0; j < entity.chainIndexList.length; ++j) {\n            var chainIndex = entity.chainIndexList[j];\n            if (chainIndex >= chainsInModel0) {\n              continue;\n            }\n            var chain = this._complex._chains[chainIndex];\n            for (var k = 0; k < chain._residues.length; ++k) {\n              var res = chain._residues[k];\n              for (var m = 0; m < res._atoms.length; ++m) {\n                res._atoms[m].het = true;\n              }\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_joinSynonymousChains\",\n    value: function _joinSynonymousChains() {\n      var i;\n      var j;\n      var primaryChainsArray = [];\n      var primaryChainsHash = {};\n      for (i = 0; i < this._complex._chains.length; ++i) {\n        var chain = this._complex._chains[i];\n        var name = chain.getName();\n        if (!primaryChainsHash.hasOwnProperty(name)) {\n          primaryChainsHash[name] = chain;\n          chain._index = primaryChainsArray.length;\n          primaryChainsArray.push(chain);\n          continue;\n        }\n        var primary = primaryChainsHash[name];\n        for (j = 0; j < chain._residues.length; ++j) {\n          var residue = chain._residues[j];\n          primary._residues.push(residue);\n          residue._chain = primary;\n        }\n      }\n      this._complex._chains = primaryChainsArray;\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var mmtfData = MMTF.decode(this._data);\n      this._complex = new Complex$6();\n      this._serialAtomMap = {};\n      this._traverse(mmtfData);\n      this._linkAtomsToResidues();\n      this._markHeteroAtoms(mmtfData);\n      this._chainsByName = this._findSynonymousChains();\n      Array.prototype.push.apply(this._complex.units, this._parseAssemblyInfo(mmtfData));\n      this._joinSynonymousChains();\n      this._complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n      return this._complex;\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isArrayBuffer(data) && (getFirstByte(data) | 1) === 0xdf;\n    }\n  }]);\n  return MMTFParser;\n}(Parser);\nMMTFParser.formats = ['mmtf'];\nMMTFParser.extensions = ['.mmtf'];\nMMTFParser.binary = true;\n\nfunction _createSuper$m(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$m(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$m() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ParsingError = function (_Error) {\n  _inherits(ParsingError, _Error);\n  var _super = _createSuper$m(ParsingError);\n  function ParsingError(message, line, column) {\n    var _this;\n    _classCallCheck(this, ParsingError);\n    _this = _super.call(this, \"data:\".concat(line, \":\").concat(column, \": \").concat(message));\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_assertThisInitialized(_this), ParsingError);\n    }\n    _this.name = 'ParsingError';\n    _this.parseLine = line;\n    _this.parseColumn = column;\n    return _this;\n  }\n  return _createClass(ParsingError);\n}( _wrapNativeSuper(Error));\n\nfunction _isWhitespace(ch) {\n  return ch === 32 || ch === 10 || ch === 13 || ch === 9;\n}\nfunction _inlineIndexOf(ch0, str, idx) {\n  var len = str.length;\n  var ch = -1;\n  while (idx < len) {\n    ch = str.charCodeAt(idx);\n    if (ch === ch0 || ch === 10) {\n      break;\n    }\n    ++idx;\n  }\n  return ch === ch0 ? idx : -1;\n}\nfunction readCIF(source) {\n  var i = 0;\n  var j = 0;\n  var n = source.length;\n  var code = NaN;\n  var newline = true;\n  var line = 1;\n  var column = 1;\n  var begin;\n  var state = 0;\n  var result = {};\n  var block = {};\n  var keys = [];\n  var keysCount = 0;\n  var key = '';\n  var values = [];\n  var valuesCount = 0;\n  var value;\n  function _parseValue() {\n    var val;\n    if ((code === 46 || code === 63) && (i + 1 >= n || _isWhitespace(source.charCodeAt(i + 1)))) {\n      ++column;\n      ++i;\n      return undefined;\n    }\n    if (newline && code === 59) {\n      j = i;\n      var lines = 0;\n      do {\n        j = _inlineIndexOf(10, source, j + 1);\n        if (j === -1) {\n          throw new ParsingError('Unterminated text block found', line, column);\n        }\n        ++lines;\n      } while (j + 1 < n && source.charCodeAt(j + 1) !== code || j + 1 >= n);\n      val = source.substring(i + 1, j).replace(/\\r/g, '');\n      i = j + 2;\n      line += lines;\n      column = 1;\n      newline = false;\n      return val;\n    }\n    if (code === 39 || code === 34) {\n      j = i;\n      do {\n        j = _inlineIndexOf(code, source, j + 1);\n        if (j === -1) {\n          throw new ParsingError('Unterminated quoted string found', line, column);\n        }\n      } while (j + 1 < n && !_isWhitespace(source.charCodeAt(j + 1)));\n      val = source.substring(i + 1, j);\n      column += j - i + 1;\n      i = j + 1;\n      return val;\n    }\n    j = i;\n    while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n      ++j;\n    }\n    val = source.substring(i, j);\n    column += j - i;\n    i = j;\n    var num = Number(val);\n    if (!Number.isNaN(num)) {\n      return num;\n    }\n    return val;\n  }\n  function _storeKey(tag) {\n    keys[keysCount++] = tag;\n  }\n  function _storeValue(val) {\n    var keyIndex = valuesCount % keysCount;\n    values[keyIndex].push(val);\n    ++valuesCount;\n    return val;\n  }\n  while (i <= n) {\n    code = source.charCodeAt(i);\n    if (code === 13) ; else if (code === 10) {\n      newline = true;\n      ++line;\n      column = 1;\n    } else {\n      if (code === 32 || code === 9) ; else if (code === 35) {\n        i = _inlineIndexOf(10, source, i + 1);\n        if (i === -1) {\n          break;\n        } else {\n          continue;\n        }\n      } else if (state === 0) {\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') {\n          j = i + 5;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            result[source.substring(begin, i)] = block = {};\n            state = 1;\n            continue;\n          } else {\n            throw new ParsingError('Data block name missing', line, column);\n          }\n        } else if (Number.isNaN(code)) {\n          break;\n        } else {\n          throw new ParsingError(\"Unexpected character in state \".concat(state), line, column);\n        }\n      } else if (state === 1) {\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') {\n          state = 0;\n          continue;\n        } else if (code === 95) {\n          j = i + 1;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            key = source.substring(begin, i);\n            state = 2;\n            continue;\n          } else {\n            throw new ParsingError('Tag name missing', line, column);\n          }\n        } else if ((code === 76 || code === 108) && source.substr(i + 1, 4).toLowerCase() === 'oop_') {\n          i += 5;\n          column += 5;\n          if (i < n && !_isWhitespace(source.charCodeAt(i))) {\n            throw new ParsingError(\"Unexpected character in state \".concat(state), line, column);\n          } else {\n            keys = [];\n            keysCount = 0;\n            values = [];\n            valuesCount = 0;\n            state = 3;\n            continue;\n          }\n        } else if (Number.isNaN(code)) {\n          break;\n        } else {\n          throw new ParsingError(\"Unexpected character in state \".concat(state), line, column);\n        }\n      } else if (state === 2) {\n        if (Number.isNaN(code)) {\n          break;\n        }\n        value = _parseValue();\n        set(block, key, value);\n        state = 1;\n        continue;\n      } else if (state === 3) {\n        if (code === 95) {\n          j = i + 1;\n          begin = j;\n          while (j < n && !_isWhitespace(source.charCodeAt(j))) {\n            ++j;\n          }\n          column += j - i;\n          i = j;\n          if (begin < i) {\n            _storeKey(source.substring(begin, i));\n            continue;\n          } else {\n            throw new ParsingError('Tag name missing', line, column);\n          }\n        } else {\n          if (keysCount > 0) {\n            for (var keyIndex = 0; keyIndex < keysCount; ++keyIndex) {\n              value = [];\n              values[keyIndex] = value;\n              set(block, keys[keyIndex], value);\n            }\n            state = 4;\n            continue;\n          }\n          throw new ParsingError('Data tags are missing inside a loop', line, column);\n        }\n      } else if (state === 4) {\n        if ((code === 68 || code === 100) && source.substr(i + 1, 4).toLowerCase() === 'ata_') {\n          state = 0;\n        } else if (code === 95) {\n          state = 1;\n        } else if ((code === 76 || code === 108) && source.substr(i + 1, 4).toLowerCase() === 'oop_') {\n          state = 1;\n        } else if (Number.isNaN(code)) {\n          state = 0;\n        } else {\n          _storeValue(_parseValue());\n        }\n        continue;\n      } else {\n        throw new ParsingError(\"Unexpected internal state \".concat(state), line, column);\n      }\n      newline = false;\n      ++column;\n    }\n    ++i;\n  }\n  if (state === 2) {\n    throw new ParsingError(\"Unexpected end of file in state \".concat(state), line, column);\n  }\n  return result;\n}\n\nfunction _createSuper$l(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$l(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$l() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$5 = chem.Complex,\n    Element$5 = chem.Element,\n    Helix = chem.Helix,\n    Sheet = chem.Sheet,\n    Strand = chem.Strand,\n    Assembly = chem.Assembly,\n    Molecule$5 = chem.Molecule;\nvar cRequiredAtomFields = ['auth_seq_id', 'Cartn_x', 'Cartn_y', 'Cartn_z', 'label_atom_id'];\nvar cSecondaryCoding = {\n  helx: 'helix',\n  turn: 'turn',\n  strn: 'strand'\n};\nfunction getTypeFromId(string) {\n  var typeId = /[A-Za-z]+/.exec(string);\n  if (!typeId) {\n    return null;\n  }\n  return cSecondaryCoding[typeId[0].toLowerCase()];\n}\nfunction arrize(arrayLikeObject) {\n  if (arrayLikeObject === null || arrayLikeObject === undefined || isArray(arrayLikeObject)) {\n    return arrayLikeObject;\n  }\n  return [arrayLikeObject];\n}\nfunction nameToElement(name) {\n  var veryLong = name.trim().length === 4;\n  return name.slice(0, veryLong ? 1 : 2).trim();\n}\nvar AtomDataError = function (_Error) {\n  _inherits(AtomDataError, _Error);\n  var _super = _createSuper$l(AtomDataError);\n  function AtomDataError(message) {\n    var _this;\n    _classCallCheck(this, AtomDataError);\n    _this = _super.call(this);\n    _this.name = 'AtomDataError';\n    _this.message = message;\n    return _this;\n  }\n  return _createClass(AtomDataError);\n}( _wrapNativeSuper(Error));\nfunction _getOperations(operList) {\n  if (!operList) {\n    return null;\n  }\n  var idc = arrize(operList.id);\n  var matrix = operList.matrix,\n      vector = operList.vector;\n  if (!idc || !matrix || !vector) {\n    return null;\n  }\n  var ops = [];\n  for (var i = 0, n = idc.length; i < n; ++i) {\n    var mtx = new Matrix4();\n    var elements = mtx.elements;\n    for (var row = 0; row < 3; ++row) {\n      var matrixData = matrix[row + 1];\n      elements[row] = arrize(matrixData[1])[i];\n      elements[row + 4] = arrize(matrixData[2])[i];\n      elements[row + 8] = arrize(matrixData[3])[i];\n      elements[row + 12] = arrize(vector[row + 1])[i];\n    }\n    ops[idc[i]] = mtx;\n  }\n  return ops;\n}\nfunction _extractOperations(assemblyGen, opsDict) {\n  assemblyGen = isString(assemblyGen) ? assemblyGen : \"\".concat(assemblyGen);\n  var l = assemblyGen.replace(/\\)\\s*\\(/g, '!').replace(/[()']/g, '');\n  var groupStr = l.split('!');\n  var gps = [];\n  for (var grIdx = 0, grCount = groupStr.length; grIdx < grCount; ++grIdx) {\n    var gr = groupStr[grIdx].split(',');\n    var gp = [];\n    var idx = 0;\n    for (var i = 0, n = gr.length; i < n; ++i) {\n      var s = gr[i];\n      if (s.includes('-')) {\n        var es = s.split('-');\n        var j = parseInt(es[0], 10);\n        var m = parseInt(es[1], 10);\n        for (; j <= m; ++j) {\n          gp[idx++] = opsDict[j];\n        }\n      } else {\n        gp[idx++] = opsDict[s];\n      }\n    }\n    gps.push(gp);\n  }\n  var matrices = [];\n  var cnt = 0;\n  function traverse(level, mtx) {\n    for (var ii = 0, nn = gps[level].length; ii < nn; ++ii) {\n      var newMtx = mtx ? mtx.clone() : new Matrix4();\n      newMtx.multiplyMatrices(gps[level][ii], newMtx);\n      if (level === 0) {\n        matrices[cnt++] = newMtx;\n      } else {\n        traverse(level - 1, newMtx);\n      }\n    }\n  }\n  traverse(gps.length - 1);\n  return matrices;\n}\nvar CIFParser = function (_Parser) {\n  _inherits(CIFParser, _Parser);\n  var _super2 = _createSuper$l(CIFParser);\n  function CIFParser(data, options) {\n    var _this2;\n    _classCallCheck(this, CIFParser);\n    _this2 = _super2.call(this, data, options);\n    _this2.asymDict = {};\n    _this2.molecules = [];\n    _this2._options.fileType = 'cif';\n    return _this2;\n  }\n  _createClass(CIFParser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      this.logger.info('Parsing CIF file..');\n      var data = readCIF(this._data);\n      return this._toComplex(data);\n    }\n  }, {\n    key: \"_toComplex\",\n    value: function _toComplex(cifData) {\n      var complex = new Complex$5();\n      var complexData = cifData[Object.keys(cifData)[0]];\n      this._extractAtoms(complex, complexData);\n      this._extractSecondary(complex, complexData);\n      this._extractAssemblies(complex, complexData);\n      this._extractMolecules(complex, complexData);\n      this._extractMetadata(complex, complexData);\n      complex.finalize({\n        needAutoBonding: true,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing\n      });\n      return complex;\n    }\n  }, {\n    key: \"_extractMetadata\",\n    value: function _extractMetadata(complex, complexData) {\n      var metadata = complex.metadata;\n      metadata.id = complexData.entry.id;\n      metadata.classification = complexData.struct_keywords.pdbx_keywords;\n      var databaserev = complexData.database_PDB_rev;\n      metadata.date = databaserev && databaserev.date_original ? databaserev.date_original : '';\n      metadata.format = 'cif';\n      metadata.title = [];\n      metadata.title[0] = complexData.struct.title;\n    }\n  }, {\n    key: \"_extractMolecules\",\n    value: function _extractMolecules(complex, complexData) {\n      var molData = complexData.entity;\n      var names = arrize(molData.pdbx_description);\n      var count = names.length;\n      var i;\n      for (i = 0; i < count; i++) {\n        if (this.molecules[i]) {\n          this.molecules[i].name = names[i];\n        } else {\n          this.molecules[i] = {\n            name: names[i],\n            residues: []\n          };\n        }\n      }\n      var molecules = complex.getMolecules();\n      for (i = 0; i < count; i++) {\n        var molecule = this.molecules[i];\n        molecules[i] = new Molecule$5(complex, molecule.name, i + 1);\n        molecules[i].residues = molecule.residues;\n      }\n    }\n  }, {\n    key: \"_extractAtoms\",\n    value: function _extractAtoms(complex, complexData) {\n      var atomData = complexData.atom_site;\n      if (!atomData) {\n        throw new AtomDataError('CIF parsing error: atom_site is not specified!');\n      }\n      for (var f = 0, n = cRequiredAtomFields.length; f < n; ++f) {\n        if (!atomData[cRequiredAtomFields[f]]) {\n          throw new AtomDataError(\"CIF parsing error: requires field \".concat(cRequiredAtomFields[f], \" not found!\"));\n        }\n      }\n      var asymDict = this.asymDict;\n      var resIdc = arrize(atomData.auth_seq_id);\n      var x = arrize(atomData.Cartn_x);\n      var y = arrize(atomData.Cartn_y);\n      var z = arrize(atomData.Cartn_z);\n      var names = arrize(atomData.label_atom_id);\n      var count = names.length;\n      var group = arrize(atomData.group_PDB) || [];\n      var chainIdc = arrize(atomData.auth_asym_id) || [];\n      var chainLabelIdc = arrize(atomData.label_asym_id) || [];\n      var serials = arrize(atomData.id) || [];\n      var iCodes = arrize(atomData.pdbx_PDB_ins_code) || [];\n      var resNames = arrize(atomData.label_comp_id) || [];\n      var elements = arrize(atomData.type_symbol) || [];\n      var tempFactors = arrize(atomData.B_iso_or_equiv) || [];\n      var occupancies = arrize(atomData.occupancy) || [];\n      var charges = arrize(atomData.pdbx_formal_charge) || [];\n      var altLocs = arrize(atomData.label_alt_id) || [];\n      var models = arrize(atomData.pdbx_PDB_model_num) || [];\n      var molecules = arrize(atomData.label_entity_id) || [];\n      var chain = null;\n      var residue = null;\n      for (var i = 0; i < count; ++i) {\n        var model = models[i] || 1;\n        if (model !== 1) {\n          continue;\n        }\n        var chainID = String(chainIdc[i] || ' ');\n        if (!chain || chain.getName() !== chainID) {\n          chain = complex.getChain(chainID) || complex.addChain(chainID);\n        }\n        asymDict[String(chainLabelIdc[i] || ' ')] = chainID;\n        var resSeq = resIdc[i];\n        var iCode = String(iCodes[i] || ' ');\n        var resName = String(resNames[i] || '');\n        if (!residue || residue.getSequence() !== resSeq || residue.getICode() !== iCode) {\n          residue = chain.addResidue(resName, resSeq, iCode);\n          var moleculeIdx = molecules[i] - 1;\n          var entity = this.molecules[moleculeIdx];\n          if (!entity) {\n            this.molecules[moleculeIdx] = {\n              name: '',\n              residues: []\n            };\n            entity = this.molecules[moleculeIdx];\n          }\n          entity.residues.push(residue);\n        }\n        var name = names[i];\n        var element = elements[i] || nameToElement(name);\n        var type = Element$5.getByName(element);\n        var role = Element$5.Role[name.trim()];\n        var xyz = new Vector3(x[i], y[i], z[i]);\n        var het = group[i] === 'HETATM' || false;\n        var serial = serials[i] || i;\n        var tempFactor = tempFactors[i] || 0.0;\n        var occupancy = occupancies[i] || 0.0;\n        var altLoc = String(altLocs[i] || '');\n        var charge = charges[i] || 0;\n        residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n      }\n    }\n  }, {\n    key: \"_extractSecondary\",\n    value: function _extractSecondary(complex, complexData) {\n      if (complexData.struct_conf) {\n        this._extractConfs(complex, complexData.struct_conf);\n      }\n      if (complexData.struct_sheet_range) {\n        this._extractSheets(complex, complexData.struct_sheet_range);\n      }\n    }\n  }, {\n    key: \"_extractSheets\",\n    value: function _extractSheets(complex, sheetData) {\n      var asymDict = this.asymDict;\n      if (!sheetData.sheet_id || !sheetData.id || !sheetData.beg_label_seq_id || !sheetData.end_label_seq_id || !sheetData.beg_label_asym_id) {\n        return;\n      }\n      var sheets = complex._sheets;\n      function getSheet(name) {\n        var n = sheets.length;\n        for (var i = 0; i < n; ++i) {\n          if (sheets[i]._name === name) {\n            return sheets[i];\n          }\n        }\n        sheets[n] = new Sheet(name, 0);\n        return sheets[n];\n      }\n      var sheetNames = arrize(sheetData.sheet_id);\n      var strandNames = arrize(sheetData.id);\n      var starts = arrize(sheetData.beg_auth_seq_id);\n      var ends = arrize(sheetData.end_auth_seq_id);\n      var chains = arrize(sheetData.beg_label_asym_id);\n      var stICodes = arrize(sheetData.pdbx_beg_PDB_ins_code) || [];\n      var endICodes = arrize(sheetData.pdbx_end_PDB_ins_code) || [];\n      for (var i = 0, n = strandNames.length; i < n; ++i) {\n        var chain = complex.getChain(asymDict[chains[i]]);\n        var sheet = getSheet(sheetNames[i]);\n        var startIdx = starts[i];\n        var endIdx = ends[i];\n        var startICode = stICodes[i] || ' ';\n        var endICode = endICodes[i] || ' ';\n        var start = chain.findResidue(startIdx, startICode);\n        var end = chain.findResidue(endIdx, endICode);\n        if (!start || !end) {\n          continue;\n        }\n        var strand = new Strand(sheet, start[0], end[0], 0, null, null);\n        var residues = chain.getResidues();\n        for (var r = start[1]; r <= end[1]; ++r) {\n          residues[r]._secondary = strand;\n        }\n        sheet.addStrand(strand);\n        complex.structures.push(strand);\n      }\n    }\n  }, {\n    key: \"_extractConfs\",\n    value: function _extractConfs(complex, helicesData) {\n      var asymDict = this.asymDict;\n      if (!helicesData.conf_type_id || !helicesData.beg_label_seq_id || !helicesData.end_label_seq_id || !helicesData.beg_label_asym_id) {\n        return;\n      }\n      var types = arrize(helicesData.conf_type_id);\n      var starts = arrize(helicesData.beg_auth_seq_id);\n      var stICodes = arrize(helicesData.pdbx_beg_PDB_ins_code) || [];\n      var ends = arrize(helicesData.end_auth_seq_id);\n      var endICodes = arrize(helicesData.pdbx_end_PDB_ins_code) || [];\n      var comments = arrize(helicesData.details) || [];\n      var lengths = arrize(helicesData.pdbx_PDB_helix_length) || [];\n      var helixClasses = arrize(helicesData.pdbx_PDB_helix_class) || [];\n      var names = arrize(helicesData.id) || [];\n      var chains = arrize(helicesData.beg_label_asym_id);\n      for (var i = 0, n = types.length; i < n; ++i) {\n        var type = getTypeFromId(types[i]);\n        if (!type) {\n          continue;\n        }\n        var name = names[i] || types[i];\n        var chain = complex.getChain(asymDict[chains[i]]);\n        var startIdx = starts[i];\n        var endIdx = ends[i];\n        var startICode = stICodes[i] || ' ';\n        var endICode = endICodes[i] || ' ';\n        var start = chain.findResidue(startIdx, startICode);\n        var end = chain.findResidue(endIdx, endICode);\n        if (!start || !end) {\n          continue;\n        }\n        var comment = comments[i] || '';\n        var length = lengths[i] || 0;\n        var helixClass = helixClasses[i] || ' ';\n        var struct = void 0;\n        if (type === 'helix') {\n          var idx = complex._helices.length;\n          struct = new Helix(helixClass, start[0], end[0], idx, name, comment, length);\n          complex.addHelix(struct);\n          complex.structures.push(struct);\n        } else if (type === 'turn') {\n          struct = new StructuralElement(StructuralElement.Type.TURN, start[0], end[0]);\n          complex.structures.push(struct);\n        } else {\n          struct = null;\n        }\n        if (!struct) {\n          continue;\n        }\n        var residues = chain.getResidues();\n        for (var r = start[1]; r <= end[1]; ++r) {\n          residues[r]._secondary = struct;\n        }\n      }\n    }\n  }, {\n    key: \"_extractAssemblies\",\n    value: function _extractAssemblies(complex, complexData) {\n      var asymDict = this.asymDict;\n      var asmGen = complexData.pdbx_struct_assembly_gen;\n      if (!asmGen) {\n        return;\n      }\n      var asmIdx = arrize(asmGen.assembly_id);\n      var asmOper = arrize(asmGen.oper_expression);\n      var asmList = arrize(asmGen.asym_id_list);\n      if (!asmIdx || !asmOper || !asmList) {\n        return;\n      }\n      var operList = _getOperations(complexData.pdbx_struct_oper_list);\n      if (!operList) {\n        return;\n      }\n      for (var i = 0, n = asmIdx.length; i < n; ++i) {\n        var asm = new Assembly(complex);\n        var assemblyOps = _extractOperations(asmOper[i], operList);\n        var entries = asmList[i].split(',');\n        for (var ii = 0, nn = entries.length; ii < nn; ++ii) {\n          var chain = entries[ii].trim();\n          if (chain.length > 0) {\n            asm.addChain(asymDict[chain]);\n          }\n        }\n        asm.matrices = assemblyOps;\n        complex.units.push(asm);\n      }\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && /^\\s*data_/i.test(data);\n    }\n  }]);\n  return CIFParser;\n}(Parser);\nCIFParser.formats = ['cif', 'mmcif'];\nCIFParser.extensions = ['.cif', '.mmcif'];\n\nvar valueType = {\n  singular: 0,\n  vector: 1,\n  array: 2,\n  buffer: 3\n};\nvar VolumeModel = function () {\n  function VolumeModel() {\n    _classCallCheck(this, VolumeModel);\n    _defineProperty(this, \"_xyz2crs\", []);\n    _defineProperty(this, \"_origin\", new Vector3(0, 0, 0));\n    this._header = {};\n    this._boxSize = new Vector3();\n    this._boxStart = new Vector3();\n    this._header.delta = {};\n    this._header.extent = [];\n    this._header.nstart = [];\n    this._header.grid = [];\n    this._header.crs2xyz = [];\n    this._header.cellDims = new Vector3();\n    this._header.angles = [];\n    this._header.origin = new Vector3(0, 0, 0);\n    this._header.dmin = 0;\n    this._header.dmean = 0;\n    this._header.dmax = 0;\n  }\n  _createClass(VolumeModel, [{\n    key: \"_typedCheck\",\n    value: function _typedCheck() {\n      if (isTypedArray(this._buff)) {\n        this._buff = this._buff.buffer;\n      } else if (!isArrayBuffer(this._buff)) {\n        throw new TypeError('Expected ArrayBuffer or TypedArray');\n      }\n    }\n  }, {\n    key: \"_fillHeader\",\n    value: function _fillHeader(headerFormat, arrays) {\n      for (var key in headerFormat) {\n        if (headerFormat.hasOwnProperty(key)) {\n          switch (headerFormat[key][0]) {\n            case valueType.singular:\n              this._header[key] = arrays[headerFormat[key][1]][headerFormat[key][2]];\n              break;\n            case valueType.array:\n              this._parseArray(this._header[key], arrays[headerFormat[key][1]], headerFormat[key][2]);\n              break;\n            case valueType.vector:\n              this._parseVector(this._header[key], arrays[headerFormat[key][1]], headerFormat[key][2]);\n              break;\n            case valueType.buffer:\n              this._header[key] = new Uint8Array(arrays[headerFormat[key][1]], [headerFormat[key][2]] * 4, [headerFormat[key][3]] * 4);\n              break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_parseVector\",\n    value: function _parseVector(vector, arr, pos) {\n      var _ref = [arr[pos], arr[pos + 1], arr[pos + 2]];\n      vector.x = _ref[0];\n      vector.y = _ref[1];\n      vector.z = _ref[2];\n    }\n  }, {\n    key: \"_parseArray\",\n    value: function _parseArray(vector, arr, pos) {\n      vector[0] = arr[pos];\n      vector[1] = arr[pos + 1];\n      vector[2] = arr[pos + 2];\n    }\n  }, {\n    key: \"_parseHeader\",\n    value: function _parseHeader(_buffer) {}\n  }, {\n    key: \"_setAxisIndices\",\n    value: function _setAxisIndices() {}\n  }, {\n    key: \"_setOrigins\",\n    value: function _setOrigins() {}\n  }, {\n    key: \"_getAxis\",\n    value: function _getAxis() {\n      var header = this._header;\n      var xScale = header.cellDims.x / header.grid[0];\n      var yScale = header.cellDims.y / header.grid[1];\n      var zScale = header.cellDims.z / header.grid[2];\n      var _header$angles = _slicedToArray(header.angles, 3),\n          alpha = _header$angles[0],\n          beta = _header$angles[1],\n          gamma = _header$angles[2];\n      var z1 = Math.cos(beta);\n      var z2 = (Math.cos(alpha) - Math.cos(beta) * Math.cos(gamma)) / Math.sin(gamma);\n      var z3 = Math.sqrt(1.0 - z1 * z1 - z2 * z2);\n      var xaxis = new Vector3(xScale, 0, 0);\n      var yaxis = new Vector3(Math.cos(gamma) * yScale, Math.sin(gamma) * yScale, 0);\n      var zaxis = new Vector3(z1 * zScale, z2 * zScale, z3 * zScale);\n      return [xaxis, yaxis, zaxis];\n    }\n  }, {\n    key: \"_getXYZdim\",\n    value: function _getXYZdim() {\n      return [this._header.extent[this._xyz2crs[0]], this._header.extent[this._xyz2crs[1]], this._header.extent[this._xyz2crs[2]]];\n    }\n  }, {\n    key: \"_getVolumeInfo\",\n    value: function _getVolumeInfo() {\n      var volInfo = pick(this._header, ['dmean', 'dmin', 'dmax', 'sd', 'delta']);\n      volInfo.obtuseAngle = this._header.angles.map(function (angle) {\n        return Number(angle >= Math.PI / 2);\n      });\n      return volInfo;\n    }\n  }, {\n    key: \"_setBoxParams\",\n    value: function _setBoxParams(xaxis, yaxis, zaxis) {\n      var _this = this;\n      var shiftX = 0;\n      var shiftY = 0;\n      var _this$_header$angles = _slicedToArray(this._header.angles, 3),\n          alpha = _this$_header$angles[0],\n          beta = _this$_header$angles[1],\n          gamma = _this$_header$angles[2];\n      if (gamma >= Math.PI / 2) {\n        shiftX += Math.abs(yaxis.x);\n      }\n      if (beta >= Math.PI / 2) {\n        shiftX += Math.abs(zaxis.x);\n      }\n      if (alpha >= Math.PI / 2) {\n        shiftY += Math.abs(zaxis.y);\n      }\n      this._boxStart = new Vector3(this._origin.x - shiftX, this._origin.y - shiftY, this._origin.z);\n      this._boxSize = new Vector3(Math.abs(xaxis.x) + Math.abs(yaxis.x) + Math.abs(zaxis.x), Math.abs(yaxis.y) + Math.abs(zaxis.y), Math.abs(zaxis.z));\n      var delta = function delta(axe, proj) {\n        return Math.abs(axe[proj]) / _this._boxSize[proj];\n      };\n      this._header.delta.x = delta(yaxis, 'x');\n      this._header.delta.y = delta(zaxis, 'x');\n      this._header.delta.z = delta(zaxis, 'y');\n    }\n  }, {\n    key: \"_getXYZbox\",\n    value: function _getXYZbox() {\n      return new Box3(this._boxStart.clone(), this._boxStart.clone().add(this._boxSize));\n    }\n  }, {\n    key: \"_toXYZData\",\n    value: function _toXYZData() {}\n  }, {\n    key: \"parse\",\n    value: function parse(data) {\n      this._parseHeader(data);\n      this._setOrigins();\n      return new Volume$2(Float32Array, this._getXYZdim(), this._getXYZbox(), 1, this._toXYZData(), this._getVolumeInfo());\n    }\n  }]);\n  return VolumeModel;\n}();\n\nfunction _createSuper$k(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$k(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$k() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar CCP4Header = {\n  extent: [valueType.array, 'u32', 0],\n  type: [valueType.singular, 'u32', 3],\n  nstart: [valueType.array, 'i32', 4],\n  grid: [valueType.array, 'u32', 7],\n  cellDims: [valueType.vector, 'f32', 10],\n  angles: [valueType.array, 'f32', 13],\n  crs2xyz: [valueType.array, 'i32', 16],\n  dmin: [valueType.singular, 'f32', 19],\n  dmax: [valueType.singular, 'f32', 20],\n  dmean: [valueType.singular, 'f32', 21],\n  ispg: [valueType.singular, 'u32', 22],\n  nsymbt: [valueType.singular, 'u32', 23],\n  lksflg: [valueType.singular, 'u32', 24],\n  customData: [valueType.buffer, 'buffer', 25, 9],\n  origin: [valueType.vector, 'f32', 34],\n  map: [valueType.buffer, 'buffer', 52, 1],\n  machine: [valueType.singular, 'u32', 53],\n  sd: [valueType.singular, 'f32', 54],\n  nlabel: [valueType.singular, 'f32', 55],\n  label: [valueType.buffer, 'buffer', 56, 200]\n};\nvar Ccp4Model = function (_VolumeModel) {\n  _inherits(Ccp4Model, _VolumeModel);\n  var _super = _createSuper$k(Ccp4Model);\n  function Ccp4Model() {\n    _classCallCheck(this, Ccp4Model);\n    return _super.apply(this, arguments);\n  }\n  _createClass(Ccp4Model, [{\n    key: \"_parseHeader\",\n    value:\n    function _parseHeader(_buffer) {\n      this._buff = _buffer;\n      this._typedCheck();\n      var arrays = {};\n      arrays.u32 = new Uint32Array(this._buff, 0, 56);\n      arrays.i32 = new Int32Array(this._buff, 0, 56);\n      arrays.f32 = new Float32Array(this._buff, 0, 56);\n      arrays.buffer = this._buff;\n      var header = this._header;\n      this._fillHeader(CCP4Header, arrays);\n      header.angles.forEach(function (angle, i, a) {\n        a[i] *= Math.PI / 180.0;\n      });\n    }\n  }, {\n    key: \"_setAxisIndices\",\n    value: function _setAxisIndices() {\n      var header = this._header;\n      if (header.cellDims.x === 0.0 && header.cellDims.y === 0.0 && header.cellDims.z === 0.0) {\n        header.cellDims.set(1.0, 1.0, 1.0);\n      }\n      var crs2xyz = this._header.crs2xyz;\n      if (crs2xyz[0] === 0 && crs2xyz[1] === 0 && crs2xyz[2] === 0) {\n        crs2xyz[0] = 1;\n        crs2xyz[1] = 2;\n        crs2xyz[2] = 3;\n      }\n      var xyz2crs = this._xyz2crs;\n      xyz2crs[crs2xyz[0] - 1] = 0;\n      xyz2crs[crs2xyz[1] - 1] = 1;\n      xyz2crs[crs2xyz[2] - 1] = 2;\n    }\n  }, {\n    key: \"_setOrigins\",\n    value: function _setOrigins() {\n      var _this$_getAxis = this._getAxis(),\n          _this$_getAxis2 = _slicedToArray(_this$_getAxis, 3),\n          xaxis = _this$_getAxis2[0],\n          yaxis = _this$_getAxis2[1],\n          zaxis = _this$_getAxis2[2];\n      this._setAxisIndices();\n      var header = this._header;\n      var xyz2crs = this._xyz2crs;\n      if (header.origin.x === 0.0 && header.origin.y === 0.0 && header.origin.z === 0.0) {\n        this._origin.addScaledVector(xaxis, header.nstart[xyz2crs[0]]);\n        this._origin.addScaledVector(yaxis, header.nstart[xyz2crs[1]]);\n        this._origin.addScaledVector(zaxis, header.nstart[xyz2crs[2]]);\n      } else {\n        this._origin = header.origin;\n      }\n      xaxis.multiplyScalar(header.extent[xyz2crs[0]] - 1);\n      yaxis.multiplyScalar(header.extent[xyz2crs[1]] - 1);\n      zaxis.multiplyScalar(header.extent[xyz2crs[2]] - 1);\n      if (header.type === 2) {\n        this._data = new Float32Array(this._buff, 1024 + header.nsymbt, header.extent[0] * header.extent[1] * header.extent[2]);\n      } else {\n        throw new Error(\"CCP4: Unsupported format \".concat(header.type));\n      }\n      this._setBoxParams(xaxis, yaxis, zaxis);\n    }\n  }, {\n    key: \"_toXYZData\",\n    value: function _toXYZData() {\n      var header = this._header;\n      var data = this._data;\n      var xyz2crs = this._xyz2crs;\n      var xyzData = new Float32Array(data.length);\n      var dim = this._getXYZdim();\n      var xSize = dim[0];\n      var ySize = dim[1];\n      var crsIdx = 0;\n      var coord = [];\n      var x;\n      var y;\n      var z;\n      for (coord[2] = 0; coord[2] < header.extent[2]; coord[2]++) {\n        for (coord[1] = 0; coord[1] < header.extent[1]; coord[1]++) {\n          for (coord[0] = 0; coord[0] < header.extent[0]; coord[0]++, crsIdx++) {\n            x = coord[xyz2crs[0]];\n            y = coord[xyz2crs[1]];\n            z = coord[xyz2crs[2]];\n            xyzData[x + xSize * (y + ySize * z)] = data[crsIdx];\n          }\n        }\n      }\n      return xyzData;\n    }\n  }]);\n  return Ccp4Model;\n}(VolumeModel);\nvar CCP4Parser = function (_Parser) {\n  _inherits(CCP4Parser, _Parser);\n  var _super2 = _createSuper$k(CCP4Parser);\n  function CCP4Parser(data, options) {\n    var _this;\n    _classCallCheck(this, CCP4Parser);\n    _this = _super2.call(this, data, options);\n    _this._options.fileType = 'ccp4';\n    _this.model = new Ccp4Model();\n    return _this;\n  }\n  _createClass(CCP4Parser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      return this.model.parse(this._data);\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(_data) {\n      return false;\n    }\n  }]);\n  return CCP4Parser;\n}(Parser);\nCCP4Parser.formats = ['ccp4'];\nCCP4Parser.extensions = ['.ccp4', '.map', '.mrc'];\nCCP4Parser.binary = true;\n\nfunction _createSuper$j(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$j(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$j() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$4 = chem.Complex,\n    Element$4 = chem.Element,\n    Molecule$4 = chem.Molecule;\nvar XYZParser = function (_Parser) {\n  _inherits(XYZParser, _Parser);\n  var _super = _createSuper$j(XYZParser);\n  function XYZParser(data, options) {\n    var _this;\n    _classCallCheck(this, XYZParser);\n    _this = _super.call(this, data, options);\n    _this._complex = null;\n    _this._atomsInf = null;\n    _this._options.fileType = 'xyz';\n    _this._fileName = options.name;\n    return _this;\n  }\n  _createClass(XYZParser, [{\n    key: \"_parseToAtomsInf\",\n    value: function _parseToAtomsInf(source) {\n      var endnAtoms = source.indexOf('\\n');\n      var nAtoms = parseInt(source.substring(0, endnAtoms), 10);\n      var endComment = source.indexOf('\\n', endnAtoms + 1);\n      var comment = source.slice(endnAtoms + 1, endComment).trim();\n      if (comment.length === 0) {\n        comment = this._fileName;\n      }\n      var startAtomsInf = endComment + source.substring(endComment).search(/\\S/);\n      this._atomsInf = source.substring(startAtomsInf).split(/[\\s,]*\\n[\\s,]*/);\n      if (!Number.isNaN(nAtoms) && this._atomsInf.length - 1 !== nAtoms) {\n        this._complex.error = {\n          message: 'wrong number of atoms'\n        };\n        return;\n      }\n      this._complex.metadata.format = 'xyz';\n      this._complex.name = comment;\n    }\n  }, {\n    key: \"_parseAtomsInf\",\n    value: function _parseAtomsInf() {\n      var het = true;\n      var altLoc = ' ';\n      var occupancy = 1;\n      var tempFactor = 1;\n      var charge = 0;\n      var chain = this._complex.addChain('A');\n      var residue = chain.addResidue('UNK', 1, ' ');\n      for (var i = 0; i < this._atomsInf.length - 1; i++) {\n        var words = this._atomsInf[i].split(/[\\s,]+/);\n        if (words.length !== 4) {\n          this._complex.error = {\n            message: 'missed parameters'\n          };\n          break;\n        }\n        var serial = i + 1;\n        var name = words[0];\n        var xyz = new Vector3(parseFloat(words[1]), parseFloat(words[2]), parseFloat(words[3]));\n        var type = Element$4.getByName(name);\n        var role = undefined;\n        residue.addAtom(name, type, xyz, role, het, serial, altLoc, occupancy, tempFactor, charge);\n      }\n      var molecule = new Molecule$4(this._complex, this._complex.name, 1);\n      molecule.residues = residue;\n      this._complex._molecules[0] = molecule;\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var result = this._complex = new Complex$4();\n      this._parseToAtomsInf(this._data);\n      this._parseAtomsInf();\n      this._complex.finalize({\n        needAutoBonding: true,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n      this._complex = null;\n      this._atomsInf = null;\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n      return result;\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && /^\\s*\\d+ *\\n[^\\n]*\\n\\s*\\w{1,3}\\s+-?\\d/.test(data);\n    }\n  }]);\n  return XYZParser;\n}(Parser);\n_defineProperty(XYZParser, \"formats\", ['xyz']);\n_defineProperty(XYZParser, \"extensions\", ['.xyz']);\n\nfunction _createSuper$i(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$i(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$i() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$3 = chem.Complex,\n    Element$3 = chem.Element;\nvar PubChemParser = function (_Parser) {\n  _inherits(PubChemParser, _Parser);\n  var _super = _createSuper$i(PubChemParser);\n  function PubChemParser(data, options) {\n    var _this;\n    _classCallCheck(this, PubChemParser);\n    _this = _super.call(this, data, options);\n    _this._options.fileType = 'pubchem+json';\n    return _this;\n  }\n  _createClass(PubChemParser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      this.logger.info('Parsing PubChem JSON file...');\n      return this._toComplex(JSON.parse(this._data));\n    }\n  }, {\n    key: \"_toComplex\",\n    value: function _toComplex(jsonData) {\n      var complex = new Complex$3();\n      var complexData = jsonData.PC_Compounds && jsonData.PC_Compounds[0];\n      if (complexData) {\n        this._extractAtoms(complex, complexData);\n        complex.finalize({\n          needAutoBonding: false,\n          detectAromaticLoops: this.settings.now.aromatic,\n          enableEditing: this.settings.now.editing\n        });\n      }\n      return complex;\n    }\n  }, {\n    key: \"_extractAtoms\",\n    value: function _extractAtoms(complex, complexData) {\n      var aids = complexData.atoms && complexData.atoms.aid;\n      var elements = aids && complexData.atoms.element;\n      if (!elements || aids.length !== elements.length) {\n        throw new Error('Unable to parse atom elements');\n      }\n      elements = fromPairs(zip(aids, elements));\n      var atoms = {};\n      var coords = complexData.coords && complexData.coords[0];\n      var model = coords && coords.conformers && coords.conformers[0];\n      var xs = model && model.x;\n      var ys = model && model.y;\n      var zs = model && model.z || [];\n      aids = coords && coords.aid;\n      if (!aids || !xs || !ys) {\n        throw new Error('Coordinates are not found in the file');\n      }\n      var chain = complex.addChain(' ');\n      var residue = chain.addResidue('UNK', 1, ' ');\n      for (var i = 0, n = aids.length; i < n; ++i) {\n        var aid = aids[i];\n        var element = Element$3.ByAtomicNumber[elements[aid]];\n        var xyz = new Vector3(xs[i], ys[i], zs[i] || 0.0);\n        atoms[aid] = residue.addAtom(element.name, element, xyz, undefined, true, aid, ' ', 1.0, 0.0, 0);\n      }\n      var aids1 = complexData.bonds && complexData.bonds.aid1;\n      var aids2 = complexData.bonds && complexData.bonds.aid2;\n      var orders = complexData.bonds && complexData.bonds.order || [];\n      if (!aids1 || !aids2 || aids1.length !== aids2.length) {\n        return;\n      }\n      for (var j = 0, m = aids1.length; j < m; ++j) {\n        complex.addBond(atoms[aids1[j]], atoms[aids2[j]], orders[j] || 1, 0, true);\n      }\n    }\n  }], [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && data[0] === '{';\n    }\n  }]);\n  return PubChemParser;\n}(Parser);\nPubChemParser.formats = ['pubchem', 'pubchem+json', 'pc'];\nPubChemParser.extensions = ['.json'];\n\nvar SDFStream = function () {\n  function SDFStream(data) {\n    _classCallCheck(this, SDFStream);\n    this._strings = data.split(/\\r?\\n|\\r/);\n    this._currentStart = 0;\n    this._currentStringIndx = 0;\n  }\n  _createClass(SDFStream, [{\n    key: \"setStart\",\n    value: function setStart(start) {\n      if (start >= this._strings.length) {\n        this._currentStart = this._strings.length - 1;\n        this._currentStringIndx = this._strings.length - 1;\n      } else {\n        this._currentStart = start;\n        this._currentStringIndx = start;\n      }\n    }\n  }, {\n    key: \"getNextString\",\n    value: function getNextString() {\n      return this._strings[++this._currentStringIndx];\n    }\n  }, {\n    key: \"getCurrentString\",\n    value: function getCurrentString() {\n      return this._strings[this._currentStringIndx];\n    }\n  }, {\n    key: \"getStringFromStart\",\n    value: function getStringFromStart(numb) {\n      this._currentStringIndx = this._currentStart + numb;\n      return this._strings[this._currentStart + numb];\n    }\n  }, {\n    key: \"findNextDataItem\",\n    value: function findNextDataItem() {\n      var curStr = this.getNextString();\n      var res = false;\n      while (!isUndefined(curStr) && curStr.trim() !== '$$$$') {\n        if (curStr.match(/>\\s+<(.*)>/)) {\n          res = true;\n          break;\n        }\n        curStr = this.getNextString();\n      }\n      return res;\n    }\n  }, {\n    key: \"findNextCompoundStart\",\n    value: function findNextCompoundStart() {\n      var curStr = this.getCurrentString();\n      while (!isUndefined(curStr) && curStr.trim() !== '$$$$') {\n        curStr = this.getNextString();\n      }\n      this.setStart(++this._currentStringIndx);\n      return this.probablyHaveDataToParse();\n    }\n  }, {\n    key: \"probablyHaveDataToParse\",\n    value: function probablyHaveDataToParse() {\n      return this._currentStringIndx < this._strings.length - 2;\n    }\n  }]);\n  return SDFStream;\n}();\n\nfunction _createSuper$h(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$h(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$h() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$2 = chem.Complex,\n    Element$2 = chem.Element,\n    Bond$1 = chem.Bond,\n    Molecule$3 = chem.Molecule;\nvar chargeMap = [0, 3, 2, 1, 0, -1, -2, -3];\nvar orderMap$1 = [0, 1, 2, 3, 1, 1, 1, 2];\nvar typeMap$1 = [Bond$1.BondType.UNKNOWN,\nBond$1.BondType.COVALENT,\nBond$1.BondType.COVALENT,\nBond$1.BondType.COVALENT,\nBond$1.BondType.AROMATIC,\nBond$1.BondType.UNKNOWN,\nBond$1.BondType.AROMATIC,\nBond$1.BondType.AROMATIC\n];\nvar sdfAndMolRegexp = /.*(M\\s\\sEND).*|.*(^$$$$).*|.*>\\s+<(.+)>.*/;\nvar sdfRegExp = /.*($$$$).*|.*>\\s+<(.+)>.*/;\nvar fileFormat = {\n  SDF: 'sdf',\n  MOL: 'mol'\n};\nvar possibleNameTags = ['PUBCHEM_IUPAC_TRADITIONAL_NAME', /PUBCHEM_(.+)_NAME/, /(.+)name/, /(.+)NAME/];\nvar possibleIDTags = ['PUBCHEM_COMPOUND_CID', 'id', 'ID', /.*CID/, /.*ID/, /.*id/];\nvar possibleTitleTags = ['msg', 'MSG', 'message', 'title', 'description', 'desc'];\nvar tagsNames = ['name', 'id', 'title'];\nvar tags = {\n  name: possibleNameTags,\n  id: possibleIDTags,\n  title: possibleTitleTags\n};\nfunction buildChainID(index) {\n  if (!index) {\n    return 'A';\n  }\n  var codes = [];\n  while (index) {\n    codes.push(65 + index % 26);\n    index = Math.trunc(index / 26);\n  }\n  if (codes.length > 1) {\n    codes.reverse();\n    codes[0] -= 1;\n  }\n  return String.fromCharCode.apply(String, codes);\n}\nvar SDFParser = function (_Parser) {\n  _inherits(SDFParser, _Parser);\n  var _super = _createSuper$h(SDFParser);\n  function SDFParser(data, options) {\n    var _this;\n    _classCallCheck(this, SDFParser);\n    _this = _super.call(this, data, options);\n    _this._format = 'sdf';\n    _this._complex = null;\n    _this._chain = null;\n    _this._residue = null;\n    _this._molecules = null;\n    _this._metadata = {};\n    _this._metadata.molecules = [];\n    _this._currentMolProps = {};\n    _this._compoundIndx = -1;\n    _this._assemblies = [];\n    _this._atomsParsed = 0;\n    _this._atomsIndexes = [];\n    return _this;\n  }\n  _createClass(SDFParser, [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(data) && sdfAndMolRegexp.test(data);\n    }\n  }, {\n    key: \"_parseHeader\",\n    value: function _parseHeader(stream) {\n      var molecule = {};\n      molecule.name = stream.getStringFromStart(0);\n      var date = parseInt(stream.getStringFromStart(1).substr(10, 6).trim(), 10);\n      molecule.date = date.toString() || '';\n      molecule.title = stream.getStringFromStart(2);\n      this._metadata.molecules.push(molecule);\n    }\n  }, {\n    key: \"_parseAtoms\",\n    value: function _parseAtoms(stream, atomsNum) {\n      var curStr;\n      var serial = this._atomsParsed;\n      var chainID = buildChainID(this._compoundIndx);\n      var resName = 'UNK';\n      var resSeq = 1;\n      this._chain = this._complex.getChain(chainID) || this._complex.addChain(chainID);\n      this._residue = this._chain.addResidue(resName, resSeq, ' ');\n      for (var i = 0; i < atomsNum; i++) {\n        curStr = stream.getNextString();\n        serial++;\n        var x = parseFloat(curStr.substr(0, 10));\n        var y = parseFloat(curStr.substr(10, 10));\n        var z = parseFloat(curStr.substr(20, 10));\n        var charge = chargeMap[parseInt(curStr.substr(36, 3), 10)];\n        var xyz = new Vector3(x, y, z);\n        var name = curStr.substr(31, 3).trim().toUpperCase();\n        var type = Element$2.getByName(name);\n        if (!this._atomsIndexes[name]) {\n          this._atomsIndexes[name] = 0;\n        }\n        this._atomsIndexes[name] += 1;\n        name += this._atomsIndexes[name];\n        this._residue.addAtom(name, type, xyz, undefined, true, serial, ' ', 1.0, 0.0, charge);\n      }\n    }\n  }, {\n    key: \"_parseBonds\",\n    value: function _parseBonds(stream, bondsNum) {\n      var curStr;\n      for (var i = 0; i < bondsNum; i++) {\n        curStr = stream.getNextString();\n        var atom1 = parseInt(curStr.substr(0, 3), 10) + this._atomsParsed;\n        var atom2 = parseInt(curStr.substr(3, 3), 10) + this._atomsParsed;\n        var bondType = parseInt(curStr.substr(6, 3), 10);\n        if (atom1 > atom2) {\n          var _ref = [atom2, atom1];\n          atom1 = _ref[0];\n          atom2 = _ref[1];\n        }\n        this._complex.addBond(atom1, atom2, orderMap$1[bondType] || 1, typeMap$1[bondType] || Bond$1.BondType.UNKNOWN, true);\n      }\n    }\n  }, {\n    key: \"_parseMOL\",\n    value: function _parseMOL(stream) {\n      this._compoundIndx++;\n      this._parseHeader(stream);\n      var countsLine = stream.getStringFromStart(3);\n      var atomsNum = parseInt(countsLine.substr(0, 3), 10);\n      var bondsNum = parseInt(countsLine.substr(3, 3), 10);\n      this._parseAtoms(stream, atomsNum);\n      this._parseBonds(stream, bondsNum);\n      this._atomsParsed += atomsNum;\n      this._metadata.molecules[this._compoundIndx]._residues = [];\n      this._metadata.molecules[this._compoundIndx]._residues.push(this._residue);\n    }\n  }, {\n    key: \"_parseDataItem\",\n    value: function _parseDataItem(stream) {\n      var tag = stream.getCurrentString();\n      var data = [];\n      var curStr = stream.getNextString();\n      while (curStr.trim() !== '') {\n        data.push(curStr);\n        curStr = stream.getNextString();\n      }\n      if (data.length === 1) {\n        var _data = data;\n        var _data2 = _slicedToArray(_data, 1);\n        data = _data2[0];\n      }\n      this._currentMolProps[tag.replace(/[<>]/g, '').trim()] = data;\n    }\n  }, {\n    key: \"_parseCompound\",\n    value: function _parseCompound(stream) {\n      this._parseMOL(stream);\n      if (this._format === fileFormat.SDF) {\n        this._currentMolProps = {};\n        while (stream.findNextDataItem()) {\n          this._parseDataItem(stream);\n        }\n        if (Object.keys(this._currentMolProps).length !== 0) {\n          var molecule = this._metadata.molecules[this._compoundIndx];\n          molecule.props = this._currentMolProps;\n          this._tryToUpdateMoleculeData(molecule);\n        }\n      }\n    }\n  }, {\n    key: \"_fixBondsArray\",\n    value: function _fixBondsArray() {\n      var serialAtomMap = this._serialAtomMap;\n      var complex = this._complex;\n      var bonds = complex._bonds;\n      for (var j = 0; j < bonds.length; j++) {\n        var bond = bonds[j];\n        if (bond._right < bond._left) {\n          console.log('_fixBondsArray: Logic error.');\n        }\n        bond._left = serialAtomMap[bond._left] || null;\n        bond._right = serialAtomMap[bond._right] || null;\n      }\n    }\n  }, {\n    key: \"_buildAssemblies\",\n    value: function _buildAssemblies() {\n      var chains = this._complex._chains;\n      if (chains.length === 1) {\n        return this._assemblies;\n      }\n      for (var i = 0; i < chains.length; i++) {\n        var assembly = new Assembly$3(this._complex);\n        var matrix = new Matrix4();\n        assembly.addMatrix(matrix);\n        assembly.addChain(chains[i]._name);\n        this._assemblies.push(assembly);\n      }\n      return this._assemblies;\n    }\n  }, {\n    key: \"_buildMolecules\",\n    value: function _buildMolecules() {\n      this._complex._molecules = [];\n      var molecules = this._metadata.molecules;\n      for (var i = 0; i < molecules.length; i++) {\n        var molecule = new Molecule$3(this._complex, molecules[i].name, i + 1);\n        molecule.residues = molecules[i]._residues;\n        this._complex._molecules[i] = molecule;\n      }\n      return this._complex._molecules;\n    }\n  }, {\n    key: \"_searchTag\",\n    value: function _searchTag(tag, props) {\n      for (var i = 0; i < props.length; i++) {\n        if (tag instanceof RegExp && tag.test(props[i].tag) || tag === props[i].tag) {\n          return props[i].data;\n        }\n      }\n      return undefined;\n    }\n  }, {\n    key: \"_tryToFind\",\n    value: function _tryToFind(tagsList, props) {\n      for (var j = 0; j < tagsList.length; j++) {\n        var res = this._searchTag(tagsList[j], props);\n        if (res) {\n          return res;\n        }\n      }\n      return undefined;\n    }\n  }, {\n    key: \"_tryToUpdateMoleculeData\",\n    value: function _tryToUpdateMoleculeData(molecule) {\n      var res = false;\n      for (var i = 0; i < tagsNames.length; i++) {\n        var tagPossibleNames = tags[tagsNames[i]];\n        var data = this._tryToFind(tagPossibleNames, molecule.props);\n        if (data) {\n          molecule[tagsNames[i]] = data;\n          res = true;\n        }\n      }\n      molecule.name = molecule.name || molecule.id;\n      if (molecule.name.match(/^\\d+$/)) {\n        molecule.name = \"CID: \".concat(molecule.name);\n      }\n      return res;\n    }\n  }, {\n    key: \"_finalizeMetadata\",\n    value: function _finalizeMetadata() {\n      var molecules = this._metadata.molecules;\n      var metadata = this._complex.metadata;\n      var complex = this._complex;\n      if (molecules.length === 1) {\n        complex.name = molecules[0].name;\n        metadata.title = molecules[0].title;\n        metadata.date = molecules[0].date;\n        metadata.properties = molecules[0].props;\n      } else if (molecules.length > 1) {\n        metadata.molecules = [];\n        for (var i = 0; i < molecules.length; i++) {\n          metadata.molecules.push({\n            name: molecules[i].name,\n            date: molecules[i].date,\n            title: molecules[i].title,\n            properties: molecules[i].props\n          });\n        }\n      }\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      var serialAtomMap = this._serialAtomMap = {};\n      var atoms = this._complex._atoms;\n      for (var i = 0; i < atoms.length; i++) {\n        var atom = atoms[i];\n        serialAtomMap[atom.serial] = atom;\n      }\n      this._complex._finalizeBonds();\n      this._fixBondsArray();\n      this._finalizeMetadata();\n      this._buildAssemblies();\n      this._complex.units = this._complex.units.concat(this._assemblies);\n      this._buildMolecules();\n      this._complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: false,\n        enableEditing: false,\n        serialAtomMap: this._serialAtomMap\n      });\n    }\n  }, {\n    key: \"defineFormat\",\n    value: function defineFormat(data) {\n      var format;\n      if (sdfRegExp.test(data)) {\n        format = fileFormat.SDF;\n      } else {\n        format = fileFormat.MOL;\n      }\n      return format;\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var result = this._complex = new Complex$2();\n      var stream = new SDFStream(this._data);\n      this._format = this.defineFormat(this._data);\n      result.metadata.format = this._format;\n      do {\n        this._parseCompound(stream);\n      } while (stream.findNextCompoundStart());\n      this._finalize();\n      return result;\n    }\n  }]);\n  return SDFParser;\n}(Parser);\nSDFParser.formats = ['mol', 'sdf'];\nSDFParser.extensions = ['.mol', '.sdf'];\n\nfunction _createSuper$g(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$g(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$g() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar DSN6Header = {\n  nstart: [valueType.array, 'i16', 0],\n  extent: [valueType.array, 'i16', 3],\n  grid: [valueType.array, 'i16', 6],\n  cellDims: [valueType.vector, 'i16', 9],\n  angles: [valueType.array, 'i16', 12],\n  div: [valueType.singular, 'i16', 15],\n  adder: [valueType.singular, 'i16', 16],\n  scaleFactor: [valueType.singular, 'i16', 17]\n};\nvar DSN6Model = function (_VolumeModel) {\n  _inherits(DSN6Model, _VolumeModel);\n  var _super = _createSuper$g(DSN6Model);\n  function DSN6Model() {\n    _classCallCheck(this, DSN6Model);\n    return _super.apply(this, arguments);\n  }\n  _createClass(DSN6Model, [{\n    key: \"_parseHeader\",\n    value: function _parseHeader(_buffer) {\n      this._buff = _buffer;\n      this._typedCheck();\n      var arrays = {};\n      arrays.i16 = new Int16Array(this._buff);\n      if (arrays.i16[18] !== 100) {\n        for (var i = 0, n = arrays.i16.length; i < n; ++i) {\n          var val = arrays.i16[i];\n          arrays.i16[i] = (val & 0xff) << 8 | val >> 8 & 0xff;\n        }\n      }\n      if (arrays.i16[18] !== 100) {\n        throw new Error('DSN6: Incorrect format ');\n      }\n      var header = this._header;\n      this._fillHeader(DSN6Header, arrays);\n      header.cellDims.multiplyScalar(1.0 / header.scaleFactor);\n      header.angles.forEach(function (angle, i, a) {\n        a[i] *= Math.PI / 180.0 / header.scaleFactor;\n      });\n      header.div /= 100;\n    }\n  }, {\n    key: \"_setAxisIndices\",\n    value: function _setAxisIndices() {\n      this._xyz2crs[0] = 0;\n      this._xyz2crs[1] = 1;\n      this._xyz2crs[2] = 2;\n    }\n  }, {\n    key: \"_setOrigins\",\n    value: function _setOrigins() {\n      var header = this._header;\n      var _this$_getAxis = this._getAxis(),\n          _this$_getAxis2 = _slicedToArray(_this$_getAxis, 3),\n          xaxis = _this$_getAxis2[0],\n          yaxis = _this$_getAxis2[1],\n          zaxis = _this$_getAxis2[2];\n      this._setAxisIndices();\n      this._origin.addScaledVector(xaxis, header.nstart[0]);\n      this._origin.addScaledVector(yaxis, header.nstart[1]);\n      this._origin.addScaledVector(zaxis, header.nstart[2]);\n      xaxis.multiplyScalar(header.extent[0]);\n      yaxis.multiplyScalar(header.extent[1]);\n      zaxis.multiplyScalar(header.extent[2]);\n      this._setBoxParams(xaxis, yaxis, zaxis);\n    }\n  }, {\n    key: \"_pointCalculate\",\n    value: function _pointCalculate(xyzData, byteBuffer, z, y, x, pos, i) {\n      var header = this._header;\n      if (x < header.extent[0] && y < header.extent[1] && z < header.extent[2]) {\n        var idx = x + header.extent[0] * (y + header.extent[1] * z);\n        xyzData[idx] = (byteBuffer[pos.counter] - header.adder) / header.div;\n        ++pos.counter;\n      } else {\n        pos.counter += 8 - i;\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_blockCalculate\",\n    value: function _blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos) {\n      for (var k = 0; k < 8; ++k) {\n        var z = 8 * zBlock + k;\n        for (var j = 0; j < 8; ++j) {\n          var y = 8 * yBlock + j;\n          var inRange = true;\n          var i = 0;\n          while (inRange && i < 8) {\n            var x = 8 * xBlock + i;\n            inRange = this._pointCalculate(xyzData, byteBuffer, z, y, x, pos, i);\n            i++;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_toXYZData\",\n    value: function _toXYZData() {\n      var header = this._header;\n      var byteBuffer = new Uint8Array(this._buff);\n      var xyzData = new Float32Array(header.extent[0] * header.extent[1] * header.extent[2]);\n      var blocks = new Vector3(header.extent[0] / 8, header.extent[1] / 8, header.extent[2] / 8);\n      var pos = {};\n      pos.counter = 512;\n      for (var zBlock = 0; zBlock < blocks.z; ++zBlock) {\n        for (var yBlock = 0; yBlock < blocks.y; ++yBlock) {\n          for (var xBlock = 0; xBlock < blocks.x; ++xBlock) {\n            this._blockCalculate(xyzData, byteBuffer, zBlock, yBlock, xBlock, pos);\n          }\n        }\n      }\n      this._calculateInfoParams(xyzData);\n      return xyzData;\n    }\n  }, {\n    key: \"_calculateInfoParams\",\n    value: function _calculateInfoParams(xyzData) {\n      this._header.dmean /= xyzData.length;\n      var dispersion = 0;\n      var minDensity = xyzData[0];\n      var maxDensity = xyzData[0];\n      for (var j = 0; j < xyzData.length; j++) {\n        dispersion += Math.pow(this._header.dmean - xyzData[j], 2);\n        if (xyzData[j] < minDensity) {\n          minDensity = xyzData[j];\n        }\n        if (xyzData[j] > maxDensity) {\n          maxDensity = xyzData[j];\n        }\n      }\n      this._header.sd = Math.sqrt(dispersion / xyzData.length);\n      this._header.dmax = maxDensity;\n      this._header.dmin = minDensity;\n    }\n  }]);\n  return DSN6Model;\n}(VolumeModel);\nvar DSN6Parser = function (_Parser) {\n  _inherits(DSN6Parser, _Parser);\n  var _super2 = _createSuper$g(DSN6Parser);\n  function DSN6Parser(data, options) {\n    var _this;\n    _classCallCheck(this, DSN6Parser);\n    _this = _super2.call(this, data, options);\n    _this._options.fileType = 'dsn6';\n    _this.model = new DSN6Model();\n    return _this;\n  }\n  _createClass(DSN6Parser, [{\n    key: \"parseSync\",\n    value: function parseSync() {\n      return this.model.parse(this._data);\n    }\n  }], [{\n    key: \"canParse\",\n    value: function canParse(data, options) {\n      if (!data) {\n        return false;\n      }\n      return data instanceof ArrayBuffer && Parser.checkDataTypeOptions(options, 'dsn6');\n    }\n  }, {\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(_data) {\n      return false;\n    }\n  }]);\n  return DSN6Parser;\n}(Parser);\nDSN6Parser.formats = ['dsn6'];\nDSN6Parser.extensions = ['.dsn6', '.omap'];\nDSN6Parser.binary = true;\n\nfunction _createSuper$f(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$f(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$f() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar GROReader = function (_PDBStream) {\n  _inherits(GROReader, _PDBStream);\n  var _super = _createSuper$f(GROReader);\n  function GROReader(data) {\n    var _this;\n    _classCallCheck(this, GROReader);\n    _this = _super.call(this, data);\n    _this._next = -1;\n    _this.next();\n    return _this;\n  }\n  _createClass(GROReader, [{\n    key: \"getNext\",\n    value: function getNext() {\n      return this._next;\n    }\n  }]);\n  return GROReader;\n}(PDBStream);\n\nfunction _createSuper$e(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$e(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$e() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex$1 = chem.Complex,\n    Element$1 = chem.Element,\n    Molecule$2 = chem.Molecule;\nvar GROParser = function (_Parser) {\n  _inherits(GROParser, _Parser);\n  var _super = _createSuper$e(GROParser);\n  function GROParser(data, options) {\n    var _this;\n    _classCallCheck(this, GROParser);\n    _this = _super.call(this, data, options);\n    _this._time = null;\n    _this._numAtoms = null;\n    _this._residueNumber = null;\n    _this._residueName = '';\n    _this._atomName = '';\n    _this._atomNumber = null;\n    _this._atomPosition = [];\n    _this._atomVelocity = [];\n    _this._complex = null;\n    _this._molecules = [];\n    _this._molecule = null;\n    _this._options.filetype = 'gro';\n    return _this;\n  }\n  _createClass(GROParser, [{\n    key: \"canProbablyParse\",\n    value: function canProbablyParse(data) {\n      return isString(this._data) && /^\\s*[^\\n]*\\n\\s*\\d+ *\\n\\s*\\d+[^\\n\\d]{3}\\s*\\w+\\s*\\d+\\s*-?\\d/.test(data);\n    }\n  }, {\n    key: \"_parseTitle\",\n    value: function _parseTitle(line) {\n      var metadata = this._complex.metadata;\n      metadata.id = line.readLine().trim();\n      metadata.name = metadata.id.slice(metadata.id.lastIndexOf('\\\\') + 1, metadata.id.lastIndexOf('.'));\n      metadata.format = 'gro';\n    }\n  }, {\n    key: \"_parseNumberOfAtoms\",\n    value: function _parseNumberOfAtoms(line) {\n      this._numAtoms = line.readInt(0, line.getNext());\n      if (Number.isNaN(this._numAtoms)) {\n        throw new Error('Line 2 is not representing atom number. Consider checking input file');\n      }\n    }\n  }, {\n    key: \"_parseAtom\",\n    value: function _parseAtom(line) {\n      this._residueNumber = line.readInt(1, 5);\n      this._residueName = line.readString(6, 10).trim();\n      this._atomName = line.readString(11, 15).trim();\n      this._atomNumber = line.readInt(16, 20);\n      var positionX = line.readFloat(21, 28) * 10;\n      var positionY = line.readFloat(29, 36) * 10;\n      var positionZ = line.readFloat(37, 45) * 10;\n      if (Number.isNaN(positionX) || Number.isNaN(positionY) || Number.isNaN(positionZ)) {\n        this._complex.error = {\n          message: \"Atom position is invalid in \\\"\".concat(line.readLine(), \"\\\"\")\n        };\n        return;\n      }\n      var type = Element$1.getByName(this._atomName[0]);\n      if (type.fullName === 'Unknown') {\n        this._complex.error = {\n          message: \"\".concat(this._atomName[0], \" hasn't been recognised as an atom name.\")\n        };\n        return;\n      }\n      var role = Element$1.Role[this._atomName];\n      var chain = this._chain;\n      if (!chain) {\n        this._chain = chain = this._complex.addChain('A');\n      }\n      var residue = this._residue;\n      if (!residue || residue.getSequence() !== this._residueNumber) {\n        this._residue = residue = chain.addResidue(this._residueName, this._residueNumber, ' ');\n      }\n      this._atomPosition = new Vector3(positionX, positionY, positionZ);\n      var het = true;\n      var altLoc = ' ';\n      var occupancy = 1;\n      var tempFactor = 1;\n      var charge = 0;\n      residue.addAtom(this._atomName, type, this._atomPosition, role, het, this._atomNumber, altLoc, occupancy, tempFactor, charge);\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      var molecule = new Molecule$2(this._complex, this._complex.metadata.name, 1);\n      molecule.residues = this._chain._residues;\n      molecule._chains = this._chain;\n      this._complex._molecules[0] = molecule;\n      this._molecules.push(molecule);\n      this._complex.finalize({\n        needAutoBonding: true,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var result = this._complex = new Complex$1();\n      var reader = new GROReader(this._data);\n      var counter = 0;\n      this._parseTitle(reader);\n      reader.next();\n      this._parseNumberOfAtoms(reader);\n      reader.next();\n      for (counter = 0; counter < this._numAtoms; ++counter) {\n        if (!reader.end()) {\n          this._parseAtom(reader);\n          reader.next();\n        } else break;\n      }\n      if (counter < this._numAtoms) {\n        this._complex.error = {\n          message: 'File ended unexpectedly.'\n        };\n      }\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n      this._finalize();\n      this._atomPosition = null;\n      this._complex = null;\n      this._molecules = null;\n      this._molecule = null;\n      return result;\n    }\n  }]);\n  return GROParser;\n}(Parser);\nGROParser.formats = ['gro'];\nGROParser.extensions = ['.gro'];\n\nfunction _createSuper$d(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$d(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$d() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar Complex = chem.Complex,\n    Element = chem.Element,\n    Bond = chem.Bond,\n    Molecule$1 = chem.Molecule;\nvar orderMap = {\n  un: 0,\n  1: 1,\n  2: 2,\n  3: 3,\n  ar: 1,\n  am: 1,\n  nc: 0,\n  du: 1\n};\nvar typeMap = {\n  un: Bond.BondType.UNKNOWN,\n  1: Bond.BondType.COVALENT,\n  2: Bond.BondType.COVALENT,\n  3: Bond.BondType.COVALENT,\n  ar: Bond.BondType.AROMATIC,\n  am: Bond.BondType.COVALENT,\n  nc: Bond.BondType.UNKNOWN,\n  du: Bond.BondType.COVALENT\n};\nvar resNumberRegex = /\\d+$/;\nvar spacesRegex = /\\s+/;\nfunction splitToFields(str) {\n  return str.trim().split(spacesRegex);\n}\nvar MOL2Parser = function (_Parser) {\n  _inherits(MOL2Parser, _Parser);\n  var _super = _createSuper$d(MOL2Parser);\n  function MOL2Parser(data, options) {\n    var _this;\n    _classCallCheck(this, MOL2Parser);\n    _this = _super.call(this, data, options);\n    _this._complex = null;\n    _this._chain = null;\n    _this._residue = null;\n    _this._compoundIndx = -1;\n    _this._molecules = [];\n    _this._molecule = null;\n    _this._currPosIdx = 0;\n    _this._currStartIdx = 0;\n    _this._serialAtomMap = {};\n    _this._options.fileType = 'mol2';\n    return _this;\n  }\n  _createClass(MOL2Parser, [{\n    key: \"_parseRawStrings\",\n    value: function _parseRawStrings(data) {\n      return data.split(/\\r?\\n|\\r/);\n    }\n  }, {\n    key: \"_toStringFromStart\",\n    value: function _toStringFromStart(numb, MOL2Data) {\n      var newPosIdx = this._currStartIdx + numb;\n      this._currPosIdx = newPosIdx < MOL2Data.length ? newPosIdx : this._currStartIdx;\n    }\n  }, {\n    key: \"_toHeaderString\",\n    value: function _toHeaderString(header, MOL2Data) {\n      this._toStringFromStart(0, MOL2Data);\n      while (this._currPosIdx < MOL2Data.length) {\n        if (MOL2Data[this._currPosIdx].match(\"@<TRIPOS>\".concat(header))) {\n          return;\n        }\n        this._currPosIdx++;\n      }\n      this._toStringFromStart(0, MOL2Data);\n    }\n  }, {\n    key: \"_toStringFromHeader\",\n    value: function _toStringFromHeader(header, numb, MOL2Data) {\n      this._toHeaderString(header, MOL2Data);\n      var newPosIdx = this._currPosIdx + numb;\n      if (MOL2Data[this._currPosIdx].match(\"@<TRIPOS>\".concat(header)) && newPosIdx < MOL2Data.length) {\n        this._currPosIdx = newPosIdx;\n      }\n    }\n  }, {\n    key: \"_setStart\",\n    value: function _setStart(startPos, MOL2Data) {\n      if (startPos >= MOL2Data.length) {\n        this._currStartIdx = this._currPosIdx = MOL2Data.length - 1;\n      } else {\n        this._currStartIdx = this._currPosIdx = startPos;\n      }\n    }\n  }, {\n    key: \"_probablyHaveDataToParse\",\n    value: function _probablyHaveDataToParse(MOL2Data) {\n      return this._currPosIdx < MOL2Data.length - 2;\n    }\n  }, {\n    key: \"_findNextCompoundStart\",\n    value: function _findNextCompoundStart(MOL2Data) {\n      while (this._currPosIdx < MOL2Data.length && MOL2Data[this._currPosIdx].trim() !== '@<TRIPOS>MOLECULE>') {\n        this._currPosIdx++;\n      }\n      this._setStart(++this._currPosIdx, MOL2Data);\n      return this._probablyHaveDataToParse(MOL2Data);\n    }\n  }, {\n    key: \"_parseMolecule\",\n    value: function _parseMolecule(MOL2Data) {\n      this._toHeaderString('MOLECULE', MOL2Data);\n      var metadata = this._complex.metadata;\n      metadata.name = MOL2Data[++this._currPosIdx];\n      metadata.format = 'mol2';\n      this._molecule = {\n        _index: '',\n        _chains: []\n      };\n      this._molecule._index = this._compoundIndx + 1;\n      this._molecules.push(this._molecule);\n    }\n  }, {\n    key: \"_parseAtoms\",\n    value: function _parseAtoms(atomsNum, MOL2Data) {\n      this._toHeaderString('ATOM', MOL2Data);\n      for (var i = 0; i < atomsNum; i++) {\n        var parsedStr = splitToFields(MOL2Data[++this._currPosIdx]);\n        if (parsedStr.length < 6) {\n          throw new Error('MOL2 parsing error: Not enough information to create atom!');\n        }\n        var atomId = parseInt(parsedStr[0], 10);\n        var atomName = parsedStr[1];\n        var x = parseFloat(parsedStr[2]);\n        var y = parseFloat(parsedStr[3]);\n        var z = parseFloat(parsedStr[4]);\n        var element = parsedStr[5].split('.')[0].toUpperCase();\n        var charge = 0;\n        if (parsedStr.length >= 9) {\n          charge = parseFloat(parsedStr[8]) || 0.0;\n        }\n        var chain = this._chain;\n        if (!chain) {\n          this._chain = chain = this._complex.getChain('A') || this._complex.addChain('A');\n          this._residue = null;\n        }\n        if (!this._setResidue(parsedStr)) {\n          continue;\n        }\n        var het = false;\n        var altLoc = ' ';\n        var occupancy = 1.0;\n        var tempFactor = 0.0;\n        var type = Element.getByName(element);\n        var role = Element.Role[atomName];\n        var xyz = new Vector3(x, y, z);\n        this._residue.addAtom(atomName, type, xyz, role, het, atomId, altLoc, occupancy, tempFactor, charge);\n      }\n    }\n  }, {\n    key: \"_setResidue\",\n    value: function _setResidue(parsedStr) {\n      var resSeq = 1;\n      var resName = 'UNK';\n      if (parsedStr.length >= 7) {\n        resSeq = parseInt(parsedStr[6], 10);\n      }\n      if (parsedStr.length >= 8 && parsedStr[7] !== '<0>') {\n        resName = parsedStr[7].replace(resNumberRegex, '');\n      }\n      if (this.settings.now.nowater) {\n        if (resName === 'HOH' || resName === 'WAT') {\n          return false;\n        }\n      }\n      var residue = this._residue;\n      var chain = this._chain;\n      if (!residue || residue.getSequence() !== resSeq) {\n        this._residue = chain.addResidue(resName, resSeq, 'A');\n      }\n      return true;\n    }\n  }, {\n    key: \"_parseBonds\",\n    value: function _parseBonds(bondsNum, MOL2Data) {\n      this._toHeaderString('BOND', MOL2Data);\n      for (var i = 0; i < bondsNum; i++) {\n        var parsedStr = splitToFields(MOL2Data[++this._currPosIdx]);\n        if (parsedStr.length < 3) {\n          throw new Error('MOL2 parsing error: Missing information about bonds!');\n        }\n        var originAtomId = parseInt(parsedStr[1], 10);\n        var targetAtomId = parseInt(parsedStr[2], 10);\n        var bondType = parsedStr[3];\n        if (originAtomId > targetAtomId) {\n          var _ref = [targetAtomId, originAtomId];\n          originAtomId = _ref[0];\n          targetAtomId = _ref[1];\n        }\n        this._complex.addBond(originAtomId, targetAtomId, orderMap[bondType] || 0, typeMap[bondType] || Bond.BondType.UNKNOWN, true);\n      }\n    }\n  }, {\n    key: \"_fixSerialAtoms\",\n    value: function _fixSerialAtoms() {\n      var atoms = this._complex._atoms;\n      for (var i = 0; i < atoms.length; i++) {\n        var atom = atoms[i];\n        this._serialAtomMap[atom.serial] = atom;\n      }\n    }\n  }, {\n    key: \"_fixBondsArray\",\n    value: function _fixBondsArray() {\n      var serialAtomMap = this._serialAtomMap;\n      var complex = this._complex;\n      if (Object.keys(serialAtomMap).length === 0) {\n        throw new Error('MOL2 parsing error: Missing atom information!');\n      }\n      var bonds = complex._bonds;\n      for (var j = 0; j < bonds.length; j++) {\n        var bond = bonds[j];\n        bond._left = serialAtomMap[bond._left] || null;\n        bond._right = serialAtomMap[bond._right] || null;\n      }\n    }\n  }, {\n    key: \"_finalizeMolecules\",\n    value: function _finalizeMolecules() {\n      var chain = this._complex._chains[0];\n      this._complex._molecules = [];\n      for (var i = 0; i < this._molecules.length; i++) {\n        var currMolecule = this._molecules[i];\n        var molResidues = chain._residues;\n        var molecule = new Molecule$1(this._complex, currMolecule._name, i + 1);\n        molecule.residues = molResidues;\n        this._complex._molecules[i] = molecule;\n      }\n    }\n  }, {\n    key: \"_finalize\",\n    value: function _finalize() {\n      this._complex._finalizeBonds();\n      this._fixSerialAtoms();\n      this._fixBondsArray();\n      this._finalizeMolecules();\n      this._complex.finalize({\n        needAutoBonding: false,\n        detectAromaticLoops: this.settings.now.aromatic,\n        enableEditing: this.settings.now.editing,\n        serialAtomMap: this._serialAtomMap\n      });\n    }\n  }, {\n    key: \"_parseCompound\",\n    value: function _parseCompound(MOL2Data) {\n      this._compoundIndx++;\n      this._parseMolecule(MOL2Data);\n      this._toStringFromHeader('MOLECULE', 2, MOL2Data);\n      var parsedStr = MOL2Data[this._currPosIdx].trim().split(spacesRegex);\n      var atomsNum = parsedStr[0];\n      var bondsNum = parsedStr[1];\n      this._parseAtoms(atomsNum, MOL2Data);\n      this._parseBonds(bondsNum, MOL2Data);\n    }\n  }, {\n    key: \"parseSync\",\n    value: function parseSync() {\n      var result = this._complex = new Complex();\n      var MOL2Data = this._parseRawStrings(this._data);\n      do {\n        this._parseCompound(MOL2Data);\n      } while (this._findNextCompoundStart(MOL2Data));\n      this._finalize();\n      return result;\n    }\n  }]);\n  return MOL2Parser;\n}(Parser);\nMOL2Parser.formats = ['mol2'];\nMOL2Parser.extensions = ['.mol2', '.ml2', '.sy2'];\n\nvar parsers = new ParserList([\nPDBParser, CIFParser, MMTFParser, XYZParser, CMLParser, PubChemParser, SDFParser, CCP4Parser, DSN6Parser, GROParser, MOL2Parser]);\n\nfunction _createSuper$c(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$c(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$c() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ExporterList = function (_EntityList) {\n  _inherits(ExporterList, _EntityList);\n  var _super = _createSuper$c(ExporterList);\n  function ExporterList() {\n    var someExporters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    _classCallCheck(this, ExporterList);\n    return _super.call(this, someExporters, ['formats']);\n  }\n  _createClass(ExporterList, [{\n    key: \"find\",\n    value: function find(specs) {\n      var list = [];\n      if (specs.format) {\n        list = this._dict.formats[specs.format.toLowerCase()] || [];\n      }\n      return _toConsumableArray(list);\n    }\n  }]);\n  return ExporterList;\n}(EntityList);\n\nvar Exporter = function () {\n  function Exporter(source, options) {\n    _classCallCheck(this, Exporter);\n    this._source = source;\n    this._options = options || {};\n    this._abort = false;\n  }\n  _createClass(Exporter, [{\n    key: \"exportSync\",\n    value: function exportSync() {\n      throw new Error('Exporting to this source is not implemented');\n    }\n  }, {\n    key: \"export\",\n    value: function _export() {\n      var _this = this;\n      return new Promise(function (resolve, reject) {\n        setTimeout(function () {\n          try {\n            if (_this._abort) {\n              return reject(new Error('Export aborted'));\n            }\n            return resolve(_this.exportSync());\n          } catch (error) {\n            return reject(error);\n          }\n        });\n      });\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      this._abort = true;\n    }\n  }]);\n  return Exporter;\n}();\nmakeContextDependent(Exporter.prototype);\n\nvar PDBResult = function () {\n  function PDBResult() {\n    _classCallCheck(this, PDBResult);\n    this._resultArray = [];\n    this._currentStr = -1;\n    this._tag = null;\n    this._fixedNumeration = false;\n    this._numeration = false;\n    this._tagStrNum = 0;\n  }\n  _createClass(PDBResult, [{\n    key: \"getResult\",\n    value: function getResult() {\n      this.writeString('\\n', 81, 81);\n      return this._resultArray.join('');\n    }\n  }, {\n    key: \"_currentStrLength\",\n    value: function _currentStrLength() {\n      var curStr = this._resultArray[this._currentStr];\n      return curStr ? curStr.length : 0;\n    }\n  }, {\n    key: \"newTag\",\n    value: function newTag(tag, numeration) {\n      if (!tag) {\n        this._tag = null;\n      } else {\n        this._tag = tag;\n      }\n      if (!isUndefined(numeration)) {\n        if (isNumber(numeration)) {\n          this._tagStrNum = numeration;\n          this._numeration = true;\n          this._fixedNumeration = true;\n        } else if (isBoolean(numeration)) {\n          this._tagStrNum = 0;\n          this._numeration = numeration;\n          this._fixedNumeration = false;\n        }\n      } else {\n        this._numeration = false;\n        this._fixedNumeration = false;\n        this._tagStrNum = 0;\n      }\n    }\n  }, {\n    key: \"newString\",\n    value: function newString(tag) {\n      this.writeString('\\n', 81, 81);\n      this._currentStr++;\n      this._resultArray.push('');\n      if (tag) {\n        this.writeString(tag, 1, 6);\n      } else if (this._tag) {\n        this.writeString(this._tag, 1, 6);\n      }\n      if (this._numeration) {\n        if (!this._fixedNumeration) {\n          this._tagStrNum++;\n        }\n        if (this._tagStrNum !== 1) {\n          this.writeString(this._tagStrNum.toString(), 10, 8);\n        }\n      }\n    }\n  }, {\n    key: \"writeEntireString\",\n    value: function writeEntireString(string, maxStrPos, concat) {\n      if (!maxStrPos) {\n        maxStrPos = 81;\n      }\n      for (var j = 0; j < string.length; j++) {\n        if (this._currentStrLength() === maxStrPos && j !== string.length - 1) {\n          this.newString();\n          if (concat) {\n            this.writeString(concat.tag, concat.begin, concat.end);\n          }\n        }\n        if (string[j] === '\\n') {\n          this.newString();\n        } else {\n          this.writeString(string[j]);\n        }\n      }\n    }\n  }, {\n    key: \"writeString\",\n    value: function writeString(string, begin, end) {\n      var curStr = this._resultArray[this._currentStr];\n      var str;\n      var curStrLength = curStr ? curStr.length : 0;\n      if (isUndefined(string)) {\n        return;\n      }\n      if (!isNumber(begin)) {\n        begin = curStrLength + 1;\n      }\n      if (!isNumber(end)) {\n        end = curStrLength + string.length;\n      }\n      if (!isString(string)) {\n        str = string.toString();\n      } else {\n        str = string;\n      }\n      var finish = begin < end ? end : begin;\n      var start = begin < end ? begin : end;\n      if (str.length > Math.abs(begin - end) + 1) {\n        str = str.substr(0, Math.abs(begin - end + 1));\n      }\n      if (start > curStrLength + 1) {\n        this._resultArray[this._currentStr] += ' '.repeat(start - curStrLength - 1);\n      } else if (start <= curStrLength) {\n        var cStr = this._resultArray[this._currentStr];\n        this._resultArray[this._currentStr] = cStr.slice(0, start - 1);\n      }\n      if (end < begin) {\n        var len = begin - end + 1;\n        str = ' '.repeat(len - str.length) + str;\n      }\n      if (start === 11 && this._numeration && this._tagStrNum !== 1) {\n        str = \" \".concat(str);\n      }\n      this._resultArray[this._currentStr] += str;\n      curStr = this._resultArray[this._currentStr];\n      if (finish > curStr.length) {\n        this._resultArray[this._currentStr] += ' '.repeat(finish - curStr.length);\n      }\n    }\n  }, {\n    key: \"writeBondsArray\",\n    value: function writeBondsArray(bonds, atom) {\n      var bondsArrays = this._getSubArrays(bonds, 4);\n      for (var k = 0; k < bondsArrays.length; k++) {\n        this.newString();\n        this.writeString(atom.serial, 11, 7);\n        for (var j = 0; j < bondsArrays[k].length; j++) {\n          var serial = bondsArrays[k][j]._left.serial === atom.serial ? bondsArrays[k][j]._right.serial : bondsArrays[k][j]._left.serial;\n          this.writeString(serial, 16 + 5 * j, 12 + 5 * j);\n        }\n      }\n    }\n  }, {\n    key: \"_getSubArrays\",\n    value: function _getSubArrays(arr, subArraySize) {\n      var subArrays = [];\n      for (var i = 0; i < arr.length; i += subArraySize) {\n        subArrays.push(arr.slice(i, i + subArraySize));\n      }\n      return subArrays;\n    }\n  }, {\n    key: \"writeMatrix\",\n    value: function writeMatrix(matrix, matrixIndx, tag) {\n      for (var j = 0; j < 3; j++) {\n        this.newString();\n        this.writeString(tag, 14, 18);\n        this.writeString((j + 1).toString(), 19, 19);\n        this.writeString(matrixIndx.toString(), 23, 20);\n        for (var k = 0; k < 3; k++) {\n          var _numb = parseFloat(matrix.elements[j * 4 + k]).toFixed(6);\n          this.writeString(_numb.toString(), 33 + k * 10, 24 + k * 10);\n        }\n        var numb = parseFloat(matrix.elements[j * 4 + 3]).toFixed(5);\n        this.writeString(numb.toString(), 68, 55);\n      }\n    }\n  }, {\n    key: \"writeMatrices\",\n    value: function writeMatrices(matrices, string) {\n      if (!matrices) {\n        return;\n      }\n      var matrix = new Matrix4();\n      for (var j = 0; j < matrices.length; j++) {\n        matrix.copy(matrices[j]).transpose();\n        this.writeMatrix(matrix, j + 1, string);\n      }\n    }\n  }]);\n  return PDBResult;\n}();\n\nfunction _createSuper$b(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$b(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$b() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar PDBExporter = function (_Exporter) {\n  _inherits(PDBExporter, _Exporter);\n  var _super = _createSuper$b(PDBExporter);\n  function PDBExporter(source, options) {\n    var _this;\n    _classCallCheck(this, PDBExporter);\n    _this = _super.call(this, source, options);\n    _this._tags = ['HEADER', 'TITLE', 'COMPND', 'REMARK', 'HELIX', 'SHEET', 'ATOM and HETATM', 'CONECT'];\n    _this._result = null;\n    _this._tagExtractors = {\n      HEADER: _this._extractHEADER,\n      TITLE: _this._extractTITLE,\n      'ATOM and HETATM': _this._extractATOM,\n      CONECT: _this._extractCONECT,\n      COMPND: _this._extractCOMPND,\n      REMARK: _this._extractREMARK,\n      HELIX: _this._extractHELIX,\n      SHEET: _this._extractSHEET\n    };\n    _this._stringForRemark350 = 'COORDINATES FOR A COMPLETE MULTIMER REPRESENTING THE KNOWN\\n' + 'BIOLOGICALLY SIGNIFICANT OLIGOMERIZATION STATE OF THE\\n' + 'MOLECULE CAN BE GENERATED BY APPLYING BIOMT TRANSFORMATIONS\\n' + 'GIVEN BELOW.  BOTH NON-CRYSTALLOGRAPHIC AND\\n' + 'CRYSTALLOGRAPHIC OPERATIONS ARE GIVEN.';\n    _this._stringForRemark290 = 'CRYSTALLOGRAPHIC SYMMETRY TRANSFORMATIONS\\n' + 'THE FOLLOWING TRANSFORMATIONS OPERATE ON THE ATOM/HETATM\\n' + 'RECORDS IN THIS ENTRY TO PRODUCE CRYSTALLOGRAPHICALLY\\n' + 'RELATED MOLECULES.';\n    return _this;\n  }\n  _createClass(PDBExporter, [{\n    key: \"exportSync\",\n    value: function exportSync() {\n      var result = new PDBResult();\n      if (!this._source) {\n        return this._result;\n      }\n      for (var i = 0; i < this._tags.length; i++) {\n        var tag = this._tags[i];\n        var func = this._tagExtractors[tag];\n        if (typeof func === 'function') {\n          func.call(this, result);\n        }\n      }\n      this._result = result.getResult();\n      return this._result;\n    }\n  }, {\n    key: \"_extractHEADER\",\n    value: function _extractHEADER(result) {\n      if (!this._source.metadata) {\n        return;\n      }\n      var metadata = this._source.metadata;\n      result.newTag('HEADER');\n      result.newString();\n      if (metadata.classification) {\n        result.writeString(metadata.classification, 11, 50);\n      }\n      if (metadata.date) {\n        result.writeString(metadata.date, 51, 59);\n      }\n      if (metadata.id) {\n        result.writeString(metadata.id, 63, 66);\n      }\n    }\n  }, {\n    key: \"_extractTITLE\",\n    value: function _extractTITLE(result) {\n      if (!this._source.metadata) {\n        return;\n      }\n      var metadata = this._source.metadata;\n      if (!metadata.title) {\n        return;\n      }\n      result.newTag('TITLE', true);\n      for (var i = 0; i < metadata.title.length; i++) {\n        result.newString();\n        result.writeString(metadata.title[i], 11, 80);\n      }\n    }\n  }, {\n    key: \"_extractCONECT\",\n    value: function _extractCONECT(result) {\n      if (!this._source._atoms) {\n        return;\n      }\n      var atoms = this._source._atoms;\n      result.newTag('CONECT');\n      for (var i = 0; i < atoms.length; i++) {\n        var fixedBonds = atoms[i].bonds.filter(function (bond) {\n          return bond._fixed;\n        });\n        if (fixedBonds.length !== 0) {\n          result.writeBondsArray(fixedBonds.reverse(), atoms[i]);\n        }\n      }\n    }\n  }, {\n    key: \"_extractSHEET\",\n    value: function _extractSHEET(result) {\n      if (!this._source._sheets) {\n        return;\n      }\n      result.newTag('SHEET');\n      var sheets = this._source._sheets;\n      for (var i = 0; i < sheets.length; i++) {\n        if (sheets[i]._strands) {\n          var strands = sheets[i]._strands;\n          for (var j = 0; j < strands.length; j++) {\n            result.newString();\n            result.writeString(j + 1, 10, 8);\n            result.writeString(sheets[i]._name, 14, 12);\n            result.writeString(strands.length, 16, 15);\n            result.writeString(strands[j].init._type._name, 18, 20);\n            result.writeString(strands[j].init._chain._name, 22, 22);\n            result.writeString(strands[j].init._sequence, 26, 23);\n            result.writeString(strands[j].init._icode, 27, 27);\n            result.writeString(strands[j].term._type._name, 29, 31);\n            result.writeString(strands[j].init._chain._name, 33, 33);\n            result.writeString(strands[j].term._sequence, 37, 34);\n            result.writeString(strands[j].term._icode, 38, 38);\n            result.writeString(strands[j].sense, 40, 39);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_extractHELIX\",\n    value: function _extractHELIX(result) {\n      if (!this._source._helices) {\n        return;\n      }\n      result.newTag('HELIX');\n      var helices = this._source._helices;\n      for (var i = 0; i < helices.length; i++) {\n        var helix = helices[i];\n        var helixClass = invert(typeByPDBHelixClass);\n        result.newString();\n        result.writeString(helix.serial, 10, 8);\n        result.writeString(helix.name, 14, 12);\n        result.writeString(helix.init._type._name, 16, 18);\n        result.writeString(helix.init._chain._name, 20, 20);\n        result.writeString(helix.init._sequence, 25, 22);\n        result.writeString(helix.init._icode, 26, 26);\n        result.writeString(helix.term._type._name, 28, 30);\n        result.writeString(helix.term._chain._name, 32, 32);\n        result.writeString(helix.term._sequence, 37, 34);\n        result.writeString(helix.term._icode, 38, 38);\n        result.writeString(helixClass[helix.type], 40, 39);\n        result.writeString(helix.comment, 41, 70);\n        result.writeString(helix.length, 76, 72);\n      }\n    }\n  }, {\n    key: \"_extractATOM\",\n    value: function _extractATOM(result) {\n      if (!this._source._atoms) {\n        return;\n      }\n      var atoms = this._source._atoms;\n      for (var i = 0; i < atoms.length; i++) {\n        var tag = atoms[i].het ? 'HETATM' : 'ATOM';\n        result.newString(tag);\n        var startIndx = atoms[i].element.name.length > 1 || atoms[i].name.length > 3 ? 13 : 14;\n        result.writeString(atoms[i].serial, 11, 7);\n        result.writeString(atoms[i].name, startIndx, 16);\n        result.writeString(String.fromCharCode(atoms[i].location), 17, 17);\n        result.writeString(atoms[i].residue._type._name, 20, 18);\n        result.writeString(atoms[i].residue._chain._name, 22, 22);\n        result.writeString(atoms[i].residue._sequence, 26, 23);\n        result.writeString(atoms[i].residue._icode, 27, 27);\n        result.writeString(atoms[i].position.x.toFixed(3), 38, 31);\n        result.writeString(atoms[i].position.y.toFixed(3), 46, 39);\n        result.writeString(atoms[i].position.z.toFixed(3), 54, 47);\n        result.writeString(atoms[i].occupancy.toFixed(2), 60, 55);\n        result.writeString(atoms[i].temperature.toFixed(2), 66, 61);\n        result.writeString(atoms[i].element.name, 78, 77);\n        if (atoms[i].charge) {\n          result.writeString(atoms[i].charge, 79, 80);\n        }\n      }\n    }\n  }, {\n    key: \"_extractCOMPND\",\n    value: function _extractCOMPND(result) {\n      if (!this._source._molecules) {\n        return;\n      }\n      var molecules = this._source._molecules;\n      result.newTag('COMPND', true);\n      for (var i = 0; i < molecules.length; i++) {\n        var chains = this._getMoleculeChains(molecules[i]);\n        result.newString();\n        result.writeString(\"MOL_ID: \".concat(molecules[i].index, \";\"), 11, 80);\n        result.newString();\n        result.writeString(\"MOLECULE: \".concat(molecules[i].name, \";\"), 11, 80);\n        result.newString();\n        result.writeString('CHAIN: ', 11, 18);\n        var chainsString = \"\".concat(chains.join(', '), \";\");\n        result.writeEntireString(chainsString, 81);\n      }\n    }\n  }, {\n    key: \"_extractREMARK\",\n    value: function _extractREMARK(result) {\n      this._Remark290(result);\n      this._Remark350(result);\n    }\n  }, {\n    key: \"_Remark290\",\n    value: function _Remark290(result) {\n      if (!this._source.symmetry) {\n        return;\n      }\n      if (this._source.symmetry.length !== 0) {\n        var matrices = this._source.symmetry;\n        result.newTag('REMARK', 290);\n        result.newString();\n        result.newString();\n        result.writeEntireString(this._stringForRemark290);\n        result.writeMatrices(matrices, 'SMTRY');\n        result.newString();\n        result.newString();\n        result.writeString('REMARK: NULL', 11, 80);\n      }\n    }\n  }, {\n    key: \"_Remark350\",\n    value: function _Remark350(result) {\n      if (!this._source.units) {\n        return;\n      }\n      var units = this._source.units;\n      var biomolIndx = 0;\n      result.newTag('REMARK', 350);\n      result.newString();\n      result.newString();\n      result.writeEntireString(this._stringForRemark350);\n      var assemblies = units.filter(function (unit) {\n        return unit instanceof Assembly$3;\n      });\n      for (var i = 0; i < assemblies.length; i++) {\n        result.newString();\n        result.newString();\n        biomolIndx++;\n        result.writeString(\"BIOMOLECULE: \".concat(biomolIndx), 11, 80);\n        var chains = assemblies[i].chains.join(', ');\n        result.newString();\n        result.writeString('APPLY THE FOLLOWING TO CHAINS: ');\n        result.writeEntireString(chains, 69, {\n          tag: 'AND CHAINS: ',\n          begin: 31,\n          end: 42\n        });\n        var matrices = assemblies[i].matrices;\n        result.writeMatrices(matrices, 'BIOMT');\n      }\n    }\n  }, {\n    key: \"_getMoleculeChains\",\n    value: function _getMoleculeChains(molecule) {\n      function getChainName(residue) {\n        return residue._chain._name;\n      }\n      var chainNames = molecule.residues.map(getChainName);\n      return chainNames.filter(function (item, pos) {\n        return chainNames.indexOf(item) === pos;\n      });\n    }\n  }]);\n  return PDBExporter;\n}(Exporter);\nPDBExporter.formats = ['pdb'];\nPDBExporter.SourceClass = Complex$9;\n\nvar FBX_POS_SIZE = 3;\nvar FBX_NORM_SIZE = 3;\nvar FBX_COL_SIZE = 4;\nfunction copyFbxPoint3(src, srcIdx, dst, dstIdx) {\n  dst[dstIdx] = src[srcIdx];\n  dst[dstIdx + 1] = src[srcIdx + 1];\n  dst[dstIdx + 2] = src[srcIdx + 2];\n}\nfunction copyFbxPoint4(src, srcIdx, dst, dstIdx, value) {\n  dst[dstIdx] = src[srcIdx];\n  dst[dstIdx + 1] = src[srcIdx + 1];\n  dst[dstIdx + 2] = src[srcIdx + 2];\n  dst[dstIdx + 3] = value;\n}\nvar vector4 = new Vector4();\nfunction copyTransformedPoint3(src, srcIdx, dst, dstIdx, opts) {\n  vector4.set(src[srcIdx], src[srcIdx + 1], src[srcIdx + 2], opts.w);\n  vector4.applyMatrix4(opts.matrix);\n  dst[dstIdx] = vector4.x;\n  dst[dstIdx + 1] = vector4.y;\n  dst[dstIdx + 2] = vector4.z;\n}\nfunction setSubArray(src, dst, count, copyFunctor, functorOpts) {\n  if ((dst.array.length - dst.start) / dst.stride < count || (src.array.length - src.start) / src.stride < count) {\n    return;\n  }\n  if (src.stride === dst.stride) {\n    dst.array.set(src.array, dst.start);\n  } else {\n    var idx = dst.start;\n    var arridx = src.start;\n    for (var i = 0; i < count; ++i, idx += dst.stride, arridx += src.stride) {\n      copyFunctor(src.array, arridx, dst.array, idx, functorOpts);\n    }\n  }\n}\nvar FBXModel = function () {\n  function FBXModel() {\n    _classCallCheck(this, FBXModel);\n    this.positions = null;\n    this.normals = null;\n    this.colors = null;\n    this.indices = null;\n    this.lastPos = 0;\n    this.lastNorm = 0;\n    this.lastCol = 0;\n    this.lastIdx = 0;\n  }\n  _createClass(FBXModel, [{\n    key: \"init\",\n    value: function init(vertsCount, indsCount) {\n      this.positions = new Float32Array(vertsCount * FBX_POS_SIZE);\n      this.normals = new Float32Array(vertsCount * FBX_NORM_SIZE);\n      this.colors = new Float32Array(vertsCount * FBX_COL_SIZE);\n      this.indices = new Int32Array(indsCount);\n    }\n  }, {\n    key: \"setPositions\",\n    value: function setPositions(array, start, count, stride) {\n      var src = {\n        array: array,\n        start: start,\n        stride: stride\n      };\n      var dst = {\n        array: this.positions,\n        start: this.lastPos,\n        stride: FBX_POS_SIZE\n      };\n      setSubArray(src, dst, count, copyFbxPoint3);\n      this.lastPos += count * FBX_POS_SIZE;\n    }\n  }, {\n    key: \"setTransformedPositions\",\n    value: function setTransformedPositions(array, start, count, stride, matrix) {\n      var idx = this.lastPos;\n      var arrIdx = start;\n      var opts = {\n        matrix: matrix,\n        w: 1\n      };\n      for (var i = 0; i < count; ++i, arrIdx += stride, idx += FBX_POS_SIZE) {\n        copyTransformedPoint3(array, arrIdx, this.positions, idx, opts);\n      }\n      this.lastPos += count * FBX_POS_SIZE;\n    }\n  }, {\n    key: \"setNormals\",\n    value: function setNormals(array, start, count, stride) {\n      var src = {\n        array: array,\n        start: start,\n        stride: stride\n      };\n      var dst = {\n        array: this.normals,\n        start: this.lastNorm,\n        stride: FBX_NORM_SIZE\n      };\n      setSubArray(src, dst, count, copyFbxPoint3);\n      this.lastNorm += count * FBX_NORM_SIZE;\n    }\n  }, {\n    key: \"setTransformedNormals\",\n    value: function setTransformedNormals(array, start, count, stride, matrix) {\n      var idx = this.lastNorm;\n      var arrIdx = start;\n      var opts = {\n        matrix: matrix,\n        w: 0\n      };\n      for (var i = 0; i < count; ++i, arrIdx += stride, idx += FBX_NORM_SIZE) {\n        copyTransformedPoint3(array, arrIdx, this.normals, idx, opts);\n      }\n      this.lastNorm += count * FBX_NORM_SIZE;\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(array, start, count, stride) {\n      var src = {\n        array: array,\n        start: start,\n        stride: stride\n      };\n      var dst = {\n        array: this.colors,\n        start: this.lastCol,\n        stride: FBX_COL_SIZE\n      };\n      setSubArray(src, dst, count, copyFbxPoint4, 1);\n      this.lastCol += count * FBX_COL_SIZE;\n    }\n  }, {\n    key: \"setIndices\",\n    value: function setIndices(array, start, count) {\n      this.indices.set(array, this.lastIdx);\n      this.lastIdx += count;\n    }\n  }, {\n    key: \"setShiftedIndices\",\n    value: function setShiftedIndices(array, count, shift) {\n      var shifted = array.map(function (x) {\n        return x + shift;\n      });\n      this.setIndices(shifted, 0, count);\n    }\n  }, {\n    key: \"getVerticesNumber\",\n    value: function getVerticesNumber() {\n      return this.lastPos / FBX_POS_SIZE;\n    }\n  }, {\n    key: \"addInstance\",\n    value: function addInstance(matrix, geo) {\n      var currentCount = this.getVerticesNumber();\n      this.setShiftedIndices(geo.indices, geo.indices.length, currentCount);\n      var size = geo.itemSize;\n      this.setTransformedPositions(geo.positions, 0, geo.vertsCount, size.position, matrix);\n      this.setTransformedNormals(geo.normals, 0, geo.vertsCount, size.normal, matrix);\n      this.setColors(geo.colors, 0, geo.vertsCount, size.color);\n    }\n  }]);\n  return FBXModel;\n}();\n\nvar FBXGeometry = function () {\n  function FBXGeometry() {\n    _classCallCheck(this, FBXGeometry);\n    this.positions = null;\n    this.normals = null;\n    this.colors = null;\n    this.indices = null;\n    this.vertsCount = 0;\n    this.itemSize = null;\n  }\n  _createClass(FBXGeometry, [{\n    key: \"init\",\n    value: function init(geo, _info) {\n      var attributes = geo.attributes;\n      this.itemSize = {\n        position: attributes.position.itemSize,\n        normal: attributes.normal.itemSize,\n        color: attributes.color.itemSize\n      };\n    }\n  }]);\n  return FBXGeometry;\n}();\n\nfunction _createSuper$a(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$a(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$a() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FBX1CGeometry = function (_FBXGeometry) {\n  _inherits(FBX1CGeometry, _FBXGeometry);\n  var _super = _createSuper$a(FBX1CGeometry);\n  function FBX1CGeometry() {\n    _classCallCheck(this, FBX1CGeometry);\n    return _super.apply(this, arguments);\n  }\n  _createClass(FBX1CGeometry, [{\n    key: \"init\",\n    value:\n    function init(geo, _info) {\n      _get(_getPrototypeOf(FBX1CGeometry.prototype), \"init\", this).call(this, geo, _info);\n      var _geo$attributes = geo.attributes,\n          position = _geo$attributes.position,\n          normal = _geo$attributes.normal,\n          index = geo.index;\n      this.vertsCount = position.count;\n      this.positions = position.array;\n      this.normals = normal.array;\n      this.colors = new Float32Array(this.vertsCount * this.itemSize.color);\n      this.indices = index.array;\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(color) {\n      var offset = 0;\n      for (var i = 0, l = this.colors.length, cl = this.itemSize.color; i < l; i += cl) {\n        this.colors[offset++] = color.r;\n        this.colors[offset++] = color.g;\n        this.colors[offset++] = color.b;\n      }\n    }\n  }]);\n  return FBX1CGeometry;\n}(FBXGeometry);\n\nfunction _createSuper$9(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$9(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$9() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FBX2CCylinder = function (_FBXGeometry) {\n  _inherits(FBX2CCylinder, _FBXGeometry);\n  var _super = _createSuper$9(FBX2CCylinder);\n  function FBX2CCylinder() {\n    var _this;\n    _classCallCheck(this, FBX2CCylinder);\n    _this = _super.call(this);\n    _this._cutRawStart = 0;\n    _this._cutRawEnd = 0;\n    _this._facesPerSlice = 0;\n    return _this;\n  }\n  _createClass(FBX2CCylinder, [{\n    key: \"init\",\n    value: function init(geo, info) {\n      _get(_getPrototypeOf(FBX2CCylinder.prototype), \"init\", this).call(this, geo, info);\n      var position = geo.attributes.position,\n          index = geo.index;\n      this.vertsCount = position.count + info.addPerCylinder;\n      this._facesPerSlice = info.addPerCylinder;\n      this.positions = new Float32Array(this.vertsCount * position.itemSize);\n      this.normals = new Float32Array(this.vertsCount * this.itemSize.normal);\n      this.colors = new Float32Array(this.vertsCount * this.itemSize.color);\n      this._extendVertices(geo, info);\n      this.indices = new Uint32Array(index.count);\n      this._extendIndices(geo, info);\n    }\n  }, {\n    key: \"_extendVertices\",\n    value: function _extendVertices(geo, info) {\n      var position = geo.attributes.position;\n      var normal = geo.attributes.normal;\n      var geoParams = geo.getGeoParams();\n      var cutRaw = 1;\n      this._cutRawStart = cutRaw * geoParams.radialSegments;\n      this._cutRawEnd = this._cutRawStart + info.addPerCylinder;\n      {\n        var temp = position.array.slice(0, this._cutRawEnd * position.itemSize);\n        this.positions.set(temp, 0);\n        temp = normal.array.slice(0, this._cutRawEnd * normal.itemSize);\n        this.normals.set(temp, 0);\n      }\n      {\n        var _temp = position.array.slice(this._cutRawStart * position.itemSize, position.array.length);\n        this.positions.set(_temp, this._cutRawEnd * position.itemSize);\n        _temp = normal.array.slice(this._cutRawStart * normal.itemSize, normal.array.length);\n        this.normals.set(_temp, this._cutRawEnd * normal.itemSize);\n      }\n    }\n  }, {\n    key: \"_extendIndices\",\n    value: function _extendIndices(geo, info) {\n      var index = geo.index;\n      var indicesPerQuad = 6;\n      var startToShift = info.addPerCylinder * indicesPerQuad;\n      var shift = info.addPerCylinder;\n      var shifted = index.array.slice(startToShift, index.count);\n      shifted = shifted.map(function (x) {\n        return x + shift;\n      });\n      this.indices.set(index.array, 0);\n      this.indices.set(shifted, startToShift);\n    }\n  }, {\n    key: \"_setColorRange\",\n    value: function _setColorRange(start, end, array, color) {\n      var colorSize = color.length;\n      for (var i = start; i < end; i += colorSize) {\n        array.set(color, i);\n      }\n    }\n  }, {\n    key: \"setColors\",\n    value: function setColors(color1, color2) {\n      var colorSize = this.itemSize.color;\n      var part1End = this._cutRawEnd * colorSize;\n      var part2End = part1End * 2;\n      this._setColorRange(0, part1End, this.colors, color1.toArray());\n      this._setColorRange(part1End, part2End, this.colors, color2.toArray());\n      if (part2End < this.colors.length) {\n        var capSize = (this._facesPerSlice + 1) * colorSize;\n        var cap1End = part2End + capSize;\n        this._setColorRange(part2End, cap1End, this.colors, color2.toArray());\n        var cap2End = cap1End + capSize;\n        this._setColorRange(cap1End, cap2End, this.colors, color1.toArray());\n      }\n    }\n  }]);\n  return FBX2CCylinder;\n}(FBXGeometry);\n\nvar FBXInfoExtractor = function () {\n  function FBXInfoExtractor() {\n    _classCallCheck(this, FBXInfoExtractor);\n    this._materials = [];\n    this._models = [];\n  }\n  _createClass(FBXInfoExtractor, [{\n    key: \"process\",\n    value: function process(data) {\n      this._extractModelsAndMaterials(data);\n      var models = this._flattenModels();\n      return {\n        name: data.name,\n        models: models,\n        materials: this._materials\n      };\n    }\n  }, {\n    key: \"_extractModelsAndMaterials\",\n    value: function _extractModelsAndMaterials(data) {\n      var _this = this;\n      var layersOfInterest = new Layers();\n      layersOfInterest.set(gfxutils.LAYERS.DEFAULT);\n      layersOfInterest.enable(gfxutils.LAYERS.TRANSPARENT);\n      data.traverse(function (object) {\n        if (object instanceof Mesh && object.layers.test(layersOfInterest) && _this.checkExportAbility(object)) {\n          if (object.geometry.type === 'InstancedBufferGeometry') {\n            _this._collectInstancedGeoInfo(object);\n          } else {\n            _this._collectGeoInfo(object);\n          }\n        }\n      });\n    }\n  }, {\n    key: \"_reworkIndices\",\n    value: function _reworkIndices(indices) {\n      var faceSize = 3;\n      for (var i = faceSize - 1; i < indices.length; i += faceSize) {\n        indices[i] *= -1;\n        indices[i]--;\n      }\n    }\n  }, {\n    key: \"_flattenModels\",\n    value: function _flattenModels() {\n      var overallVertsCount = 0;\n      function shift(x) {\n        return x + overallVertsCount;\n      }\n      var combined = [];\n      for (var i = 0, n = this._models.length; i < n; i++) {\n        var models = this._models[i];\n        var indices = [];\n        var positions = [];\n        var normals = [];\n        var colors = [];\n        overallVertsCount = 0;\n        for (var j = 0; j < models.length; j++) {\n          var m = models[j];\n          indices.push(m.indices.map(shift));\n          overallVertsCount += m.getVerticesNumber();\n          positions.push(m.positions);\n          normals.push(m.normals);\n          colors.push(m.colors);\n        }\n        indices = utils.mergeTypedArraysUnsafe(indices);\n        this._reworkIndices(indices);\n        positions = utils.mergeTypedArraysUnsafe(positions);\n        normals = utils.mergeTypedArraysUnsafe(normals);\n        colors = utils.mergeTypedArraysUnsafe(colors);\n        combined.push({\n          indices: indices,\n          positions: positions,\n          normals: normals,\n          colors: colors,\n          verticesCount: overallVertsCount\n        });\n      }\n      return combined;\n    }\n  }, {\n    key: \"checkExportAbility\",\n    value: function checkExportAbility(mesh) {\n      if (mesh.geometry.attributes.position.count === 0) {\n        return false;\n      }\n      if (mesh instanceof ZSpriteMesh) {\n        logger.warn(\"Currently we cannot export 'sprites' modes, like BS, WV, LC. Please turn of settings 'zSprites' and try again\");\n        return false;\n      }\n      if (mesh instanceof ThickLineMesh) {\n        logger.warn('Currently we cannot export Lines mode');\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_collectGeoInfo\",\n    value: function _collectGeoInfo(mesh) {\n      var _mesh$geometry = mesh.geometry,\n          _mesh$geometry$attrib = _mesh$geometry.attributes,\n          position = _mesh$geometry$attrib.position,\n          color = _mesh$geometry$attrib.color,\n          normal = _mesh$geometry$attrib.normal,\n          index = _mesh$geometry.index,\n          matrix = mesh.matrix;\n      var model = new FBXModel();\n      var vertCount = position.count;\n      model.init(vertCount, index.count);\n      if (matrix.isIdentity()) {\n        model.setPositions(position.array, 0, vertCount, position.itemSize);\n        model.setNormals(normal.array, 0, vertCount, normal.itemSize);\n      } else {\n        model.setTransformedPositions(position.array, 0, vertCount, position.itemSize, matrix);\n        model.setTransformedNormals(normal.array, 0, vertCount, normal.itemSize, matrix);\n      }\n      model.setColors(color.array, 0, vertCount, color.itemSize);\n      model.setIndices(index.array, 0, index.count);\n      var material = this._collectMaterialInfo(mesh);\n      this._addToPool(model, material);\n    }\n  }, {\n    key: \"_collectSpheresInfo\",\n    value: function _collectSpheresInfo(mesh) {\n      var _mesh$geometry2 = mesh.geometry,\n          _mesh$geometry2$attri = _mesh$geometry2.attributes,\n          position = _mesh$geometry2$attri.position,\n          color = _mesh$geometry2$attri.color,\n          index = _mesh$geometry2.index,\n          matrix = mesh.matrix;\n      var model = new FBXModel();\n      var instCount = mesh.geometry.instanceCount;\n      var vertCount = position.count;\n      var indsCount = index.count;\n      model.init(instCount * vertCount, instCount * indsCount);\n      var geo = new FBX1CGeometry();\n      geo.init(mesh.geometry);\n      var instMatrix = new Matrix4();\n      var objMatrix = new Matrix4();\n      var sphereColor = new Color();\n      for (var instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n        var colorIdx = instanceIndex * color.itemSize;\n        sphereColor.fromArray(color.array, colorIdx);\n        geo.setColors(sphereColor);\n        this._getSphereInstanceMatrix(mesh.geometry, instanceIndex, instMatrix);\n        objMatrix.multiplyMatrices(matrix, instMatrix);\n        model.addInstance(objMatrix, geo);\n      }\n      var material = this._collectMaterialInfo(mesh);\n      this._addToPool(model, material);\n    }\n  }, {\n    key: \"_collectCylindersInfo\",\n    value: function _collectCylindersInfo(mesh) {\n      var _mesh$geometry3 = mesh.geometry,\n          _mesh$geometry3$attri = _mesh$geometry3.attributes,\n          position = _mesh$geometry3$attri.position,\n          color = _mesh$geometry3$attri.color,\n          color2 = _mesh$geometry3$attri.color2,\n          index = _mesh$geometry3.index,\n          matrix = mesh.matrix;\n      var model = new FBXModel();\n      var instCount = mesh.geometry.instanceCount;\n      var oneCCylinder = new FBX1CGeometry();\n      oneCCylinder.init(mesh.geometry);\n      var splittingInfo = this._gatherCylindersColoringInfo(mesh.geometry);\n      var twoCCylinder = null;\n      if (splittingInfo.needToSplit > 0) {\n        twoCCylinder = new FBX2CCylinder();\n        twoCCylinder.init(mesh.geometry, splittingInfo);\n      }\n      var additionalVertsCount = splittingInfo.addPerCylinder * splittingInfo.needToSplit;\n      var vertCount = position.count;\n      var indsCount = index.count;\n      model.init(instCount * vertCount + additionalVertsCount, instCount * indsCount);\n      var instMatrix = new Matrix4();\n      var objMatrix = new Matrix4();\n      var colorStart = new Color();\n      var colorEnd = new Color();\n      var geo = {};\n      for (var instanceIndex = 0; instanceIndex < instCount; ++instanceIndex) {\n        var colorIdx = instanceIndex * color.itemSize;\n        if (splittingInfo.is2Colored[instanceIndex]) {\n          colorStart.fromArray(color2.array, colorIdx);\n          colorEnd.fromArray(color.array, colorIdx);\n          if (twoCCylinder) {\n            twoCCylinder.setColors(colorStart, colorEnd);\n            geo = twoCCylinder;\n          }\n        } else {\n          colorStart.fromArray(color.array, colorIdx);\n          oneCCylinder.setColors(colorStart);\n          geo = oneCCylinder;\n        }\n        this._getCylinderInstanceMatrix(mesh.geometry, instanceIndex, instMatrix);\n        objMatrix.multiplyMatrices(matrix, instMatrix);\n        model.addInstance(objMatrix, geo);\n      }\n      var material = this._collectMaterialInfo(mesh);\n      this._addToPool(model, material);\n    }\n  }, {\n    key: \"_addToPool\",\n    value: function _addToPool(model, material) {\n      var materialIdx = this._checkExistingMaterial(material);\n      if (materialIdx < 0) {\n        this._models.push([model]);\n        this._materials.push(material);\n      } else {\n        var models = this._models[materialIdx];\n        models.push(model);\n      }\n    }\n  }, {\n    key: \"_checkExistingMaterial\",\n    value: function _checkExistingMaterial(material) {\n      return findIndex(this._materials, function (m) {\n        return isEqual(m, material);\n      });\n    }\n  }, {\n    key: \"_gatherCylindersColoringInfo\",\n    value: function _gatherCylindersColoringInfo(geo) {\n      var instCount = geo.instanceCount;\n      var color1 = geo.attributes.color.array;\n      var color2 = geo.attributes.color2.array;\n      var stride = geo.attributes.color.itemSize;\n      var is2Colored = new Array(instCount);\n      var needToSplit = 0;\n      var colIdx = 0;\n      for (var i = 0; i < instCount; i++, colIdx += stride) {\n        var differs = Math.abs(color1[colIdx] - color2[colIdx]) > 0.0000001 ||\n        Math.abs(color1[colIdx + 1] - color2[colIdx + 1]) > 0.0000001 || Math.abs(color1[colIdx + 2] - color2[colIdx + 2]) > 0.0000001;\n        is2Colored[i] = differs;\n        needToSplit += differs;\n      }\n      var geoParams = geo.getGeoParams();\n      var addPerCylinder = geoParams.radialSegments;\n      return {\n        is2Colored: is2Colored,\n        needToSplit: needToSplit,\n        addPerCylinder: addPerCylinder\n      };\n    }\n  }, {\n    key: \"_collectInstancedGeoInfo\",\n    value: function _collectInstancedGeoInfo(mesh) {\n      if (mesh.geometry instanceof InstancedSpheresGeometry) {\n        this._collectSpheresInfo(mesh);\n      } else if (mesh.geometry instanceof Instanced2CCylindersGeometry) {\n        this._collectCylindersInfo(mesh);\n      }\n    }\n  }, {\n    key: \"_collectMaterialInfo\",\n    value: function _collectMaterialInfo(mesh) {\n      var uberOptions = mesh.material.uberOptions;\n      return {\n        diffuse: uberOptions.diffuse.toArray(),\n        opacity: uberOptions.opacity,\n        shininess: uberOptions.shininess,\n        specular: uberOptions.specular.toArray()\n      };\n    }\n  }, {\n    key: \"_getCylinderInstanceMatrix\",\n    value: function _getCylinderInstanceMatrix(geo, instIdx, matrix) {\n      var matVector1 = geo.attributes.matVector1.array;\n      var matVector2 = geo.attributes.matVector2.array;\n      var matVector3 = geo.attributes.matVector3.array;\n      var idxOffset = instIdx * 4;\n      matrix.set(matVector1[idxOffset], matVector1[idxOffset + 1], matVector1[idxOffset + 2], matVector1[idxOffset + 3], matVector2[idxOffset], matVector2[idxOffset + 1], matVector2[idxOffset + 2], matVector2[idxOffset + 3], matVector3[idxOffset], matVector3[idxOffset + 1], matVector3[idxOffset + 2], matVector3[idxOffset + 3], 0, 0, 0, 1);\n    }\n  }, {\n    key: \"_getSphereInstanceMatrix\",\n    value: function _getSphereInstanceMatrix(geo, instIdx, matrix) {\n      var offset = geo.attributes.offset;\n      var idx = instIdx * offset.itemSize;\n      var x = offset.array[idx];\n      var y = offset.array[idx + 1];\n      var z = offset.array[idx + 2];\n      var scale = offset.array[idx + 3];\n      matrix.set(scale, 0, 0, x, 0, scale, 0, y, 0, 0, scale, z, 0, 0, 0, 1);\n    }\n  }]);\n  return FBXInfoExtractor;\n}();\n\nvar defaultDefinitions = \"\\nDefinitions:  {\\n  Version: 100\\n  Count: 3\\n  ObjectType: \\\"Model\\\" {\\n    Count: 1\\n  }\\n  ObjectType: \\\"Geometry\\\" {\\n    Count: 1\\n  }\\n  ObjectType: \\\"Material\\\" {\\n    Count: 1\\n  }\\n  ObjectType: \\\"Pose\\\" {\\n    Count: 1\\n  }\\n  ObjectType: \\\"GlobalSettings\\\" {\\n    Count: 1\\n  }\\n} \";\nvar defaultProperties = \"Properties60: {\\n      Property: \\\"QuaternionInterpolate\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"Visibility\\\", \\\"Visibility\\\", \\\"A\\\",1\\n      Property: \\\"Lcl Translation\\\", \\\"Lcl Translation\\\", \\\"A\\\",0.000000000000000,0.000000000000000,-1789.238037109375000\\n      Property: \\\"Lcl Rotation\\\", \\\"Lcl Rotation\\\", \\\"A\\\",0.000009334667643,-0.000000000000000,0.000000000000000\\n      Property: \\\"Lcl Scaling\\\", \\\"Lcl Scaling\\\", \\\"A\\\",1.000000000000000,1.000000000000000,1.000000000000000\\n      Property: \\\"RotationOffset\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"RotationPivot\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"ScalingOffset\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"ScalingPivot\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"TranslationActive\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMin\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"TranslationMax\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"TranslationMinX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMinY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMinZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMaxX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMaxY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"TranslationMaxZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationOrder\\\", \\\"enum\\\", \\\"\\\",0\\n      Property: \\\"RotationSpaceForLimitOnly\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"AxisLen\\\", \\\"double\\\", \\\"\\\",10\\n      Property: \\\"PreRotation\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"PostRotation\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"RotationActive\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMin\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"RotationMax\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"RotationMinX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMinY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMinZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMaxX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMaxY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationMaxZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"RotationStiffnessX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"RotationStiffnessY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"RotationStiffnessZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampRangeX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampRangeY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampRangeZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampRangeX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampRangeY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampRangeZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampStrengthX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampStrengthY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MinDampStrengthZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampStrengthX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampStrengthY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"MaxDampStrengthZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"PreferedAngleX\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"PreferedAngleY\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"PreferedAngleZ\\\", \\\"double\\\", \\\"\\\",0\\n      Property: \\\"InheritType\\\", \\\"enum\\\", \\\"\\\",0\\n      Property: \\\"ScalingActive\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMin\\\", \\\"Vector3D\\\", \\\"\\\",1,1,1\\n      Property: \\\"ScalingMax\\\", \\\"Vector3D\\\", \\\"\\\",1,1,1\\n      Property: \\\"ScalingMinX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMinY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMinZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMaxX\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMaxY\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"ScalingMaxZ\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"GeometricTranslation\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"GeometricRotation\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"GeometricScaling\\\", \\\"Vector3D\\\", \\\"\\\",1,1,1\\n      Property: \\\"LookAtProperty\\\", \\\"object\\\", \\\"\\\"\\n      Property: \\\"UpVectorProperty\\\", \\\"object\\\", \\\"\\\"\\n      Property: \\\"Show\\\", \\\"bool\\\", \\\"\\\",1\\n      Property: \\\"NegativePercentShapeSupport\\\", \\\"bool\\\", \\\"\\\",1\\n      Property: \\\"DefaultAttributeIndex\\\", \\\"int\\\", \\\"\\\",0\\n      Property: \\\"Color\\\", \\\"Color\\\", \\\"A+\\\",0,0,0\\n      Property: \\\"Size\\\", \\\"double\\\", \\\"\\\",100\\n      Property: \\\"Look\\\", \\\"enum\\\", \\\"\\\",1\\n    }\";\nvar defaultMaterialLayer = \"\\n    LayerElementMaterial: 0 {\\n      Version: 101\\n      Name: \\\"\\\"\\n      MappingInformationType: \\\"AllSame\\\"\\n      ReferenceInformationType: \\\"Direct\\\"\\n      Materials: 0\\n    }\";\nvar defaultLayerBlock = \"\\n    Layer: 0 {\\n      Version: 100\\n      LayerElement:  {\\n        Type: \\\"LayerElementNormal\\\"\\n        TypedIndex: 0\\n      }\\n      LayerElement:  {\\n        Type: \\\"LayerElementColor\\\"\\n        TypedIndex: 0\\n      }\\n      LayerElement:  {\\n        Type: \\\"LayerElementMaterial\\\"\\n        TypedIndex: 0\\n      }\\n    }\";\nvar globalSettings = \"GlobalSettings: {\\n    Version: 1000\\n    Properties60:  {\\n      Property: \\\"UpAxis\\\", \\\"int\\\", \\\"\\\",1\\n      Property: \\\"UpAxisSign\\\", \\\"int\\\", \\\"\\\",1\\n      Property: \\\"FrontAxis\\\", \\\"int\\\", \\\"\\\",2\\n      Property: \\\"FrontAxisSign\\\", \\\"int\\\", \\\"\\\",1\\n      Property: \\\"CoordAxis\\\", \\\"int\\\", \\\"\\\",0\\n      Property: \\\"CoordAxisSign\\\", \\\"int\\\", \\\"\\\",1\\n      Property: \\\"UnitScaleFactor\\\", \\\"double\\\", \\\"\\\",1\\n    }\\n  }\";\nvar FBXResult = function () {\n  function FBXResult() {\n    _classCallCheck(this, FBXResult);\n    this._resultArray = [];\n    this._info = null;\n  }\n  _createClass(FBXResult, [{\n    key: \"getResult\",\n    value: function getResult(info) {\n      this._info = info;\n      this._resultArray.push(this._writeHeader());\n      this._resultArray.push(this._writeDefinitions());\n      this._resultArray.push(this._writeObjects(info.models, info.materials));\n      this._resultArray.push(this._writeRelations());\n      this._resultArray.push(this._writeConnections());\n      this._info = null;\n      return this._resultArray.join('');\n    }\n  }, {\n    key: \"_writeHeader\",\n    value: function _writeHeader() {\n      var FBXHeaderVersion = 1003;\n      var FBXVersion = 6100;\n      var date = new Date();\n      var timeStampVersion = 1000;\n      var creator = \"Miew FBX Exporter v\".concat(this._info.version);\n      return \"; FBX 6.1.0 project file\\n; Created by \".concat(creator, \" Copyright (c) 2015-2020 EPAM Systems, Inc.\\n; For support please contact miew@epam.com\\n; ----------------------------------------------------\\n\\nFBXHeaderExtension:  {\\n  FBXHeaderVersion: \").concat(FBXHeaderVersion, \"\\n  FBXVersion: \").concat(FBXVersion, \"\\n  CreationTimeStamp:  {\\n    Version: \").concat(timeStampVersion, \"\\n    Year: \").concat(date.getFullYear(), \"\\n    Month: \").concat(date.getMonth() + 1, \" \\n    Day: \").concat(date.getDate(), \"\\n    Hour: \").concat(date.getHours(), \"\\n    Minute: \").concat(date.getMinutes(), \"\\n    Second: \").concat(date.getSeconds(), \"\\n    Millisecond: \").concat(date.getMilliseconds(), \"\\n  }\\n  Creator: \\\"\").concat(creator, \"\\\"\\n  OtherFlags:  {\\n    FlagPLE: 0\\n  }\\n}\\nCreationTime: \\\"\").concat(date, \"\\\"\\nCreator: \\\"\").concat(creator, \"\\\"  \\n\");\n    }\n  }, {\n    key: \"_writeDefinitions\",\n    value: function _writeDefinitions() {\n      return \"\\n; Object definitions\\n;------------------------------------------------------------------\\n\\n\".concat(defaultDefinitions, \"\\n\");\n    }\n  }, {\n    key: \"_models\",\n    value: function _models() {\n      var modelVersion = 232;\n      var allModels = '';\n      var models = this._info.models;\n      for (var i = 0; i < models.length; ++i) {\n        var model = models[i];\n        var vertCount = model.verticesCount;\n        allModels += \"\\n  Model: \\\"Model::\".concat(this._info.name, \"_\").concat(i, \"\\\", \\\"Mesh\\\" {\\n    Version: \").concat(modelVersion, \" \\n    \").concat(defaultProperties, \"\\n    \").concat(this._verticesIndices(model.positions, model.indices), \"\\n    \").concat(this._normalLayer(model.normals), \" \\n    \").concat(this._colorLayer(model.colors, vertCount), \" \\n    \").concat(defaultMaterialLayer, \"  \\n    \").concat(defaultLayerBlock, \"\\n  }\");\n      }\n      return allModels;\n    }\n  }, {\n    key: \"_materials\",\n    value: function _materials() {\n      var materialVersion = 102;\n      var allMaterials = '';\n      var materials = this._info.materials;\n      for (var i = 0; i < materials.length; ++i) {\n        var material = materials[i];\n        allMaterials += \"\\n  Material: \\\"Material::\".concat(this._info.name, \"_\").concat(i, \"_default\\\", \\\"\\\" {\\n    Version: \").concat(materialVersion, \"\\n    ShadingModel: \\\"lambert\\\"\\n    MultiLayer: 0\\n    \").concat(this._materialProperties(material), \"\\n  }\");\n      }\n      return allMaterials;\n    }\n  }, {\n    key: \"_writeObjects\",\n    value: function _writeObjects() {\n      return \"\\n; Object properties\\n;------------------------------------------------------------------\\n\\nObjects:  {\\n  \".concat(this._models(), \"\\n  \").concat(this._materials(), \"\\n  \").concat(globalSettings, \"\\n}\\n\");\n    }\n  }, {\n    key: \"_writeRelations\",\n    value: function _writeRelations() {\n      var modelsList = '';\n      for (var i = 0; i < this._info.models.length; ++i) {\n        modelsList += \"\\n  Model: \\\"Model::\".concat(this._info.name, \"_\").concat(i, \"\\\", \\\"Mesh\\\" {\\n  }\");\n      }\n      var materialList = '';\n      for (var _i = 0; _i < this._info.materials.length; ++_i) {\n        materialList += \"\\n  Material: \\\"Material::\".concat(this._info.name, \"_\").concat(_i, \"_default\\\", \\\"\\\" {\\n  }\");\n      }\n      return \"\\n; Object relations\\n;------------------------------------------------------------------\\n\\nRelations:  {\\n  \".concat(modelsList, \"\\n  Model: \\\"Model::Producer Perspective\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Top\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Bottom\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Front\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Back\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Right\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Producer Left\\\", \\\"Camera\\\" {\\n  }\\n  Model: \\\"Model::Camera Switcher\\\", \\\"CameraSwitcher\\\" {\\n  }\\n  \").concat(materialList, \"\\n}\");\n    }\n  }, {\n    key: \"_writeConnections\",\n    value: function _writeConnections() {\n      var modelsList = '';\n      var name = this._info.name;\n      for (var i = 0; i < this._info.models.length; ++i) {\n        modelsList += \"\\n  Connect: \\\"OO\\\", \\\"Model::\".concat(name, \"_\").concat(i, \"\\\", \\\"Model::Scene\\\"\");\n      }\n      var materialList = '';\n      for (var _i2 = 0; _i2 < this._info.materials.length; ++_i2) {\n        materialList += \"\\n  Connect: \\\"OO\\\", \\\"Material::\".concat(name, \"_\").concat(_i2, \"_default\\\", \\\"Model::\").concat(name, \"_\").concat(_i2, \"\\\"\");\n      }\n      return \"\\n; Object connections\\n;------------------------------------------------------------------\\n\\nConnections:  {\\n  \".concat(modelsList, \"\\n  \").concat(materialList, \"\\n}\");\n    }\n  }, {\n    key: \"_floatArrayToString\",\n    value: function _floatArrayToString(array) {\n      var str = [];\n      for (var i = 0; i < array.length; ++i) {\n        str[i] = array[i].toFixed(6);\n      }\n      return str.join(',');\n    }\n  }, {\n    key: \"_colorLayer\",\n    value: function _colorLayer(colorArray, vertCount) {\n      var layerElementColorNumber = 0;\n      var layerElementColorVersion = 101;\n      var layerElementColorName = '';\n      var colorsStr = this._floatArrayToString(colorArray);\n      var colorIndices = _toConsumableArray(Array(vertCount).keys());\n      return \"\\n    LayerElementColor: \".concat(layerElementColorNumber, \" {\\n      Version: \").concat(layerElementColorVersion, \"\\n      Name: \\\"\").concat(layerElementColorName, \"\\\"\\n      MappingInformationType: \\\"ByVertice\\\"\\n      ReferenceInformationType: \\\"Direct\\\"\\n      Colors: \").concat(colorsStr, \"\\n      ColorIndex: \").concat(colorIndices, \"\\n    }\");\n    }\n  }, {\n    key: \"_normalLayer\",\n    value: function _normalLayer(normalArray) {\n      var layerElementNormalNumber = 0;\n      var layerElementNormalVersion = 101;\n      var layerElementNormalName = '';\n      var normalsStr = this._floatArrayToString(normalArray);\n      return \"\\n    LayerElementNormal: \".concat(layerElementNormalNumber, \" {\\n      Version: \").concat(layerElementNormalVersion, \"\\n      Name: \\\"\").concat(layerElementNormalName, \"\\\"\\n      MappingInformationType: \\\"ByVertice\\\"\\n      ReferenceInformationType: \\\"Direct\\\" \\n      Normals: \").concat(normalsStr, \"\\n    }\");\n    }\n  }, {\n    key: \"_verticesIndices\",\n    value: function _verticesIndices(positions, indices) {\n      var multiLayer = 0;\n      var multiTake = 1;\n      var shading = 'Y';\n      var culling = 'CullingOff';\n      var geometryVersion = 124;\n      var vertStr = this._floatArrayToString(positions);\n      return \"MultiLayer: \".concat(multiLayer, \"\\n    MultiTake: \").concat(multiTake, \"\\n    Shading: \").concat(shading, \"\\n    Culling: \\\"\").concat(culling, \"\\\"\\n    Vertices: \").concat(vertStr, \"\\n    PolygonVertexIndex: \").concat(indices, \"\\n    GeometryVersion: \").concat(geometryVersion);\n    }\n  }, {\n    key: \"_materialProperties\",\n    value: function _materialProperties(material) {\n      return \"Properties60:  {\\n      Property: \\\"ShadingModel\\\", \\\"KString\\\", \\\"\\\", \\\"Lambert\\\"\\n      Property: \\\"MultiLayer\\\", \\\"bool\\\", \\\"\\\",0\\n      Property: \\\"EmissiveColor\\\", \\\"ColorRGB\\\", \\\"\\\",0,0,0\\n      Property: \\\"EmissiveFactor\\\", \\\"double\\\", \\\"\\\",0.0000\\n      Property: \\\"AmbientColor\\\", \\\"ColorRGB\\\", \\\"\\\",1,1,1\\n      Property: \\\"AmbientFactor\\\", \\\"double\\\", \\\"\\\",0.0000\\n      Property: \\\"DiffuseColor\\\", \\\"ColorRGB\\\", \\\"\\\",\".concat(material.diffuse, \"\\n      Property: \\\"DiffuseFactor\\\", \\\"double\\\", \\\"\\\",1.0000\\n      Property: \\\"Bump\\\", \\\"Vector3D\\\", \\\"\\\",0,0,0\\n      Property: \\\"TransparentColor\\\", \\\"ColorRGB\\\", \\\"\\\",1,1,1\\n      Property: \\\"TransparencyFactor\\\", \\\"double\\\", \\\"\\\",0.0000\\n      Property: \\\"SpecularColor\\\", \\\"ColorRGB\\\", \\\"\\\",\").concat(material.specular, \"\\n      Property: \\\"SpecularFactor\\\", \\\"double\\\", \\\"\\\",1.0000\\n      Property: \\\"ShininessExponent\\\", \\\"double\\\", \\\"\\\",\").concat(material.shininess, \"\\n      Property: \\\"ReflectionColor\\\", \\\"ColorRGB\\\", \\\"\\\",0,0,0\\n      Property: \\\"ReflectionFactor\\\", \\\"double\\\", \\\"\\\",1\\n      Property: \\\"Ambient\\\", \\\"ColorRGB\\\", \\\"\\\",1,1,1\\n      Property: \\\"Diffuse\\\", \\\"ColorRGB\\\", \\\"\\\",\").concat(material.diffuse, \"\\n      Property: \\\"Specular\\\", \\\"ColorRGB\\\", \\\"\\\",\").concat(material.specular, \"\\n      Property: \\\"Shininess\\\", \\\"double\\\", \\\"\\\",\").concat(material.shininess, \"\\n      Property: \\\"Opacity\\\", \\\"double\\\", \\\"\\\",\").concat(material.opacity, \"\\n      Property: \\\"Reflectivity\\\", \\\"double\\\", \\\"\\\",0\\n    }\");\n    }\n  }]);\n  return FBXResult;\n}();\n\nfunction _createSuper$8(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$8(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$8() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FBXExporter = function (_Exporter) {\n  _inherits(FBXExporter, _Exporter);\n  var _super = _createSuper$8(FBXExporter);\n  function FBXExporter(source, options) {\n    var _this;\n    _classCallCheck(this, FBXExporter);\n    _this = _super.call(this, source, options);\n    _this._data = source;\n    _this._version = options.miewVersion || '0.0-UNSPECIFIED';\n    _this._extractor = new FBXInfoExtractor();\n    return _this;\n  }\n  _createClass(FBXExporter, [{\n    key: \"exportSync\",\n    value: function exportSync() {\n      var result = new FBXResult();\n      if (!this._source) {\n        return this._result;\n      }\n      var info = this._extractor.process(this._data);\n      info.version = this._version;\n      this._result = result.getResult(info);\n      return this._result;\n    }\n  }]);\n  return FBXExporter;\n}(Exporter);\nFBXExporter.formats = ['fbx'];\nFBXExporter.SourceClass = ComplexVisual;\n\nvar exporters = new ExporterList([PDBExporter, FBXExporter]);\n\nvar io = {\n  loaders: loaders,\n  parsers: parsers,\n  exporters: exporters\n};\n\nvar tempColor = new Color();\nvar CSS2DRenderer = function () {\n  function CSS2DRenderer() {\n    _classCallCheck(this, CSS2DRenderer);\n    this._width = 0;\n    this._height = 0;\n    this._widthHalf = 0;\n    this._heightHalf = 0;\n    this._vector = new Vector3();\n    this._viewMatrix = new Matrix4();\n    this._projectionMatrix = new Matrix4();\n    this._domElement = document.createElement('div');\n    this._domElement.style.overflow = 'hidden';\n    this._domElement.style.position = 'absolute';\n    this._domElement.style.top = '0';\n    this._domElement.style.zIndex = '0';\n    this._domElement.style.pointerEvents = 'none';\n  }\n  _createClass(CSS2DRenderer, [{\n    key: \"getElement\",\n    value: function getElement() {\n      return this._domElement;\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var myNode = this.getElement();\n      while (myNode.firstChild) {\n        myNode.removeChild(myNode.firstChild);\n      }\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize(width, height) {\n      this._width = width;\n      this._height = height;\n      this._widthHalf = this._width / 2;\n      this._heightHalf = this._height / 2;\n      this._domElement.style.width = \"\".concat(width, \"px\");\n      this._domElement.style.height = \"\".concat(height, \"px\");\n    }\n  }, {\n    key: \"_renderObject\",\n    value: function _renderObject(object, camera, scene) {\n      function lerpColorAsHex(a, b, t) {\n        tempColor.setHex(a);\n        tempColor.lerp(b, t);\n        return \"#\".concat(tempColor.getHexString());\n      }\n      function colorAsHex(a) {\n        tempColor.setHex(a);\n        return \"#\".concat(tempColor.getHexString());\n      }\n      if (object instanceof CSS2DObject) {\n        this._vector.setFromMatrixPosition(object.matrixWorld);\n        if (object.userData !== undefined && object.userData.offset !== undefined) {\n          var localOffset = new Vector3(object.userData.offset.x, object.userData.offset.y, 0);\n          this._vector.add(localOffset.multiplyScalar(object.matrixWorld.getMaxScaleOnAxis()));\n        }\n        this._vector.applyMatrix4(this._viewMatrix);\n        var visibility = this._vector.z > -camera.near ? 'hidden' : 'visible';\n        var zIndex = 10000 * (camera.far - -this._vector.z) / (camera.far - camera.near);\n        var element = object.getElement();\n        if (typeof scene.fog === 'undefined') {\n          element.style.color = colorAsHex(object.userData.color);\n          if (object.userData.background !== 'transparent') {\n            element.style.background = colorAsHex(object.userData.background);\n          }\n        } else {\n          var fogFactor = MathUtils.smoothstep(-this._vector.z, scene.fog.near, scene.fog.far);\n          element.style.color = lerpColorAsHex(object.userData.color, scene.fog.color, fogFactor);\n          if (object.userData.background !== 'transparent') {\n            element.style.background = lerpColorAsHex(object.userData.background, scene.fog.color, fogFactor);\n          }\n        }\n        this._vector.applyMatrix4(this._projectionMatrix);\n        var style = \"\".concat(object.userData !== {} ? object.userData.translation : 'translate(-50%, -50%) ', \"translate(\").concat(this._vector.x * this._widthHalf + this._widthHalf, \"px,\").concat(-this._vector.y * this._heightHalf + this._heightHalf, \"px)\");\n        element.style.visibility = visibility;\n        element.style.WebkitTransform = style;\n        element.style.MozTransform = style;\n        element.style.oTransform = style;\n        element.style.transform = style;\n        element.style.zIndex = Number(zIndex).toFixed(0);\n        if (element.parentNode !== this._domElement) {\n          this._domElement.appendChild(element);\n        }\n      }\n      for (var i = 0, l = object.children.length; i < l; i++) {\n        this._renderObject(object.children[i], camera, scene);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render(scene, camera) {\n      scene.updateMatrixWorld();\n      if (camera.parent === null) {\n        camera.updateMatrixWorld();\n      }\n      camera.matrixWorldInverse.copy(camera.matrixWorld).invert();\n      this._viewMatrix.copy(camera.matrixWorldInverse);\n      this._projectionMatrix.copy(camera.projectionMatrix);\n      this._renderObject(scene, camera, scene);\n    }\n  }]);\n  return CSS2DRenderer;\n}();\n\nvar VK_LEFT = 37;\nvar VK_UP = 38;\nvar VK_RIGHT = 39;\nvar VK_DOWN = 40;\nvar STATE = {\n  NONE: -1,\n  ROTATE: 0,\n  TRANSLATE: 1,\n  SCALE: 2,\n  TRANSLATE_PIVOT: 3\n};\nvar FULL_STOP_THRESHOLD = 0.1;\nvar quaternion = new Quaternion();\nvar matrix4 = new Matrix4();\nfunction ObjectHandler(objects, camera, pivot, options) {\n  this.objects = objects;\n  var _objects = _slicedToArray(objects, 1);\n  this.object = _objects[0];\n  this.camera = camera;\n  this.pivot = pivot;\n  this.axis = new Vector3(0, 0, 1);\n  this.options = options;\n  this.lastRotation = {\n    axis: new Vector3(),\n    angle: 0.0\n  };\n}\nObjectHandler.prototype._rotate = function () {\n  var p = new Vector3();\n  var q = new Quaternion();\n  var s = new Vector3();\n  var m = new Matrix4();\n  return function (quat) {\n    var zeroPivot = this.pivot.x === 0.0 && this.pivot.y === 0.0 && this.pivot.z === 0.0;\n    m.copy(this.object.matrix);\n    if (zeroPivot) {\n      m.multiply(matrix4.makeRotationFromQuaternion(quat));\n    } else {\n      m.multiply(matrix4.makeTranslation(this.pivot.x, this.pivot.y, this.pivot.z));\n      m.multiply(matrix4.makeRotationFromQuaternion(quat));\n      m.multiply(matrix4.makeTranslation(-this.pivot.x, -this.pivot.y, -this.pivot.z));\n    }\n    m.decompose(p, q, s);\n    if (!zeroPivot) {\n      for (var i = 0; i < this.objects.length; ++i) {\n        this.objects[i].position.copy(p);\n      }\n    }\n    for (var j = 0; j < this.objects.length; ++j) {\n      this.objects[j].quaternion.copy(q);\n      this.objects[j].updateMatrix();\n    }\n  };\n}();\nObjectHandler.prototype.setObjects = function (objects) {\n  this.objects = objects;\n  var _objects2 = _slicedToArray(objects, 1);\n  this.object = _objects2[0];\n};\nObjectHandler.prototype.rotate = function () {\n  var rot = {\n    axis: new Vector3(),\n    angle: 0.0\n  };\n  return function (quat, mousePrevPos, mouseCurPos, aboutAxis) {\n    this.mouse2rotation(rot, mousePrevPos, mouseCurPos, aboutAxis);\n    quat.setFromAxisAngle(rot.axis, rot.angle);\n    if (rot.angle) {\n      this._rotate(quat);\n    }\n    this.lastRotation = rot;\n  };\n}();\nObjectHandler.prototype.translate = function () {\n  var dir = new Vector3();\n  var pivot = new Vector3();\n  return function (delta) {\n    dir.set(delta.x / this.camera.projectionMatrix.elements[0], delta.y / this.camera.projectionMatrix.elements[5], 0);\n    var dist = dir.length();\n    dir.normalize();\n    dir.transformDirection(matrix4.copy(this.object.matrixWorld).invert());\n    pivot.copy(this.pivot);\n    this.object.localToWorld(pivot);\n    dist *= Math.abs(pivot.z - this.camera.position.z);\n    dist /= this.object.matrixWorld.getMaxScaleOnAxis();\n    for (var i = 0; i < this.objects.length; ++i) {\n      this.objects[i].translateOnAxis(dir, dist);\n    }\n  };\n}();\nObjectHandler.prototype.update = function () {\n  var axis = new Vector3();\n  return function (timeSinceLastUpdate, timeSinceMove) {\n    if (settings$1.now.autoRotation !== 0.0) {\n      if (settings$1.now.autoRotationAxisFixed || this.lastRotation.axis.length() === 0.0) {\n        axis.set(0, 1, 0).transformDirection(matrix4.copy(this.object.matrixWorld).invert());\n      } else {\n        axis.copy(this.lastRotation.axis);\n      }\n      this._rotate(quaternion.setFromAxisAngle(axis, settings$1.now.autoRotation * timeSinceLastUpdate));\n      return true;\n    }\n    if (this.options.intertia && this.lastRotation.angle) {\n      var angle = this.lastRotation.angle * Math.pow(1.0 - this.options.dynamicDampingFactor, 40.0 * timeSinceMove);\n      if (Math.abs(angle) <= this.options.intertiaThreshold) {\n        this.lastRotation.angle = 0.0;\n      } else {\n        this._rotate(quaternion.setFromAxisAngle(this.lastRotation.axis, angle));\n        return true;\n      }\n    }\n    return false;\n  };\n}();\nObjectHandler.prototype.stop = function () {\n  this.lastRotation.angle = 0.0;\n};\nObjectHandler.prototype.mouse2rotation = function () {\n  var center = new Vector3();\n  var eye = new Vector3();\n  var eyeDirection = new Vector3();\n  var cameraUpDirection = new Vector3();\n  var cameraSidewaysDirection = new Vector3();\n  var moveDirection = new Vector3();\n  var mouseDelta = new Vector2();\n  return function (rot, mousePrev, mouseCur, aboutAxis) {\n    if (aboutAxis) {\n      rot.axis.copy(this.axis);\n      rot.angle = this.options.axisRotateFactor * (mouseCur.y - mousePrev.y);\n    } else {\n      mouseDelta.subVectors(mouseCur, mousePrev);\n      var angle = mouseDelta.length();\n      if (angle === 0.0) {\n        return;\n      }\n      center.copy(this.pivot);\n      this.object.localToWorld(center);\n      eye.subVectors(this.camera.position, center);\n      eyeDirection.copy(eye).normalize();\n      cameraUpDirection.copy(this.camera.up).normalize();\n      cameraSidewaysDirection.crossVectors(cameraUpDirection, eyeDirection).normalize();\n      cameraUpDirection.setLength(mouseDelta.y);\n      cameraSidewaysDirection.setLength(mouseDelta.x);\n      moveDirection.copy(cameraUpDirection.add(cameraSidewaysDirection));\n      rot.axis.crossVectors(moveDirection, eye);\n      rot.angle = -angle * this.options.rotateFactor;\n    }\n    rot.axis.transformDirection(matrix4.copy(this.object.matrixWorld).invert());\n    if (rot.angle < 0.0) {\n      rot.axis.negate();\n      rot.angle = -rot.angle;\n    }\n  };\n}();\nfunction ObjectControls(object, objectPivot, camera, domElement, getAltObj) {\n  EventDispatcher.call(this);\n  var self = this;\n  this.object = object;\n  this.objectPivot = objectPivot;\n  this.camera = camera;\n  this.domElement = typeof domElement !== 'undefined' ? domElement : document;\n  this.getAltObj = getAltObj;\n  this.enabled = true;\n  this.hotkeysEnabled = true;\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  };\n  this.options = {\n    rotateFactor: Math.PI,\n    axisRotateFactor: 4 * Math.PI,\n    intertia: true,\n    dynamicDampingFactor: 0.1,\n    intertiaThreshold: 1e-3\n  };\n  this._state = STATE.NONE;\n  this._mousePrevPos = new Vector2();\n  this._mouseCurPos = new Vector2();\n  this._mainObj = new ObjectHandler([this.object], this.camera, new Vector3(0, 0, 0), this.options);\n  this._altObj = new ObjectHandler([this.object], this.camera, new Vector3(0, 0, 0), this.options);\n  this._affectedObj = this._mainObj;\n  this._isAltObjFreeRotationAllowed = true;\n  this._isTranslationAllowed = true;\n  this._isKeysTranslatingObj = false;\n  this._pressedKeys = [];\n  this._clock = new Timer();\n  this._clock.start();\n  this._lastUpdateTime = this._clock.getElapsedTime();\n  this._listeners = [{\n    obj: self.domElement,\n    type: 'mousedown',\n    handler: function handler(e) {\n      self.mousedown(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mouseup',\n    handler: function handler(e) {\n      self.mouseup(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mousemove',\n    handler: function handler(e) {\n      self.mousemove(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mousewheel',\n    handler: function handler(e) {\n      self.mousewheel(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'DOMMouseScroll',\n    handler: function handler(e) {\n      self.mousewheel(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mouseout',\n    handler: function handler(e) {\n      self.mouseup(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchstart',\n    handler: function handler(e) {\n      self.touchstartend(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchend',\n    handler: function handler(e) {\n      self.touchstartend(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchmove',\n    handler: function handler(e) {\n      self.touchmove(e);\n    }\n  }, {\n    obj: self.getKeyBindObject(),\n    type: 'keydown',\n    handler: function handler(e) {\n      self.keydownup(e);\n    }\n  }, {\n    obj: self.getKeyBindObject(),\n    type: 'keyup',\n    handler: function handler(e) {\n      self.keydownup(e);\n    }\n  }, {\n    obj: window,\n    type: 'resize',\n    handler: function handler() {\n      self.handleResize();\n    }\n  }, {\n    obj: window,\n    type: 'blur',\n    handler: function handler() {\n      self.resetKeys();\n    }\n  }, {\n    obj: self.domElement,\n    type: 'contextmenu',\n    handler: function handler(e) {\n      self.contextmenu(e);\n    }\n  }];\n  for (var i = 0; i < this._listeners.length; i++) {\n    var l = this._listeners[i];\n    l.obj.addEventListener(l.type, l.handler);\n  }\n  this.handleResize();\n  this.resetKeys();\n  this.update();\n}\nObjectControls.prototype = Object.create(EventDispatcher.prototype);\nObjectControls.prototype.constructor = ObjectControls;\nObjectControls.prototype.resetKeys = function () {\n  this._pressedKeys[VK_LEFT] = false;\n  this._pressedKeys[VK_UP] = false;\n  this._pressedKeys[VK_RIGHT] = false;\n  this._pressedKeys[VK_DOWN] = false;\n};\nObjectControls.prototype.contextmenu = function (e) {\n  e.stopPropagation();\n  e.preventDefault();\n};\nObjectControls.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0;\n    this.screen.top = 0;\n    this.screen.width = window.innerWidth;\n    this.screen.height = window.innerHeight;\n  } else {\n    var box = this.domElement.getBoundingClientRect();\n    var d = this.domElement.ownerDocument.documentElement;\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    this.screen.top = box.top + window.pageYOffset - d.clientTop;\n    this.screen.width = box.width;\n    this.screen.height = box.height;\n  }\n};\nObjectControls.prototype.enable = function (enable) {\n  this.enabled = enable;\n};\nObjectControls.prototype.enableHotkeys = function (enable) {\n  this.hotkeysEnabled = enable;\n};\nObjectControls.prototype.allowTranslation = function (allow) {\n  this._isTranslationAllowed = allow;\n};\nObjectControls.prototype.allowAltObjFreeRotation = function (allow) {\n  this._isAltObjFreeRotationAllowed = allow;\n};\nObjectControls.prototype.keysTranslateObj = function (on) {\n  this._isKeysTranslatingObj = on;\n};\nObjectControls.prototype.isEditingAltObj = function () {\n  return (this._state === STATE.ROTATE || this._state === STATE.TRANSLATE) && this._affectedObj === this._altObj;\n};\nObjectControls.prototype.convertMouseToOnCircle = function (coords, pageX, pageY) {\n  var screenSize = Math.min(this.screen.width, this.screen.height);\n  if (screenSize === 0) {\n    coords.set(0, 0);\n    return;\n  }\n  coords.set((pageX - this.screen.width * 0.5 - this.screen.left) / screenSize, (0.5 * this.screen.height + this.screen.top - pageY) / screenSize);\n};\nObjectControls.prototype.convertMouseToViewport = function (coords, pageX, pageY) {\n  if (this.screen.width === 0 || this.screen.height === 0) {\n    coords.set(0, 0);\n    return;\n  }\n  coords.set(2.0 * (pageX - this.screen.width * 0.5 - this.screen.left) / this.screen.width, 2.0 * (0.5 * this.screen.height + this.screen.top - pageY) / this.screen.height);\n};\nObjectControls.prototype.stop = function () {\n  this._mainObj.stop();\n  this._altObj.stop();\n};\nObjectControls.prototype.rotateByMouse = function () {\n  var quat = new Quaternion();\n  return function (aboutZAxis) {\n    this._affectedObj.rotate(quat, this._mousePrevPos, this._mouseCurPos, aboutZAxis);\n    this.dispatchEvent({\n      type: 'change',\n      action: 'rotate',\n      quaternion: quat\n    });\n  };\n}();\nObjectControls.prototype.rotate = function (quat) {\n  this.object.quaternion.multiply(quat);\n  this.dispatchEvent({\n    type: 'change',\n    action: 'rotate',\n    quaternion: quat\n  });\n};\nObjectControls.prototype.getOrientation = function () {\n  return this.object.quaternion;\n};\nObjectControls.prototype.setOrientation = function (quat) {\n  this.object.quaternion.copy(quat);\n};\nObjectControls.prototype.translate = function () {\n  var delta = new Vector2();\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos);\n    this._affectedObj.translate(delta);\n    this.dispatchEvent({\n      type: 'change',\n      action: 'translate'\n    });\n  };\n}();\nObjectControls.prototype.getScale = function () {\n  return this.object.scale.x;\n};\nObjectControls.prototype.setScale = function (scale) {\n  this.object.scale.set(scale, scale, scale);\n};\nObjectControls.prototype.scale = function (factor) {\n  if (factor <= 0) {\n    return;\n  }\n  this.setScale(this.object.scale.x * factor);\n  this.dispatchEvent({\n    type: 'change',\n    action: 'zoom',\n    factor: factor\n  });\n};\nObjectControls.prototype.update = function () {\n  var shift = new Vector2();\n  return function () {\n    var curTime = this._clock.getElapsedTime();\n    var timeSinceLastUpdate = curTime - this._lastUpdateTime;\n    if (this._state === STATE.NONE) {\n      var timeSinceMove = curTime - this._lastMouseMoveTime;\n      if (this._mainObj.update(timeSinceLastUpdate, timeSinceMove) || this._altObj.update(timeSinceLastUpdate, timeSinceMove)) {\n        this.dispatchEvent({\n          type: 'change',\n          action: 'auto'\n        });\n      }\n    }\n    if (this._isKeysTranslatingObj) {\n      var speedX = Number(this._pressedKeys[VK_RIGHT]) - Number(this._pressedKeys[VK_LEFT]);\n      var speedY = Number(this._pressedKeys[VK_UP]) - Number(this._pressedKeys[VK_DOWN]);\n      if (speedX !== 0.0 || speedY !== 0.0) {\n        var delta = timeSinceLastUpdate;\n        var altObj = this.getAltObj();\n        if (altObj.objects.length > 0) {\n          this._altObj.setObjects(altObj.objects);\n          this._altObj.pivot = altObj.pivot;\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone();\n          } else {\n            this._altObj.axis.set(0, 0, 1);\n          }\n          shift.set(delta * speedX, delta * speedY);\n          this._altObj.translate(shift);\n          this.dispatchEvent({\n            type: 'change',\n            action: 'translate'\n          });\n        }\n      }\n    }\n    this._lastUpdateTime = curTime;\n  };\n}();\nObjectControls.prototype.reset = function () {\n  this._state = STATE.NONE;\n  this.object.quaternion.copy(quaternion.set(0, 0, 0, 1));\n};\nObjectControls.prototype.mousedown = function (event) {\n  if (this.enabled === false || this._state !== STATE.NONE) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  if (this._state === STATE.NONE) {\n    if (event.button === 0) {\n      this._affectedObj.stop();\n      var workWithAltObj = false;\n      if (event.altKey) {\n        var altObj = this.getAltObj();\n        workWithAltObj = altObj.objects.length > 0;\n        if (workWithAltObj) {\n          this._altObj.setObjects(altObj.objects);\n          this._altObj.pivot = altObj.pivot;\n          if ('axis' in altObj) {\n            this._altObj.axis = altObj.axis.clone();\n          } else {\n            this._altObj.axis.set(0, 0, 1);\n          }\n        }\n      }\n      this._affectedObj = workWithAltObj ? this._altObj : this._mainObj;\n      this._state = workWithAltObj && event.ctrlKey && this._isTranslationAllowed ? STATE.TRANSLATE : STATE.ROTATE;\n    } else if (event.button === 2) {\n      this._state = STATE.TRANSLATE_PIVOT;\n    }\n  }\n  if (this._state === STATE.ROTATE) {\n    this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY);\n    this._mousePrevPos.copy(this._mouseCurPos);\n  }\n  if (this._state === STATE.TRANSLATE || this._state === STATE.TRANSLATE_PIVOT) {\n    this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n    this._mousePrevPos.copy(this._mouseCurPos);\n  }\n};\nObjectControls.prototype.mousemove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToOnCircle(this._mouseCurPos, event.pageX, event.pageY);\n      this.rotateByMouse(event.altKey && !this._isAltObjFreeRotationAllowed || event.shiftKey);\n      this._lastMouseMoveTime = this._clock.getElapsedTime();\n      break;\n    case STATE.TRANSLATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n      this.translate();\n      break;\n    case STATE.TRANSLATE_PIVOT:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToViewport(this._mouseCurPos, event.pageX, event.pageY);\n      this.translatePivotByMouse();\n      break;\n  }\n};\nObjectControls.prototype.mousewheel = function (event) {\n  if (this.enabled === false || !settings$1.now.zooming || this._state !== STATE.NONE || event.shiftKey) {\n    return;\n  }\n  event.preventDefault();\n  var delta = 0;\n  if (event.wheelDelta) {\n    delta = event.wheelDelta / 40;\n  } else if (event.detail) {\n    delta = -event.detail / 3;\n  }\n  var factor = 1.0 + delta * 0.05;\n  factor = Math.max(factor, 0.01);\n  this.scale(factor);\n};\nObjectControls.prototype.mouseup = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  this._state = STATE.NONE;\n  if (this._clock.getElapsedTime() - this._lastMouseMoveTime > FULL_STOP_THRESHOLD) {\n    this._affectedObj.stop();\n  }\n};\nObjectControls.prototype.touchstartend = function (event) {\n  if (this.enabled === false) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  switch (event.touches.length) {\n    case 1:\n      this._state = STATE.ROTATE;\n      this.convertMouseToOnCircle(this._mouseCurPos, event.touches[0].pageX, event.touches[0].pageY);\n      this._mousePrevPos.copy(this._mouseCurPos);\n      break;\n    case 2:\n      {\n        this._mainObj.stop();\n        this._altObj.stop();\n        this._state = STATE.SCALE;\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        this._touchDistanceCur = this._touchDistanceStart = Math.sqrt(dx * dx + dy * dy);\n        this._scaleStart = this.object.scale.x;\n        break;\n      }\n    default:\n      this._state = STATE.NONE;\n  }\n};\nObjectControls.prototype.touchmove = function (event) {\n  if (this.enabled === false || this._state === STATE.NONE) {\n    return;\n  }\n  event.preventDefault();\n  event.stopPropagation();\n  switch (this._state) {\n    case STATE.ROTATE:\n      this._mousePrevPos.copy(this._mouseCurPos);\n      this.convertMouseToOnCircle(this._mouseCurPos, event.touches[0].pageX, event.touches[0].pageY);\n      this.rotateByMouse(false);\n      this._lastMouseMoveTime = this._clock.getElapsedTime();\n      break;\n    case STATE.SCALE:\n      if (settings$1.now.zooming) {\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        this._touchDistanceCur = Math.sqrt(dx * dx + dy * dy);\n        var newScale = this._scaleStart * this._touchDistanceCur / this._touchDistanceStart;\n        var factor = newScale / this.object.scale.x;\n        this.scale(factor);\n      }\n      break;\n  }\n};\nObjectControls.prototype.keydownup = function (event) {\n  if (this.enabled === false || this.hotkeysEnabled === false) {\n    return;\n  }\n  switch (event.keyCode) {\n    case VK_LEFT:\n    case VK_UP:\n    case VK_RIGHT:\n    case VK_DOWN:\n      this._pressedKeys[event.keyCode] = event.type === 'keydown';\n      event.preventDefault();\n      event.stopPropagation();\n      break;\n  }\n};\nObjectControls.prototype.getKeyBindObject = function () {\n  return window.top;\n};\nObjectControls.prototype.dispose = function () {\n  for (var i = 0; i < this._listeners.length; i++) {\n    var l = this._listeners[i];\n    l.obj.removeEventListener(l.type, l.handler);\n  }\n};\nObjectControls.prototype.translatePivotByMouse = function () {\n  var delta = new Vector2();\n  return function () {\n    delta.subVectors(this._mouseCurPos, this._mousePrevPos);\n    this.translatePivotInWorld(settings$1.now.translationSpeed * delta.x, settings$1.now.translationSpeed * delta.y, 0);\n  };\n}();\nObjectControls.prototype.translatePivotInWorld = function (x, y, z) {\n  var pos = this.objectPivot.position;\n  pos.applyMatrix4(this.object.matrixWorld);\n  pos.setX(pos.x + x);\n  pos.setY(pos.y + y);\n  pos.setZ(pos.z + z);\n  pos.applyMatrix4(matrix4.copy(this.object.matrixWorld).invert());\n  this.dispatchEvent({\n    type: 'change',\n    action: 'translatePivot'\n  });\n};\nObjectControls.prototype.translatePivot = function (x, y, z) {\n  var pos = this.objectPivot.position;\n  pos.setX(pos.x + x);\n  pos.setY(pos.y + y);\n  pos.setZ(pos.z + z);\n  this.dispatchEvent({\n    type: 'change',\n    action: 'translatePivot'\n  });\n};\nObjectControls.prototype.setPivot = function (newPivot) {\n  this.objectPivot.position.copy(newPivot);\n  this.dispatchEvent({\n    type: 'change',\n    action: 'translatePivot'\n  });\n};\n\nfunction Picker(gfxObj, camera, domElement) {\n  EventDispatcher.call(this);\n  var self = this;\n  this.gfxObj = gfxObj;\n  this.camera = camera;\n  this.domElement = typeof domElement !== 'undefined' ? domElement : document;\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  };\n  this._lastMousePos = new Vector2(0, 0);\n  this._mouseTotalDist = 0.0;\n  this._lastClickBeginTime = -1000.0;\n  this._lastClickPos = new Vector2(0, 0);\n  this._clickBeginTime = 0.0;\n  this._clock = new Timer();\n  this._clock.start();\n  this._listeners = [{\n    obj: self.domElement,\n    type: 'mousedown',\n    handler: function handler(e) {\n      self.mousedown(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mouseup',\n    handler: function handler(e) {\n      self.mouseup(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'mousemove',\n    handler: function handler(e) {\n      self.mousemove(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchstart',\n    handler: function handler(e) {\n      self.touchstart(e);\n    }\n  }, {\n    obj: self.domElement,\n    type: 'touchend',\n    handler: function handler(e) {\n      self.touchend(e);\n    }\n  }, {\n    obj: window,\n    type: 'resize',\n    handler: function handler() {\n      self.handleResize();\n    }\n  }];\n  for (var i = 0; i < this._listeners.length; i++) {\n    var l = this._listeners[i];\n    l.obj.addEventListener(l.type, l.handler);\n  }\n  this.handleResize();\n}\nPicker.prototype = Object.create(EventDispatcher.prototype);\nPicker.prototype.constructor = Picker;\nPicker.prototype.reset = function () {\n  this.picked = {};\n  this.dispatchEvent({\n    type: 'newpick',\n    obj: {}\n  });\n};\nPicker.prototype.handleResize = function () {\n  if (this.domElement === document) {\n    this.screen.left = 0;\n    this.screen.top = 0;\n    this.screen.width = window.innerWidth;\n    this.screen.height = window.innerHeight;\n  } else {\n    var box = this.domElement.getBoundingClientRect();\n    var d = this.domElement.ownerDocument.documentElement;\n    this.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    this.screen.top = box.top + window.pageYOffset - d.clientTop;\n    this.screen.width = box.width;\n    this.screen.height = box.height;\n  }\n};\nPicker.prototype.pickObject = function (screenPos) {\n  if (!this.gfxObj) {\n    this.picked = {};\n    this.dispatchEvent({\n      type: 'newpick',\n      obj: {}\n    });\n    return;\n  }\n  var gfxObj = this.gfxObj;\n  var rayCaster = new Raycaster();\n  rayCaster.ray.origin.setFromMatrixPosition(this.camera.matrixWorld);\n  rayCaster.ray.direction.set(screenPos.x, screenPos.y, 0.5).unproject(this.camera).sub(rayCaster.ray.origin).normalize();\n  var clipPlane = settings$1.now.draft.clipPlane && this.clipPlaneValue ? this.clipPlaneValue : Infinity;\n  var fogFarPlane = settings$1.now.fog && this.fogFarValue ? this.fogFarValue : Infinity;\n  var point = rayCaster.intersectVisibleObject(gfxObj, this.camera, clipPlane, fogFarPlane);\n  if (!point) {\n    this.picked = {};\n    this.dispatchEvent({\n      type: 'newpick',\n      obj: {}\n    });\n    return;\n  }\n  var picked = {};\n  if (point.residue || point.atom) {\n    var residue = point.residue || point.atom.residue;\n    if (settings$1.now.pick === 'chain') {\n      picked = {\n        chain: residue.getChain()\n      };\n    } else if (settings$1.now.pick === 'molecule') {\n      picked = {\n        molecule: residue.getMolecule()\n      };\n    } else if (point.residue || settings$1.now.pick === 'residue') {\n      picked = {\n        residue: residue\n      };\n    } else if (point.atom) {\n      picked = {\n        atom: point.atom\n      };\n    }\n  }\n  this.picked = picked;\n  this.dispatchEvent({\n    type: 'newpick',\n    obj: picked\n  });\n};\nPicker.prototype.getMouseInViewport = function (pageX, pageY) {\n  return new Vector2((pageX - this.screen.left) / this.screen.width * 2 - 1, -(pageY - this.screen.top) / this.screen.height * 2 + 1);\n};\nPicker.prototype.mousedown = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.button === 0) {\n    this._lastMousePos = this.getMouseInViewport(event.pageX, event.pageY);\n    this._mouseTotalDist = 0.0;\n    this._clickBeginTime = this._clock.getElapsedTime();\n  }\n};\nPicker.prototype.mousemove = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n  var pos = this.getMouseInViewport(event.pageX, event.pageY);\n  this._mouseTotalDist += pos.sub(this._lastMousePos).length();\n};\nPicker.prototype.mouseup = function (event) {\n  var self = this;\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.button === 0) {\n    if (this._mouseTotalDist < 0.01) {\n      var curTime = this._clock.getElapsedTime();\n      var curPos = this.getMouseInViewport(event.pageX, event.pageY);\n      var timeSinceLastClickBegin = curTime - this._lastClickBeginTime;\n      if (timeSinceLastClickBegin < 0.7) {\n        var clickDist = new Vector2().subVectors(curPos, this._lastClickPos);\n        if (clickDist.length() < 0.01) {\n          this.dispatchEvent({\n            type: 'dblclick',\n            obj: this.picked\n          });\n          this._lastClickPos = curPos;\n          this._lastClickBeginTime = -1000;\n          return;\n        }\n      }\n      setTimeout(function () {\n        self.pickObject(curPos);\n      }, 0);\n      this._lastClickPos = curPos;\n      this._lastClickBeginTime = this._clickBeginTime;\n    }\n  }\n};\nPicker.prototype.touchstart = function (event) {\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.touches.length === 1) {\n    this._lastTouchdownPos = this.getMouseInViewport(event.touches[0].pageX, event.touches[0].pageY);\n  }\n};\nPicker.prototype.touchend = function (event) {\n  var self = this;\n  event.preventDefault();\n  event.stopPropagation();\n  if (event.touches.length === 0 && event.changedTouches.length === 1) {\n    var pos = this.getMouseInViewport(event.changedTouches[0].pageX, event.changedTouches[0].pageY);\n    var dist = pos.sub(this._lastTouchdownPos).length();\n    if (dist < 0.01) {\n      setTimeout(function () {\n        self.pickObject(self._lastTouchdownPos);\n      }, 0);\n    }\n  }\n};\nPicker.prototype.dispose = function () {\n  for (var i = 0; i < this._listeners.length; i++) {\n    var l = this._listeners[i];\n    l.obj.removeEventListener(l.type, l.handler);\n  }\n};\n\nvar Axes = function () {\n  function Axes(target, targetCamera) {\n    _classCallCheck(this, Axes);\n    this._target = target;\n    this._targetCamera = targetCamera;\n    this._camera = new PerspectiveCamera(targetCamera.fov, targetCamera.aspect, 1, 100);\n    this._object = new AxesHelper(1);\n    this._scene = new Scene();\n    this._scene.add(this._object);\n    this._full = new Vector2();\n    this._update();\n  }\n  _createClass(Axes, [{\n    key: \"_update\",\n    value: function _update() {\n      var fov = this._targetCamera.fov;\n      var camera = this._camera;\n      camera.aspect = this._targetCamera.aspect;\n      camera.setMinimalFov(fov);\n      camera.setDistanceToFit(1.0, fov);\n      camera.updateProjectionMatrix();\n      this._object.quaternion.copy(this._target.quaternion);\n    }\n  }, {\n    key: \"render\",\n    value: function render(renderer) {\n      this._update();\n      renderer.getSize(this._full);\n      var width = this._full.width * 0.25;\n      var height = this._full.height * 0.25;\n      var autoClear = renderer.autoClear;\n      renderer.autoClear = false;\n      renderer.setViewport(0.0, 0.0, width, height);\n      renderer.clear(false, true, false);\n      renderer.render(this._scene, this._camera);\n      renderer.setViewport(0, 0, this._full.width, this._full.height);\n      renderer.autoClear = autoClear;\n    }\n  }]);\n  return Axes;\n}();\n\nvar cDataOffset = 12;\nvar cFirstMask = 0x0fffff00;\nvar cFirstShift = 8;\nvar cSecMask1 = 0x000000ff;\nvar cSecShift1 = 12;\nvar cSecMask2 = 0xfff00000;\nvar cSecShift2 = 20;\nvar cThirdMask = 0x000fffff;\nvar cStrMask = 0xf0000000;\nvar cStrShift = 28;\nvar c219 = 1 << 19;\nvar c220 = 1 << 20;\nvar cHelixIdx = 1;\nvar cSheetIdx = 2;\nvar secTypes = ['helix', 'strand'];\nvar cSecNames = ['fs', 'ps', 'ns', 'us'];\nfunction _createSecondary(strArray, complex) {\n  var residues = complex._residues;\n  var nRes = residues.length;\n  var resid = new Uint8Array(nRes);\n  var atoms = complex._atoms;\n  for (var i = 0, n = strArray.length; i < n; ++i) {\n    var atom = atoms[i];\n    resid[atom.residue._index] = strArray[i];\n  }\n  var secondary = [];\n  var rIdx = 0;\n  while (rIdx < nRes) {\n    if (resid[rIdx] !== 0) {\n      var start = rIdx;\n      var val = resid[rIdx];\n      while (rIdx < nRes - 1 && resid[rIdx + 1] === val && residues[rIdx].isConnected(residues[rIdx + 1])) {\n        ++rIdx;\n      }\n      secondary.push({\n        start: start,\n        end: rIdx,\n        type: secTypes[val - 1]\n      });\n    }\n    ++rIdx;\n  }\n  return secondary;\n}\nfunction fromUInt20ToInt20(uint20) {\n  return uint20 >= c219 ? uint20 - c220 : uint20;\n}\nvar FrameInfo = function () {\n  function FrameInfo(complex, payload, callbacks) {\n    _classCallCheck(this, FrameInfo);\n    this._complex = complex;\n    this._secondary = null;\n    this.isLoading = false;\n    this._framesRange = {\n      start: 0,\n      end: -1\n    };\n    this.frameIsReady = false;\n    this._buffer = null;\n    this._frameRequest = null;\n    this._callbacks = callbacks;\n    if (typeof payload === 'function') {\n      this._framesRequestLength = 1;\n      this._downloadDataFn = payload;\n    } else {\n      this.parseBinaryData(payload, true);\n    }\n    this.reset();\n    this.setFrame(0);\n  }\n  _createClass(FrameInfo, [{\n    key: \"_prepareBuffer\",\n    value: function _prepareBuffer(framesStart, framesEnd) {\n      if (framesStart === undefined || framesStart === null) {\n        framesStart = 0;\n      }\n      if (framesEnd === undefined || framesEnd === null) {\n        framesEnd = framesStart + this._framesRequestLength;\n      }\n      if (this._framesCount !== undefined) {\n        framesEnd = Math.min(this._framesCount - 1, framesEnd);\n      }\n      if (this._downloadDataFn) {\n        var self = this;\n        var onDone = function onDone(data) {\n          self.isLoading = false;\n          if (self._callbacks && typeof self._callbacks.onLoadStatusChanged === 'function') {\n            self._callbacks.onLoadStatusChanged();\n          }\n          self._buffer = {\n            data: data,\n            state: 'ready',\n            start: framesStart,\n            end: framesEnd\n          };\n          if (self._frameRequest !== null) {\n            var idx = self._frameRequest;\n            self._frameRequest = null;\n            self.setFrame(idx);\n          }\n        };\n        var onFail = function onFail() {\n          self.isLoading = false;\n          if (self._callbacks && typeof self._callbacks.onError === 'function') {\n            self._callbacks.onError('Streaming failed');\n          }\n        };\n        if (!this._buffer) {\n          this._buffer = {};\n        }\n        this._buffer.state = 'downloading';\n        this.isLoading = true;\n        if (self._callbacks && typeof self._callbacks.onLoadStatusChanged === 'function') {\n          self._callbacks.onLoadStatusChanged();\n        }\n        this._downloadDataFn({\n          start: framesStart,\n          end: framesEnd + 1\n        }, onDone, onFail);\n      }\n    }\n  }, {\n    key: \"_parseBuffer\",\n    value: function _parseBuffer() {\n      if (this._buffer && this._buffer.state === 'ready') {\n        this._framesRange = {\n          start: this._buffer.start,\n          end: this._buffer.end\n        };\n        this.parseBinaryData(this._buffer.data, false);\n        var _bufferRequestStart = (this._buffer.end + 1) % this._framesCount;\n        if (_bufferRequestStart >= this._framesCount) {\n          _bufferRequestStart = 0;\n        }\n        this._buffer = {\n          state: 'none'\n        };\n        this._prepareBuffer(_bufferRequestStart, _bufferRequestStart + this._framesRequestLength);\n        if (this._frameRequest !== null) {\n          var idx = this._frameRequest;\n          this._frameRequest = null;\n          this.setFrame(idx);\n        }\n      }\n    }\n  }, {\n    key: \"parseBinaryData\",\n    value: function parseBinaryData(arrayBuffer) {\n      var dataView = new DataView(arrayBuffer);\n      var offset = 0;\n      var atomsCount = dataView.getUint32(offset, true);\n      offset += 4;\n      var framesCount = dataView.getUint32(offset, true);\n      this._framesCount = framesCount;\n      this._framesRange.end = this._framesRange.end > 0 ? Math.min(this._framesRange.end, framesCount - 1) : framesCount - 1;\n      offset += 4;\n      this._atomsCount = atomsCount;\n      var maxSize = 1024 * 1024;\n      this._framesRequestLength = Math.ceil(maxSize / (atomsCount * 8));\n      var chunkedFramesCount = this._framesRange.end - this._framesRange.start + 1;\n      if (atomsCount !== this._complex._atoms.length || arrayBuffer.byteLength !== cDataOffset + chunkedFramesCount * atomsCount * 8) {\n        throw new Error();\n      }\n      var complex = this._complex;\n      var timeStep = dataView.getUint32(offset, true);\n      var iName = 0;\n      while (timeStep > 1000 && iName < cSecNames.length - 1) {\n        timeStep /= 1000;\n        ++iName;\n      }\n      this._timeStep = \"\".concat(timeStep.toString(), \" \").concat(cSecNames[iName]);\n      offset += 4;\n      var secondary = [];\n      var posData = new Float32Array(chunkedFramesCount * atomsCount * 3);\n      var coordIdx = 0;\n      var secondaryArr = new Int8Array(atomsCount);\n      for (var j = 0; j < chunkedFramesCount; ++j) {\n        for (var i = 0; i < atomsCount; ++i) {\n          var hiWord = dataView.getUint32(offset, true);\n          offset += 4;\n          var loWord = dataView.getUint32(offset, true);\n          offset += 4;\n          var str = (loWord & cStrMask) >>> cStrShift;\n          var x = fromUInt20ToInt20((loWord & cFirstMask) >>> cFirstShift >> 0);\n          var y = fromUInt20ToInt20(((loWord & cSecMask1) << cSecShift1 | (hiWord & cSecMask2) >>> cSecShift2) >> 0);\n          var z = fromUInt20ToInt20((hiWord & cThirdMask) >> 0);\n          secondaryArr[i] = 0;\n          if (str > 0 && str < 4) {\n            secondaryArr[i] = cHelixIdx;\n          } else if (str === 4) {\n            secondaryArr[i] = cSheetIdx;\n          }\n          posData[coordIdx++] = x / 100;\n          posData[coordIdx++] = y / 100;\n          posData[coordIdx++] = z / 100;\n        }\n        secondary.push(_createSecondary(secondaryArr, complex));\n      }\n      this._secondaryData = secondary;\n      this._data = posData;\n    }\n  }, {\n    key: \"nextFrame\",\n    value: function nextFrame() {\n      this.setFrame((this._currFrame + 1) % this._framesCount);\n    }\n  }, {\n    key: \"needsColorUpdate\",\n    value: function needsColorUpdate(colorer) {\n      return colorer instanceof SecondaryStructureColorer;\n    }\n  }, {\n    key: \"getAtomColor\",\n    value: function getAtomColor(colorer, atom) {\n      return colorer.getResidueColor(this._residues[atom.residue._index], this._complex);\n    }\n  }, {\n    key: \"getResidueColor\",\n    value: function getResidueColor(colorer, residue) {\n      return colorer.getResidueColor(this._residues[residue._index], this._complex);\n    }\n  }, {\n    key: \"_updateSecondary\",\n    value: function _updateSecondary() {\n      var i;\n      var myResidues = this._residues;\n      var n = myResidues.length;\n      for (i = 0; i < n; ++i) {\n        myResidues[i]._secondary = null;\n      }\n      var sec = this._secondaryData[this._currFrame - this._framesRange.start];\n      for (i = 0, n = sec.length; i < n; ++i) {\n        var oldSec = sec[i];\n        var start = oldSec.start,\n            end = oldSec.end;\n        var nSec = {\n          _start: myResidues[start],\n          _end: myResidues[end],\n          type: oldSec.type,\n          generic: oldSec.generic\n        };\n        for (var j = start; j <= end; ++j) {\n          myResidues[j]._secondary = nSec;\n        }\n      }\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      var compRes = this._complex._residues;\n      var n = compRes.length;\n      this._residues = new Array(n);\n      var myResidues = this._residues;\n      var getSec = function getSec() {\n        return this._secondary;\n      };\n      for (var i = 0; i < n; ++i) {\n        myResidues[i] = {\n          _type: compRes[i]._type,\n          _isValid: compRes[i]._isValid,\n          _controlPoint: null,\n          _wingVector: null,\n          _secondary: null,\n          getSecondary: getSec\n        };\n      }\n    }\n  }, {\n    key: \"setFrame\",\n    value: function setFrame(frameIdx) {\n      this.frameIsReady = false;\n      if (frameIdx >= this._framesRange.start && frameIdx <= this._framesRange.end) {\n        this._currFrame = frameIdx;\n        this._cachedResidues = false;\n        this._updateSecondary();\n        this.frameIsReady = true;\n      } else {\n        this._frameRequest = frameIdx;\n        if (!this._buffer) {\n          this._prepareBuffer(frameIdx);\n        } else {\n          var self = this;\n          switch (this._buffer.state) {\n            case 'none':\n              this._prepareBuffer(frameIdx);\n              break;\n            case 'ready':\n              self._parseBuffer();\n              break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"disableEvents\",\n    value: function disableEvents() {\n      this._callbacks = null;\n    }\n  }, {\n    key: \"getAtomPos\",\n    value: function getAtomPos(atomIdx) {\n      var vec = FrameInfo._vec;\n      var self = this;\n      var data = self._data;\n      var idx = (self._atomsCount * (self._currFrame - self._framesRange.start) + atomIdx) * 3;\n      vec.set(data[idx], data[idx + 1], data[idx + 2]);\n      return vec;\n    }\n  }, {\n    key: \"getResidues\",\n    value: function getResidues() {\n      if (this._cachedResidues) {\n        return this._residues;\n      }\n      this._complex.updateToFrame(this);\n      return this._residues;\n    }\n  }]);\n  return FrameInfo;\n}();\n_defineProperty(FrameInfo, \"_vec\", new Vector3());\n\nvar SceneObject = function () {\n  function SceneObject(params, opts) {\n    _classCallCheck(this, SceneObject);\n    if (this.constructor === SceneObject) {\n      throw new Error('Can not instantiate abstract class!');\n    }\n    this.params = params;\n    this.opts = merge(utils.deriveDeep(settings$1.now.objects[this.type], true), opts);\n    this.needsRebuild = false;\n    this._mesh = null;\n    this.id = null;\n  }\n  _createClass(SceneObject, [{\n    key: \"identify\",\n    value: function identify() {\n      var result = {\n        type: this.type,\n        params: this.params\n      };\n      var diff = utils.objectsDiff(this.opts, settings$1.now.modes[this.id]);\n      if (!isEmpty(diff)) {\n        result.opts = diff;\n      }\n      return result;\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      var paramsStr = \"o=\".concat(this.type, \",\").concat(this.params.join(','));\n      var optsStr = utils.compareOptionsWithDefaults(this.opts, settings$1.defaults.objects[this.type]);\n      return paramsStr + optsStr;\n    }\n  }, {\n    key: \"getGeometry\",\n    value: function getGeometry() {\n      return this._mesh;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this._mesh) {\n        gfxutils.destroyObject(this._mesh);\n      }\n    }\n  }]);\n  return SceneObject;\n}();\nSceneObject.prototype.type = '__';\n\nfunction _createSuper$7(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$7(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$7() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar LinesObj = function (_SceneObject) {\n  _inherits(LinesObj, _SceneObject);\n  var _super = _createSuper$7(LinesObj);\n  function LinesObj(params, opts) {\n    var _this;\n    _classCallCheck(this, LinesObj);\n    _this = _super.call(this, params, opts);\n    if (params.length < 2) {\n      throw new Error('Wrong number of argumets on line object creation!');\n    }\n    var _params = _slicedToArray(params, 2);\n    _this._id1 = _params[0];\n    _this._id2 = _params[1];\n    return _this;\n  }\n  _createClass(LinesObj, [{\n    key: \"_getAtomFromName\",\n    value: function _getAtomFromName(complex, atomId) {\n      var err = \" - Wrong atom format it must be '#CHAIN_NAME.#RESIDUE_NUMBER.#ATOM_NAME' (e.g. 'A.38.CO1')\";\n      var atom1 = complex.getAtomByFullname(atomId);\n      if (!atom1) {\n        throw new Error(atomId + err);\n      }\n      return atom1;\n    }\n  }, {\n    key: \"build\",\n    value: function build(complex) {\n      var geom = new BufferGeometry();\n      this._atom1 = this._getAtomFromName(complex, this._id1);\n      this._atom2 = this._getAtomFromName(complex, this._id2);\n      var p1 = this._atom1.position;\n      var p2 = this._atom2.position;\n      var vertices = new Float32Array([p1.x, p1.y, p1.z, p2.x, p2.y, p2.z]);\n      geom.setAttribute('position', new BufferAttribute(vertices, 3));\n      geom.computeBoundingBox();\n      var material = new UberMaterial();\n      material.setValues({\n        lights: false,\n        overrideColor: true,\n        dashedLine: true,\n        fogTransparent: settings$1.now.bg.transparent\n      });\n      this._line = new meshes.Line(geom, material);\n      this._line.computeLineDistances();\n      this._line.material.setUberOptions({\n        fixedColor: new Color(this.opts.color),\n        dashedLineSize: this.opts.dashSize,\n        dashedLinePeriod: this.opts.dashSize + this.opts.gapSize\n      });\n      this._line.material.updateUniforms();\n      this._line.raycast = function (_raycaster, _intersects) {};\n      this._mesh = this._line;\n      var transforms = complex.getTransforms();\n      if (transforms.length > 0) {\n        this._mesh = new Group();\n        this._mesh.add(this._line);\n        meshutils.applyTransformsToMeshes(this._mesh, transforms);\n      }\n    }\n  }, {\n    key: \"updateToFrame\",\n    value: function updateToFrame(frameData) {\n      if (!this._atom1 || !this._atom2 || !this._line) {\n        return;\n      }\n      var geo = this._line.geometry;\n      geo.vertices[0].copy(frameData.getAtomPos(this._atom1.index));\n      geo.vertices[1].copy(frameData.getAtomPos(this._atom2.index));\n      this._line.computeLineDistances();\n      geo.computeBoundingSphere();\n      geo.verticesNeedUpdate = true;\n    }\n  }]);\n  return LinesObj;\n}(SceneObject);\nLinesObj.prototype.constructor = LinesObj;\nLinesObj.prototype.type = 'line';\n\nvar fragmentShader$5 = \"precision highp float;\\r\\n\\r\\nuniform sampler2D srcTex;\\r\\nuniform vec2 srcTexSize;\\r\\nuniform vec2 thickness;\\r\\nvarying vec2 vUv;\\r\\n\\r\\n#ifdef DEPTH_OUTLINE\\r\\n  uniform sampler2D srcDepthTex; //depthTexture\\r\\n  uniform vec3 color;\\r\\n  uniform float threshold;\\r\\n#endif\\r\\n\\r\\nvoid main() {\\r\\n\\r\\n  vec2 pixelSize = thickness / srcTexSize;\\r\\n\\r\\n  #ifdef DEPTH_OUTLINE\\r\\n    float c00 = texture2D(srcDepthTex, vUv + vec2(-pixelSize.x,-pixelSize.y)).x;\\r\\n    float c01 = texture2D(srcDepthTex, vUv + vec2(0,-pixelSize.y)).x;\\r\\n    float c02 = texture2D(srcDepthTex, vUv + vec2(pixelSize.x,-pixelSize.y)).x;\\r\\n    float c10 = texture2D(srcDepthTex, vUv + vec2(-pixelSize.x,0)).x;\\r\\n    float c12 = texture2D(srcDepthTex, vUv + vec2(pixelSize.x,0)).x;\\r\\n    float c20 = texture2D(srcDepthTex, vUv + vec2(-pixelSize.x,pixelSize.y)).x;\\r\\n    float c21 = texture2D(srcDepthTex, vUv + vec2(0,pixelSize.y)).x;\\r\\n    float c22 = texture2D(srcDepthTex, vUv + vec2(pixelSize.x,pixelSize.y)).x;\\r\\n\\r\\n    float horizEdge = - c00 - 2.0 * c01 - c02 + c20 + 2.0 * c21 + c22;\\r\\n    float vertEdge  = - c00 - 2.0 * c10 - c20 + c02 + 2.0 * c12 + c22;\\r\\n\\r\\n    float grad = sqrt(horizEdge * horizEdge + vertEdge * vertEdge);\\r\\n\\r\\n    gl_FragColor = ( grad > threshold ) ? vec4(color.rgb, 1.0) : gl_FragColor = texture2D(srcTex, vUv);\\r\\n\\r\\n  #else\\r\\n    vec4 c00 = texture2D(srcTex, vUv + vec2(-pixelSize.x,-pixelSize.y));\\r\\n    vec4 c01 = texture2D(srcTex, vUv + vec2(0,-pixelSize.y));\\r\\n    vec4 c02 = texture2D(srcTex, vUv + vec2(pixelSize.x,-pixelSize.y));\\r\\n    vec4 c10 = texture2D(srcTex, vUv + vec2(-pixelSize.x,0));\\r\\n    vec4 c12 = texture2D(srcTex, vUv + vec2(pixelSize.x,0));\\r\\n    vec4 c20 = texture2D(srcTex, vUv + vec2(-pixelSize.x,pixelSize.y));\\r\\n    vec4 c21 = texture2D(srcTex, vUv + vec2(0,pixelSize.y));\\r\\n    vec4 c22 = texture2D(srcTex, vUv + vec2(pixelSize.x,pixelSize.y));\\r\\n\\r\\n    vec4 horizEdge = - c00 - 2.0 * c01 - c02 + c20 + 2.0 * c21 + c22;\\r\\n    vec4 vertEdge  = - c00 - 2.0 * c10 - c20 + c02 + 2.0 * c12 + c22;\\r\\n\\r\\n    vec4 grad = sqrt(horizEdge * horizEdge + vertEdge * vertEdge);\\r\\n    gl_FragColor = grad;\\r\\n  #endif\\r\\n}\\r\\n\";\n\nfunction _createSuper$6(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$6(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$6() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar OutlineMaterial = function (_RawShaderMaterial) {\n  _inherits(OutlineMaterial, _RawShaderMaterial);\n  var _super = _createSuper$6(OutlineMaterial);\n  function OutlineMaterial(params) {\n    var _this;\n    _classCallCheck(this, OutlineMaterial);\n    _this = _super.call(this, params);\n    var settings = {\n      uniforms: {\n        srcTex: {\n          type: 't',\n          value: null\n        },\n        srcDepthTex: {\n          type: 't',\n          value: null\n        },\n        srcTexSize: {\n          type: 'v2',\n          value: new Vector2(512, 512)\n        },\n        color: {\n          type: 'v3',\n          value: null\n        },\n        threshold: {\n          type: 'f',\n          value: null\n        },\n        opacity: {\n          type: 'f',\n          value: 1.0\n        },\n        thickness: {\n          type: 'v2',\n          value: new Vector2(1, 1)\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$5,\n      transparent: true,\n      depthTest: false,\n      depthWrite: false\n    };\n    _this.setValues(settings);\n    return _this;\n  }\n  _createClass(OutlineMaterial, [{\n    key: \"copy\",\n    value: function copy(source) {\n      _get(_getPrototypeOf(OutlineMaterial.prototype), \"copy\", this).call(this, source);\n      this.depth = source.depth;\n    }\n  }, {\n    key: \"setValues\",\n    value: function setValues(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      _get(_getPrototypeOf(OutlineMaterial.prototype), \"setValues\", this).call(this, values);\n      var defines = {};\n      if (this.depth) {\n        defines.DEPTH_OUTLINE = 1;\n      }\n      this.defines = defines;\n    }\n  }]);\n  return OutlineMaterial;\n}(RawShaderMaterial);\nOutlineMaterial.prototype.depth = false;\n\nvar fragmentShader$4 = \"precision highp float;\\r\\n\\r\\n// edge end finding algorithm parameters\\r\\n#define FXAA_QUALITY_PS 8\\r\\n#define FXAA_QUALITY_P0 1.0\\r\\n#define FXAA_QUALITY_P1 1.5\\r\\n#define FXAA_QUALITY_P2 2.0\\r\\n#define FXAA_QUALITY_P3 2.0\\r\\n#define FXAA_QUALITY_P4 2.0\\r\\n#define FXAA_QUALITY_P5 2.0\\r\\n#define FXAA_QUALITY_P6 4.0\\r\\n#define FXAA_QUALITY_P7 12.0\\r\\n// constants\\r\\nfloat fxaaQualityEdgeThreshold = 0.125;\\r\\nfloat fxaaQualityEdgeThresholdMin = 0.0625;\\r\\nfloat fxaaQualitySubpix = 0.7; //0.65;\\r\\n// global params\\r\\nuniform sampler2D srcTex;\\r\\nuniform vec2 srcTexelSize;\\r\\nuniform vec3 bgColor;\\r\\n// from vs\\r\\nvarying vec2 vUv;\\r\\n//=====================================================================//\\r\\n// calc luminance from rgb\\r\\n//'float FxaaLuma(vec3 rgb) {return rgb.y * (0.587/0.299) + rgb.x; } // Lotte's idea about game luminance\\r\\nfloat FxaaLuma(vec3 rgb) {return dot(rgb, vec3(0.299, 0.587, 0.114)); } // real luminance calculation\\r\\n                                                                           // for non-real scene rendering\\r\\n// texture sampling by pixel position(coords) and offset(in pixels)\\r\\n vec3 FxaaTex(sampler2D tex, vec2 pos, vec2 off,  vec2 res ) {\\r\\n  #ifdef BG_TRANSPARENT\\r\\n    vec4 color = texture2D( tex, pos + off * res );\\r\\n    return mix(color.rgb, bgColor, 1.0 - color.a);\\r\\n  #else\\r\\n    return texture2D( tex, pos + off * res ).xyz;\\r\\n  #endif\\r\\n}\\r\\nvec3 FxaaTexTop(sampler2D tex, vec2 pos) {\\r\\n  #ifdef BG_TRANSPARENT\\r\\n    vec4 color = texture2D( tex, pos );\\r\\n    return mix(color.rgb, bgColor, 1.0 - color.a);\\r\\n  #else\\r\\n    return texture2D( tex, pos).xyz;\\r\\n  #endif\\r\\n}\\r\\nvec4 FxaaTexTopAlpha(sampler2D tex, vec2 pos) {\\r\\n  return texture2D( tex, pos);\\r\\n}\\r\\n\\r\\n//=====================================================================//\\r\\nvoid main() {\\r\\n  // renaming\\r\\n  vec2 posM = vUv;\\r\\n  // get luminance for neighbours\\r\\n  float lumaS = FxaaLuma(FxaaTex(srcTex, posM, vec2( 0.0, 1.0 ), srcTexelSize));\\r\\n  float lumaE = FxaaLuma(FxaaTex(srcTex, posM, vec2( 1.0, 0.0 ), srcTexelSize));\\r\\n  float lumaN = FxaaLuma(FxaaTex(srcTex, posM, vec2( 0.0, -1.0 ), srcTexelSize));\\r\\n  float lumaW = FxaaLuma(FxaaTex(srcTex, posM, vec2( -1.0, 0.0 ), srcTexelSize));\\r\\n  float lumaM = FxaaLuma(FxaaTexTop(srcTex, posM));\\r\\n  // find max and min luminance\\r\\n  float rangeMax = max(max(lumaN, lumaW), max(lumaE, max(lumaS, lumaM)));\\r\\n  float rangeMin = min(min(lumaN, lumaW), min(lumaE, min(lumaS, lumaM)));\\r\\n  // calc maximum non-edge range\\r\\n  float rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\\r\\n  float range = rangeMax - rangeMin;\\r\\n  float rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\\r\\n  // exit when luma contrast is small (is not edge)\\r\\n  if(range < rangeMaxClamped){\\r\\n    gl_FragColor = FxaaTexTopAlpha(srcTex, posM);\\r\\n    return;\\r\\n  }\\r\\n  float subpixRcpRange = 1.0/range;\\r\\n  // note: the sampling coordinates can be calculated in vertex shader but the approach doesn't affect performance\\r\\n  // visibly, thus we decided to leave calculation here for better readability.\\r\\n  // calc other neighbours luminance\\r\\n  float lumaNE = FxaaLuma(FxaaTex(srcTex, posM, vec2(  1.0, -1.0 ), srcTexelSize));\\r\\n  float lumaSW = FxaaLuma(FxaaTex(srcTex, posM, vec2( -1.0,  1.0 ), srcTexelSize));\\r\\n  float lumaSE = FxaaLuma(FxaaTex(srcTex, posM, vec2(  1.0,  1.0 ), srcTexelSize));\\r\\n  float lumaNW = FxaaLuma(FxaaTex(srcTex, posM, vec2( -1.0, -1.0 ), srcTexelSize));\\r\\n/*--------------span calculation and subpix amount calulation-----------------*/\\r\\n  float lumaNS = lumaN + lumaS;\\r\\n  float lumaWE = lumaW + lumaE;\\r\\n  float subpixNSWE = lumaNS + lumaWE;\\r\\n  float edgeHorz1 = (-2.0 * lumaM) + lumaNS;\\r\\n  float edgeVert1 = (-2.0 * lumaM) + lumaWE;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  float lumaNESE = lumaNE + lumaSE;\\r\\n  float lumaNWNE = lumaNW + lumaNE;\\r\\n  float edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\\r\\n  float edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  float lumaNWSW = lumaNW + lumaSW;\\r\\n  float lumaSWSE = lumaSW + lumaSE;\\r\\n  float edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\\r\\n  float edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\\r\\n  float edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\\r\\n  float edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\\r\\n  float edgeHorz = abs(edgeHorz3) + edgeHorz4;\\r\\n  float edgeVert = abs(edgeVert3) + edgeVert4;\\r\\n/*--------------------subpix amount calulation------------------------------*/\\r\\n  float subpixNWSWNESE = lumaNWSW + lumaNESE;\\r\\n  float lengthSign = srcTexelSize.x;\\r\\n  bool horzSpan = edgeHorz >= edgeVert;\\r\\n   // debug  code edge span visualization\\r\\n/*'  if (horzSpan)\\r\\n      gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0);\\r\\n  else\\r\\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\\r\\n  return;*/\\r\\n  float subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  if(!horzSpan) lumaN = lumaW;\\r\\n  if(!horzSpan) lumaS = lumaE;\\r\\n  if(horzSpan) lengthSign = srcTexelSize.y;\\r\\n  float subpixB = (subpixA * (1.0/12.0)) - lumaM;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  float gradientN = lumaN - lumaM;\\r\\n  float gradientS = lumaS - lumaM;\\r\\n  float lumaNN = lumaN + lumaM;\\r\\n  float lumaSS = lumaS + lumaM;\\r\\n  bool pairN = abs(gradientN) >= abs(gradientS);\\r\\n  float gradient = max(abs(gradientN), abs(gradientS));\\r\\n  if(pairN) lengthSign = -lengthSign;\\r\\n  float subpixC = clamp(abs(subpixB) * subpixRcpRange, 0.0, 1.0);\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  vec2 posB;\\r\\n  posB = posM;\\r\\n  vec2 offNP;\\r\\n  offNP.x = (!horzSpan) ? 0.0 : srcTexelSize.x;\\r\\n  offNP.y = ( horzSpan) ? 0.0 : srcTexelSize.y;\\r\\n  if(!horzSpan) posB.x += lengthSign * 0.5;\\r\\n  if( horzSpan) posB.y += lengthSign * 0.5;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  vec2 posN;\\r\\n  posN = posB - offNP * FXAA_QUALITY_P0;\\r\\n  vec2 posP;\\r\\n  posP = posB + offNP * FXAA_QUALITY_P0;\\r\\n  float subpixD = ((-2.0)*subpixC) + 3.0;\\r\\n  float lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN));\\r\\n  float subpixE = subpixC * subpixC;\\r\\n  float lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP));\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  if(!pairN) lumaNN = lumaSS;\\r\\n  float gradientScaled = gradient * 1.0/4.0;\\r\\n  float lumaMM = lumaM - lumaNN * 0.5;\\r\\n  float subpixF = subpixD * subpixE;\\r\\n  bool lumaMLTZero = lumaMM < 0.0;\\r\\n/*---------------------looped edge-end search-------------------------------*/\\r\\n  lumaEndN -= lumaNN * 0.5;\\r\\n  lumaEndP -= lumaNN * 0.5;\\r\\n  bool doneN = abs(lumaEndN) >= gradientScaled;\\r\\n  bool doneP = abs(lumaEndP) >= gradientScaled;\\r\\n  if(!doneN) posN -= offNP * FXAA_QUALITY_P1;\\r\\n  bool doneNP = (!doneN) || (!doneP);\\r\\n  if(!doneP) posP += offNP * FXAA_QUALITY_P1;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  if(doneNP) {\\r\\n    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n    doneN = abs(lumaEndN) >= gradientScaled;\\r\\n    doneP = abs(lumaEndP) >= gradientScaled;\\r\\n    if(!doneN) posN -= offNP * FXAA_QUALITY_P2;\\r\\n    doneNP = (!doneN) || (!doneP);\\r\\n    if(!doneP) posP += offNP * FXAA_QUALITY_P2;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n    #if (FXAA_QUALITY_PS > 3)\\r\\n      if(doneNP) {\\r\\n        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n        doneN = abs(lumaEndN) >= gradientScaled;\\r\\n        doneP = abs(lumaEndP) >= gradientScaled;\\r\\n        if(!doneN) posN -= offNP * FXAA_QUALITY_P3;\\r\\n        doneNP = (!doneN) || (!doneP);\\r\\n        if(!doneP) posP += offNP * FXAA_QUALITY_P3;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n        #if (FXAA_QUALITY_PS > 4)\\r\\n          if(doneNP) {\\r\\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n            doneN = abs(lumaEndN) >= gradientScaled;\\r\\n            doneP = abs(lumaEndP) >= gradientScaled;\\r\\n            if(!doneN) posN -= offNP * FXAA_QUALITY_P4;\\r\\n            doneNP = (!doneN) || (!doneP);\\r\\n            if(!doneP) posP += offNP * FXAA_QUALITY_P4;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n            #if (FXAA_QUALITY_PS > 5)\\r\\n               if(doneNP) {\\r\\n                 if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n                 if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n                 if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n                 if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n                 doneN = abs(lumaEndN) >= gradientScaled;\\r\\n                 doneP = abs(lumaEndP) >= gradientScaled;\\r\\n                 if(!doneN) posN -= offNP * FXAA_QUALITY_P5;\\r\\n                 doneNP = (!doneN) || (!doneP);\\r\\n                 if(!doneP) posP += offNP * FXAA_QUALITY_P5;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n                 #if (FXAA_QUALITY_PS > 6)\\r\\n                   if(doneNP) {\\r\\n                     if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n                     if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n                     if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n                     if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n                     doneN = abs(lumaEndN) >= gradientScaled;\\r\\n                     doneP = abs(lumaEndP) >= gradientScaled;\\r\\n                     if(!doneN) posN -= offNP * FXAA_QUALITY_P6;\\r\\n                     doneNP = (!doneN) || (!doneP);\\r\\n                     if(!doneP) posP += offNP * FXAA_QUALITY_P6;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n                     #if (FXAA_QUALITY_PS > 7)\\r\\n                       if(doneNP) {\\r\\n                         if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(srcTex, posN.xy));\\r\\n                         if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(srcTex, posP.xy));\\r\\n                         if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\\r\\n                         if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\\r\\n                         doneN = abs(lumaEndN) >= gradientScaled;\\r\\n                         doneP = abs(lumaEndP) >= gradientScaled;\\r\\n                         if(!doneN) posN -= offNP * FXAA_QUALITY_P7;\\r\\n                         doneNP = (!doneN) || (!doneP);\\r\\n                         if(!doneP) posP += offNP * FXAA_QUALITY_P7;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n                       }\\r\\n                     #endif\\r\\n                   }\\r\\n                 #endif\\r\\n               }\\r\\n             #endif\\r\\n           }\\r\\n         #endif\\r\\n      }\\r\\n    #endif\\r\\n  }\\r\\n/*----------------calculate subpix offset due to edge ends-------------------*/\\r\\n  float dstN = posM.x - posN.x;\\r\\n  float dstP = posP.x - posM.x;\\r\\n  if(!horzSpan) dstN = posM.y - posN.y;\\r\\n  if(!horzSpan) dstP = posP.y - posM.y;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  bool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\\r\\n  float spanLength = (dstP + dstN);\\r\\n  bool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\\r\\n  float spanLengthRcp = 1.0 / spanLength;\\r\\n/*--------------------------------------------------------------------------*/\\r\\n  bool directionN = dstN < dstP;\\r\\n  float dst = min(dstN, dstP);\\r\\n  bool goodSpan = directionN ? goodSpanN : goodSpanP;\\r\\n  float subpixG = subpixF * subpixF;\\r\\n  float pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\\r\\n  float subpixH = subpixG * fxaaQualitySubpix;\\r\\n/*-----------------calc texture offest using subpix-------------------------*/\\r\\n  float pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\\r\\n  float pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\\r\\n\\r\\n  float offset = pixelOffsetSubpix * lengthSign;\\r\\n  #ifdef BG_TRANSPARENT\\r\\n    // get original texel\\r\\n    vec4 rgbaA = FxaaTexTopAlpha(srcTex, posM);\\r\\n    // calc step to blended texel\\r\\n    vec2 step = sign((!horzSpan) ? vec2 (offset, 0.0) : vec2 (0.0, offset));\\r\\n    // get neighboring texel\\r\\n    vec4 rgbaB = FxaaTexTopAlpha(srcTex, posM + step * srcTexelSize);\\r\\n    //  calc blend factor from offset\\r\\n    float f = (!horzSpan) ? offset / srcTexelSize.x : offset / srcTexelSize.y;\\r\\n    f = abs(f);\\r\\n    // calc alpha (special formula to emulate blending with bg)\\r\\n    gl_FragColor.a = 1.0 - mix(1.0 - rgbaA.a, 1.0 - rgbaB.a, f);\\r\\n    // calc color (special formula to emulate blending with bg)\\r\\n    gl_FragColor.rgb = mix(rgbaA.rgb * rgbaA.a, rgbaB.rgb * rgbaB.a, f) / gl_FragColor.a;\\r\\n  #else\\r\\n    if(!horzSpan) {\\r\\n       posM.x += offset;\\r\\n    } else {\\r\\n       posM.y += offset;\\r\\n    }\\r\\n    gl_FragColor = FxaaTexTopAlpha(srcTex, posM);\\r\\n  #endif\\r\\n  return;\\r\\n}\\r\\n\";\n\nfunction _createSuper$5(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$5(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$5() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar FXAAMaterial = function (_RawShaderMaterial) {\n  _inherits(FXAAMaterial, _RawShaderMaterial);\n  var _super = _createSuper$5(FXAAMaterial);\n  function FXAAMaterial(params) {\n    var _this;\n    _classCallCheck(this, FXAAMaterial);\n    _this = _super.call(this, params);\n    _this.setValues({\n      uniforms: {\n        srcTex: {\n          type: 't',\n          value: null\n        },\n        srcTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        bgColor: {\n          type: 'c',\n          value: new Color(0xffffff)\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$4,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    _this.setValues(params);\n    return _this;\n  }\n  _createClass(FXAAMaterial, [{\n    key: \"copy\",\n    value: function copy(source) {\n      _get(_getPrototypeOf(FXAAMaterial.prototype), \"copy\", this).call(this, source);\n      this.depth = source.depth;\n    }\n  }, {\n    key: \"setValues\",\n    value: function setValues(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      _get(_getPrototypeOf(FXAAMaterial.prototype), \"setValues\", this).call(this, values);\n      var defines = {};\n      if (this.bgTransparent) {\n        defines.BG_TRANSPARENT = 1;\n      }\n      this.defines = defines;\n    }\n  }]);\n  return FXAAMaterial;\n}(RawShaderMaterial);\nFXAAMaterial.prototype.bgTransparent = false;\n\nvar fragmentShader$3 = \"precision highp float;\\r\\n#define EPSILON 0.0000001\\r\\n\\r\\n#define MAX_SAMPLES_COUNT 32\\r\\nuniform vec3 samplesKernel[MAX_SAMPLES_COUNT];\\r\\nuniform sampler2D noiseTexture;\\r\\nuniform vec2      noiseTexelSize;\\r\\nuniform sampler2D diffuseTexture;\\r\\nuniform sampler2D depthTexture;\\r\\nuniform sampler2D normalTexture;\\r\\nuniform vec2      srcTexelSize;\\r\\nuniform vec2      camNearFar;\\r\\nuniform mat4      projMatrix;\\r\\n\\r\\nuniform float aspectRatio;\\r\\nuniform float tanHalfFOV;\\r\\n\\r\\nuniform float kernelRadius;\\r\\nuniform float depthThreshold;\\r\\nuniform float factor;\\r\\n\\r\\nvarying vec2 vUv;\\r\\n\\r\\nfloat CalcViewZ(vec2 screenPos)\\r\\n{\\r\\n  float depth = texture2D(depthTexture, screenPos).x;\\r\\n  // [0, 1]->[-1, 1]\\r\\n  float clipedZ = 2.0 * depth - 1.0;\\r\\n  // see THREE.js camera.makeFrustum for projection details\\r\\n  return (-projMatrix[3][2] / (clipedZ + projMatrix[2][2]));\\r\\n}\\r\\n\\r\\nvec3 ViewPosFromDepth(vec2 screenPos)\\r\\n{\\r\\n  vec3 viewPos;\\r\\n  viewPos.z = CalcViewZ(screenPos);\\r\\n  //[0, 1]->[-1, 1]\\r\\n  vec2 projPos = 2.0 * screenPos - 1.0;\\r\\n  // reconstruct viewposition in right-handed sc with z to viewer\\r\\n  viewPos.xy = vec2(\\r\\n                    projPos.x * aspectRatio * tanHalfFOV * abs(viewPos.z),\\r\\n                    projPos.y * tanHalfFOV * abs(viewPos.z)\\r\\n                   );\\r\\n  return viewPos;\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n  vec3 viewPos = ViewPosFromDepth(vUv);\\r\\n  // remap coordinates to prevent noise exture rescale\\r\\n  vec2 vUvNoise = vUv / srcTexelSize * noiseTexelSize;\\r\\n  vec4 normalData = texture2D(normalTexture, vUv);\\r\\n  // return for background fragments (their normals are zero vectors)\\r\\n  if (length(normalData.rgb) < EPSILON) {\\r\\n    // 0.0 in alpha component means that it is background fragment\\r\\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\\r\\n    return;\\r\\n  }\\r\\n  //[0, 1] -> [-1, 1]\\r\\n  vec3 normal = (normalData.rgb * 2.0 - 1.0);\\r\\n  // normalData.a store 1.0 if normal was build for frontfaced surface\\r\\n  // and 0.0 in other case\\r\\n  if (normalData.a < EPSILON) {\\r\\n    normal *= -1.0;\\r\\n  }\\r\\n  // get random vector for sampling sphere rotation\\r\\n  vec3 randN = texture2D(noiseTexture, vUvNoise).rgb * 2.0 - 1.0;\\r\\n  randN = normalize(randN);\\r\\n  // build TBN (randomly rotated around normal)\\r\\n  vec3 tangent   = normalize(randN - normal * dot(randN, normal));\\r\\n  vec3 bitangent = cross(tangent, normal);\\r\\n  mat3 TBN = mat3(tangent, bitangent, normal);\\r\\n  // calc AO value\\r\\n  float AO = 0.0;\\r\\n  for (int i = 0 ; i < MAX_SAMPLES_COUNT ; i++) {\\r\\n    // rotate sampling kernel around normal\\r\\n    vec3 reflectedSample = TBN * samplesKernel[i];\\r\\n    // get sample\\r\\n    vec3 samplePos = viewPos + reflectedSample * kernelRadius;\\r\\n\\r\\n    // project sample to screen to get sample's screen pos\\r\\n    vec4 SampleScrPos = vec4(samplePos, 1.0);\\r\\n    // eye -> clip\\r\\n    SampleScrPos = projMatrix * SampleScrPos;\\r\\n    // normalize\\r\\n    SampleScrPos.xy /= SampleScrPos.w;\\r\\n    //[-1, 1] -> [0, 1]\\r\\n    SampleScrPos.xy = (SampleScrPos.xy + vec2(1.0)) * 0.5;\\r\\n\\r\\n    // get view z for sample projected to the objct surface\\r\\n    float sampleDepth = CalcViewZ(SampleScrPos.xy);\\r\\n    // calc occlusion made by object surface at the sample\\r\\n    AO += step(samplePos.z, sampleDepth);\\r\\n  }\\r\\n  // calc result AO-map color\\r\\n  AO = 1.0 - max(0.0, AO / float(MAX_SAMPLES_COUNT) * factor);\\r\\n  // write value to AO-map\\r\\n  gl_FragColor = vec4(AO, AO, AO, 1.0);\\r\\n}\\r\\n\";\n\nfunction _createSuper$4(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$4(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$4() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _samplesKernel = [\nnew Vector3(0.295184, 0.077723, 0.068429), new Vector3(-0.271976, -0.365221, 0.838363), new Vector3(0.547713, 0.467576, 0.488515), new Vector3(0.662808, -0.031733, 0.584758), new Vector3(-0.025717, 0.218955, 0.657094), new Vector3(-0.310153, -0.365223, 0.370701), new Vector3(-0.101407, -0.006313, 0.747665), new Vector3(-0.769138, 0.360399, 0.086847), new Vector3(-0.271988, -0.27514, 0.905353), new Vector3(0.09674, -0.566901, 0.700151), new Vector3(0.562872, -0.735136, 0.094647), new Vector3(0.379877, 0.359278, 0.190061), new Vector3(0.519064, -0.023055, 0.405068), new Vector3(-0.301036, 0.114696, 0.088885), new Vector3(-0.282922, 0.598305, 0.487214), new Vector3(-0.181859, 0.25167, 0.679702), new Vector3(-0.191463, -0.635818, 0.512919), new Vector3(-0.293655, 0.427423, 0.078921), new Vector3(-0.267983, 0.680534, 0.13288), new Vector3(0.139611, 0.319637, 0.477439), new Vector3(-0.352086, 0.31104, 0.653913), new Vector3(0.321032, 0.805279, 0.487345), new Vector3(0.073516, 0.820734, 0.414183), new Vector3(-0.155324, 0.589983, 0.41146), new Vector3(0.335976, 0.170782, 0.527627), new Vector3(0.46346, -0.355658, 0.167689), new Vector3(0.222654, 0.59655, 0.769406), new Vector3(0.922138, -0.04207, 0.147555), new Vector3(-0.72705, -0.329192, 0.369826), new Vector3(-0.090731, 0.53382, 0.463767), new Vector3(-0.323457, -0.876559, 0.238524), new Vector3(-0.663277, -0.372384, 0.342856)];\nvar AOMaterial = function (_RawShaderMaterial) {\n  _inherits(AOMaterial, _RawShaderMaterial);\n  var _super = _createSuper$4(AOMaterial);\n  function AOMaterial() {\n    var _this;\n    _classCallCheck(this, AOMaterial);\n    _this = _super.call(this);\n    _this.setValues({\n      uniforms: {\n        noiseTexture: {\n          type: 't',\n          value: noise.noiseTexture\n        },\n        noiseTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / noise.noiseWidth, 1.0 / noise.noiseHeight)\n        },\n        diffuseTexture: {\n          type: 't',\n          value: null\n        },\n        normalTexture: {\n          type: 't',\n          value: null\n        },\n        depthTexture: {\n          type: 't',\n          value: null\n        },\n        srcTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        camNearFar: {\n          type: 'v2',\n          value: new Vector2(1.0, 10.0)\n        },\n        projMatrix: {\n          type: 'mat4',\n          value: new Matrix4()\n        },\n        aspectRatio: {\n          type: 'f',\n          value: 0.0\n        },\n        tanHalfFOV: {\n          type: 'f',\n          value: 0.0\n        },\n        samplesKernel: {\n          type: 'v3v',\n          value: _samplesKernel\n        },\n        kernelRadius: {\n          type: 'f',\n          value: 1.0\n        },\n        depthThreshold: {\n          type: 'f',\n          value: 1.0\n        },\n        factor: {\n          type: 'f',\n          value: 1.0\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$3,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    return _this;\n  }\n  return _createClass(AOMaterial);\n}(RawShaderMaterial);\n\nvar fragmentShader$2 = \"precision highp float;\\r\\n#define EPSILON 0.0000001\\r\\n\\r\\n#define MAX_SAMPLES_COUNT 5\\r\\nuniform float samplesOffsets[MAX_SAMPLES_COUNT];\\r\\nuniform sampler2D aoMap;\\r\\nuniform sampler2D depthTexture;\\r\\nuniform vec2      srcTexelSize;\\r\\n\\r\\nvarying vec2 vUv;\\r\\n\\r\\nvoid main() {\\r\\n  float x = vUv.x;\\r\\n  float y = vUv.y;\\r\\n  vec4 res = vec4(0.0);\\r\\n  res.a = texture2D(aoMap, vec2(x, y )).a;\\r\\n  // return for background fragments (0.0 in alpha component means that it is background fragment)\\r\\n  if (res.a < EPSILON) {\\r\\n    gl_FragColor = res;\\r\\n    return;\\r\\n  }\\r\\n\\r\\n  float pixelDepth = texture2D(depthTexture, vec2(x, y)).x;\\r\\n  float weightSum = 0.0;\\r\\n  for (int i = 0; i < MAX_SAMPLES_COUNT; ++i) {\\r\\n    if (texture2D(aoMap, vec2(x + samplesOffsets[i] * srcTexelSize.x, y )).a < EPSILON) {\\r\\n      continue;\\r\\n    }\\r\\n    vec2 samplePos = vec2(x + samplesOffsets[i] * srcTexelSize.x, y);\\r\\n    float depth = texture2D(depthTexture, samplePos).x;\\r\\n    float weight = (1.0 / (0.0001 + abs(depth - pixelDepth)));\\r\\n    res.rgb += texture2D(aoMap, vec2(x + samplesOffsets[i] * srcTexelSize.x, y )).rgb * weight;\\r\\n    weightSum += weight;\\r\\n  }\\r\\n  res.rgb = res.rgb / weightSum;\\r\\n  gl_FragColor = res;\\r\\n}\\r\\n\";\n\nfunction _createSuper$3(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$3(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$3() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _kernelOffsets$1 = [-2.0, -1.0, 0.0, 1.0, 2.0];\nvar AOHorBlurMaterial = function (_RawShaderMaterial) {\n  _inherits(AOHorBlurMaterial, _RawShaderMaterial);\n  var _super = _createSuper$3(AOHorBlurMaterial);\n  function AOHorBlurMaterial() {\n    var _this;\n    _classCallCheck(this, AOHorBlurMaterial);\n    _this = _super.call(this);\n    _this.setValues({\n      uniforms: {\n        depthTexture: {\n          type: 't',\n          value: null\n        },\n        srcTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        aoMap: {\n          type: 't',\n          value: null\n        },\n        samplesOffsets: {\n          type: 'fv1',\n          value: _kernelOffsets$1\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$2,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    return _this;\n  }\n  return _createClass(AOHorBlurMaterial);\n}(RawShaderMaterial);\n\nvar fragmentShader$1 = \"precision highp float;\\r\\n#define EPSILON 0.0000001\\r\\n\\r\\n#define MAX_SAMPLES_COUNT 5\\r\\nuniform float samplesOffsets[MAX_SAMPLES_COUNT];\\r\\nuniform sampler2D diffuseTexture;\\r\\nuniform sampler2D aoMap;\\r\\nuniform sampler2D depthTexture;\\r\\nuniform vec2      srcTexelSize;\\r\\n\\r\\nuniform mat4  projMatrix;\\r\\nuniform float aspectRatio;\\r\\nuniform float tanHalfFOV;\\r\\n\\r\\n#ifdef USE_FOG\\r\\n  uniform vec2 fogNearFar;\\r\\n  uniform vec4 fogColor;\\r\\n#endif\\r\\nvarying vec2 vUv;\\r\\n\\r\\nfloat CalcViewZ(vec2 screenPos)\\r\\n{\\r\\n  float depth = texture2D(depthTexture, screenPos).x;\\r\\n  // [0, 1]->[-1, 1]\\r\\n  float clipedZ = 2.0 * depth - 1.0;\\r\\n  // see THREE.js camera.makeFrustum for projection details\\r\\n  return (-projMatrix[3][2] / (clipedZ + projMatrix[2][2]));\\r\\n}\\r\\n\\r\\nvec3 ViewPosFromDepth(vec2 screenPos)\\r\\n{\\r\\n  vec3 viewPos;\\r\\n  viewPos.z = CalcViewZ(screenPos);\\r\\n  //[0, 1]->[-1, 1]\\r\\n  vec2 projPos = 2.0 * screenPos - 1.0;\\r\\n  // reconstruct viewposition in right-handed sc with z to viewer\\r\\n  viewPos.xy = vec2(\\r\\n  projPos.x * aspectRatio * tanHalfFOV * abs(viewPos.z),\\r\\n  projPos.y * tanHalfFOV * abs(viewPos.z)\\r\\n  );\\r\\n  return viewPos;\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n  vec3 viewPos = ViewPosFromDepth(vUv);\\r\\n  float x = vUv.x;\\r\\n  float y = vUv.y;\\r\\n  vec4 color = texture2D(diffuseTexture, vec2(x, y));\\r\\n  vec4 res = vec4(0.0);\\r\\n  res.a = texture2D(aoMap, vec2(x, y )).a;\\r\\n  // return for background fragments (0.0 in alpha component means that it is background fragment)\\r\\n  if (res.a < EPSILON) {\\r\\n    gl_FragColor = color;\\r\\n    return;\\r\\n  }\\r\\n\\r\\n  float pixelDepth = texture2D(depthTexture, vec2(x, y)).x;\\r\\n  float weightSum = 0.0;\\r\\n  for (int i = 0; i < MAX_SAMPLES_COUNT; ++i) {\\r\\n    if (texture2D(aoMap, vec2(x, y + samplesOffsets[i] * srcTexelSize.y)).a < EPSILON) {\\r\\n      continue;\\r\\n    }\\r\\n    vec2 samplePos = vec2(x, y + samplesOffsets[i] * srcTexelSize.y);\\r\\n    float depth = texture2D(depthTexture, samplePos).x;\\r\\n    float weight = (1.0 / (0.0001 + abs(depth - pixelDepth)));\\r\\n    res.rgb += texture2D(aoMap, vec2(x, y + samplesOffsets[i] * srcTexelSize.y)).rgb * weight;\\r\\n    weightSum += weight;\\r\\n  }\\r\\n  res.rgb /= weightSum;\\r\\n\\r\\n  #if defined(USE_FOG) && !defined(FOG_TRANSPARENT)\\r\\n    // Add fog to the result value\\r\\n    // Proper way to get an image with fog and ao requires formula:\\r\\n    //          gl_FragColor = fragColor*AO*(1-fogFactor) + fogColor*fogFactor\\r\\n    // But we have already fogged molecule to add AO too. Let's split the straight formula into our real steps!\\r\\n    // We have:  AO, fogFactor, fogColor,\\r\\n    //          color = fragColor*(1-fogFactor) + fogColor*fogFactor (it comes from diffuseTexture,\\r\\n    //                                                                where molecule has been already drawn with fog)\\r\\n    // Transform:\\r\\n    //          fragColor*AO*(1-fogFactor) + fogColor*fogFactor =\\r\\n    //        = [fragColor*(1-fogFactor) = color - fogColor*fogFactor] =\\r\\n    //        = (color - fogColor*fogFactor)*AO + fogColor*fogFactor =\\r\\n    //        = color*AO + fogColor*fogFactor*(1 - AO)\\r\\n    // Result:  gl_FragColor = color*AO + fogColor*fogFactor*(1 - AO)\\r\\n    float fogFactor = smoothstep(fogNearFar.x, fogNearFar.y, - viewPos.z) * fogColor.a;\\r\\n    gl_FragColor.rgb = color.rgb * res.rgb + fogColor.rgb * fogFactor *(vec3(1.0, 1.0, 1.0) - res.rgb);\\r\\n  #else\\r\\n    gl_FragColor.rgb = color.rgb * res.rgb;\\r\\n  #endif\\r\\n  gl_FragColor.a = color.a;\\r\\n}\\r\\n\";\n\nfunction _createSuper$2(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$2(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$2() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar _kernelOffsets = [-2.0, -1.0, 0.0, 1.0, 2.0];\nvar AOVertBlurWithBlendMaterial = function (_RawShaderMaterial) {\n  _inherits(AOVertBlurWithBlendMaterial, _RawShaderMaterial);\n  var _super = _createSuper$2(AOVertBlurWithBlendMaterial);\n  function AOVertBlurWithBlendMaterial(params) {\n    var _this;\n    _classCallCheck(this, AOVertBlurWithBlendMaterial);\n    _this = _super.call(this, params);\n    _this.setValues({\n      uniforms: {\n        diffuseTexture: {\n          type: 't',\n          value: null\n        },\n        depthTexture: {\n          type: 't',\n          value: null\n        },\n        srcTexelSize: {\n          type: 'v2',\n          value: new Vector2(1.0 / 512.0, 1.0 / 512.0)\n        },\n        aoMap: {\n          type: 't',\n          value: null\n        },\n        samplesOffsets: {\n          type: 'fv1',\n          value: _kernelOffsets\n        },\n        projMatrix: {\n          type: 'mat4',\n          value: new Matrix4()\n        },\n        aspectRatio: {\n          type: 'f',\n          value: 0.0\n        },\n        tanHalfFOV: {\n          type: 'f',\n          value: 0.0\n        },\n        fogNearFar: {\n          type: 'v2',\n          value: new Vector2(100.0, 100.0)\n        },\n        fogColor: {\n          type: 'v4',\n          value: new Vector4(0.0, 0.5, 0.0, 1.0)\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader$1,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    _this.setValues(params);\n    return _this;\n  }\n  _createClass(AOVertBlurWithBlendMaterial, [{\n    key: \"setValues\",\n    value: function setValues(values) {\n      if (typeof values === 'undefined') {\n        return;\n      }\n      _get(_getPrototypeOf(AOVertBlurWithBlendMaterial.prototype), \"setValues\", this).call(this, values);\n      var defines = {};\n      if (this.useFog) {\n        defines.USE_FOG = 1;\n      }\n      if (this.fogTransparent) {\n        defines.FOG_TRANSPARENT = 1;\n      }\n      this.defines = defines;\n    }\n  }]);\n  return AOVertBlurWithBlendMaterial;\n}(RawShaderMaterial);\nAOVertBlurWithBlendMaterial.prototype.useFog = true;\nAOVertBlurWithBlendMaterial.prototype.fogTransparent = false;\n\nvar fragmentShader = \"precision highp float;\\r\\n\\r\\nuniform sampler2D srcL;\\r\\nuniform sampler2D srcR;\\r\\nvarying vec2 vUv;\\r\\n\\r\\nvoid main() {\\r\\n  vec4 l = texture2D(srcL, vUv);\\r\\n  vec4 r = texture2D(srcR, vUv);\\r\\n  gl_FragColor = vec4(l.r, r.g, r.b, 1.0);\\r\\n}\\r\\n\";\n\nfunction _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar AnaglyphMaterial = function (_RawShaderMaterial) {\n  _inherits(AnaglyphMaterial, _RawShaderMaterial);\n  var _super = _createSuper$1(AnaglyphMaterial);\n  function AnaglyphMaterial() {\n    var _this;\n    _classCallCheck(this, AnaglyphMaterial);\n    _this = _super.call(this);\n    var settings = {\n      uniforms: {\n        srcL: {\n          type: 't',\n          value: null\n        },\n        srcR: {\n          type: 't',\n          value: null\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentShader,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    };\n    _this.setValues(settings);\n    return _this;\n  }\n  return _createClass(AnaglyphMaterial);\n}(RawShaderMaterial);\n\nvar View = function () {\n  function View() {\n    _classCallCheck(this, View);\n    this.position = new Vector3(0, 0, 0);\n    this.scale = 1;\n    this.orientation = new Quaternion(0, 0, 0, 1);\n  }\n  _createClass(View, [{\n    key: \"set\",\n    value: function set(position, scale, orientation) {\n      this.position = position;\n      this.scale = scale;\n      this.orientation = orientation;\n    }\n  }]);\n  return View;\n}();\nvar _transitionTime = 1.5;\nvar ViewInterpolator = function () {\n  function ViewInterpolator() {\n    _classCallCheck(this, ViewInterpolator);\n  }\n  _createClass(ViewInterpolator, [{\n    key: \"setup\",\n    value: function setup(startView, endView) {\n      this._startTime = undefined;\n      this._endTime = undefined;\n      this._isPaused = false;\n      this._srcView = startView;\n      this._dstView = endView;\n      this._isMoving = false;\n    }\n  }, {\n    key: \"isMoving\",\n    value: function isMoving() {\n      return this._isMoving;\n    }\n  }, {\n    key: \"wasStarted\",\n    value: function wasStarted() {\n      return typeof this._startTime !== 'undefined' && typeof this._endTime !== 'undefined';\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this._startTime = Date.now();\n      var transTime = settings$1.now.interpolateViews ? _transitionTime * 1000 : 0;\n      this._endTime = this._startTime + transTime;\n      this._isMoving = true;\n    }\n  }, {\n    key: \"getCurrentView\",\n    value: function getCurrentView() {\n      if (typeof this._srcView === 'undefined' || typeof this._dstView === 'undefined' || !this._isMoving || !this.wasStarted()) {\n        return {\n          success: false\n        };\n      }\n      var view = this.createView();\n      var time = Date.now();\n      if (time > this._endTime) {\n        view = this._dstView;\n        this.reset();\n        return {\n          success: true,\n          view: view\n        };\n      }\n      var factor = (time - this._startTime) / (this._endTime - this._startTime);\n      view.position.copy(this._srcView.position);\n      view.position.lerp(this._dstView.position, factor);\n      view.scale = (1 - factor) * this._srcView.scale + factor * this._dstView.scale;\n      view.orientation.copy(this._srcView.orientation);\n      view.orientation.slerp(this._dstView.orientation, factor);\n      return {\n        success: true,\n        view: view\n      };\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this._startTime = this._endTime = 0;\n      this._isMoving = false;\n    }\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      if (!this._isPaused) {\n        this.setup(this.getCurrentView().view, this._dstView);\n        this._isPaused = true;\n      }\n    }\n  }, {\n    key: \"resume\",\n    value: function resume() {\n      this._isPaused = false;\n    }\n  }, {\n    key: \"createView\",\n    value: function createView() {\n      return new View();\n    }\n  }]);\n  return ViewInterpolator;\n}();\n\nvar MAX_COOKIE_LEN = 4000;\nvar COUNT_SUFFIX = 'Cnt';\nfunction _chunkString(string, chunkLen) {\n  var l = string.length;\n  var chunks = [];\n  for (var c = 0, lc = 0; lc < l; c++, lc += chunkLen) {\n    chunks[c] = string.slice(lc, lc + chunkLen);\n  }\n  return chunks;\n}\nfunction Cookies(context, opts) {\n  this.context = context;\n  this._opts = merge({\n    path: '/'\n  }, opts);\n}\nmakeContextDependent(Cookies.prototype);\nCookies.prototype.removeCookie = function (key) {\n  var cntKey = this._toCount(key);\n  var cntVal = this._getSimpleCookie(cntKey);\n  if (!cntVal) {\n    this._removeSimpleCookie(key);\n    return;\n  }\n  this._removeSimpleCookie(cntKey);\n  cntVal = parseInt(cntVal, 10);\n  for (var i = 0; i < cntVal; ++i) {\n    this._removeSimpleCookie(key + i);\n  }\n};\nCookies.prototype.setCookie = function (key, value) {\n  this.removeCookie(key);\n  value = encodeURIComponent(value);\n  var values = _chunkString(value, MAX_COOKIE_LEN - key.length - 1);\n  var cntVal = values.length;\n  if (cntVal === 1) {\n    this._setSimpleCookie(key, value);\n    return;\n  }\n  var cntKey = this._toCount(key);\n  this._setSimpleCookie(cntKey, cntVal.toString());\n  for (var i = 0; i < cntVal; ++i) {\n    this._setSimpleCookie(key + i, values[i]);\n  }\n};\nCookies.prototype.getCookie = function (key) {\n  var cntKey = this._toCount(key);\n  var cntVal = this._getSimpleCookie(cntKey);\n  if (!cntVal) {\n    return this._getSimpleCookie(key);\n  }\n  cntVal = parseInt(cntVal, 10);\n  var value = [];\n  for (var i = 0; i < cntVal; ++i) {\n    value[i] = this._getSimpleCookie(key + i);\n  }\n  return value.join('');\n};\nCookies.prototype._toCount = function (key) {\n  return key + COUNT_SUFFIX;\n};\nCookies.prototype._removeSimpleCookie = function (key) {\n  document.cookie = \"\".concat(key, \"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;\");\n};\nCookies.prototype._getExpirationDate = function () {\n  var today = new Date();\n  var EXP_PERIOD_YEARS = 10;\n  today.setFullYear(today.getFullYear() + EXP_PERIOD_YEARS);\n  return today;\n};\nCookies.prototype._setSimpleCookie = function (key, value) {\n  document.cookie = \"\".concat(key, \"=\").concat(value, \";expires=\").concat(this._getExpirationDate().toUTCString(), \";path=\").concat(this._opts.path);\n};\nCookies.prototype._getSimpleCookie = function (key) {\n  var matches = document.cookie.match(new RegExp(\"(?:^|; )\".concat(key, \"=([^;]*)\")));\n  return matches ? decodeURIComponent(matches[1]) : '';\n};\nCookies.prototype._exists = function (key) {\n  return document.cookie.match(new RegExp(\"(?:^|; )\".concat(key, \"=([^;]*)\")));\n};\n\nfunction createWebVRButton (webVRPoC) {\n  function showEnterVR(button) {\n    button.style.display = '';\n    button.style.cursor = 'pointer';\n    button.style.left = 'calc(50% - 50px)';\n    button.style.width = '100px';\n    button.textContent = 'ENTER VR';\n    var currentSession = null;\n    function\n    onSessionEnded() {\n      currentSession.removeEventListener('end', onSessionEnded);\n      button.textContent = 'ENTER VR';\n      currentSession = null;\n    }\n    function onSessionStarted(session) {\n      session.addEventListener('end', onSessionEnded);\n      webVRPoC._gfx.renderer.xr.setReferenceSpaceType('local');\n      webVRPoC._gfx.renderer.xr.setSession(session);\n      button.textContent = 'EXIT VR';\n      currentSession = session;\n    }\n    button.onmouseenter = function () {\n      button.style.opacity = '1.0';\n    };\n    button.onmouseleave = function () {\n      button.style.opacity = '0.5';\n    };\n    button.onclick = function () {\n      if (currentSession === null) {\n        var sessionInit = {\n          optionalFeatures: ['local-floor', 'bounded-floor']\n        };\n        navigator.xr.requestSession('immersive-vr', sessionInit).then(onSessionStarted);\n        webVRPoC.moveSceneBehindHeadset();\n      } else {\n        currentSession.end();\n      }\n    };\n  }\n  function showWebXRNotFound(button) {\n    button.style.display = '';\n    button.style.cursor = 'auto';\n    button.style.left = 'calc(50% - 75px)';\n    button.style.width = '150px';\n    button.textContent = 'VR NOT FOUND';\n    button.onmouseenter = null;\n    button.onmouseleave = null;\n    button.onclick = null;\n  }\n  function stylizeElement(element) {\n    element.style.position = 'absolute';\n    element.style.bottom = '20px';\n    element.style.padding = '12px 6px';\n    element.style.border = '1px solid #fff';\n    element.style.borderRadius = '4px';\n    element.style.background = 'transparent';\n    element.style.color = '#fff';\n    element.style.font = 'normal 13px sans-serif';\n    element.style.textAlign = 'center';\n    element.style.opacity = '0.5';\n    element.style.outline = 'none';\n    element.style.zIndex = '999';\n  }\n  if ('xr' in navigator) {\n    var button = document.createElement('button');\n    button.style.display = 'none';\n    stylizeElement(button);\n    navigator.xr.isSessionSupported('immersive-vr').then(function (supported) {\n      return supported ? showEnterVR(button) : showWebXRNotFound(button);\n    });\n    return button;\n  }\n  var message = document.createElement('a');\n  message.href = 'https://webvr.info';\n  message.innerHTML = 'WEBXR NOT SUPPORTED';\n  message.style.left = 'calc(50% - 90px)';\n  message.style.width = '180px';\n  message.style.textDecoration = 'none';\n  stylizeElement(message);\n  return message;\n}\n\nvar WebVRPoC = function () {\n  function WebVRPoC(onToggle) {\n    _classCallCheck(this, WebVRPoC);\n    this._mainCamera = new PerspectiveCamera();\n    this._button = null;\n    this._onToggle = onToggle;\n    this._molContainer = new gfxutils.RCGroup();\n    this._user = new gfxutils.RCGroup();\n    this._scalingPivot = new Object3D();\n    this._user.add(this._scalingPivot);\n    this._controller1 = null;\n    this._controller2 = null;\n    this._pressedGripsCounter = 0;\n    this._distance = 0;\n    this._gfx = null;\n  }\n  _createClass(WebVRPoC, [{\n    key: \"startScalingByControllers\",\n    value: function startScalingByControllers() {\n      this._distance = this._controller1.position.distanceTo(this._controller2.position);\n      gfxutils.getMiddlePoint(this._controller1.position, this._controller2.position, this._scalingPivot.position);\n      this._scalingPivot.scale.set(1, 1, 1);\n      this._scalingPivot.updateMatrix();\n      this._scalingPivot.updateMatrixWorld();\n      this._scalingPivot.addSavingWorldTransform(this._molContainer);\n    }\n  }, {\n    key: \"stopScalingByControllers\",\n    value: function stopScalingByControllers() {\n      this._gfx.scene.addSavingWorldTransform(this._molContainer);\n    }\n  }, {\n    key: \"handleGripsDown\",\n    value: function handleGripsDown(event) {\n      this._pressedGripsCounter++;\n      if (this._pressedGripsCounter === 2) {\n        this.startScalingByControllers();\n      } else if (this._pressedGripsCounter === 1) {\n        event.target.addSavingWorldTransform(this._molContainer);\n      }\n    }\n  }, {\n    key: \"handleGripsUp\",\n    value: function handleGripsUp(event) {\n      this._pressedGripsCounter--;\n      if (this._pressedGripsCounter === 1) {\n        this.stopScalingByControllers();\n        var anotherController = event.target === this._controller1 ? this._controller2 : this._controller1;\n        anotherController.addSavingWorldTransform(this._molContainer);\n      } else if (this._pressedGripsCounter === 0) {\n        this._gfx.scene.addSavingWorldTransform(this._molContainer);\n      }\n    }\n  }, {\n    key: \"enable\",\n    value: function enable(gfx) {\n      if (!gfx) {\n        logger.warn(\"WebVR couldn't be enabled, because gfx is not defined\");\n        return;\n      }\n      this._gfx = gfx;\n      var renderer = gfx.renderer,\n          camera = gfx.camera;\n      if (!renderer) {\n        throw new Error('No renderer is available to toggle WebVR');\n      }\n      if (!camera) {\n        throw new Error('No camera is available to toggle WebVR');\n      }\n      renderer.xr.enabled = true;\n      if (!this._button) {\n        this._button = createWebVRButton(this);\n        document.body.appendChild(this._button);\n      } else {\n        this._button.style.display = 'block';\n      }\n      this._mainFog = settings$1.now.fog;\n      settings$1.set('fog', false);\n      this._plugVRNodesIntoScene(gfx, renderer);\n      this._setControllersListeners();\n      if (this._onToggle) {\n        this._onToggle(true);\n      }\n    }\n  }, {\n    key: \"_plugVRNodesIntoScene\",\n    value: function _plugVRNodesIntoScene(gfx, renderer) {\n      this._mainCamera.copy(gfx.camera);\n      gfx.scene.add(this._user);\n      gfx.scene.add(this._molContainer);\n      this._molContainer.add(gfx.root);\n      this._controller1 = renderer.xr.getController(0);\n      this._controller2 = renderer.xr.getController(1);\n      var mesh = this._createControllerMesh();\n      this._controller1.add(mesh);\n      this._controller2.add(mesh.clone());\n      this._user.add(this._controller1);\n      this._user.add(this._controller2);\n    }\n  }, {\n    key: \"_setControllersListeners\",\n    value: function _setControllersListeners() {\n      var _this = this;\n      this._controller1.addEventListener('selectstart', function (event) {\n        _this.handleGripsDown(event);\n      });\n      this._controller1.addEventListener('selectend', function (event) {\n        _this.handleGripsUp(event);\n      });\n      this._controller2.addEventListener('selectstart', function (event) {\n        _this.handleGripsDown(event);\n      });\n      this._controller2.addEventListener('selectend', function (event) {\n        _this.handleGripsUp(event);\n      });\n      this._controller1.addEventListener('squeezestart', function (event) {\n        _this.handleGripsDown(event);\n      });\n      this._controller1.addEventListener('squeezeend', function (event) {\n        _this.handleGripsUp(event);\n      });\n      this._controller2.addEventListener('squeezestart', function (event) {\n        _this.handleGripsDown(event);\n      });\n      this._controller2.addEventListener('squeezeend', function (event) {\n        _this.handleGripsUp(event);\n      });\n    }\n  }, {\n    key: \"disable\",\n    value: function disable() {\n      if (!this._gfx) {\n        return;\n      }\n      var _this$_gfx = this._gfx,\n          renderer = _this$_gfx.renderer,\n          camera = _this$_gfx.camera;\n      if (!renderer) {\n        throw new Error('No renderer is available to toggle WebVR');\n      }\n      renderer.setAnimationLoop(null);\n      var session = renderer.xr.getSession();\n      if (session) {\n        session.end();\n      }\n      renderer.xr.enabled = false;\n      if (this._button) {\n        this._button.style.display = 'none';\n      }\n      settings$1.set('fog', this._mainFog);\n      this._unplugVRNodesFromScene(camera);\n      if (this._onToggle) {\n        this._onToggle(false);\n      }\n    }\n  }, {\n    key: \"_unplugVRNodesFromScene\",\n    value: function _unplugVRNodesFromScene(camera) {\n      if (this._mainCamera && camera) {\n        camera.copy(this._mainCamera);\n      }\n      var root = this._molContainer.children[0];\n      if (root) {\n        this._gfx.scene.add(root);\n      }\n      this._molContainer.parent.remove(this._molContainer);\n      if (this._user) {\n        this._gfx.scene.remove(this._user);\n      }\n      this._molContainer = null;\n      this._user = null;\n      this._scalingPivot = null;\n      this._user = null;\n      this._controller1 = null;\n      this._controller2 = null;\n    }\n  }, {\n    key: \"_createControllerMesh\",\n    value: function _createControllerMesh() {\n      var geometry = new CylinderGeometry(0.04, 0.04, 0.3);\n      var material = new UberMaterial();\n      material.setValues({\n        lights: false,\n        overrideColor: true\n      });\n      material.setUberOptions({\n        fixedColor: new Color(0x4444ff)\n      });\n      material.updateUniforms();\n      var cylinder = new Mesh(geometry, material);\n      cylinder.rotateX(-Math.PI / 2);\n      return cylinder;\n    }\n  }, {\n    key: \"updateMoleculeScale\",\n    value: function updateMoleculeScale() {\n      if (!this._controller1 || !this._controller2) {\n        return;\n      }\n      var self = this;\n      if (self._pressedGripsCounter === 2) {\n        gfxutils.getMiddlePoint(self._controller1.position, self._controller2.position, self._scalingPivot.position);\n        var dist = self._controller1.position.distanceTo(self._controller2.position);\n        var scaler = dist / self._distance;\n        self._scalingPivot.scale.multiplyScalar(scaler);\n        self._distance = dist;\n      }\n    }\n  }, {\n    key: \"moveSceneBehindHeadset\",\n    value: function moveSceneBehindHeadset() {\n      var gfx = this._gfx;\n      var camera = gfx.camera;\n      var container = this._molContainer;\n      container.matrix.identity();\n      container.position.set(0, 0, -4.0);\n      container.updateMatrix();\n      container.matrixWorld.multiplyMatrices(camera.matrixWorld, container.matrix);\n      gfx.scene.addSavingWorldTransform(container);\n      if (this._onToggle) {\n        this._onToggle(true);\n      }\n    }\n  }, {\n    key: \"getCanvas\",\n    value: function getCanvas() {\n      var gfx = this._gfx;\n      return gfx && gfx.renderer ? gfx.renderer.domElement : null;\n    }\n  }]);\n  return WebVRPoC;\n}();\n\nvar fragmentScreenQuadFromDistTex = \"precision highp float;\\r\\n\\r\\nvarying vec2 vUv;\\r\\nuniform sampler2D srcTex;\\r\\nuniform vec3 aberration;\\r\\n\\r\\nvoid main() {\\r\\n  vec2 uv = vUv * 2.0 - 1.0;\\r\\n  \\r\\n  gl_FragColor.r = texture2D(srcTex, 0.5 * (uv * aberration[0] + 1.0)).r;\\r\\n  gl_FragColor.g = texture2D(srcTex, 0.5 * (uv * aberration[1] + 1.0)).g;\\r\\n  gl_FragColor.b = texture2D(srcTex, 0.5 * (uv * aberration[2] + 1.0)).b;\\r\\n  gl_FragColor.a = 1.0;\\r\\n}\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar selectors$1 = chem.selectors,\n    Atom = chem.Atom,\n    Residue = chem.Residue,\n    Chain = chem.Chain,\n    Molecule = chem.Molecule;\nvar EDIT_MODE = {\n  COMPLEX: 0,\n  COMPONENT: 1,\n  FRAGMENT: 2\n};\nvar LOADER_NOT_FOUND = 'Could not find suitable loader for this source';\nvar PARSER_NOT_FOUND = 'Could not find suitable parser for this source';\nvar createElement = utils.createElement;\nfunction updateFogRange(fog, center, radius) {\n  fog.near = center - radius * settings$1.now.fogNearFactor;\n  fog.far = center + radius * settings$1.now.fogFarFactor;\n}\nfunction removeExtension(fileName) {\n  var dot = fileName.lastIndexOf('.');\n  if (dot >= 0) {\n    fileName = fileName.substr(0, dot);\n  }\n  return fileName;\n}\nfunction hasValidResidues(complex) {\n  var hasValidRes = false;\n  complex.forEachComponent(function (component) {\n    component.forEachResidue(function (residue) {\n      if (residue._isValid) {\n        hasValidRes = true;\n      }\n    });\n  });\n  return hasValidRes;\n}\nfunction reportProgress(log, action, percent) {\n  var TOTAL_PERCENT = 100;\n  if (percent !== undefined) {\n    log.debug(\"\".concat(action, \"... \").concat(Math.floor(percent * TOTAL_PERCENT), \"%\"));\n  } else {\n    log.debug(\"\".concat(action, \"...\"));\n  }\n}\nfunction chooseFogColor() {\n  return settings$1.now.fogColorEnable ? settings$1.now.fogColor : settings$1.now.bg.color;\n}\nfunction _setContainerContents(container, element) {\n  var parent = container;\n  while (parent.firstChild) {\n    parent.removeChild(parent.firstChild);\n  }\n  parent.appendChild(element);\n}\nfunction arezSpritesSupported(context) {\n  return context.getExtension('EXT_frag_depth');\n}\nfunction isAOSupported(context) {\n  return context.getExtension('WEBGL_depth_texture') && context.getExtension('WEBGL_draw_buffers');\n}\nvar rePdbId = /^(?:(pdb|cif|mmtf|ccp4|dsn6):\\s*)?(\\d[a-z\\d]{3})$/i;\nvar rePubchem = /^(?:pc|pubchem):\\s*([a-z]+)$/i;\nvar reUrlScheme = /^([a-z][a-z\\d\\-+.]*):/i;\nfunction resolveSourceShortcut(source, opts) {\n  if (!isString(source)) {\n    return source;\n  }\n  var matchesPdbId = rePdbId.exec(source);\n  if (matchesPdbId) {\n    var _matchesPdbId = _slicedToArray(matchesPdbId, 3),\n        _matchesPdbId$ = _matchesPdbId[1],\n        format = _matchesPdbId$ === void 0 ? 'pdb' : _matchesPdbId$,\n        id = _matchesPdbId[2];\n    format = format.toLowerCase();\n    id = id.toUpperCase();\n    switch (format) {\n      case 'pdb':\n        source = \"https://files.rcsb.org/download/\".concat(id, \".pdb\");\n        break;\n      case 'cif':\n        source = \"https://files.rcsb.org/download/\".concat(id, \".cif\");\n        break;\n      case 'mmtf':\n        source = \"https://mmtf.rcsb.org/v1.0/full/\".concat(id);\n        break;\n      case 'ccp4':\n        source = \"https://www.ebi.ac.uk/pdbe/coordinates/files/\".concat(id.toLowerCase(), \".ccp4\");\n        break;\n      case 'dsn6':\n        source = \"https://edmaps.rcsb.org/maps/\".concat(id.toLowerCase(), \"_2fofc.dsn6\");\n        break;\n      default:\n        throw new Error('Unexpected data format shortcut');\n    }\n    opts.fileType = format;\n    opts.fileName = \"\".concat(id, \".\").concat(format);\n    opts.sourceType = 'url';\n    return source;\n  }\n  var matchesPubchem = rePubchem.exec(source);\n  if (matchesPubchem) {\n    var compound = matchesPubchem[1].toLowerCase();\n    source = \"https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/name/\".concat(compound, \"/JSON?record_type=3d\");\n    opts.fileType = 'pubchem';\n    opts.fileName = \"\".concat(compound, \".json\");\n    opts.sourceType = 'url';\n    return source;\n  }\n  if (opts.sourceType === 'url' || opts.sourceType === undefined) {\n    opts.sourceType = 'url';\n    if (!reUrlScheme.test(source)) {\n      source = utils.resolveURL(source);\n    }\n  }\n  return source;\n}\nfunction updateBinaryMode(opts) {\n  var binary = opts.binary;\n  if (opts.fileType !== undefined) {\n    var TheParser = head(io.parsers.find({\n      format: opts.fileType\n    }));\n    if (TheParser) {\n      binary = TheParser.binary || false;\n    } else {\n      throw new Error('Could not find suitable parser for this format');\n    }\n  }\n  if (binary === undefined && opts.fileExt !== undefined) {\n    var _TheParser = head(io.parsers.find({\n      ext: opts.fileExt\n    }));\n    if (_TheParser) {\n      binary = _TheParser.binary || false;\n    }\n  }\n  if (opts.fileExt !== undefined && opts.fileExt.toLowerCase() === '.man') {\n    opts.binary = true;\n    opts.animation = true;\n  }\n  if (binary !== undefined) {\n    if (opts.binary !== undefined && opts.binary !== binary) {\n      opts.context.logger.warn('Overriding incorrect binary mode');\n    }\n  }\n  opts.binary = binary || false;\n}\nfunction _fetchData(source, opts, job) {\n  return new Promise(function (resolve) {\n    if (job.shouldCancel()) {\n      throw new Error('Operation cancelled');\n    }\n    job.notify({\n      type: 'fetching'\n    });\n    source = resolveSourceShortcut(source, opts);\n    var TheLoader = head(io.loaders.find({\n      type: opts.sourceType,\n      source: source\n    }));\n    if (!TheLoader) {\n      throw new Error(LOADER_NOT_FOUND);\n    }\n    var fileName = opts.fileName || TheLoader.extractName(source);\n    if (fileName) {\n      var _utils$splitFileName = utils.splitFileName(fileName),\n          _utils$splitFileName2 = _slicedToArray(_utils$splitFileName, 2),\n          name = _utils$splitFileName2[0],\n          fileExt = _utils$splitFileName2[1];\n      defaults$2(opts, {\n        name: name,\n        fileExt: fileExt,\n        fileName: fileName\n      });\n    }\n    updateBinaryMode(opts);\n    var newOptions = get(opts, 'preset.expression');\n    if (!isUndefined(newOptions)) {\n      newOptions = JSON.parse(newOptions);\n      if (newOptions && newOptions.settings) {\n        var keys = ['singleUnit'];\n        for (var keyIndex = 0, keyCount = keys.length; keyIndex < keyCount; ++keyIndex) {\n          var key = keys[keyIndex];\n          var value = get(newOptions.settings, key);\n          if (!isUndefined(value)) {\n            settings$1.set(key, value);\n          }\n        }\n      }\n    }\n    var loader = new TheLoader(source, opts);\n    loader.context = opts.context;\n    job.addEventListener('cancel', function () {\n      return loader.abort();\n    });\n    loader.addEventListener('progress', function (event) {\n      if (event.lengthComputable && event.total > 0) {\n        reportProgress(loader.logger, 'Fetching', event.loaded / event.total);\n      } else {\n        reportProgress(loader.logger, 'Fetching');\n      }\n    });\n    console.time('fetch');\n    var promise = loader.load().then(function (data) {\n      console.timeEnd('fetch');\n      opts.context.logger.info('Fetching finished');\n      job.notify({\n        type: 'fetchingDone',\n        data: data\n      });\n      return data;\n    }).catch(function (error) {\n      console.timeEnd('fetch');\n      opts.context.logger.debug(error.message);\n      if (error.stack) {\n        opts.context.logger.debug(error.stack);\n      }\n      opts.context.logger.error('Fetching failed');\n      job.notify({\n        type: 'fetchingDone',\n        error: error\n      });\n      throw error;\n    });\n    resolve(promise);\n  });\n}\nfunction _parseData(data, opts, job) {\n  if (job.shouldCancel()) {\n    return Promise.reject(new Error('Operation cancelled'));\n  }\n  job.notify({\n    type: 'parsing'\n  });\n  var TheParser = head(io.parsers.find({\n    format: opts.fileType,\n    ext: opts.fileExt,\n    data: data\n  }));\n  if (!TheParser) {\n    return Promise.reject(new Error('Could not find suitable parser'));\n  }\n  var parser = new TheParser(data, opts);\n  parser.context = opts.context;\n  job.addEventListener('cancel', function () {\n    return parser.abort();\n  });\n  console.time('parse');\n  return parser.parse().then(function (dataSet) {\n    console.timeEnd('parse');\n    job.notify({\n      type: 'parsingDone',\n      data: dataSet\n    });\n    return dataSet;\n  }).catch(function (error) {\n    console.timeEnd('parse');\n    opts.error = error;\n    opts.context.logger.debug(error.message);\n    if (error.stack) {\n      opts.context.logger.debug(error.stack);\n    }\n    opts.context.logger.error('Parsing failed');\n    job.notify({\n      type: 'parsingDone',\n      error: error\n    });\n    throw error;\n  });\n}\nfunction _includesInCurSelection(atom, selectionBit) {\n  return atom.mask & 1 << selectionBit;\n}\nfunction _includesInSelector(atom, selector) {\n  return selector.selector.includesAtom(atom);\n}\nvar Miew = function (_EventDispatcher) {\n  _inherits(Miew, _EventDispatcher);\n  var _super = _createSuper(Miew);\n  function Miew(opts) {\n    var _this;\n    _classCallCheck(this, Miew);\n    _this = _super.call(this);\n    _this._opts = merge({\n      settingsCookie: 'settings',\n      cookiePath: '/'\n    }, opts);\n    _this._gfx = null;\n    _this._interpolator = new ViewInterpolator();\n    _this._container = opts && opts.container || document.getElementById('miew-container') || head(document.getElementsByClassName('miew-container')) || document.body;\n    _this._containerRoot = _this._container;\n    _this._running = false;\n    _this._halting = false;\n    _this._building = false;\n    _this._needRender = true;\n    _this._hotKeysEnabled = true;\n    _this.settings = settings$1;\n    var log = logger;\n    log.console = false;\n    log.level = 'info';\n    _this.logger = log;\n    _this._cookies = new Cookies(_assertThisInitialized(_this));\n    _this.restoreSettings();\n    if (opts && opts.settings) {\n      _this.settings.set(opts.settings);\n    }\n    _this._spinner = null;\n    _this._loading = [];\n    _this._animInterval = null;\n    _this._visuals = {};\n    _this._curVisualName = null;\n    _this._objects = [];\n    _this._sourceWindow = null;\n    _this.reset();\n    if (_this._repr) {\n      log.debug(\"Selected \".concat(_this._repr.mode.name, \" mode with \").concat(_this._repr.colorer.name, \" colorer.\"));\n    }\n    var self = _assertThisInitialized(_this);\n    Miew.registeredPlugins.forEach(function (plugin) {\n      plugin.call(self);\n    });\n    _this._initOnSettingsChanged();\n    _this.shadowMatrix = new Matrix4();\n    _this.direction = new Vector3();\n    _this.OBB = {\n      center: new Vector3(),\n      halfSize: new Vector3()\n    };\n    _this._bSphereForOneVisual = new Sphere();\n    _this._bBoxForOneVisual = new Box3();\n    _this._bBox = new Box3();\n    _this._invMatrix = new Matrix4();\n    _this._points = [new Vector3(), new Vector3(), new Vector3(), new Vector3()];\n    _this._anaglyphMat = new AnaglyphMaterial();\n    _this._size = new Vector2();\n    _this._scene = new Scene();\n    _this._camera = new OrthographicCamera(-1.0, 1.0, 1.0, -1.0, -500, 1000);\n    _this._material = new RawShaderMaterial({\n      uniforms: {\n        srcTex: {\n          type: 't',\n          value: null\n        },\n        aberration: {\n          type: 'fv3',\n          value: new Vector3(1.0)\n        }\n      },\n      vertexShader: vertexScreenQuadShader,\n      fragmentShader: fragmentScreenQuadFromDistTex,\n      transparent: false,\n      depthTest: false,\n      depthWrite: false\n    });\n    _this._geo = gfxutils.buildDistorionMesh(10, 10, settings$1.now.debug.stereoBarrel);\n    _this._outlineMaterial = new OutlineMaterial({\n      depth: true\n    });\n    _this.pars = {\n      minFilter: NearestFilter,\n      magFilter: NearestFilter,\n      format: RGBAFormat\n    };\n    _this.VERSION = \"0.10.0+20220125.134627.b36f6a2-mod\" ;\n    return _this;\n  }\n  _createClass(Miew, [{\n    key: \"getMaxRepresentationCount\",\n    value: function getMaxRepresentationCount() {\n      return ComplexVisual.NUM_REPRESENTATION_BITS;\n    }\n  }, {\n    key: \"_updateShadowCamera\",\n    value: function _updateShadowCamera() {\n      this._gfx.scene.updateMatrixWorld();\n      for (var i = 0; i < this._gfx.scene.children.length; i++) {\n        if (this._gfx.scene.children[i].type === 'DirectionalLight') {\n          var light = this._gfx.scene.children[i];\n          this.shadowMatrix.copy(light.shadow.camera.matrixWorldInverse);\n          this.getOBB(this.shadowMatrix, this.OBB);\n          this.direction.subVectors(light.target.position, light.position);\n          light.position.subVectors(this.OBB.center, this.direction);\n          light.target.position.copy(this.OBB.center);\n          light.shadow.bias = 0.09;\n          light.shadow.camera.bottom = -this.OBB.halfSize.y;\n          light.shadow.camera.top = this.OBB.halfSize.y;\n          light.shadow.camera.right = this.OBB.halfSize.x;\n          light.shadow.camera.left = -this.OBB.halfSize.x;\n          light.shadow.camera.near = this.direction.length() - this.OBB.halfSize.z;\n          light.shadow.camera.far = this.direction.length() + this.OBB.halfSize.z;\n          light.shadow.camera.updateProjectionMatrix();\n        }\n      }\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      var container = this._container;\n      var elem = utils.createElement('div', {\n        class: 'miew-canvas'\n      });\n      _setContainerContents(container, elem);\n      this._container = elem;\n      var frag = document.createDocumentFragment();\n      frag.appendChild(this._msgMode = createElement('div', {\n        class: 'mode-message overlay'\n      }, createElement('p', {}, 'COMPONENT EDIT MODE')));\n      frag.appendChild(this._msgAtomInfo = createElement('div', {\n        class: 'atom-info overlay'\n      }, createElement('p', {}, '')));\n      container.appendChild(frag);\n      if (this._gfx !== null) {\n        return true;\n      }\n      var self = this;\n      this._showMessage('Viewer is being initialized...');\n      try {\n        this._initGfx();\n        this._initListeners();\n        this._spinner = new Spinner({\n          lines: 13,\n          length: 28,\n          width: 14,\n          radius: 42,\n          color: '#fff',\n          zIndex: 700\n        });\n        window.top.addEventListener('keydown', function (event) {\n          self._onKeyDown(event);\n        });\n        window.top.addEventListener('keyup', function (event) {\n          self._onKeyUp(event);\n        });\n        this._objectControls = new ObjectControls(this._gfx.root, this._gfx.pivot, this._gfx.camera, this._gfx.renderer.domElement, function () {\n          return self._getAltObj();\n        });\n        this._objectControls.addEventListener('change', function (e) {\n          if (settings$1.now.shadow.on) {\n            self._updateShadowCamera();\n          }\n          switch (e.action) {\n            case 'rotate':\n              self.dispatchEvent({\n                type: 'rotate',\n                quaternion: e.quaternion\n              });\n              break;\n            case 'zoom':\n              self.dispatchEvent({\n                type: 'zoom',\n                factor: e.factor\n              });\n              break;\n            default:\n              self.dispatchEvent({\n                type: e.action\n              });\n          }\n          self.dispatchEvent({\n            type: 'transform'\n          });\n          self._needRender = true;\n        });\n        var gfx = this._gfx;\n        this._picker = new Picker(gfx.root, gfx.camera, gfx.renderer.domElement);\n        this._picker.addEventListener('newpick', function (event) {\n          self._onPick(event);\n        });\n        this._picker.addEventListener('dblclick', function (event) {\n          self.center(event);\n        });\n      } catch (error) {\n        if (error.name === 'TypeError' && error.message === \"Cannot read property 'getExtension' of null\") {\n          this._showMessage('Could not create WebGL context.');\n        } else if (error.message.search(/webgl/i) > 1) {\n          this._showMessage(error.message);\n        } else {\n          this._showMessage('Viewer initialization failed.');\n          throw error;\n        }\n        return false;\n      }\n      var file = this._opts && this._opts.load;\n      if (file) {\n        var type = this._opts && this._opts.type;\n        this.load(file, {\n          fileType: type,\n          keepRepsInfo: true\n        });\n      }\n      return true;\n    }\n  }, {\n    key: \"term\",\n    value: function term() {\n      this._showMessage('Viewer has been terminated.');\n      this._loading.forEach(function (job) {\n        job.cancel();\n      });\n      this._loading.length = 0;\n      this.halt();\n      this._gfx = null;\n    }\n  }, {\n    key: \"_showMessage\",\n    value: function _showMessage(msg) {\n      var element = document.createElement('div');\n      element.setAttribute('class', 'miew-message');\n      element.appendChild(document.createElement('p')).appendChild(document.createTextNode(msg));\n      _setContainerContents(this._container, element);\n    }\n  }, {\n    key: \"_showCanvas\",\n    value: function _showCanvas() {\n      _setContainerContents(this._container, this._gfx.renderer.domElement);\n    }\n  }, {\n    key: \"_requestAnimationFrame\",\n    value: function _requestAnimationFrame(callback) {\n      var xr = this._gfx.renderer.xr;\n      if (xr && xr.enabled) {\n        this._gfx.renderer.setAnimationLoop(callback);\n        return;\n      }\n      requestAnimationFrame(callback);\n    }\n  }, {\n    key: \"_initGfx\",\n    value: function _initGfx() {\n      var gfx = {\n        width: this._container.clientWidth,\n        height: this._container.clientHeight\n      };\n      var webGLOptions = {\n        preserveDrawingBuffer: true,\n        alpha: true,\n        premultipliedAlpha: false\n      };\n      if (settings$1.now.antialias) {\n        webGLOptions.antialias = true;\n      }\n      gfx.renderer2d = new CSS2DRenderer();\n      gfx.renderer = new WebGL1Renderer(webGLOptions);\n      gfx.renderer.shadowMap.enabled = settings$1.now.shadow.on;\n      gfx.renderer.shadowMap.autoUpdate = false;\n      gfx.renderer.shadowMap.type = PCFShadowMap;\n      capabilities.init(gfx.renderer);\n      if (!arezSpritesSupported(gfx.renderer.getContext())) {\n        settings$1.set('zSprites', false);\n      }\n      if (!isAOSupported(gfx.renderer.getContext())) {\n        settings$1.set('ao', false);\n      }\n      gfx.renderer.autoClear = false;\n      gfx.renderer.setPixelRatio(window.devicePixelRatio);\n      gfx.renderer.setSize(gfx.width, gfx.height);\n      gfx.renderer.setClearColor(settings$1.now.bg.color, Number(!settings$1.now.bg.transparent));\n      gfx.renderer.clearColor();\n      gfx.renderer2d.setSize(gfx.width, gfx.height);\n      gfx.camera = new PerspectiveCamera(settings$1.now.camFov, gfx.width / gfx.height, settings$1.now.camNear, settings$1.now.camFar);\n      gfx.camera.setMinimalFov(settings$1.now.camFov);\n      gfx.camera.position.z = settings$1.now.camDistance;\n      gfx.camera.updateProjectionMatrix();\n      gfx.camera.layers.set(gfxutils.LAYERS.DEFAULT);\n      gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME);\n      gfx.camera.layers.enable(gfxutils.LAYERS.VOLUME_BFPLANE);\n      gfx.stereoCam = new StereoCamera();\n      gfx.scene = new Scene();\n      var color = chooseFogColor();\n      gfx.scene.fog = new Fog(color, settings$1.now.camNear, settings$1.now.camFar);\n      gfx.root = new gfxutils.RCGroup();\n      gfx.scene.add(gfx.root);\n      gfx.pivot = new gfxutils.RCGroup();\n      gfx.root.add(gfx.pivot);\n      gfx.selectionScene = new Scene();\n      gfx.selectionRoot = new Group();\n      gfx.selectionRoot.matrixAutoUpdate = false;\n      gfx.selectionScene.add(gfx.selectionRoot);\n      gfx.selectionPivot = new Group();\n      gfx.selectionPivot.matrixAutoUpdate = false;\n      gfx.selectionRoot.add(gfx.selectionPivot);\n      var light12 = new DirectionalLight(0xffffff, 0.45);\n      light12.position.set(0, 0.414, 1);\n      light12.layers.enable(gfxutils.LAYERS.TRANSPARENT);\n      light12.castShadow = true;\n      light12.shadow.bias = 0.09;\n      light12.shadow.radius = settings$1.now.shadow.radius;\n      light12.shadow.camera.layers.set(gfxutils.LAYERS.SHADOWMAP);\n      var pixelRatio = gfx.renderer.getPixelRatio();\n      var shadowMapSize = Math.max(gfx.width, gfx.height) * pixelRatio;\n      light12.shadow.mapSize.width = shadowMapSize;\n      light12.shadow.mapSize.height = shadowMapSize;\n      light12.target.position.set(0.0, 0.0, 0.0);\n      gfx.scene.add(light12);\n      gfx.scene.add(light12.target);\n      var light3 = new AmbientLight(0x666666);\n      light3.layers.enable(gfxutils.LAYERS.TRANSPARENT);\n      gfx.scene.add(light3);\n      gfx.axes = new Axes(gfx.root, gfx.camera);\n      var deviceWidth = gfx.width * pixelRatio;\n      var deviceHeight = gfx.height * pixelRatio;\n      gfx.offscreenBuf = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: NearestFilter,\n        format: RGBAFormat,\n        depthBuffer: true\n      });\n      if (gfx.renderer.getContext().getExtension('WEBGL_depth_texture')) {\n        gfx.offscreenBuf.depthTexture = new DepthTexture();\n        gfx.offscreenBuf.depthTexture.type = UnsignedShortType;\n      }\n      gfx.offscreenBuf2 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      gfx.offscreenBuf3 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      gfx.offscreenBuf4 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      gfx.volBFTex = gfx.offscreenBuf3;\n      gfx.volFFTex = gfx.offscreenBuf4;\n      gfx.volWFFTex = gfx.offscreenBuf;\n      if (gfx.renderer.getContext().getExtension('OES_texture_float')) {\n        gfx.offscreenBuf5 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n          minFilter: LinearFilter,\n          magFilter: LinearFilter,\n          format: RGBAFormat,\n          type: FloatType,\n          depthBuffer: false\n        });\n        gfx.offscreenBuf6 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n          minFilter: LinearFilter,\n          magFilter: LinearFilter,\n          format: RGBAFormat,\n          type: FloatType,\n          depthBuffer: false\n        });\n        gfx.offscreenBuf7 = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n          minFilter: LinearFilter,\n          magFilter: LinearFilter,\n          format: RGBAFormat,\n          type: FloatType,\n          depthBuffer: true\n        });\n        gfx.volBFTex = gfx.offscreenBuf5;\n        gfx.volFFTex = gfx.offscreenBuf6;\n        gfx.volWFFTex = gfx.offscreenBuf7;\n      } else {\n        this.logger.warn(\"Device doesn't support OES_texture_float extension\");\n      }\n      gfx.stereoBufL = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      gfx.stereoBufR = new WebGLRenderTarget(deviceWidth, deviceHeight, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBAFormat,\n        depthBuffer: false\n      });\n      this._gfx = gfx;\n      this._showCanvas();\n      this._embedWebXR(settings$1.now.stereo === 'WEBVR');\n      this._container.appendChild(gfx.renderer2d.getElement());\n      var stats = new Stats();\n      stats.domElement.style.position = 'absolute';\n      stats.domElement.style.right = '0';\n      stats.domElement.style.bottom = '0';\n      this._container.appendChild(stats.domElement);\n      this._fps = stats;\n      this._fps.show(settings$1.now.fps);\n    }\n  }, {\n    key: \"_initListeners\",\n    value: function _initListeners() {\n      var self = this;\n      window.addEventListener('resize', function () {\n        self._onResize();\n      });\n    }\n  }, {\n    key: \"_makeUniqueVisualName\",\n    value: function _makeUniqueVisualName(baseName) {\n      if (!baseName) {\n        return Math.random().toString();\n      }\n      var name = baseName;\n      var suffix = 1;\n      while (this._visuals.hasOwnProperty(name)) {\n        name = \"\".concat(baseName, \" (\").concat(suffix.toString(), \")\");\n        suffix++;\n      }\n      return name;\n    }\n  }, {\n    key: \"_addVisual\",\n    value: function _addVisual(visual) {\n      if (!visual) {\n        return null;\n      }\n      var name = this._makeUniqueVisualName(visual.name);\n      visual.name = name;\n      this._visuals[name] = visual;\n      this._gfx.pivot.add(visual);\n      if (visual.getSelectionGeo) {\n        this._gfx.selectionPivot.add(visual.getSelectionGeo());\n      }\n      return name;\n    }\n  }, {\n    key: \"_removeVisual\",\n    value: function _removeVisual(visual) {\n      var name = '';\n      var obj = null;\n      if (visual instanceof Visual) {\n        name = visual.name;\n        obj = visual;\n      } else if (typeof visual === 'string') {\n        name = visual;\n        obj = this._visuals[name];\n      }\n      if (!obj || !this._visuals.hasOwnProperty(name) || this._visuals[name] !== obj) {\n        return;\n      }\n      if (name === this._curVisualName) {\n        this._curVisualName = undefined;\n      }\n      delete this._visuals[name];\n      obj.release();\n      this._needRender = true;\n    }\n  }, {\n    key: \"_forEachVisual\",\n    value: function _forEachVisual(callback) {\n      for (var name in this._visuals) {\n        if (this._visuals.hasOwnProperty(name)) {\n          callback(this._visuals[name]);\n        }\n      }\n    }\n  }, {\n    key: \"_releaseAllVisuals\",\n    value: function _releaseAllVisuals() {\n      if (!this._gfx || !this._gfx.pivot) {\n        return;\n      }\n      for (var name in this._visuals) {\n        if (this._visuals.hasOwnProperty(name)) {\n          this._visuals[name].release();\n        }\n      }\n      this._visuals = {};\n    }\n  }, {\n    key: \"_forEachComplexVisual\",\n    value: function _forEachComplexVisual(callback) {\n      if (!this._gfx || !this._gfx.pivot) {\n        return;\n      }\n      for (var name in this._visuals) {\n        if (this._visuals.hasOwnProperty(name) && this._visuals[name] instanceof ComplexVisual) {\n          callback(this._visuals[name]);\n        }\n      }\n    }\n  }, {\n    key: \"_getComplexVisual\",\n    value: function _getComplexVisual(name) {\n      name = name || this._curVisualName;\n      var any = null;\n      var named = null;\n      this._forEachComplexVisual(function (visual) {\n        any = visual;\n        if (visual.name === name) {\n          named = visual;\n        }\n      });\n      return named || any;\n    }\n  }, {\n    key: \"_getVolumeVisual\",\n    value: function _getVolumeVisual() {\n      var any = null;\n      this._forEachVisual(function (visual) {\n        if (visual instanceof VolumeVisual) {\n          any = visual;\n        }\n      });\n      return any;\n    }\n  }, {\n    key: \"_getVisualForComplex\",\n    value: function _getVisualForComplex(complex) {\n      if (!complex) {\n        return null;\n      }\n      var found = null;\n      this._forEachComplexVisual(function (visual) {\n        if (visual.getComplex() === complex) {\n          found = visual;\n        }\n      });\n      return found;\n    }\n  }, {\n    key: \"getVisuals\",\n    value: function getVisuals() {\n      return Object.keys(this._visuals);\n    }\n  }, {\n    key: \"getComplexVisualsCount\",\n    value: function getComplexVisualsCount() {\n      var count = 0;\n      this._forEachComplexVisual(function () {\n        return count++;\n      });\n      return count;\n    }\n  }, {\n    key: \"getCurrentVisual\",\n    value: function getCurrentVisual() {\n      return this._curVisualName;\n    }\n  }, {\n    key: \"setCurrentVisual\",\n    value: function setCurrentVisual(name) {\n      if (!this._visuals[name]) {\n        return;\n      }\n      this._curVisualName = name;\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      var _this2 = this;\n      if (!this._running) {\n        this._running = true;\n        if (this._halting) {\n          this._halting = false;\n          return;\n        }\n        this._objectControls.enable(true);\n        this._interpolator.resume();\n        this._requestAnimationFrame(function () {\n          return _this2._onTick();\n        });\n      }\n    }\n  }, {\n    key: \"halt\",\n    value: function halt() {\n      if (this._running) {\n        this._discardComponentEdit();\n        this._discardFragmentEdit();\n        this._objectControls.enable(false);\n        this._interpolator.pause();\n        this._halting = true;\n      }\n    }\n  }, {\n    key: \"enableHotKeys\",\n    value: function enableHotKeys(enabled) {\n      this._hotKeysEnabled = enabled;\n      this._objectControls.enableHotkeys(enabled);\n    }\n  }, {\n    key: \"_onResize\",\n    value: function _onResize() {\n      this._needRender = true;\n      var gfx = this._gfx;\n      gfx.width = this._container.clientWidth;\n      gfx.height = this._container.clientHeight;\n      gfx.camera.aspect = gfx.width / gfx.height;\n      gfx.camera.setMinimalFov(settings$1.now.camFov);\n      gfx.camera.updateProjectionMatrix();\n      gfx.renderer.setSize(gfx.width, gfx.height);\n      gfx.renderer2d.setSize(gfx.width, gfx.height);\n      this.dispatchEvent({\n        type: 'resize'\n      });\n    }\n  }, {\n    key: \"_resizeOffscreenBuffers\",\n    value: function _resizeOffscreenBuffers(width, height, stereo) {\n      var gfx = this._gfx;\n      stereo = stereo || 'NONE';\n      var isAnaglyph = stereo === 'NONE' || stereo === 'ANAGLYPH';\n      var multi = isAnaglyph ? 1 : 0.5;\n      gfx.offscreenBuf.setSize(multi * width, height);\n      gfx.offscreenBuf2.setSize(multi * width, height);\n      gfx.offscreenBuf3.setSize(multi * width, height);\n      gfx.offscreenBuf4.setSize(multi * width, height);\n      if (gfx.offscreenBuf5) {\n        gfx.offscreenBuf5.setSize(multi * width, height);\n      }\n      if (gfx.offscreenBuf6) {\n        gfx.offscreenBuf6.setSize(multi * width, height);\n      }\n      if (gfx.offscreenBuf7) {\n        gfx.offscreenBuf7.setSize(multi * width, height);\n      }\n      if (isAnaglyph) {\n        gfx.stereoBufL.setSize(width, height);\n        gfx.stereoBufR.setSize(width, height);\n      }\n    }\n  }, {\n    key: \"_onTick\",\n    value: function _onTick() {\n      var _this3 = this;\n      if (this._halting) {\n        this._running = false;\n        this._halting = false;\n        return;\n      }\n      this._fps.update();\n      this._requestAnimationFrame(function () {\n        return _this3._onTick();\n      });\n      this._onUpdate();\n      if (this._needRender) {\n        this._onRender();\n        this._needRender = !settings$1.now.suspendRender || settings$1.now.stereo === 'WEBVR';\n      }\n    }\n  }, {\n    key: \"_getBSphereRadius\",\n    value: function _getBSphereRadius() {\n      var radius = 0;\n      this._forEachVisual(function (visual) {\n        radius = Math.max(radius, visual.getBoundaries().boundingSphere.radius);\n      });\n      return radius * this._objectControls.getScale();\n    }\n  }, {\n    key: \"getOBB\",\n    value: function getOBB(matrix, OBB) {\n      var _this4 = this;\n      this._bBox.makeEmpty();\n      this._forEachVisual(function (visual) {\n        _this4._bSphereForOneVisual.copy(visual.getBoundaries().boundingSphere);\n        _this4._bSphereForOneVisual.applyMatrix4(visual.matrixWorld).applyMatrix4(matrix);\n        _this4._bSphereForOneVisual.getBoundingBox(_this4._bBoxForOneVisual);\n        _this4._bBox.union(_this4._bBoxForOneVisual);\n      });\n      this._bBox.getCenter(OBB.center);\n      this._invMatrix.copy(matrix).invert();\n      OBB.center.applyMatrix4(this._invMatrix);\n      var min = this._bBox.min;\n      var max = this._bBox.max;\n      this._points[0].set(min.x, min.y, min.z);\n      this._points[1].set(max.x, min.y, min.z);\n      this._points[2].set(min.x, max.y, min.z);\n      this._points[3].set(min.x, min.y, max.z);\n      for (var i = 0, l = this._points.length; i < l; i++) {\n        this._points[i].applyMatrix4(this._invMatrix);\n      }\n      OBB.halfSize.set(Math.abs(this._points[0].x - this._points[1].x), Math.abs(this._points[0].y - this._points[2].y), Math.abs(this._points[0].z - this._points[3].z)).multiplyScalar(0.5);\n    }\n  }, {\n    key: \"_updateFog\",\n    value: function _updateFog() {\n      var gfx = this._gfx;\n      if (settings$1.now.fog) {\n        if (typeof gfx.scene.fog === 'undefined' || gfx.scene.fog === null) {\n          var color = chooseFogColor();\n          gfx.scene.fog = new Fog(color);\n          this._setUberMaterialValues({\n            fog: settings$1.now.fog\n          });\n        }\n        updateFogRange(gfx.scene.fog, gfx.camera.position.z, this._getBSphereRadius());\n      } else if (gfx.scene.fog) {\n        gfx.scene.fog = undefined;\n        this._setUberMaterialValues({\n          fog: settings$1.now.fog\n        });\n      }\n    }\n  }, {\n    key: \"_onUpdate\",\n    value: function _onUpdate() {\n      if (this.isScriptingCommandAvailable !== undefined && this.isScriptingCommandAvailable() && !this._building) {\n        this.callNextCmd();\n      }\n      this._objectControls.update();\n      this._forEachComplexVisual(function (visual) {\n        visual.getComplex().update();\n      });\n      if (settings$1.now.autobuild && !this._loading.length && !this._building && this._needRebuild()) {\n        this.rebuild();\n      }\n      if (!this._loading.length && !this._building && !this._needRebuild()) {\n        this._updateView();\n      }\n      this._updateFog();\n      if (this._gfx.renderer.xr.enabled) {\n        this.webVR.updateMoleculeScale();\n      }\n    }\n  }, {\n    key: \"_onRender\",\n    value: function _onRender() {\n      var gfx = this._gfx;\n      gfx.scene.updateMatrixWorld();\n      gfx.camera.updateMatrixWorld();\n      this._clipPlaneUpdateValue(this._getBSphereRadius());\n      this._fogFarUpdateValue();\n      gfx.renderer.setRenderTarget(null);\n      gfx.renderer.clear();\n      this._renderFrame(settings$1.now.stereo);\n    }\n  }, {\n    key: \"_renderFrame\",\n    value: function _renderFrame(stereo) {\n      var gfx = this._gfx;\n      var renderer = gfx.renderer;\n      renderer.getSize(this._size);\n      if (stereo !== 'NONE') {\n        gfx.camera.focus = gfx.camera.position.z;\n        gfx.stereoCam.aspect = 1.0;\n        if (stereo === 'ANAGLYPH') {\n          gfx.stereoCam.update(gfx.camera);\n        } else {\n          gfx.stereoCam.updateHalfSized(gfx.camera, settings$1.now.camFov);\n        }\n      }\n      var pixelRatio = gfx.renderer.getPixelRatio();\n      this._resizeOffscreenBuffers(this._size.width * pixelRatio, this._size.height * pixelRatio, stereo);\n      this._renderShadowMap();\n      switch (stereo) {\n        case 'WEBVR':\n        case 'NONE':\n          this._renderScene(gfx.camera, false);\n          break;\n        case 'SIMPLE':\n        case 'DISTORTED':\n          renderer.setScissorTest(true);\n          renderer.setScissor(0, 0, this._size.width / 2, this._size.height);\n          renderer.setViewport(0, 0, this._size.width / 2, this._size.height);\n          this._renderScene(this._gfx.stereoCam.cameraL, stereo === 'DISTORTED');\n          renderer.setScissor(this._size.width / 2, 0, this._size.width / 2, this._size.height);\n          renderer.setViewport(this._size.width / 2, 0, this._size.width / 2, this._size.height);\n          this._renderScene(this._gfx.stereoCam.cameraR, stereo === 'DISTORTED');\n          renderer.setScissorTest(false);\n          break;\n        case 'ANAGLYPH':\n          this._renderScene(this._gfx.stereoCam.cameraL, false, gfx.stereoBufL);\n          this._renderScene(this._gfx.stereoCam.cameraR, false, gfx.stereoBufR);\n          renderer.setRenderTarget(null);\n          this._anaglyphMat.uniforms.srcL.value = gfx.stereoBufL.texture;\n          this._anaglyphMat.uniforms.srcR.value = gfx.stereoBufR.texture;\n          gfx.renderer.renderScreenQuad(this._anaglyphMat);\n          break;\n      }\n      gfx.renderer2d.render(gfx.scene, gfx.camera);\n      if (settings$1.now.axes && gfx.axes && !gfx.renderer.xr.enabled) {\n        gfx.axes.render(renderer);\n      }\n    }\n  }, {\n    key: \"_onBgColorChanged\",\n    value: function _onBgColorChanged() {\n      var gfx = this._gfx;\n      var color = chooseFogColor();\n      if (gfx) {\n        if (gfx.scene.fog) {\n          gfx.scene.fog.color.set(color);\n        }\n        gfx.renderer.setClearColor(settings$1.now.bg.color, Number(!settings$1.now.bg.transparent));\n      }\n      this._needRender = true;\n    }\n  }, {\n    key: \"_onFogColorChanged\",\n    value: function _onFogColorChanged() {\n      var gfx = this._gfx;\n      var color = chooseFogColor();\n      if (gfx && gfx.scene.fog) {\n        gfx.scene.fog.color.set(color);\n      }\n      this._needRender = true;\n    }\n  }, {\n    key: \"_setUberMaterialValues\",\n    value: function _setUberMaterialValues(values) {\n      this._gfx.root.traverse(function (obj) {\n        if ((obj instanceof Mesh || obj instanceof LineSegments || obj instanceof Line) && obj.material instanceof UberMaterial) {\n          obj.material.setValues(values);\n          obj.material.needsUpdate = true;\n        }\n      });\n    }\n  }, {\n    key: \"_enableMRT\",\n    value: function _enableMRT(on, renderBuffer, textureBuffer) {\n      var gfx = this._gfx;\n      var gl = gfx.renderer.getContext();\n      var ext = gl.getExtension('WEBGL_draw_buffers');\n      var properties = gfx.renderer.properties;\n      if (!on) {\n        ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, null]);\n        return;\n      }\n      gfx.renderer.setRenderTarget(textureBuffer);\n      var tx8 = properties.get(textureBuffer.texture).__webglTexture;\n      gl.bindTexture(gl.TEXTURE_2D, tx8);\n      gfx.renderer.setRenderTarget(renderBuffer);\n      var fb = properties.get(renderBuffer).__webglFramebuffer;\n      var tx = properties.get(renderBuffer.texture).__webglTexture;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, fb);\n      fb.width = renderBuffer.width;\n      fb.height = renderBuffer.height;\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, tx, 0);\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, ext.COLOR_ATTACHMENT1_WEBGL, gl.TEXTURE_2D, tx8, 0);\n      ext.drawBuffersWEBGL([gl.COLOR_ATTACHMENT0, ext.COLOR_ATTACHMENT1_WEBGL]);\n    }\n  }, {\n    key: \"_renderScene\",\n    value: function _renderScene(camera, distortion, target) {\n      distortion = distortion || false;\n      target = target || null;\n      var gfx = this._gfx;\n      gfx.renderer.setClearColor(settings$1.now.bg.color, Number(!settings$1.now.bg.transparent));\n      gfx.renderer.setRenderTarget(target);\n      gfx.renderer.clear();\n      if (gfx.renderer.xr.enabled) {\n        gfx.renderer.render(gfx.scene, camera);\n        return;\n      }\n      gfx.renderer.setClearColor(0x000000, 0.0);\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf4);\n      gfx.renderer.clearColor();\n      gfx.renderer.setClearColor(settings$1.now.bg.color, Number(!settings$1.now.bg.transparent));\n      gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n      gfx.renderer.clear();\n      var bHaveComplexes = this._getComplexVisual() !== null;\n      var volumeVisual = this._getVolumeVisual();\n      var ssao = bHaveComplexes && settings$1.now.ao;\n      if (ssao) {\n        this._enableMRT(true, gfx.offscreenBuf, gfx.offscreenBuf4);\n      }\n      if (settings$1.now.transparency === 'prepass') {\n        this._renderWithPrepassTransparency(camera, gfx.offscreenBuf);\n      } else if (settings$1.now.transparency === 'standard') {\n        gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n        gfx.renderer.render(gfx.scene, camera);\n      }\n      if (ssao) {\n        this._enableMRT(false, null, null);\n      }\n      var outline = bHaveComplexes && settings$1.now.outline.on;\n      var fxaa = bHaveComplexes && settings$1.now.fxaa;\n      var volume = volumeVisual !== null && volumeVisual.getMesh().material != null;\n      var dstBuffer = ssao || outline || volume || fxaa || distortion ? gfx.offscreenBuf2 : target;\n      var srcBuffer = gfx.offscreenBuf;\n      if (ssao) {\n        this._performAO(srcBuffer, gfx.offscreenBuf4, gfx.offscreenBuf.depthTexture, dstBuffer, gfx.offscreenBuf3, gfx.offscreenBuf2);\n        if (!fxaa && !distortion && !volume && !outline) {\n          srcBuffer = dstBuffer;\n          dstBuffer = target;\n          gfx.renderer.setRenderTarget(dstBuffer);\n          gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0);\n        }\n      } else {\n        gfx.renderer.setRenderTarget(dstBuffer);\n        gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 1.0);\n      }\n      if (outline) {\n        srcBuffer = dstBuffer;\n        dstBuffer = volume || fxaa || distortion ? gfx.offscreenBuf3 : target;\n        if (srcBuffer != null) {\n          this._renderOutline(camera, gfx.offscreenBuf, srcBuffer, dstBuffer);\n        }\n      }\n      this._renderSelection(camera, gfx.offscreenBuf, dstBuffer);\n      if (volume) {\n        gfx.renderer.setRenderTarget(gfx.offscreenBuf);\n        gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0);\n        dstBuffer = gfx.offscreenBuf;\n        this._renderVolume(volumeVisual, camera, dstBuffer, gfx.volBFTex, gfx.volFFTex, gfx.volWFFTex);\n        if (!fxaa && !distortion) {\n          gfx.renderer.setRenderTarget(target);\n          gfx.renderer.renderScreenQuadFromTex(dstBuffer.texture, 1.0);\n        }\n      }\n      srcBuffer = dstBuffer;\n      if (fxaa) {\n        dstBuffer = distortion ? gfx.offscreenBuf4 : target;\n        this._performFXAA(srcBuffer, dstBuffer);\n        srcBuffer = dstBuffer;\n      }\n      if (distortion) {\n        dstBuffer = target;\n        this._performDistortion(srcBuffer, dstBuffer, true);\n      }\n    }\n  }, {\n    key: \"_performDistortion\",\n    value: function _performDistortion(srcBuffer, targetBuffer, mesh) {\n      this._scene.add(new meshes.Mesh(this._geo, this._material));\n      this._gfx.renderer.setRenderTarget(targetBuffer);\n      this._gfx.renderer.clear();\n      if (mesh) {\n        this._material.uniforms.srcTex.value = srcBuffer.texture;\n        this._material.uniforms.aberration.value.set(0.995, 1.0, 1.01);\n        this._gfx.renderer.render(this._scene, this._camera);\n      } else {\n        this._gfx.renderer.renderScreenQuadFromTexWithDistortion(srcBuffer, settings$1.now.debug.stereoBarrel);\n      }\n    }\n  }, {\n    key: \"_renderOutline\",\n    value: function _renderOutline(camera, srcDepthBuffer, srcColorBuffer, targetBuffer) {\n      var self = this;\n      var gfx = self._gfx;\n      this._outlineMaterial.uniforms.srcTex.value = srcColorBuffer.texture;\n      this._outlineMaterial.uniforms.srcDepthTex.value = srcDepthBuffer.depthTexture;\n      this._outlineMaterial.uniforms.srcTexSize.value.set(srcDepthBuffer.width, srcDepthBuffer.height);\n      this._outlineMaterial.uniforms.color.value = new Color(settings$1.now.outline.color);\n      this._outlineMaterial.uniforms.threshold.value = settings$1.now.outline.threshold;\n      this._outlineMaterial.uniforms.thickness.value = new Vector2(settings$1.now.outline.thickness, settings$1.now.outline.thickness);\n      gfx.renderer.setRenderTarget(targetBuffer);\n      gfx.renderer.renderScreenQuad(this._outlineMaterial);\n    }\n  }, {\n    key: \"_renderShadowMap\",\n    value: function _renderShadowMap() {\n      if (!settings$1.now.shadow.on) {\n        return;\n      }\n      var gfx = this._gfx;\n      var currentRenderTarget = gfx.renderer.getRenderTarget();\n      var activeCubeFace = gfx.renderer.getActiveCubeFace();\n      var activeMipmapLevel = gfx.renderer.getActiveMipmapLevel();\n      var _state = gfx.renderer.state;\n      _state.setBlending(NoBlending);\n      _state.buffers.color.setClear(1, 1, 1, 1);\n      _state.buffers.depth.setTest(true);\n      _state.setScissorTest(false);\n      for (var i = 0; i < gfx.scene.children.length; i++) {\n        if (gfx.scene.children[i].type === 'DirectionalLight') {\n          var light = gfx.scene.children[i];\n          if (light.shadow.map == null) {\n            light.shadow.map = new WebGLRenderTarget(light.shadow.mapSize.width, light.shadow.mapSize.height, this.pars);\n            light.shadow.camera.updateProjectionMatrix();\n          }\n          light.shadow.updateMatrices(light);\n          gfx.renderer.setRenderTarget(light.shadow.map);\n          gfx.renderer.clear();\n          gfx.renderer.render(gfx.scene, light.shadow.camera);\n        }\n      }\n      gfx.renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n    }\n  }, {\n    key: \"_hasSelectionToRender\",\n    value: function _hasSelectionToRender() {\n      var selPivot = this._gfx.selectionPivot;\n      for (var i = 0; i < selPivot.children.length; i++) {\n        var selPivotChild = selPivot.children[i];\n        if (selPivotChild.children.length > 0) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }, {\n    key: \"_renderSelection\",\n    value: function _renderSelection(camera, srcBuffer, targetBuffer) {\n      var _outlineMaterial = new OutlineMaterial();\n      var self = this;\n      var gfx = self._gfx;\n      gfx.renderer.setClearColor('black', 0);\n      gfx.renderer.setRenderTarget(srcBuffer);\n      gfx.renderer.clear(true, false, false);\n      if (self._hasSelectionToRender()) {\n        gfx.selectionRoot.matrix = gfx.root.matrix;\n        gfx.selectionPivot.matrix = gfx.pivot.matrix;\n        gfx.renderer.render(gfx.selectionScene, camera);\n      } else {\n        gfx.renderer.renderDummyQuad();\n      }\n      gfx.renderer.setRenderTarget(targetBuffer);\n      gfx.renderer.renderScreenQuadFromTex(srcBuffer.texture, 0.6);\n      _outlineMaterial.uniforms.srcTex.value = srcBuffer.texture;\n      _outlineMaterial.uniforms.srcTexSize.value.set(srcBuffer.width, srcBuffer.height);\n      gfx.renderer.renderScreenQuad(_outlineMaterial);\n    }\n  }, {\n    key: \"_checkVolumeRenderingSupport\",\n    value: function _checkVolumeRenderingSupport(renderTarget) {\n      if (!renderTarget) {\n        return false;\n      }\n      var gfx = this._gfx;\n      var oldRT = gfx.renderer.getRenderTarget();\n      gfx.renderer.setRenderTarget(renderTarget);\n      var context = gfx.renderer.getContext();\n      var result = context.checkFramebufferStatus(context.FRAMEBUFFER);\n      gfx.renderer.setRenderTarget(oldRT);\n      if (result !== context.FRAMEBUFFER_COMPLETE) {\n        this.logger.warn(\"Device doesn't support electron density rendering\");\n        return false;\n      }\n      return true;\n    }\n  }, {\n    key: \"_renderVolume\",\n    value: function _renderVolume(volumeVisual, camera, dstBuf, tmpBuf1, tmpBuf2, tmpBuf3) {\n      var volumeBFMat = new VolumeMaterial$1.BackFacePosMaterial();\n      var volumeFFMat = new VolumeMaterial$1.FrontFacePosMaterial();\n      var cubeOffsetMat = new Matrix4().makeTranslation(0.5, 0.5, 0.5);\n      var world2colorMat = new Matrix4();\n      var volumeRenderingSupported;\n      var gfx = this._gfx;\n      if (typeof volumeRenderingSupported === 'undefined') {\n        volumeRenderingSupported = this._checkVolumeRenderingSupport(tmpBuf1);\n      }\n      if (!volumeRenderingSupported) {\n        return;\n      }\n      var mesh = volumeVisual.getMesh();\n      mesh.rebuild(gfx.camera);\n      gfx.renderer.setClearColor('black', 0);\n      gfx.renderer.setRenderTarget(tmpBuf1);\n      gfx.renderer.clear();\n      gfx.renderer.setRenderTarget(tmpBuf2);\n      gfx.renderer.clear();\n      gfx.renderer.setRenderTarget(tmpBuf3);\n      gfx.renderer.clear();\n      gfx.renderer.setRenderTarget(tmpBuf1);\n      camera.layers.set(gfxutils.LAYERS.VOLUME_BFPLANE);\n      gfx.renderer.render(gfx.scene, camera);\n      camera.layers.set(gfxutils.LAYERS.VOLUME);\n      gfx.scene.overrideMaterial = volumeBFMat;\n      gfx.renderer.render(gfx.scene, camera);\n      gfx.renderer.setRenderTarget(tmpBuf2);\n      camera.layers.set(gfxutils.LAYERS.VOLUME);\n      gfx.scene.overrideMaterial = volumeFFMat;\n      gfx.renderer.render(gfx.scene, camera);\n      gfx.scene.overrideMaterial = null;\n      camera.layers.set(gfxutils.LAYERS.DEFAULT);\n      world2colorMat.copy(mesh.matrixWorld).invert();\n      UberMaterial.prototype.uberOptions.world2colorMatrix.multiplyMatrices(cubeOffsetMat, world2colorMat);\n      camera.layers.set(gfxutils.LAYERS.COLOR_FROM_POSITION);\n      gfx.renderer.setRenderTarget(tmpBuf3);\n      gfx.renderer.render(gfx.scene, camera);\n      var vm = mesh.material;\n      vm.uniforms._BFRight.value = tmpBuf1.texture;\n      vm.uniforms._FFRight.value = tmpBuf2.texture;\n      vm.uniforms._WFFRight.value = tmpBuf3.texture;\n      camera.layers.set(gfxutils.LAYERS.VOLUME);\n      gfx.renderer.setRenderTarget(dstBuf);\n      gfx.renderer.render(gfx.scene, camera);\n      camera.layers.set(gfxutils.LAYERS.DEFAULT);\n    }\n  }, {\n    key: \"_renderWithPrepassTransparency\",\n    value: function _renderWithPrepassTransparency(camera, targetBuffer) {\n      var gfx = this._gfx;\n      gfx.renderer.setRenderTarget(targetBuffer);\n      camera.layers.set(gfxutils.LAYERS.DEFAULT);\n      gfx.renderer.render(gfx.scene, camera);\n      camera.layers.set(gfxutils.LAYERS.PREPASS_TRANSPARENT);\n      gfx.renderer.getContext().colorMask(false, false, false, false);\n      gfx.renderer.render(gfx.scene, camera);\n      gfx.renderer.getContext().colorMask(true, true, true, true);\n      camera.layers.set(gfxutils.LAYERS.TRANSPARENT);\n      gfx.renderer.render(gfx.scene, camera);\n      camera.layers.set(gfxutils.LAYERS.DEFAULT);\n    }\n  }, {\n    key: \"_performFXAA\",\n    value: function _performFXAA(srcBuffer, targetBuffer) {\n      var _fxaaMaterial = new FXAAMaterial();\n      if (typeof srcBuffer === 'undefined' || typeof targetBuffer === 'undefined') {\n        return;\n      }\n      var gfx = this._gfx;\n      gfx.renderer.setClearColor(settings$1.now.bg.color, Number(!settings$1.now.bg.transparent));\n      gfx.renderer.setRenderTarget(targetBuffer);\n      gfx.renderer.clear();\n      _fxaaMaterial.uniforms.srcTex.value = srcBuffer.texture;\n      _fxaaMaterial.uniforms.srcTexelSize.value.set(1.0 / srcBuffer.width, 1.0 / srcBuffer.height);\n      _fxaaMaterial.uniforms.bgColor.value.set(settings$1.now.bg.color);\n      if (_fxaaMaterial.bgTransparent !== settings$1.now.bg.transparent) {\n        _fxaaMaterial.setValues({\n          bgTransparent: settings$1.now.bg.transparent\n        });\n        _fxaaMaterial.needsUpdate = true;\n      }\n      gfx.renderer.renderScreenQuad(_fxaaMaterial);\n    }\n  }, {\n    key: \"_performAO\",\n    value: function _performAO(srcColorBuffer, normalBuffer, srcDepthTexture, targetBuffer, tempBuffer, tempBuffer1) {\n      var _aoMaterial = new AOMaterial();\n      var _horBlurMaterial = new AOHorBlurMaterial();\n      var _vertBlurMaterial = new AOVertBlurWithBlendMaterial();\n      var _scale = new Vector3();\n      if (!srcColorBuffer || !normalBuffer || !srcDepthTexture || !targetBuffer || !tempBuffer || !tempBuffer1) {\n        return;\n      }\n      var gfx = this._gfx;\n      var tanHalfFOV = Math.tan(MathUtils.DEG2RAD * 0.5 * gfx.camera.fov);\n      _aoMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture;\n      _aoMaterial.uniforms.depthTexture.value = srcDepthTexture;\n      _aoMaterial.uniforms.normalTexture.value = normalBuffer.texture;\n      _aoMaterial.uniforms.srcTexelSize.value.set(1.0 / srcColorBuffer.width, 1.0 / srcColorBuffer.height);\n      _aoMaterial.uniforms.camNearFar.value.set(gfx.camera.near, gfx.camera.far);\n      _aoMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix;\n      _aoMaterial.uniforms.aspectRatio.value = gfx.camera.aspect;\n      _aoMaterial.uniforms.tanHalfFOV.value = tanHalfFOV;\n      gfx.root.matrix.extractScale(_scale);\n      _aoMaterial.uniforms.kernelRadius.value = settings$1.now.debug.ssaoKernelRadius * _scale.x;\n      _aoMaterial.uniforms.depthThreshold.value = 2.0 * this._getBSphereRadius();\n      _aoMaterial.uniforms.factor.value = settings$1.now.debug.ssaoFactor;\n      gfx.renderer.setRenderTarget(tempBuffer1);\n      gfx.renderer.renderScreenQuad(_aoMaterial);\n      _horBlurMaterial.uniforms.aoMap.value = tempBuffer1.texture;\n      _horBlurMaterial.uniforms.srcTexelSize.value.set(1.0 / tempBuffer1.width, 1.0 / tempBuffer1.height);\n      _horBlurMaterial.uniforms.depthTexture.value = srcDepthTexture;\n      gfx.renderer.setRenderTarget(tempBuffer);\n      gfx.renderer.renderScreenQuad(_horBlurMaterial);\n      _vertBlurMaterial.uniforms.aoMap.value = tempBuffer.texture;\n      _vertBlurMaterial.uniforms.diffuseTexture.value = srcColorBuffer.texture;\n      _vertBlurMaterial.uniforms.srcTexelSize.value.set(1.0 / tempBuffer.width, 1.0 / tempBuffer.height);\n      _vertBlurMaterial.uniforms.depthTexture.value = srcDepthTexture;\n      _vertBlurMaterial.uniforms.projMatrix.value = gfx.camera.projectionMatrix;\n      _vertBlurMaterial.uniforms.aspectRatio.value = gfx.camera.aspect;\n      _vertBlurMaterial.uniforms.tanHalfFOV.value = tanHalfFOV;\n      var fog = gfx.scene.fog;\n      if (fog) {\n        _vertBlurMaterial.uniforms.fogNearFar.value.set(fog.near, fog.far);\n        _vertBlurMaterial.uniforms.fogColor.value.set(fog.color.r, fog.color.g, fog.color.b, settings$1.now.fogAlpha);\n      }\n      if (_vertBlurMaterial.useFog !== settings$1.now.fog || _vertBlurMaterial.fogTransparent !== settings$1.now.bg.transparent) {\n        _vertBlurMaterial.setValues({\n          useFog: settings$1.now.fog,\n          fogTransparent: settings$1.now.bg.transparent\n        });\n        _vertBlurMaterial.needsUpdate = true;\n      }\n      gfx.renderer.setRenderTarget(targetBuffer);\n      gfx.renderer.renderScreenQuad(_vertBlurMaterial);\n    }\n  }, {\n    key: \"reset\",\n    value: function\n    reset() {\n      if (this._picker) {\n        this._picker.reset();\n      }\n      this._lastPick = null;\n      this._releaseAllVisuals();\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._resetObjects();\n      if (this._gfx) {\n        gfxutils.clearTree(this._gfx.pivot);\n        this._gfx.renderer2d.reset();\n      }\n      this.setNeedRender();\n    }\n  }, {\n    key: \"_resetScene\",\n    value: function _resetScene() {\n      this._objectControls.reset();\n      this._objectControls.allowTranslation(true);\n      this._objectControls.allowAltObjFreeRotation(true);\n      this.resetReps();\n      this.resetPivot();\n      this.rebuildAll();\n    }\n  }, {\n    key: \"resetView\",\n    value: function resetView() {\n      if (this._picker) {\n        this._picker.reset();\n      }\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._resetScene();\n      this._forEachComplexVisual(function (visual) {\n        visual.updateSelectionMask({});\n        visual.rebuildSelectionGeometry();\n      });\n    }\n  }, {\n    key: \"_export\",\n    value: function _export(format) {\n      var TheExporter = head(io.exporters.find({\n        format: format\n      }));\n      if (!TheExporter) {\n        this.logger.error('Could not find suitable exporter for this source');\n        return Promise.reject(new Error('Could not find suitable exporter for this source'));\n      }\n      this.dispatchEvent({\n        type: 'exporting'\n      });\n      if (this._visuals[this._curVisualName] instanceof ComplexVisual) {\n        var dataSource = null;\n        if (TheExporter.SourceClass === ComplexVisual) {\n          dataSource = this._visuals[this._curVisualName];\n        } else if (TheExporter.SourceClass === Complex$9) {\n          dataSource = this._visuals[this._curVisualName]._complex;\n        }\n        var exporter = new TheExporter(dataSource, {\n          miewVersion: Miew.VERSION\n        });\n        return exporter.export().then(function (data) {\n          return data;\n        });\n      }\n      if (this._visuals[this._curVisualName] instanceof VolumeVisual) {\n        return Promise.reject(new Error('Sorry, exporter for volume data not implemented yet'));\n      }\n      return Promise.reject(new Error('Unexpected format of data'));\n    }\n  }, {\n    key: \"load\",\n    value: function load(source, opts) {\n      var _this5 = this;\n      opts = merge({}, opts, {\n        context: this\n      });\n      if (!this.settings.now.use.multiFile) {\n        if (this._loading.length) {\n          this._loading.forEach(function (job) {\n            job.cancel();\n          });\n          this._loading.length = 0;\n        }\n        if (!opts.animation) {\n          this.reset(true);\n        }\n      }\n      this._interpolator.reset();\n      this.dispatchEvent({\n        type: 'loading',\n        options: opts,\n        source: source\n      });\n      var job = new JobHandle();\n      this._loading.push(job);\n      job.addEventListener('notification', function (e) {\n        _this5.dispatchEvent(e.slaveEvent);\n      });\n      this._spinner.spin(this._container);\n      var onLoadEnd = function onLoadEnd(anything) {\n        var jobIndex = _this5._loading.indexOf(job);\n        if (jobIndex !== -1) {\n          _this5._loading.splice(jobIndex, 1);\n        }\n        _this5._spinner.stop();\n        _this5._refreshTitle();\n        job.notify({\n          type: 'loadingDone',\n          anything: anything\n        });\n        return anything;\n      };\n      return _fetchData(source, opts, job).then(function (data) {\n        return _parseData(data, opts, job);\n      }).then(function (object) {\n        var name = _this5._onLoad(object, opts);\n        return onLoadEnd(name);\n      }).catch(function (err) {\n        _this5.logger.error('Could not load data');\n        _this5.logger.debug(err);\n        throw onLoadEnd(err);\n      });\n    }\n  }, {\n    key: \"unload\",\n    value: function unload(name) {\n      this._removeVisual(name || this.getCurrentVisual());\n      this.resetPivot();\n      if (settings$1.now.shadow.on) {\n        this._updateShadowCamera();\n      }\n    }\n  }, {\n    key: \"_startAnimation\",\n    value: function _startAnimation(fileData) {\n      this._stopAnimation();\n      var self = this;\n      var visual = this._getComplexVisual();\n      if (visual === null) {\n        this.logger.error('Unable to start animation - no molecule is loaded.');\n        return;\n      }\n      try {\n        this._frameInfo = new FrameInfo(visual.getComplex(), fileData, {\n          onLoadStatusChanged: function onLoadStatusChanged() {\n            self.dispatchEvent({\n              type: 'mdPlayerStateChanged',\n              state: {\n                isPlaying: self._isAnimating,\n                isLoading: self._frameInfo ? self._frameInfo.isLoading : true\n              }\n            });\n          },\n          onError: function onError(message) {\n            self._stopAnimation();\n            self.logger.error(message);\n          }\n        });\n      } catch (e) {\n        this.logger.error('Animation file does not fit to current complex!');\n        return;\n      }\n      this._continueAnimation();\n    }\n  }, {\n    key: \"_pauseAnimation\",\n    value: function _pauseAnimation() {\n      if (this._animInterval === null) {\n        return;\n      }\n      this._isAnimating = false;\n      clearInterval(this._animInterval);\n      this._animInterval = null;\n      if (this._frameInfo) {\n        this.dispatchEvent({\n          type: 'mdPlayerStateChanged',\n          state: {\n            isPlaying: this._isAnimating,\n            isLoading: this._frameInfo.isLoading\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_continueAnimation\",\n    value: function _continueAnimation() {\n      this._isAnimating = true;\n      var minFrameTime = 1000 / settings$1.now.maxfps;\n      minFrameTime = Number.isNaN(minFrameTime) ? 0 : minFrameTime;\n      var self = this;\n      var pivot = self._gfx.pivot;\n      var visual = this._getComplexVisual();\n      if (visual) {\n        visual.resetSelectionMask();\n        visual.rebuildSelectionGeometry();\n        this._msgAtomInfo.style.opacity = 0.0;\n      }\n      this._animInterval = setInterval(function () {\n        self.dispatchEvent({\n          type: 'mdPlayerStateChanged',\n          state: {\n            isPlaying: self._isAnimating,\n            isLoading: self._frameInfo.isLoading\n          }\n        });\n        if (self._frameInfo.frameIsReady) {\n          pivot.updateToFrame(self._frameInfo);\n          self._updateObjsToFrame(self._frameInfo);\n          self._refreshTitle(\" Frame \".concat(self._frameInfo._currFrame, \" of \").concat(self._frameInfo._framesCount, \" time interval - \").concat(self._frameInfo._timeStep));\n          try {\n            self._frameInfo.nextFrame();\n          } catch (e) {\n            self.logger.error('Error during animation');\n            self._stopAnimation();\n            return;\n          }\n          self._needRender = true;\n        }\n      }, minFrameTime);\n    }\n  }, {\n    key: \"_stopAnimation\",\n    value: function _stopAnimation() {\n      if (this._animInterval === null) {\n        return;\n      }\n      clearInterval(this._animInterval);\n      this._frameInfo.disableEvents();\n      this._frameInfo = null;\n      this._animInterval = null;\n      this.dispatchEvent({\n        type: 'mdPlayerStateChanged',\n        state: null\n      });\n    }\n  }, {\n    key: \"_onLoad\",\n    value: function _onLoad(dataSource, opts) {\n      var gfx = this._gfx;\n      var visualName = null;\n      if (opts.animation) {\n        this._refreshTitle();\n        this._startAnimation(dataSource);\n        return null;\n      }\n      this._stopAnimation();\n      if (!opts || !opts.keepRepsInfo) {\n        this._opts.reps = null;\n        this._opts._objects = null;\n      }\n      if (dataSource.id === 'Complex') {\n        var complex = dataSource;\n        if (opts.fileName) {\n          complex.name = complex.name || removeExtension(opts.fileName).toUpperCase();\n        } else if (opts.amberFileName) {\n          complex.name = complex.name || removeExtension(opts.amberFileName).toUpperCase();\n        } else {\n          complex.name = \"Dynamic \".concat(opts.fileType, \" molecule\");\n        }\n        visualName = this._addVisual(new ComplexVisual(complex.name, complex));\n        this._curVisualName = visualName;\n        var desc = this.info();\n        this.logger.info(\"Parsed \".concat(opts.fileName, \" (\").concat(desc.atoms, \" atoms, \").concat(desc.bonds, \" bonds, \").concat(desc.residues, \" residues, \").concat(desc.chains, \" chains).\"));\n        if (isNumber(this._opts.unit)) {\n          complex.setCurrentUnit(this._opts.unit);\n        }\n        if (opts.preset) ; else if (settings$1.now.autoPreset) {\n          switch (opts.fileType) {\n            case 'cml':\n              this.resetReps('small');\n              break;\n            case 'pdb':\n            case 'mmtf':\n            case 'cif':\n              if (hasValidResidues(complex)) {\n                this.resetReps('macro');\n              } else {\n                this.resetReps('small');\n              }\n              break;\n            default:\n              this.resetReps('default');\n              break;\n          }\n        } else {\n          this.resetReps('default');\n        }\n      } else if (dataSource.id === 'Volume') {\n        this.resetEd();\n        visualName = this._onLoadEd(dataSource);\n      }\n      gfx.camera.updateProjectionMatrix();\n      this._updateFog();\n      gfx.root.resetTransform();\n      this.resetPivot();\n      this._objectControls.setScale(settings$1.now.radiusToFit / this._getBSphereRadius());\n      this._resetObjects();\n      if (settings$1.now.autoResolution) {\n        this._tweakResolution();\n      }\n      if (settings$1.now.shadow.on) {\n        this._updateShadowCamera();\n      }\n      if (this._opts.view) {\n        this.view(this._opts.view);\n        delete this._opts.view;\n      }\n      this._refreshTitle();\n      return visualName;\n    }\n  }, {\n    key: \"resetEd\",\n    value: function resetEd() {\n      if (this._edLoader) {\n        this._edLoader.abort();\n        this._edLoader = null;\n      }\n      this._removeVisual(this._getVolumeVisual());\n      this._needRender = true;\n    }\n  }, {\n    key: \"loadEd\",\n    value: function loadEd(source) {\n      var _this6 = this;\n      this.resetEd();\n      var TheLoader = head(io.loaders.find({\n        source: source\n      }));\n      if (!TheLoader) {\n        this.logger.error(LOADER_NOT_FOUND);\n        return Promise.reject(new Error(LOADER_NOT_FOUND));\n      }\n      var loader = this._edLoader = new TheLoader(source, {\n        binary: true\n      });\n      loader.context = this;\n      return loader.load().then(function (data) {\n        var TheParser = head(io.parsers.find({\n          format: 'ccp4'\n        }));\n        if (!TheParser) {\n          throw new Error(PARSER_NOT_FOUND);\n        }\n        var parser = new TheParser(data);\n        parser.context = _this6;\n        return parser.parse().then(function (dataSource) {\n          _this6._onLoadEd(dataSource);\n        });\n      }).catch(function (error) {\n        _this6.logger.error('Could not load ED data');\n        _this6.logger.debug(error);\n      });\n    }\n  }, {\n    key: \"_onLoadEd\",\n    value: function _onLoadEd(dataSource) {\n      dataSource.normalize();\n      var volumeVisual = new VolumeVisual('volume', dataSource);\n      volumeVisual.getMesh().layers.set(gfxutils.LAYERS.VOLUME);\n      var visualName = this._addVisual(volumeVisual);\n      this._needRender = true;\n      return visualName;\n    }\n  }, {\n    key: \"_needRebuild\",\n    value: function _needRebuild() {\n      var needsRebuild = false;\n      this._forEachComplexVisual(function (visual) {\n        needsRebuild = needsRebuild || visual.needsRebuild();\n      });\n      return needsRebuild;\n    }\n  }, {\n    key: \"_rebuildObjects\",\n    value: function _rebuildObjects() {\n      var self = this;\n      var gfx = this._gfx;\n      var i;\n      var n;\n      var toRemove = [];\n      for (i = 0; i < gfx.pivot.children.length; ++i) {\n        var child = gfx.pivot.children[i];\n        if (!(child instanceof Visual)) {\n          toRemove.push(child);\n        }\n      }\n      for (i = 0; i < toRemove.length; ++i) {\n        toRemove[i].parent.remove(toRemove[i]);\n      }\n      setTimeout(function () {\n        var objList = self._objects;\n        for (i = 0, n = objList.length; i < n; ++i) {\n          var obj = objList[i];\n          if (obj.needsRebuild) {\n            obj.build();\n          }\n          if (obj.getGeometry()) {\n            gfx.pivot.add(obj.getGeometry());\n          }\n        }\n      }, 10);\n    }\n  }, {\n    key: \"changeUnit\",\n    value: function changeUnit(unitIdx, name) {\n      var visual = this._getComplexVisual(name);\n      if (!visual) {\n        throw new Error('There is no complex to change!');\n      }\n      function currentUnitInfo() {\n        var unit = visual ? visual.getComplex().getCurrentUnit() : 0;\n        var type = unit > 0 ? \"Bio molecule \".concat(unit) : 'Asymmetric unit';\n        return \"Current unit: \".concat(unit, \" (\").concat(type, \")\");\n      }\n      if (unitIdx === undefined) {\n        return currentUnitInfo();\n      }\n      if (isString(unitIdx)) {\n        unitIdx = Math.max(parseInt(unitIdx, 10), 0);\n      }\n      if (visual.getComplex().setCurrentUnit(unitIdx)) {\n        this._resetScene();\n        this._updateInfoPanel();\n      }\n      return currentUnitInfo();\n    }\n  }, {\n    key: \"rebuild\",\n    value: function rebuild() {\n      var _this7 = this;\n      if (this._building) {\n        this.logger.warn('Miew.rebuild(): already building!');\n        return;\n      }\n      this._building = true;\n      this.dispatchEvent({\n        type: 'rebuilding'\n      });\n      this._rebuildObjects();\n      this._gfx.renderer2d.reset();\n      var rebuildActions = [];\n      this._forEachComplexVisual(function (visual) {\n        if (visual.needsRebuild()) {\n          rebuildActions.push(visual.rebuild().then(function () {\n            return new Promise(function (resolve) {\n              visual.rebuildSelectionGeometry();\n              resolve();\n            });\n          }));\n        }\n      });\n      var self = this;\n      this._spinner.spin(this._container);\n      Promise.all(rebuildActions).then(function () {\n        self._spinner.stop();\n        self._needRender = true;\n        self._refreshTitle();\n        _this7.dispatchEvent({\n          type: 'buildingDone'\n        });\n        self._building = false;\n      });\n    }\n  }, {\n    key: \"rebuildAll\",\n    value: function rebuildAll() {\n      this._forEachComplexVisual(function (visual) {\n        visual.setNeedsRebuild();\n      });\n    }\n  }, {\n    key: \"_refreshTitle\",\n    value: function _refreshTitle(appendix) {\n      var title;\n      appendix = appendix === undefined ? '' : appendix;\n      var visual = this._getComplexVisual();\n      if (visual) {\n        title = visual.getComplex().name;\n        var rep = visual.repGet(visual.repCurrent());\n        title += rep ? \" \\u2013 \".concat(rep.mode.name, \" Mode\") : '';\n      } else {\n        title = Object.keys(this._visuals).length > 0 ? 'Unknown' : 'No Data';\n      }\n      title += appendix;\n      this.dispatchEvent({\n        type: 'titleChanged',\n        data: title\n      });\n    }\n  }, {\n    key: \"setNeedRender\",\n    value: function setNeedRender() {\n      this._needRender = true;\n    }\n  }, {\n    key: \"_extractRepresentation\",\n    value: function _extractRepresentation() {\n      var _this8 = this;\n      var changed = [];\n      this._forEachComplexVisual(function (visual) {\n        if (visual.getSelectionCount() === 0) {\n          return;\n        }\n        var selector = visual.buildSelectorFromMask(1 << visual.getSelectionBit());\n        var defPreset = settings$1.now.presets.default;\n        var res = visual.repAdd({\n          selector: selector,\n          mode: defPreset[0].mode.id,\n          colorer: defPreset[0].colorer.id,\n          material: defPreset[0].material.id\n        });\n        if (!res) {\n          if (visual.repCount() === ComplexVisual.NUM_REPRESENTATION_BITS) {\n            _this8.logger.warn(\"Number of representations is limited to \".concat(ComplexVisual.NUM_REPRESENTATION_BITS));\n          }\n          return;\n        }\n        _this8.dispatchEvent({\n          type: 'repAdded',\n          index: res.index,\n          name: visual.name\n        });\n        visual.repCurrent(res.index);\n        changed.push(visual.name);\n      });\n      if (changed.length > 0) {\n        this.logger.report(\"New representation from selection for complexes: \".concat(changed.join(', ')));\n      }\n    }\n  }, {\n    key: \"_setReps\",\n    value: function _setReps(reps) {\n      reps = reps || this._opts && this._opts.reps || [];\n      this._forEachComplexVisual(function (visual) {\n        return visual.resetReps(reps);\n      });\n    }\n  }, {\n    key: \"applyPreset\",\n    value: function applyPreset(preset) {\n      var presets = settings$1.now.presets;\n      var presList = [preset || settings$1.defaults.preset, settings$1.defaults.preset, Object.keys(presets)[0]];\n      var reps = null;\n      for (var i = 0; !reps && i < presList.length; ++i) {\n        settings$1.set('preset', presList[i]);\n        reps = presets[settings$1.now.preset];\n        if (!reps) {\n          this.logger.warn(\"Unknown preset \\\"\".concat(settings$1.now.preset, \"\\\"\"));\n        }\n      }\n      this._setReps(reps);\n    }\n  }, {\n    key: \"resetReps\",\n    value: function resetReps(preset) {\n      var reps = this._opts && this._opts.reps;\n      if (reps) {\n        this._setReps(reps);\n      } else {\n        this.applyPreset(preset);\n      }\n    }\n  }, {\n    key: \"repCount\",\n    value: function repCount(name) {\n      var visual = this._getComplexVisual(name);\n      return visual ? visual.repCount() : 0;\n    }\n  }, {\n    key: \"repCurrent\",\n    value: function repCurrent(index, name) {\n      var visual = this._getComplexVisual(name);\n      var newIdx = visual ? visual.repCurrent(index) : -1;\n      if (index && newIdx !== index) {\n        this.logger.warn(\"Representation \".concat(index, \" was not found. Current rep remains unchanged.\"));\n      }\n      return newIdx;\n    }\n  }, {\n    key: \"rep\",\n    value: function rep(index, _rep) {\n      var visual = this._getComplexVisual('');\n      if (!visual) {\n        return null;\n      }\n      var res = visual.rep(index, _rep);\n      if (res.status === 'created') {\n        this.dispatchEvent({\n          type: 'repAdded',\n          index: res.index,\n          name: visual.name\n        });\n      } else if (res.status === 'changed') {\n        this.dispatchEvent({\n          type: 'repChanged',\n          index: res.index,\n          name: visual.name\n        });\n      }\n      return res.desc;\n    }\n  }, {\n    key: \"repGet\",\n    value: function repGet(index, name) {\n      var visual = this._getComplexVisual(name);\n      return visual ? visual.repGet(index) : null;\n    }\n  }, {\n    key: \"repAdd\",\n    value: function repAdd(rep, name) {\n      var visual = this._getComplexVisual(name);\n      if (!visual) {\n        return -1;\n      }\n      var res = visual.repAdd(rep);\n      if (res) {\n        this.dispatchEvent({\n          type: 'repAdded',\n          index: res.index,\n          name: name\n        });\n        return res.index;\n      }\n      return -1;\n    }\n  }, {\n    key: \"repRemove\",\n    value: function repRemove(index, name) {\n      var visual = this._getComplexVisual(name);\n      if (!visual) {\n        return;\n      }\n      visual.repRemove(index);\n      this.dispatchEvent({\n        type: 'repRemoved',\n        index: index,\n        name: name\n      });\n    }\n  }, {\n    key: \"repHide\",\n    value: function repHide(index, hide, name) {\n      this._needRender = true;\n      var visual = this._getComplexVisual(name);\n      return visual ? visual.repHide(index, hide) : null;\n    }\n  }, {\n    key: \"_setEditMode\",\n    value: function _setEditMode(mode) {\n      this._editMode = mode;\n      var elem = this._msgMode;\n      if (elem) {\n        elem.style.opacity = mode === EDIT_MODE.COMPLEX ? 0.0 : 1.0;\n        if (mode !== EDIT_MODE.COMPLEX) {\n          var t = elem.getElementsByTagName('p')[0];\n          t.innerHTML = mode === EDIT_MODE.COMPONENT ? 'COMPONENT EDIT MODE' : 'FRAGMENT EDIT MODE';\n        }\n      }\n      this.dispatchEvent({\n        type: 'editModeChanged',\n        data: mode === EDIT_MODE.COMPLEX\n      });\n    }\n  }, {\n    key: \"_enterComponentEditMode\",\n    value: function _enterComponentEditMode() {\n      if (this._editMode !== EDIT_MODE.COMPLEX) {\n        return;\n      }\n      var editors = [];\n      this._forEachComplexVisual(function (visual) {\n        var editor = visual.beginComponentEdit();\n        if (editor) {\n          editors.push(editor);\n        }\n      });\n      if (editors === []) {\n        return;\n      }\n      this._editors = editors;\n      this.logger.info('COMPONENT EDIT MODE -- ON');\n      this._setEditMode(EDIT_MODE.COMPONENT);\n      this._objectControls.keysTranslateObj(true);\n    }\n  }, {\n    key: \"_applyComponentEdit\",\n    value: function _applyComponentEdit() {\n      if (this._editMode !== EDIT_MODE.COMPONENT) {\n        return;\n      }\n      this._objectControls.stop();\n      this._objectControls.keysTranslateObj(false);\n      for (var i = 0; i < this._editors.length; ++i) {\n        this._editors[i].apply();\n      }\n      this._editors = [];\n      this.logger.info('COMPONENT EDIT MODE -- OFF (applied)');\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this.rebuildAll();\n    }\n  }, {\n    key: \"_discardComponentEdit\",\n    value: function _discardComponentEdit() {\n      if (this._editMode !== EDIT_MODE.COMPONENT) {\n        return;\n      }\n      this._objectControls.stop();\n      this._objectControls.keysTranslateObj(false);\n      for (var i = 0; i < this._editors.length; ++i) {\n        this._editors[i].discard();\n      }\n      this._editors = [];\n      this.logger.info('COMPONENT EDIT MODE -- OFF (discarded)');\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._needRender = true;\n      this.rebuildAll();\n    }\n  }, {\n    key: \"_enterFragmentEditMode\",\n    value: function _enterFragmentEditMode() {\n      if (this._editMode !== EDIT_MODE.COMPLEX) {\n        return;\n      }\n      var selectedVisuals = [];\n      this._forEachComplexVisual(function (visual) {\n        if (visual instanceof ComplexVisual && visual.getSelectionCount() > 0) {\n          selectedVisuals.push(visual);\n        }\n      });\n      if (selectedVisuals.length !== 1) {\n        return;\n      }\n      var editor = selectedVisuals[0].beginFragmentEdit();\n      if (!editor) {\n        return;\n      }\n      this._editors = [editor];\n      this.logger.info('FRAGMENT EDIT MODE -- ON (single bond)');\n      this._setEditMode(EDIT_MODE.FRAGMENT);\n      this._objectControls.allowTranslation(false);\n      this._objectControls.allowAltObjFreeRotation(editor.isFreeRotationAllowed());\n      this._needRender = true;\n    }\n  }, {\n    key: \"_applyFragmentEdit\",\n    value: function _applyFragmentEdit() {\n      if (this._editMode !== EDIT_MODE.FRAGMENT) {\n        return;\n      }\n      this._objectControls.stop();\n      for (var i = 0; i < this._editors.length; ++i) {\n        this._editors[i].apply();\n      }\n      this._editors = [];\n      this.logger.info('FRAGMENT EDIT MODE -- OFF (applied)');\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._objectControls.allowTranslation(true);\n      this._objectControls.allowAltObjFreeRotation(true);\n      this.rebuildAll();\n    }\n  }, {\n    key: \"_discardFragmentEdit\",\n    value: function _discardFragmentEdit() {\n      if (this._editMode !== EDIT_MODE.FRAGMENT) {\n        return;\n      }\n      this._objectControls.stop();\n      for (var i = 0; i < this._editors.length; ++i) {\n        this._editors[i].discard();\n      }\n      this._editors = [];\n      this.logger.info('FRAGMENT EDIT MODE -- OFF (discarded)');\n      this._setEditMode(EDIT_MODE.COMPLEX);\n      this._objectControls.allowTranslation(true);\n      this._objectControls.allowAltObjFreeRotation(true);\n      this._needRender = true;\n    }\n  }, {\n    key: \"_onPick\",\n    value: function _onPick(event) {\n      if (!settings$1.now.picking) {\n        return;\n      }\n      if (this._animInterval !== null) {\n        return;\n      }\n      if (this._editMode === EDIT_MODE.FRAGMENT) {\n        return;\n      }\n      if (this._objectControls.isEditingAltObj()) {\n        return;\n      }\n      var complex = null;\n      if (event.obj.atom) {\n        complex = event.obj.atom.residue.getChain().getComplex();\n        this._lastPick = event.obj.atom;\n      } else if (event.obj.residue) {\n        complex = event.obj.residue.getChain().getComplex();\n        this._lastPick = event.obj.residue;\n      } else if (event.obj.chain) {\n        complex = event.obj.chain.getComplex();\n        this._lastPick = event.obj.chain;\n      } else if (event.obj.molecule) {\n        complex = event.obj.molecule.complex;\n        this._lastPick = event.obj.molecule;\n      } else {\n        this._lastPick = null;\n      }\n      function _updateSelection(visual) {\n        visual.updateSelectionMask(event.obj);\n        visual.rebuildSelectionGeometry();\n      }\n      if (complex) {\n        var visual = this._getVisualForComplex(complex);\n        if (visual) {\n          _updateSelection(visual);\n          this._needRender = true;\n        }\n      } else {\n        this._forEachComplexVisual(_updateSelection);\n        this._needRender = true;\n      }\n      this._updateInfoPanel();\n      this.dispatchEvent(event);\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this._running || !this._hotKeysEnabled) {\n        return;\n      }\n      switch (event.keyCode) {\n        case 'C'.charCodeAt(0):\n          if (settings$1.now.editing) {\n            this._enterComponentEditMode();\n          }\n          break;\n        case 'F'.charCodeAt(0):\n          if (settings$1.now.editing) {\n            this._enterFragmentEditMode();\n          }\n          break;\n        case 'A'.charCodeAt(0):\n          switch (this._editMode) {\n            case EDIT_MODE.COMPONENT:\n              this._applyComponentEdit();\n              break;\n            case EDIT_MODE.FRAGMENT:\n              this._applyFragmentEdit();\n              break;\n          }\n          break;\n        case 'D'.charCodeAt(0):\n          switch (this._editMode) {\n            case EDIT_MODE.COMPONENT:\n              this._discardComponentEdit();\n              break;\n            case EDIT_MODE.FRAGMENT:\n              this._discardFragmentEdit();\n              break;\n          }\n          break;\n        case 'S'.charCodeAt(0):\n          event.preventDefault();\n          event.stopPropagation();\n          settings$1.set('ao', !settings$1.now.ao);\n          this._needRender = true;\n          break;\n        case 107:\n          event.preventDefault();\n          event.stopPropagation();\n          this._forEachComplexVisual(function (visual) {\n            visual.expandSelection();\n            visual.rebuildSelectionGeometry();\n          });\n          this._updateInfoPanel();\n          this._needRender = true;\n          break;\n        case 109:\n          event.preventDefault();\n          event.stopPropagation();\n          this._forEachComplexVisual(function (visual) {\n            visual.shrinkSelection();\n            visual.rebuildSelectionGeometry();\n          });\n          this._updateInfoPanel();\n          this._needRender = true;\n          break;\n      }\n    }\n  }, {\n    key: \"_onKeyUp\",\n    value: function _onKeyUp(event) {\n      if (!this._running || !this._hotKeysEnabled) {\n        return;\n      }\n      if (event.keyCode === 'X'.charCodeAt(0)) {\n        this._extractRepresentation();\n      }\n    }\n  }, {\n    key: \"_updateInfoPanel\",\n    value: function _updateInfoPanel() {\n      var info = this._msgAtomInfo.getElementsByTagName('p')[0];\n      var atom;\n      var residue;\n      var count = 0;\n      this._forEachComplexVisual(function (visual) {\n        count += visual.getSelectionCount();\n      });\n      while (info.firstChild) {\n        info.removeChild(info.firstChild);\n      }\n      if (count === 0) {\n        this._msgAtomInfo.style.opacity = 0.0;\n        return;\n      }\n      var firstLine = \"\".concat(String(count), \" atom\").concat(count !== 1 ? 's' : '', \" selected\");\n      if (this._lastPick !== null) {\n        firstLine += ', the last pick:';\n      }\n      var secondLine = '';\n      var aName = '';\n      var coordLine = '';\n      if (this._lastPick instanceof Atom) {\n        atom = this._lastPick;\n        residue = atom.residue;\n        aName = atom.name;\n        var location = atom.location !== 32 ? String.fromCharCode(atom.location) : '';\n        secondLine = \"\".concat(atom.element.fullName, \" #\").concat(atom.serial).concat(location, \":       \").concat(residue._chain._name, \".\").concat(residue._type._name).concat(residue._sequence).concat(residue._icode.trim(), \".\");\n        secondLine += aName;\n        coordLine = \"Coord: (\".concat(atom.position.x.toFixed(2).toString(), \",     \").concat(atom.position.y.toFixed(2).toString(), \",     \").concat(atom.position.z.toFixed(2).toString(), \")\");\n      } else if (this._lastPick instanceof Residue) {\n        residue = this._lastPick;\n        secondLine = \"\".concat(residue._type._fullName, \":       \").concat(residue._chain._name, \".\").concat(residue._type._name).concat(residue._sequence).concat(residue._icode.trim());\n      } else if (this._lastPick instanceof Chain) {\n        secondLine = \"chain \".concat(this._lastPick._name);\n      } else if (this._lastPick instanceof Molecule) {\n        secondLine = \"molecule \".concat(this._lastPick._name);\n      }\n      info.appendChild(document.createTextNode(firstLine));\n      if (secondLine !== '') {\n        info.appendChild(document.createElement('br'));\n        info.appendChild(document.createTextNode(secondLine));\n      }\n      if (coordLine !== '') {\n        info.appendChild(document.createElement('br'));\n        info.appendChild(document.createTextNode(coordLine));\n      }\n      this._msgAtomInfo.style.opacity = 1.0;\n    }\n  }, {\n    key: \"_getAltObj\",\n    value: function _getAltObj() {\n      if (this._editors) {\n        var altObj = null;\n        for (var i = 0; i < this._editors.length; ++i) {\n          var nextAltObj = this._editors[i].getAltObj();\n          if (nextAltObj.objects.length > 0) {\n            if (altObj) {\n              altObj = null;\n              break;\n            }\n            altObj = nextAltObj;\n          }\n        }\n        if (altObj) {\n          return altObj;\n        }\n      }\n      return {\n        objects: [],\n        pivot: new Vector3(0, 0, 0)\n      };\n    }\n  }, {\n    key: \"resetPivot\",\n    value: function resetPivot() {\n      var boundingBox = new Box3();\n      var center = new Vector3();\n      boundingBox.makeEmpty();\n      this._forEachVisual(function (visual) {\n        boundingBox.union(visual.getBoundaries().boundingBox);\n      });\n      boundingBox.getCenter(center);\n      this._objectControls.setPivot(center.negate());\n      this.dispatchEvent({\n        type: 'transform'\n      });\n    }\n  }, {\n    key: \"setPivotResidue\",\n    value: function setPivotResidue(residue) {\n      var center = new Vector3();\n      var visual = this._getVisualForComplex(residue.getChain().getComplex());\n      if (!visual) {\n        return;\n      }\n      if (residue._controlPoint) {\n        center.copy(residue._controlPoint);\n      } else {\n        var x = 0;\n        var y = 0;\n        var z = 0;\n        var amount = residue._atoms.length;\n        for (var i = 0; i < amount; ++i) {\n          var p = residue._atoms[i].position;\n          x += p.x / amount;\n          y += p.y / amount;\n          z += p.z / amount;\n        }\n        center.set(x, y, z);\n      }\n      center.applyMatrix4(visual.matrix).negate();\n      this._objectControls.setPivot(center);\n      this.dispatchEvent({\n        type: 'transform'\n      });\n    }\n  }, {\n    key: \"setPivotAtom\",\n    value: function setPivotAtom(atom) {\n      var center = new Vector3();\n      var visual = this._getVisualForComplex(atom.residue.getChain().getComplex());\n      if (!visual) {\n        return;\n      }\n      center.copy(atom.position);\n      center.applyMatrix4(visual.matrix).negate();\n      this._objectControls.setPivot(center);\n      this.dispatchEvent({\n        type: 'transform'\n      });\n    }\n  }, {\n    key: \"getSelectionCenter\",\n    value: function getSelectionCenter(center, includesAtom, selector) {\n      var _centerInVisual = new Vector3(0.0, 0.0, 0.0);\n      center.set(0.0, 0.0, 0.0);\n      var count = 0;\n      this._forEachComplexVisual(function (visual) {\n        if (visual.getSelectionCenter(_centerInVisual, includesAtom, selector || visual.getSelectionBit())) {\n          center.add(_centerInVisual);\n          count++;\n        }\n      });\n      if (count === 0) {\n        return false;\n      }\n      center.divideScalar(count);\n      center.negate();\n      return true;\n    }\n  }, {\n    key: \"setPivotSubset\",\n    value: function setPivotSubset(selector) {\n      var _center = new Vector3(0.0, 0.0, 0.0);\n      var includesAtom = selector ? _includesInSelector : _includesInCurSelection;\n      if (this.getSelectionCenter(_center, includesAtom, selector)) {\n        this._objectControls.setPivot(_center);\n        this.dispatchEvent({\n          type: 'transform'\n        });\n      } else {\n        this.logger.warn('selection is empty. Center operation not performed');\n      }\n    }\n  }, {\n    key: \"screenshot\",\n    value: function screenshot(width, height) {\n      var gfx = this._gfx;\n      var deviceWidth = gfx.renderer.domElement.width;\n      var deviceHeight = gfx.renderer.domElement.height;\n      function fov2Tan(fov) {\n        return Math.tan(MathUtils.degToRad(0.5 * fov));\n      }\n      function tan2Fov(tan) {\n        return MathUtils.radToDeg(Math.atan(tan)) * 2.0;\n      }\n      function getDataURL() {\n        var dataURL;\n        var currBrowser = utils.getBrowser();\n        if (currBrowser === utils.browserType.SAFARI) {\n          var canvas = document.createElement('canvas');\n          var canvasContext = canvas.getContext('2d');\n          canvas.width = width === undefined ? deviceWidth : width;\n          canvas.height = height === undefined ? deviceHeight : height;\n          canvasContext.drawImage(gfx.renderer.domElement, 0, 0, canvas.width, canvas.height);\n          dataURL = canvas.toDataURL('image/png');\n        } else {\n          dataURL = gfx.renderer.domElement.toDataURL('image/png');\n        }\n        return dataURL;\n      }\n      height = height || width;\n      var screenshotURI;\n      if (width === undefined && height === undefined || width === deviceWidth && height === deviceHeight) {\n        screenshotURI = getDataURL();\n      } else {\n        var originalAspect = gfx.camera.aspect;\n        var originalFov = gfx.camera.fov;\n        var originalTanFov2 = fov2Tan(gfx.camera.fov);\n        var areaOfInterestSize = Math.min(gfx.width, gfx.height);\n        var areaOfInterestTanFov2 = originalTanFov2 * areaOfInterestSize / gfx.height;\n        var shotAspect = width / height;\n        gfx.renderer.setPixelRatio(1);\n        gfx.camera.aspect = shotAspect;\n        gfx.camera.fov = tan2Fov(areaOfInterestTanFov2 / Math.min(shotAspect, 1.0));\n        gfx.camera.updateProjectionMatrix();\n        gfx.renderer.setDrawingBufferSize(width, height, 1);\n        this._renderFrame(settings$1.now.stereo);\n        screenshotURI = getDataURL();\n        gfx.renderer.setPixelRatio(window.devicePixelRatio);\n        gfx.camera.aspect = originalAspect;\n        gfx.camera.fov = originalFov;\n        gfx.camera.updateProjectionMatrix();\n        gfx.renderer.setDrawingBufferSize(gfx.width, gfx.height, window.devicePixelRatio);\n        this._needRender = true;\n      }\n      return screenshotURI;\n    }\n  }, {\n    key: \"screenshotSave\",\n    value: function screenshotSave(filename, width, height) {\n      var uri = this.screenshot(width, height);\n      utils.shotDownload(uri, filename);\n    }\n  }, {\n    key: \"save\",\n    value: function save(opts) {\n      var _this9 = this;\n      this._export(opts.fileType).then(function (dataString) {\n        var filename = _this9._visuals[_this9._curVisualName]._complex.name;\n        utils.download(dataString, filename, opts.fileType);\n        _this9._refreshTitle();\n        _this9.dispatchEvent({\n          type: 'exportingDone'\n        });\n      }).catch(function (error) {\n        _this9.logger.error('Could not export data');\n        _this9.logger.debug(error);\n        _this9._refreshTitle();\n        _this9.dispatchEvent({\n          type: 'exportingDone',\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"_tweakResolution\",\n    value: function _tweakResolution() {\n      var maxPerf = [['poor', 100], ['low', 500], ['medium', 1000], ['high', 5000], ['ultra', Number.MAX_VALUE]];\n      var atomCount = 0;\n      this._forEachComplexVisual(function (visual) {\n        atomCount += visual.getComplex().getAtomCount();\n      });\n      if (atomCount > 0) {\n        var performance = this._gfxScore * 10e5 / atomCount;\n        for (var i = 0; i < maxPerf.length; ++i) {\n          if (performance < maxPerf[i][1]) {\n            this._autoChangeResolution(maxPerf[i][0]);\n            break;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_autoChangeResolution\",\n    value: function _autoChangeResolution(resolution) {\n      if (resolution !== settings$1.now.resolution) {\n        this.logger.report(\"Your rendering resolution was changed to \\\"\".concat(resolution, \"\\\" for best performance.\"));\n      }\n      settings$1.now.resolution = resolution;\n    }\n  }, {\n    key: \"saveSettings\",\n    value: function saveSettings() {\n      this._cookies.setCookie(this._opts.settingsCookie, JSON.stringify(this.settings.getDiffs(true)));\n    }\n  }, {\n    key: \"restoreSettings\",\n    value: function restoreSettings() {\n      try {\n        var cookie = this._cookies.getCookie(this._opts.settingsCookie);\n        var diffs = cookie ? JSON.parse(cookie) : {};\n        this.settings.applyDiffs(diffs, true);\n      } catch (e) {\n        this.logger.error(\"Cookies parse error: \".concat(e.message));\n      }\n    }\n  }, {\n    key: \"resetSettings\",\n    value: function resetSettings() {\n      this.settings.reset();\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(opts) {\n      if (typeof opts === 'string') {\n        opts = Miew.options.fromAttr(opts);\n      }\n      if (opts.reps) {\n        this._opts.reps = null;\n      }\n      merge(this._opts, opts);\n      if (opts.settings) {\n        this.set(opts.settings);\n      }\n      this._opts._objects = opts._objects;\n      this._resetObjects();\n      if (opts.load) {\n        this.load(opts.load, {\n          fileType: opts.type\n        });\n      }\n      if (opts.preset) {\n        settings$1.now.preset = opts.preset;\n      }\n      if (opts.reps) {\n        this.resetReps(opts.preset);\n      }\n      if (this._opts.view) {\n        this.view(this._opts.view);\n        delete this._opts.view;\n      }\n      var visual = this._getComplexVisual();\n      if (visual) {\n        visual.getComplex().resetCurrentUnit();\n        if (isNumber(opts.unit)) {\n          visual.getComplex().setCurrentUnit(opts.unit);\n        }\n        this.resetView();\n        this.rebuildAll();\n      }\n    }\n  }, {\n    key: \"info\",\n    value: function info(name) {\n      var visual = this._getComplexVisual(name);\n      if (!visual) {\n        return {};\n      }\n      var complex = visual.getComplex();\n      var metadata = complex.metadata;\n      return {\n        id: metadata.id || complex.name || 'UNKNOWN',\n        title: metadata.title && metadata.title.join(' ') || 'UNKNOWN DATA',\n        atoms: complex.getAtomCount(),\n        bonds: complex.getBondCount(),\n        residues: complex.getResidueCount(),\n        chains: complex.getChainCount()\n      };\n    }\n  }, {\n    key: \"addObject\",\n    value: function addObject(objData, bThrow) {\n      var Ctor = null;\n      if (objData.type === LinesObj.prototype.type) {\n        Ctor = LinesObj;\n      }\n      if (Ctor === null) {\n        throw new Error(\"Unknown scene object type - \".concat(objData.type));\n      }\n      try {\n        var newObj = new Ctor(objData.params, objData.opts);\n        this._addSceneObject(newObj);\n      } catch (error) {\n        if (!bThrow) {\n          this.logger.debug(\"Error during scene object creation: \".concat(error.message));\n        } else {\n          throw error;\n        }\n      }\n      this._needRender = true;\n    }\n  }, {\n    key: \"_addSceneObject\",\n    value: function _addSceneObject(sceneObject) {\n      var visual = this._getComplexVisual();\n      if (sceneObject.build && visual) {\n        sceneObject.build(visual.getComplex());\n        this._gfx.pivot.add(sceneObject.getGeometry());\n      }\n      var objects = this._objects;\n      objects[objects.length] = sceneObject;\n    }\n  }, {\n    key: \"_updateObjsToFrame\",\n    value: function _updateObjsToFrame(frameData) {\n      var objs = this._objects;\n      for (var i = 0, n = objs.length; i < n; ++i) {\n        if (objs[i].updateToFrame) {\n          objs[i].updateToFrame(frameData);\n        }\n      }\n    }\n  }, {\n    key: \"_resetObjects\",\n    value: function _resetObjects() {\n      var objs = this._opts._objects;\n      this._objects = [];\n      if (objs) {\n        for (var i = 0, n = objs.length; i < n; ++i) {\n          this.addObject(objs[i], false);\n        }\n      }\n    }\n  }, {\n    key: \"removeObject\",\n    value: function removeObject(index) {\n      var obj = this._objects[index];\n      if (!obj) {\n        throw new Error(\"Scene object with index \".concat(index, \" does not exist\"));\n      }\n      obj.destroy();\n      this._objects.splice(index, 1);\n      this._needRender = true;\n    }\n  }, {\n    key: \"getURL\",\n    value: function getURL(opts) {\n      return options$1.toURL(this.getState(defaults$2(opts, {\n        compact: true,\n        settings: false,\n        view: false\n      })));\n    }\n  }, {\n    key: \"getScript\",\n    value: function getScript(opts) {\n      return options$1.toScript(this.getState(defaults$2(opts, {\n        compact: true,\n        settings: true,\n        view: true\n      })));\n    }\n  }, {\n    key: \"_compareReps\",\n    value: function _compareReps(complexVisual, compareWithDefaults) {\n      var ans = {};\n      var repCount = 0;\n      if (complexVisual) {\n        repCount = complexVisual.repCount();\n      }\n      var currPreset = settings$1.defaults.presets[settings$1.now.preset];\n      var compare = compareWithDefaults;\n      if (currPreset === undefined || currPreset.length > repCount) {\n        compare = false;\n        ans.preset = 'empty';\n      } else if (settings$1.now.preset !== settings$1.defaults.preset) {\n        ans.preset = settings$1.now.preset;\n      }\n      var repsDiff = [];\n      var emptyReps = true;\n      for (var i = 0, n = repCount; i < n; ++i) {\n        repsDiff[i] = complexVisual.repGet(i).compare(compare ? currPreset[i] : null);\n        if (!isEmpty(repsDiff[i])) {\n          emptyReps = false;\n        }\n      }\n      if (!emptyReps) {\n        ans.reps = repsDiff;\n      }\n      return ans;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState(opts) {\n      var state = {};\n      opts = defaults$2(opts, {\n        compact: true,\n        settings: false,\n        view: false\n      });\n      var visual = this._getComplexVisual();\n      if (visual !== null) {\n        var complex = visual.getComplex();\n        var metadata = complex.metadata;\n        if (metadata.id) {\n          var format = metadata.format ? \"\".concat(metadata.format, \":\") : '';\n          state.load = format + metadata.id;\n        }\n        var unit = complex.getCurrentUnit();\n        if (unit !== 1) {\n          state.unit = unit;\n        }\n      }\n      var repsInfo = this._compareReps(visual, opts.compact);\n      if (repsInfo.preset) {\n        state.preset = repsInfo.preset;\n      }\n      if (repsInfo.reps) {\n        state.reps = repsInfo.reps;\n      }\n      var objects = this._objects;\n      var objectsState = [];\n      for (var i = 0, n = objects.length; i < n; ++i) {\n        objectsState[i] = objects[i].identify();\n      }\n      if (objects.length > 0) {\n        state._objects = objectsState;\n      }\n      if (opts.view) {\n        state.view = this.view();\n      }\n      if (opts.settings) {\n        var diff = this.settings.getDiffs(false);\n        if (!isEmpty(diff)) {\n          state.settings = diff;\n        }\n      }\n      return state;\n    }\n  }, {\n    key: \"get\",\n    value: function get(param, value) {\n      return settings$1.get(param, value);\n    }\n  }, {\n    key: \"_clipPlaneUpdateValue\",\n    value: function _clipPlaneUpdateValue(radius) {\n      var clipPlaneValue = Math.max(this._gfx.camera.position.z - radius * settings$1.now.draft.clipPlaneFactor, settings$1.now.camNear);\n      var opts = {\n        clipPlaneValue: clipPlaneValue\n      };\n      this._forEachComplexVisual(function (visual) {\n        visual.setUberOptions(opts);\n      });\n      for (var i = 0, n = this._objects.length; i < n; ++i) {\n        var obj = this._objects[i];\n        if (obj._line) {\n          obj._line.material.setUberOptions(opts);\n        }\n      }\n      if (this._picker !== null) {\n        this._picker.clipPlaneValue = clipPlaneValue;\n      }\n    }\n  }, {\n    key: \"_fogFarUpdateValue\",\n    value: function _fogFarUpdateValue() {\n      if (this._picker !== null) {\n        if (this._gfx.scene.fog) {\n          this._picker.fogFarValue = this._gfx.scene.fog.far;\n        } else {\n          this._picker.fogFarValue = undefined;\n        }\n      }\n    }\n  }, {\n    key: \"_updateShadowmapMeshes\",\n    value: function _updateShadowmapMeshes(process) {\n      this._forEachComplexVisual(function (visual) {\n        var reprList = visual._reprList;\n        for (var i = 0, n = reprList.length; i < n; ++i) {\n          var repr = reprList[i];\n          process(repr.geo, repr.material);\n        }\n      });\n    }\n  }, {\n    key: \"_updateMaterials\",\n    value: function _updateMaterials(values) {\n      var needTraverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var process = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n      this._forEachComplexVisual(function (visual) {\n        return visual.setMaterialValues(values, needTraverse, process);\n      });\n      for (var i = 0, n = this._objects.length; i < n; ++i) {\n        var obj = this._objects[i];\n        if (obj._line) {\n          obj._line.material.setValues(values);\n          obj._line.material.needsUpdate = true;\n        }\n      }\n    }\n  }, {\n    key: \"_fogAlphaChanged\",\n    value: function _fogAlphaChanged() {\n      this._forEachComplexVisual(function (visual) {\n        visual.setUberOptions({\n          fogAlpha: settings$1.now.fogAlpha\n        });\n      });\n    }\n  }, {\n    key: \"_embedWebXR\",\n    value: function _embedWebXR() {\n      var _this10 = this;\n      if (settings$1.now.stereo !== 'WEBVR') {\n        if (this.webVR) {\n          this.webVR.disable();\n        }\n        this.webVR = null;\n        return;\n      }\n      if (!this.webVR) {\n        this.webVR = new WebVRPoC(function () {\n          _this10._requestAnimationFrame(function () {\n            return _this10._onTick();\n          });\n          _this10._needRender = true;\n          _this10._onResize();\n        });\n      }\n      this.webVR.enable(this._gfx);\n    }\n  }, {\n    key: \"_initOnSettingsChanged\",\n    value: function _initOnSettingsChanged() {\n      var _this11 = this;\n      var on = function on(props, func) {\n        props = isArray(props) ? props : [props];\n        props.forEach(function (prop) {\n          _this11.settings.addEventListener(\"change:\".concat(prop), func);\n        });\n      };\n      on('modes.VD.frame', function () {\n        var volume = _this11._getVolumeVisual();\n        if (volume === null) return;\n        volume.showFrame(settings$1.now.modes.VD.frame);\n        _this11._needRender = true;\n      });\n      on('modes.VD.isoMode', function () {\n        var volume = _this11._getVolumeVisual();\n        if (volume === null) return;\n        volume.getMesh().material.updateDefines();\n        _this11._needRender = true;\n      });\n      on('bg.color', function () {\n        _this11._onBgColorChanged();\n      });\n      on('ao', function () {\n        if (settings$1.now.ao && !isAOSupported(_this11._gfx.renderer.getContext())) {\n          _this11.logger.warn('Your device or browser does not support ao');\n          settings$1.set('ao', false);\n        } else {\n          var values = {\n            normalsToGBuffer: settings$1.now.ao\n          };\n          _this11._setUberMaterialValues(values);\n        }\n      });\n      on('zSprites', function () {\n        if (settings$1.now.zSprites && !arezSpritesSupported(_this11._gfx.renderer.getContext())) {\n          _this11.logger.warn('Your device or browser does not support zSprites');\n          settings$1.set('zSprites', false);\n        }\n        _this11.rebuildAll();\n      });\n      on('fogColor', function () {\n        _this11._onFogColorChanged();\n      });\n      on('fogColorEnable', function () {\n        _this11._onFogColorChanged();\n      });\n      on('bg.transparent', function (evt) {\n        var gfx = _this11._gfx;\n        if (gfx) {\n          gfx.renderer.setClearColor(settings$1.now.bg.color, Number(!settings$1.now.bg.transparent));\n        }\n        _this11._updateMaterials({\n          fogTransparent: evt.value\n        });\n        _this11.rebuildAll();\n      });\n      on('draft.clipPlane', function (evt) {\n        _this11._updateMaterials({\n          clipPlane: evt.value\n        });\n        _this11.rebuildAll();\n      });\n      on('shadow.on', function (evt) {\n        var values = {\n          shadowmap: evt.value,\n          shadowmapType: settings$1.now.shadow.type\n        };\n        var gfx = _this11._gfx;\n        if (gfx) {\n          gfx.renderer.shadowMap.enabled = Boolean(values.shadowmap);\n        }\n        _this11._updateMaterials(values, true);\n        if (values.shadowmap) {\n          _this11._updateShadowCamera();\n          _this11._updateShadowmapMeshes(meshutils.createShadowmapMaterial);\n        } else {\n          _this11._updateShadowmapMeshes(meshutils.removeShadowmapMaterial);\n        }\n        _this11._needRender = true;\n      });\n      on('shadow.type', function (evt) {\n        if (settings$1.now.shadow.on) {\n          _this11._updateMaterials({\n            shadowmapType: evt.value\n          }, true);\n          _this11._needRender = true;\n        }\n      });\n      on('shadow.radius', function (evt) {\n        for (var i = 0; i < _this11._gfx.scene.children.length; i++) {\n          if (_this11._gfx.scene.children[i].shadow !== undefined) {\n            var light = _this11._gfx.scene.children[i];\n            light.shadow.radius = evt.value;\n            _this11._needRender = true;\n          }\n        }\n      });\n      on('fps', function () {\n        _this11._fps.show(settings$1.now.fps);\n      });\n      on(['fog', 'fogNearFactor', 'fogFarFactor'], function () {\n        _this11._updateFog();\n        _this11._needRender = true;\n      });\n      on('fogAlpha', function () {\n        var fogAlpha = settings$1.now.fogAlpha;\n        if (fogAlpha < 0 || fogAlpha > 1) {\n          _this11.logger.warn('fogAlpha must belong range [0,1]');\n        }\n        _this11._fogAlphaChanged();\n        _this11._needRender = true;\n      });\n      on('autoResolution', function (evt) {\n        if (evt.value && !_this11._gfxScore) {\n          _this11.logger.warn('Benchmarks are missed, autoresolution will not work! ' + 'Autoresolution should be set during miew startup.');\n        }\n      });\n      on('stereo', function () {\n        _this11._embedWebXR(settings$1.now.stereo === 'WEBVR');\n        _this11._needRender = true;\n      });\n      on(['transparency', 'palette'], function () {\n        _this11.rebuildAll();\n      });\n      on('resolution', function () {\n        _this11.rebuildAll();\n        var volume = _this11._getVolumeVisual();\n        if (volume) {\n          volume.getMesh().material.updateDefines();\n          _this11._needRender = true;\n        }\n      });\n      on(['axes', 'fxaa', 'ao', 'outline.on', 'outline.color', 'outline.threshold', 'outline.thickness'], function () {\n        _this11._needRender = true;\n      });\n    }\n  }, {\n    key: \"set\",\n    value: function set(params, value) {\n      settings$1.set(params, value);\n    }\n  }, {\n    key: \"select\",\n    value: function select(expression, append) {\n      var visual = this._getComplexVisual();\n      if (!visual) {\n        return;\n      }\n      var sel = expression;\n      if (isString(expression)) {\n        sel = selectors$1.parse(expression).selector;\n      }\n      visual.select(sel, append);\n      this._lastPick = null;\n      this._updateInfoPanel();\n      this._needRender = true;\n    }\n  }, {\n    key: \"view\",\n    value: function view(expression) {\n      var VIEW_VERSION = '1';\n      var self = this;\n      var pivot = this._gfx.pivot;\n      var transform = [];\n      var eulerOrder = 'ZXY';\n      function encode() {\n        var pos = pivot.position;\n        var scale = self._objectControls.getScale() / settings$1.now.radiusToFit;\n        var euler = new Euler();\n        euler.setFromQuaternion(self._objectControls.getOrientation(), eulerOrder);\n        transform = [pos.x, pos.y, pos.z, scale, euler.x, euler.y, euler.z];\n        return VIEW_VERSION + utils.arrayToBase64(transform, Float32Array);\n      }\n      function decode() {\n        if (expression.length === 40) {\n          expression = \"0\".concat(expression);\n        }\n        var version = expression[0];\n        transform = utils.arrayFromBase64(expression.substr(1), Float32Array);\n        if (version !== VIEW_VERSION) {\n          if (version === '0') {\n            transform[3] /= 8.0;\n          } else {\n            self.logger.warn(\"Encoded view version mismatch, stored as \".concat(version, \" vs \").concat(VIEW_VERSION, \" expected\"));\n            return;\n          }\n        }\n        var interpolator = self._interpolator;\n        var srcView = interpolator.createView();\n        srcView.position.copy(pivot.position);\n        srcView.scale = self._objectControls.getScale();\n        srcView.orientation.copy(self._objectControls.getOrientation());\n        var dstView = interpolator.createView();\n        dstView.position.set(transform[0], transform[1], transform[2]);\n        if (self._getComplexVisual()) {\n          dstView.position.sub(self._getComplexVisual().position);\n        }\n        dstView.scale = transform[3];\n        dstView.orientation.setFromEuler(new Euler(transform[4], transform[5], transform[6], eulerOrder));\n        interpolator.setup(srcView, dstView);\n      }\n      if (typeof expression === 'undefined') {\n        return encode();\n      }\n      decode();\n      return expression;\n    }\n  }, {\n    key: \"_updateView\",\n    value: function _updateView() {\n      var self = this;\n      var pivot = this._gfx.pivot;\n      var interpolator = this._interpolator;\n      if (!interpolator.wasStarted()) {\n        interpolator.start();\n      }\n      if (!interpolator.isMoving()) {\n        return;\n      }\n      var res = interpolator.getCurrentView();\n      if (res.success) {\n        var curr = res.view;\n        pivot.position.copy(curr.position);\n        self._objectControls.setScale(curr.scale * settings$1.now.radiusToFit);\n        self._objectControls.setOrientation(curr.orientation);\n        this.dispatchEvent({\n          type: 'transform'\n        });\n        self._needRender = true;\n      }\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(x, y, z) {\n      this._objectControls.translatePivot(x, y, z);\n      this.dispatchEvent({\n        type: 'transform'\n      });\n      this._needRender = true;\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(x, y, z) {\n      this._objectControls.rotate(new Quaternion().setFromEuler(new Euler(x, y, z, 'XYZ')));\n      this.dispatchEvent({\n        type: 'transform'\n      });\n      this._needRender = true;\n    }\n  }, {\n    key: \"scale\",\n    value: function scale(factor) {\n      if (factor <= 0) {\n        throw new RangeError('Scale should be greater than zero');\n      }\n      this._objectControls.scale(factor);\n      this.dispatchEvent({\n        type: 'transform'\n      });\n      this._needRender = true;\n    }\n  }, {\n    key: \"center\",\n    value: function center(selector) {\n      if (selector === undefined) {\n        this.setPivotSubset();\n        this._needRender = true;\n        return;\n      }\n      if (selector.obj !== undefined && ('atom' in selector.obj || 'residue' in selector.obj)) {\n        if ('atom' in selector.obj) {\n          this.setPivotAtom(selector.obj.atom);\n        } else {\n          this.setPivotResidue(selector.obj.residue);\n        }\n        this._needRender = true;\n        return;\n      }\n      if (selector.obj === undefined && selector !== '') {\n        var sel = selectors$1.parse(selector);\n        if (sel.error === undefined) {\n          this.setPivotSubset(sel);\n          this._needRender = true;\n          return;\n        }\n      }\n      this.resetPivot();\n      this._needRender = true;\n    }\n  }, {\n    key: \"within\",\n    value: function within(selector, radius) {\n      var visual = this._getComplexVisual();\n      if (!visual) {\n        return selectors$1.None();\n      }\n      if (selector instanceof String) {\n        selector = selectors$1.parse(selector);\n      }\n      var res = visual.within(selector, radius);\n      if (res) {\n        visual.rebuildSelectionGeometry();\n        this._needRender = true;\n      }\n      return res;\n    }\n  }, {\n    key: \"projected\",\n    value: function projected(fullAtomName, complexName) {\n      var visual = this._getComplexVisual(complexName);\n      if (!visual) {\n        return false;\n      }\n      var atom = visual.getComplex().getAtomByFullname(fullAtomName);\n      if (atom === null) {\n        return false;\n      }\n      var pos = atom.position.clone();\n      this._gfx.pivot.updateMatrixWorldRecursive();\n      this._gfx.camera.updateMatrixWorldRecursive();\n      this._gfx.pivot.localToWorld(pos);\n      pos.project(this._gfx.camera);\n      return {\n        x: (pos.x + 1.0) * 0.5 * this._gfx.width,\n        y: (1.0 - pos.y) * 0.5 * this._gfx.height\n      };\n    }\n  }, {\n    key: \"dssp\",\n    value: function dssp(complexName) {\n      var visual = this._getComplexVisual(complexName);\n      if (!visual) {\n        return;\n      }\n      visual.getComplex().dssp();\n      visual._reprList.forEach(function (rep) {\n        if (rep.mode.id === 'CA' || rep.colorer.id === 'SS') {\n          rep.needsRebuild = true;\n        }\n      });\n    }\n  }, {\n    key: \"exportCML\",\n    value: function exportCML() {\n      var self = this;\n      function extractRotation(m) {\n        var xAxis = new Vector3();\n        var yAxis = new Vector3();\n        var zAxis = new Vector3();\n        m.extractBasis(xAxis, yAxis, zAxis);\n        xAxis.normalize();\n        yAxis.normalize();\n        zAxis.normalize();\n        var retMat = new Matrix4();\n        retMat.identity();\n        retMat.makeBasis(xAxis, yAxis, zAxis);\n        return retMat;\n      }\n      function updateCMLData(complex) {\n        var root = self._gfx.root;\n        var mat = extractRotation(root.matrixWorld);\n        var v4 = new Vector4(0, 0, 0, 0);\n        var vCenter = new Vector4(0, 0, 0, 0);\n        var xml = null;\n        var ap = null;\n        complex.forEachAtom(function (atom) {\n          if (atom.xmlNodeRef && atom.xmlNodeRef.xmlNode) {\n            xml = atom.xmlNodeRef.xmlNode;\n            ap = atom.position;\n            v4.set(ap.x, ap.y, ap.z, 1.0);\n            v4.applyMatrix4(mat);\n            xml.setAttribute('x3', v4.x.toString());\n            xml.setAttribute('y3', v4.y.toString());\n            xml.setAttribute('z3', v4.z.toString());\n            xml.removeAttribute('x2');\n            xml.removeAttribute('y2');\n          }\n        });\n        complex.forEachSGroup(function (sGroup) {\n          if (sGroup.xmlNodeRef && sGroup.xmlNodeRef.xmlNode) {\n            xml = sGroup.xmlNodeRef.xmlNode;\n            ap = sGroup.getPosition();\n            v4.set(ap.x, ap.y, ap.z, 1.0);\n            var cp = sGroup.getCentralPoint();\n            if (cp === null) {\n              v4.applyMatrix4(mat);\n            } else {\n              vCenter.set(cp.x, cp.y, cp.z, 0.0);\n              v4.add(vCenter);\n              v4.applyMatrix4(mat);\n              vCenter.set(cp.x, cp.y, cp.z, 1.0);\n              vCenter.applyMatrix4(mat);\n              v4.sub(vCenter);\n            }\n            xml.setAttribute('x', v4.x.toString());\n            xml.setAttribute('y', v4.y.toString());\n            xml.setAttribute('z', v4.z.toString());\n          }\n        });\n      }\n      var visual = self._getComplexVisual();\n      var complex = visual ? visual.getComplex() : null;\n      if (complex && complex.originalCML) {\n        updateCMLData(complex);\n        var oSerializer = new XMLSerializer();\n        return oSerializer.serializeToString(complex.originalCML);\n      }\n      return null;\n    }\n  }, {\n    key: \"motm\",\n    value: function motm() {\n      settings$1.set({\n        fogColorEnable: true,\n        fogColor: 0x000000,\n        outline: {\n          on: true,\n          threshold: 0.01\n        },\n        bg: {\n          color: 0xffffff\n        }\n      });\n      this._forEachComplexVisual(function (visual) {\n        var rep = [];\n        var complex = visual.getComplex();\n        var palette = palettes$1.get(settings$1.now.palette);\n        for (var i = 0; i < complex.getChainCount(); i++) {\n          var curChainName = complex._chains[i]._name;\n          var curChainColor = palette.getChainColor(curChainName);\n          rep[i] = {\n            selector: \"chain \".concat(curChainName),\n            mode: 'VW',\n            colorer: ['CB', {\n              color: curChainColor,\n              factor: 0.9\n            }],\n            material: 'FL'\n          };\n        }\n        visual.resetReps(rep);\n      });\n    }\n  }]);\n  return Miew;\n}(EventDispatcher);\nassign(Miew,\n{\n  VERSION: Miew.VERSION,\n  registeredPlugins: [],\n  chem: chem,\n  io: io,\n  modes: modes$1,\n  colorers: colorers$1,\n  materials: materials$1,\n  palettes: palettes$1,\n  options: options$1,\n  settings: settings$1,\n  utils: utils,\n  gfx: {\n    Representation: Representation\n  }\n});\n\nvar parser = function () {\n  var o = function o(k, v, _o, l) {\n    for (_o = _o || {}, l = k.length; l--; _o[k[l]] = v) {\n    }\n    return _o;\n  },\n      $V0 = [1, 60],\n      $V1 = [1, 62],\n      $V2 = [1, 63],\n      $V3 = [1, 65],\n      $V4 = [1, 66],\n      $V5 = [1, 67],\n      $V6 = [1, 68],\n      $V7 = [1, 69],\n      $V8 = [1, 80],\n      $V9 = [1, 72],\n      $Va = [1, 73],\n      $Vb = [1, 74],\n      $Vc = [1, 75],\n      $Vd = [1, 99],\n      $Ve = [1, 76],\n      $Vf = [1, 100],\n      $Vg = [1, 79],\n      $Vh = [1, 51],\n      $Vi = [1, 81],\n      $Vj = [1, 82],\n      $Vk = [1, 84],\n      $Vl = [1, 83],\n      $Vm = [1, 85],\n      $Vn = [1, 96],\n      $Vo = [1, 97],\n      $Vp = [1, 98],\n      $Vq = [1, 86],\n      $Vr = [1, 87],\n      $Vs = [1, 64],\n      $Vt = [1, 70],\n      $Vu = [1, 71],\n      $Vv = [1, 77],\n      $Vw = [1, 78],\n      $Vx = [1, 53],\n      $Vy = [1, 54],\n      $Vz = [1, 55],\n      $VA = [1, 61],\n      $VB = [1, 88],\n      $VC = [1, 89],\n      $VD = [1, 90],\n      $VE = [1, 91],\n      $VF = [1, 92],\n      $VG = [1, 93],\n      $VH = [1, 94],\n      $VI = [1, 95],\n      $VJ = [1, 101],\n      $VK = [1, 102],\n      $VL = [1, 103],\n      $VM = [1, 104],\n      $VN = [1, 105],\n      $VO = [1, 56],\n      $VP = [1, 57],\n      $VQ = [1, 58],\n      $VR = [1, 59],\n      $VS = [1, 115],\n      $VT = [1, 111],\n      $VU = [1, 114],\n      $VV = [1, 112],\n      $VW = [1, 113],\n      $VX = [1, 118],\n      $VY = [1, 117],\n      $VZ = [1, 134],\n      $V_ = [1, 149],\n      $V$ = [1, 150],\n      $V01 = [1, 157],\n      $V11 = [5, 6, 7, 9, 13, 14, 15, 17, 18, 19, 20, 23, 25, 26, 27, 30, 33, 34, 35, 37, 38, 41, 43, 45, 46, 49, 52, 54, 55, 56, 58, 59, 62, 64, 65, 66, 70, 72, 74, 77, 78, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 101],\n      $V21 = [5, 6, 7, 9, 13, 14, 15, 17, 18, 19, 20, 23, 25, 26, 27, 30, 33, 34, 35, 37, 38, 41, 43, 45, 46, 49, 52, 54, 55, 56, 58, 59, 62, 64, 65, 66, 70, 71, 72, 74, 77, 78, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99, 101],\n      $V31 = [5, 6, 7, 9, 13, 15, 17, 18, 19, 20, 23, 25, 26, 27, 30, 33, 34, 37, 38, 41, 43, 45, 46, 49, 52, 54, 55, 56, 58, 59, 62, 64, 65, 66, 70, 72, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95],\n      $V41 = [5, 70, 72],\n      $V51 = [5, 74],\n      $V61 = [71, 101];\n  var parser = {\n    trace: function trace() {},\n    yy: {},\n    symbols_: {\n      error: 2,\n      Program: 3,\n      Command: 4,\n      EOF: 5,\n      RESET: 6,\n      BUILD: 7,\n      ALL: 8,\n      HELP: 9,\n      Path: 10,\n      MOTM: 11,\n      OneArgCommand: 12,\n      GET: 13,\n      STRING: 14,\n      SET: 15,\n      Value: 16,\n      SET_SAVE: 17,\n      SET_RESTORE: 18,\n      SET_RESET: 19,\n      PRESET: 20,\n      AddRepresentation: 21,\n      EditRepresentation: 22,\n      REMOVE: 23,\n      RepresentationReference: 24,\n      HIDE: 25,\n      SHOW: 26,\n      LIST: 27,\n      EXPAND_KEY: 28,\n      SELECTOR_KEY: 29,\n      SELECT: 30,\n      AS: 31,\n      WordAll: 32,\n      SELECTOR: 33,\n      WITHIN: 34,\n      NUMBER: 35,\n      OF: 36,\n      MATERIAL: 37,\n      IDENTIFIER: 38,\n      ModeCMD: 39,\n      ColorCMD: 40,\n      VIEW: 41,\n      BASE_64: 42,\n      UNIT: 43,\n      DSSP: 44,\n      SCALE: 45,\n      ROTATE: 46,\n      AxesList: 47,\n      TRANSLATE: 48,\n      CENTER: 49,\n      GetURLBranch: 50,\n      Screenshot: 51,\n      LINE: 52,\n      ArgList: 53,\n      LISTOBJ: 54,\n      REMOVEOBJ: 55,\n      URL: 56,\n      VIEW_KEY: 57,\n      SCREENSHOT: 58,\n      LOAD: 59,\n      Url: 60,\n      FILE_KEY: 61,\n      ADD: 62,\n      Description: 63,\n      REP: 64,\n      MODE: 65,\n      COLOR: 66,\n      Descriptor: 67,\n      RepresentationOwnProperty: 68,\n      RepresentationOwnPropertyOpts: 69,\n      DESC_KEY: 70,\n      '=': 71,\n      DESC_KEY_OPTS: 72,\n      AxesArg: 73,\n      DESC_KEY_AXES: 74,\n      Arg: 75,\n      PathWoDescKey: 76,\n      HEX: 77,\n      BOOL: 78,\n      Word: 79,\n      CommandSetWoDESC_KEY: 80,\n      DescKeys: 81,\n      CLEAR: 82,\n      FILE_LIST: 83,\n      FILE_REGISTER: 84,\n      FILE_DELETE: 85,\n      PRESET_ADD: 86,\n      PRESET_DELETE: 87,\n      PRESET_UPDATE: 88,\n      PRESET_RENAME: 89,\n      PRESET_OPEN: 90,\n      CREATE_SCENARIO: 91,\n      RESET_SCENARIO: 92,\n      DELETE_SCENARIO: 93,\n      ADD_SCENARIO_ITEM: 94,\n      LIST_SCENARIO: 95,\n      PDB_KEY: 96,\n      DELAY_KEY: 97,\n      PRST_KEY: 98,\n      DESCRIPTION_KEY: 99,\n      CommandSet: 100,\n      '.': 101,\n      PresetPath: 102,\n      '/': 103,\n      HexOrNumber: 104,\n      $accept: 0,\n      $end: 1\n    },\n    terminals_: {\n      2: 'error',\n      5: 'EOF',\n      6: 'RESET',\n      7: 'BUILD',\n      8: 'ALL',\n      9: 'HELP',\n      11: 'MOTM',\n      13: 'GET',\n      14: 'STRING',\n      15: 'SET',\n      17: 'SET_SAVE',\n      18: 'SET_RESTORE',\n      19: 'SET_RESET',\n      20: 'PRESET',\n      23: 'REMOVE',\n      25: 'HIDE',\n      26: 'SHOW',\n      27: 'LIST',\n      28: 'EXPAND_KEY',\n      29: 'SELECTOR_KEY',\n      30: 'SELECT',\n      31: 'AS',\n      33: 'SELECTOR',\n      34: 'WITHIN',\n      35: 'NUMBER',\n      36: 'OF',\n      37: 'MATERIAL',\n      38: 'IDENTIFIER',\n      41: 'VIEW',\n      42: 'BASE_64',\n      43: 'UNIT',\n      44: 'DSSP',\n      45: 'SCALE',\n      46: 'ROTATE',\n      48: 'TRANSLATE',\n      49: 'CENTER',\n      52: 'LINE',\n      54: 'LISTOBJ',\n      55: 'REMOVEOBJ',\n      56: 'URL',\n      57: 'VIEW_KEY',\n      58: 'SCREENSHOT',\n      59: 'LOAD',\n      61: 'FILE_KEY',\n      62: 'ADD',\n      64: 'REP',\n      65: 'MODE',\n      66: 'COLOR',\n      70: 'DESC_KEY',\n      71: '=',\n      72: 'DESC_KEY_OPTS',\n      74: 'DESC_KEY_AXES',\n      77: 'HEX',\n      78: 'BOOL',\n      82: 'CLEAR',\n      83: 'FILE_LIST',\n      84: 'FILE_REGISTER',\n      85: 'FILE_DELETE',\n      86: 'PRESET_ADD',\n      87: 'PRESET_DELETE',\n      88: 'PRESET_UPDATE',\n      89: 'PRESET_RENAME',\n      90: 'PRESET_OPEN',\n      91: 'CREATE_SCENARIO',\n      92: 'RESET_SCENARIO',\n      93: 'DELETE_SCENARIO',\n      94: 'ADD_SCENARIO_ITEM',\n      95: 'LIST_SCENARIO',\n      96: 'PDB_KEY',\n      97: 'DELAY_KEY',\n      98: 'PRST_KEY',\n      99: 'DESCRIPTION_KEY',\n      101: '.',\n      103: '/'\n    },\n    productions_: [0, [3, 2], [3, 1], [4, 1], [4, 1], [4, 2], [4, 1], [4, 2], [4, 1], [4, 1], [4, 2], [4, 2], [4, 3], [4, 3], [4, 1], [4, 1], [4, 1], [4, 1], [4, 2], [4, 1], [4, 1], [4, 2], [4, 2], [4, 2], [4, 2], [4, 1], [4, 2], [4, 2], [4, 2], [4, 4], [4, 2], [4, 6], [4, 2], [4, 1], [4, 1], [4, 1], [4, 2], [4, 2], [4, 1], [4, 2], [4, 1], [4, 2], [4, 2], [4, 2], [4, 1], [4, 2], [4, 1], [4, 1], [4, 3], [4, 3], [4, 4], [4, 4], [4, 1], [4, 2], [50, 1], [50, 2], [50, 2], [50, 3], [50, 3], [51, 1], [51, 2], [51, 3], [12, 2], [12, 2], [12, 2], [21, 1], [21, 2], [21, 2], [21, 3], [22, 2], [22, 3], [39, 2], [39, 3], [40, 2], [40, 3], [24, 1], [24, 1], [63, 1], [63, 2], [63, 3], [63, 4], [67, 1], [67, 1], [67, 2], [68, 3], [69, 3], [47, 1], [47, 2], [73, 2], [53, 1], [53, 2], [75, 3], [16, 1], [16, 1], [16, 1], [16, 1], [16, 1], [79, 1], [79, 1], [32, 1], [32, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [80, 1], [81, 1], [81, 1], [81, 1], [81, 1], [81, 1], [81, 1], [81, 1], [100, 1], [100, 1], [76, 1], [76, 3], [76, 3], [10, 1], [10, 1], [10, 3], [10, 3], [10, 3], [60, 1], [102, 1], [102, 3], [104, 1], [104, 1]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate\n    , $$\n    , _$\n    ) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 1:\n          return $$[$0 - 1];\n        case 3:\n          this.$ = yy.miew.reset(false);\n          yy.ClearContext();\n          yy.miew.resetReps('empty');\n          break;\n        case 4:\n          this.$ = yy.miew.rebuild();\n          break;\n        case 5:\n          this.$ = yy.miew.rebuildAll();\n          yy.miew.rebuild();\n          break;\n        case 6:\n          this.$ = yy.echo(yy.utils.help().toString());\n          break;\n        case 7:\n          this.$ = yy.echo(yy.utils.help($$[$0]).toString());\n          break;\n        case 8:\n          this.$ = yy.miew.motm();\n          break;\n        case 10:\n        case 11:\n          this.$ = yy.utils.propagateProp($$[$0]);\n          yy.echo(yy.miew.get($$[$0]).toString());\n          break;\n        case 12:\n        case 13:\n          this.$ = yy.miew.set($$[$0 - 1], yy.utils.propagateProp($$[$0 - 1], $$[$0]));\n          break;\n        case 14:\n          this.$ = yy.miew.saveSettings();\n          break;\n        case 15:\n          this.$ = yy.miew.restoreSettings();\n          break;\n        case 16:\n          this.$ = yy.miew.resetSettings();\n          break;\n        case 17:\n          this.$ = yy.miew.resetReps();\n          break;\n        case 18:\n          this.$ = yy.miew.applyPreset($$[$0]);\n          break;\n        case 21:\n          this.$ = yy.miew.repRemove($$[$0]);\n          yy.representations.remove($$[$0]);\n          break;\n        case 22:\n          this.$ = yy.miew.repHide($$[$0]);\n          break;\n        case 23:\n          this.$ = yy.miew.repHide($$[$0], false);\n          break;\n        case 24:\n          this.$ = yy.echo(yy.utils.listRep(yy.miew, yy.representations, $$[$0], '-e'));\n          break;\n        case 25:\n          this.$ = yy.echo(yy.utils.list(yy.miew, yy.representations));\n          break;\n        case 26:\n          this.$ = yy.echo(yy.utils.list(yy.miew, yy.representations, $$[$0]));\n          break;\n        case 27:\n          this.$ = yy.echo(yy.utils.listSelector(yy.miew, yy.Context));\n          break;\n        case 28:\n          this.$ = yy.miew.select(yy.utils.checkArg($$[$0 - 1].toLowerCase(), $$[$0], true));\n          break;\n        case 29:\n          this.$ = yy.Context[$$[$0].toLowerCase()] = yy.utils.checkArg($$[$0 - 3].toLowerCase(), $$[$0 - 2], true);\n          yy.miew.select(yy.Context[$$[$0].toLowerCase()]);\n          break;\n        case 30:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            selector: yy.utils.checkArg($$[$0 - 1].toLowerCase(), $$[$0])\n          });\n          break;\n        case 31:\n          this.$ = yy.Context[$$[$0].toLowerCase()] = yy.miew.within(yy.utils.checkArg('select', $$[$0 - 2], true), Number($$[$0 - 4]));\n          break;\n        case 32:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            material: yy.utils.checkArg($$[$0 - 1].toLowerCase(), $$[$0].toUpperCase())\n          });\n          break;\n        case 35:\n          this.$ = yy.echo(yy.miew.view());\n          break;\n        case 36:\n        case 37:\n          this.$ = yy.miew.view($$[$0]);\n          break;\n        case 38:\n          this.$ = yy.echo(yy.miew.changeUnit());\n          break;\n        case 39:\n          this.$ = yy.echo(yy.miew.changeUnit($$[$0]));\n          break;\n        case 40:\n          this.$ = yy.miew.dssp();\n          break;\n        case 41:\n          this.$ = yy.miew.scale($$[$0]);\n          break;\n        case 42:\n          for (var i = 0, n = $$[$0].length; i < n; i++) {\n            yy.miew.rotate($$[$0][i]['x'] * Math.PI / 180.0, $$[$0][i]['y'] * Math.PI / 180.0, $$[$0][i]['z'] * Math.PI / 180.0);\n          }\n          break;\n        case 43:\n          for (var i = 0, n = $$[$0].length; i < n; i++) {\n            yy.miew.translate($$[$0][i]['x'] || 0, $$[$0][i]['y'] || 0, $$[$0][i]['z'] || 0);\n          }\n          break;\n        case 44:\n          this.$ = yy.miew.center();\n          break;\n        case 45:\n          this.$ = yy.miew.center($$[$0]);\n          break;\n        case 48:\n        case 49:\n          this.$ = yy.miew.addObject({\n            type: 'line',\n            params: [$$[$0 - 1], $$[$0]]\n          }, true);\n          break;\n        case 50:\n        case 51:\n          this.$ = yy.miew.addObject({\n            type: 'line',\n            params: [$$[$0 - 2], $$[$0 - 1]],\n            opts: $$[$0].toJSO(yy.utils, 'objects', 'line')\n          }, true);\n          break;\n        case 52:\n          this.$ = yy.echo(yy.utils.listObjs(yy.miew));\n          break;\n        case 53:\n          this.$ = yy.miew.removeObject($$[$0]);\n          break;\n        case 54:\n          this.$ = yy.echo(yy.miew.getURL({\n            view: false,\n            settings: false\n          }));\n          break;\n        case 55:\n          this.$ = yy.echo(yy.miew.getURL({\n            view: false,\n            settings: true\n          }));\n          break;\n        case 56:\n          this.$ = yy.echo(yy.miew.getURL({\n            view: true,\n            settings: false\n          }));\n          break;\n        case 57:\n        case 58:\n          this.$ = yy.echo(yy.miew.getURL({\n            view: true,\n            settings: true\n          }));\n          break;\n        case 59:\n          this.$ = yy.miew.screenshotSave();\n          break;\n        case 60:\n          this.$ = yy.miew.screenshotSave('', Number($$[$0]));\n          break;\n        case 61:\n          this.$ = yy.miew.screenshotSave('', Number($$[$0 - 1]), Number($$[$0]));\n          break;\n        case 62:\n        case 63:\n        case 64:\n          this.$ = yy.utils.load(yy.miew, $$[$0]);\n          yy.representations.clear();\n          break;\n        case 65:\n          this.$ = yy.echo(yy.representations.add(yy.miew.repAdd()));\n          break;\n        case 66:\n          this.$ = yy.echo(yy.representations.add($$[$0], yy.miew.repAdd()));\n          break;\n        case 67:\n          this.$ = yy.echo(yy.representations.add(yy.miew.repAdd($$[$0])));\n          break;\n        case 68:\n          this.$ = yy.echo(yy.representations.add($$[$0 - 1], yy.miew.repAdd($$[$0])));\n          break;\n        case 69:\n          this.$ = yy.miew.rep($$[$0]);\n          yy.miew.repCurrent($$[$0]);\n          break;\n        case 70:\n          this.$ = yy.miew.rep($$[$0 - 1], $$[$0]);\n          yy.miew.repCurrent($$[$0 - 1]);\n          break;\n        case 71:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            mode: yy.utils.checkArg($$[$0 - 1].toLowerCase(), $$[$0].toUpperCase())\n          });\n          break;\n        case 72:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            mode: new Array(yy.utils.checkArg($$[$0 - 2].toLowerCase(), $$[$0 - 1].toUpperCase()), $$[$0].toJSO(yy.utils, $$[$0 - 2], $$[$0 - 1].toUpperCase()))\n          });\n          break;\n        case 73:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            colorer: yy.utils.checkArg($$[$0 - 1].toLowerCase(), $$[$0].toUpperCase())\n          });\n          break;\n        case 74:\n          this.$ = yy.miew.rep(yy.miew.repCurrent(), {\n            colorer: new Array(yy.utils.checkArg($$[$0 - 2].toLowerCase(), $$[$0 - 1].toUpperCase()), $$[$0].toJSO(yy.utils, $$[$0 - 2], $$[$0 - 1].toUpperCase()))\n          });\n          break;\n        case 75:\n          this.$ = Number(yy.representations.get($$[$0]));\n          break;\n        case 76:\n        case 92:\n          this.$ = Number($$[$0]);\n          break;\n        case 77:\n          this.$ = $$[$0];\n          break;\n        case 78:\n          this.$ = yy.assign($$[$0 - 1], $$[$0]);\n          break;\n        case 79:\n          this.$ = yy.assign($$[$0 - 2], $$[$0 - 1], $$[$0]);\n          break;\n        case 80:\n          this.$ = yy.assign($$[$0 - 3], $$[$0 - 2], $$[$0 - 1], $$[$0]);\n          break;\n        case 81:\n        case 82:\n          this.$ = yy.CreateObjectPair($$[$0].key, $$[$0].val);\n          break;\n        case 83:\n          this.$ = yy.CreateObjectPair($$[$0 - 1].key, new Array($$[$0 - 1].val, $$[$0].toJSO(yy.utils, $$[$0 - 1].key, $$[$0 - 1].val)));\n          break;\n        case 84:\n        case 85:\n          this.$ = Object.create({\n            key: yy.keyRemap($$[$0 - 2]),\n            val: yy.utils.checkArg($$[$0 - 2], $$[$0])\n          });\n          break;\n        case 86:\n          this.$ = [$$[$0]];\n          break;\n        case 87:\n          this.$ = $$[$0 - 1].concat($$[$0]);\n          break;\n        case 88:\n          this.$ = yy.CreateObjectPair($$[$0 - 1].toLowerCase(), Number($$[$0]));\n          break;\n        case 89:\n          this.$ = new yy.ArgList($$[$0]);\n          break;\n        case 90:\n          this.$ = $$[$0 - 1].append($$[$0]);\n          break;\n        case 91:\n          this.$ = new yy.Arg($$[$0 - 2], $$[$0]);\n          break;\n        case 93:\n          this.$ = parseInt($$[$0]);\n          break;\n        case 94:\n          this.$ = JSON.parse($$[$0]);\n          break;\n        case 95:\n        case 96:\n          this.$ = String($$[$0]);\n          break;\n        case 157:\n        case 158:\n        case 161:\n        case 162:\n        case 163:\n          this.$ = $$[$0 - 2] + $$[$0 - 1] + $$[$0];\n          break;\n        case 166:\n          this.$ = $$[$0 - 2] = $$[$0 - 2] + $$[$0 - 1] + $$[$0];\n          break;\n      }\n    },\n    table: [{\n      3: 1,\n      4: 2,\n      5: [1, 3],\n      6: [1, 4],\n      7: [1, 5],\n      9: [1, 6],\n      11: [1, 7],\n      12: 8,\n      13: [1, 9],\n      15: [1, 10],\n      17: [1, 11],\n      18: [1, 12],\n      19: [1, 13],\n      20: [1, 14],\n      21: 15,\n      22: 16,\n      23: [1, 17],\n      25: [1, 18],\n      26: [1, 19],\n      27: [1, 20],\n      30: [1, 21],\n      33: [1, 22],\n      34: [1, 23],\n      37: [1, 24],\n      39: 25,\n      40: 26,\n      41: [1, 27],\n      43: [1, 28],\n      44: [1, 29],\n      45: [1, 30],\n      46: [1, 31],\n      48: [1, 32],\n      49: [1, 33],\n      50: 34,\n      51: 35,\n      52: [1, 36],\n      54: [1, 37],\n      55: [1, 38],\n      56: [1, 44],\n      58: [1, 45],\n      59: [1, 39],\n      62: [1, 40],\n      64: [1, 41],\n      65: [1, 42],\n      66: [1, 43]\n    }, {\n      1: [3]\n    }, {\n      5: [1, 46]\n    }, {\n      1: [2, 2]\n    }, {\n      5: [2, 3]\n    }, {\n      5: [2, 4],\n      8: [1, 47]\n    }, {\n      5: [2, 6],\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      10: 48,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      70: $Vx,\n      72: $Vy,\n      74: $Vz,\n      79: 49,\n      80: 52,\n      81: 50,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN,\n      96: $VO,\n      97: $VP,\n      98: $VQ,\n      99: $VR\n    }, {\n      5: [2, 8]\n    }, {\n      5: [2, 9]\n    }, {\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      10: 106,\n      13: $V3,\n      14: [1, 107],\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      70: $Vx,\n      72: $Vy,\n      74: $Vz,\n      79: 49,\n      80: 52,\n      81: 50,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN,\n      96: $VO,\n      97: $VP,\n      98: $VQ,\n      99: $VR\n    }, {\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      10: 108,\n      13: $V3,\n      14: [1, 109],\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      70: $Vx,\n      72: $Vy,\n      74: $Vz,\n      79: 49,\n      80: 52,\n      81: 50,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN,\n      96: $VO,\n      97: $VP,\n      98: $VQ,\n      99: $VR\n    }, {\n      5: [2, 14]\n    }, {\n      5: [2, 15]\n    }, {\n      5: [2, 16]\n    }, {\n      5: [2, 17],\n      14: $VS,\n      16: 110,\n      35: $VT,\n      38: $VU,\n      77: $VV,\n      78: $VW\n    }, {\n      5: [2, 19]\n    }, {\n      5: [2, 20]\n    }, {\n      24: 116,\n      35: $VX,\n      38: $VY\n    }, {\n      24: 119,\n      35: $VX,\n      38: $VY\n    }, {\n      24: 120,\n      35: $VX,\n      38: $VY\n    }, {\n      5: [2, 25],\n      24: 121,\n      28: [1, 122],\n      29: [1, 123],\n      35: $VX,\n      38: $VY\n    }, {\n      14: [1, 124]\n    }, {\n      14: [1, 125]\n    }, {\n      35: [1, 126]\n    }, {\n      38: [1, 127]\n    }, {\n      5: [2, 33]\n    }, {\n      5: [2, 34]\n    }, {\n      5: [2, 35],\n      14: [1, 128],\n      42: [1, 129]\n    }, {\n      5: [2, 38],\n      35: [1, 130]\n    }, {\n      5: [2, 40]\n    }, {\n      35: [1, 131]\n    }, {\n      47: 132,\n      73: 133,\n      74: $VZ\n    }, {\n      47: 135,\n      73: 133,\n      74: $VZ\n    }, {\n      5: [2, 44],\n      14: [1, 136]\n    }, {\n      5: [2, 46]\n    }, {\n      5: [2, 47]\n    }, {\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      10: 138,\n      13: $V3,\n      14: [1, 137],\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      70: $Vx,\n      72: $Vy,\n      74: $Vz,\n      79: 49,\n      80: 52,\n      81: 50,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN,\n      96: $VO,\n      97: $VP,\n      98: $VQ,\n      99: $VR\n    }, {\n      5: [2, 52]\n    }, {\n      35: [1, 139]\n    }, {\n      14: [1, 143],\n      38: [1, 141],\n      60: 140,\n      61: [1, 142]\n    }, {\n      5: [2, 65],\n      38: [1, 144],\n      63: 145,\n      67: 146,\n      68: 147,\n      69: 148,\n      70: $V_,\n      72: $V$\n    }, {\n      24: 151,\n      35: $VX,\n      38: $VY\n    }, {\n      38: [1, 152]\n    }, {\n      38: [1, 153]\n    }, {\n      5: [2, 54],\n      29: [1, 154],\n      57: [1, 155]\n    }, {\n      5: [2, 59],\n      35: [1, 156]\n    }, {\n      1: [2, 1]\n    }, {\n      5: [2, 5]\n    }, {\n      5: [2, 7],\n      101: $V01\n    }, o($V11, [2, 159]), o($V11, [2, 160]), o($V21, [2, 97]), o($V21, [2, 98]), o($V11, [2, 147]), o($V11, [2, 148]), o($V11, [2, 149]), o($V11, [2, 150]), o($V11, [2, 151]), o($V11, [2, 152]), o($V11, [2, 153]), o($V21, [2, 101]), o($V21, [2, 102]), o($V21, [2, 103]), o($V21, [2, 104]), o($V21, [2, 105]), o($V21, [2, 106]), o($V21, [2, 107]), o($V21, [2, 108]), o($V21, [2, 109]), o($V21, [2, 110]), o($V21, [2, 111]), o($V21, [2, 112]), o($V21, [2, 113]), o($V21, [2, 114]), o($V21, [2, 115]), o($V21, [2, 116]), o($V21, [2, 117]), o($V21, [2, 118]), o($V21, [2, 119]), o($V21, [2, 120]), o($V21, [2, 121]), o($V21, [2, 122]), o($V21, [2, 123]), o($V21, [2, 124]), o($V21, [2, 125]), o($V21, [2, 126]), o($V21, [2, 127]), o($V21, [2, 128]), o($V21, [2, 129]), o($V21, [2, 130]), o($V21, [2, 131]), o($V21, [2, 132]), o($V21, [2, 133]), o($V21, [2, 134]), o($V21, [2, 135]), o($V21, [2, 136]), o($V21, [2, 137]), o($V21, [2, 138]), o($V21, [2, 139]), o($V21, [2, 140]), o($V21, [2, 141]), o($V21, [2, 142]), o($V21, [2, 143]), o($V21, [2, 144]), o($V21, [2, 145]), o($V21, [2, 146]), {\n      5: [2, 10],\n      101: $V01\n    }, {\n      5: [2, 11]\n    }, {\n      14: $VS,\n      16: 158,\n      35: $VT,\n      38: $VU,\n      77: $VV,\n      78: $VW,\n      101: $V01\n    }, {\n      14: $VS,\n      16: 159,\n      35: $VT,\n      38: $VU,\n      77: $VV,\n      78: $VW\n    }, {\n      5: [2, 18]\n    }, o($V31, [2, 92]), o($V31, [2, 93]), o($V31, [2, 94]), o($V31, [2, 95]), o($V31, [2, 96]), {\n      5: [2, 21]\n    }, o($V41, [2, 75]), o($V41, [2, 76]), {\n      5: [2, 22]\n    }, {\n      5: [2, 23]\n    }, {\n      5: [2, 24]\n    }, {\n      5: [2, 26]\n    }, {\n      5: [2, 27]\n    }, {\n      5: [2, 28],\n      31: [1, 160]\n    }, {\n      5: [2, 30]\n    }, {\n      36: [1, 161]\n    }, {\n      5: [2, 32]\n    }, {\n      5: [2, 36]\n    }, {\n      5: [2, 37]\n    }, {\n      5: [2, 39]\n    }, {\n      5: [2, 41]\n    }, {\n      5: [2, 42],\n      73: 162,\n      74: $VZ\n    }, o($V51, [2, 86]), {\n      35: [1, 163]\n    }, {\n      5: [2, 43],\n      73: 162,\n      74: $VZ\n    }, {\n      5: [2, 45]\n    }, {\n      14: [1, 164]\n    }, {\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      10: 165,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      70: $Vx,\n      72: $Vy,\n      74: $Vz,\n      79: 49,\n      80: 52,\n      81: 50,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN,\n      96: $VO,\n      97: $VP,\n      98: $VQ,\n      99: $VR,\n      101: $V01\n    }, {\n      5: [2, 53]\n    }, {\n      5: [2, 62]\n    }, {\n      5: [2, 63]\n    }, {\n      5: [2, 64]\n    }, {\n      5: [2, 164]\n    }, {\n      5: [2, 66],\n      63: 166,\n      67: 146,\n      68: 147,\n      69: 148,\n      70: $V_,\n      72: $V$\n    }, {\n      5: [2, 67]\n    }, {\n      5: [2, 77],\n      67: 167,\n      68: 147,\n      69: 148,\n      70: $V_,\n      72: $V$\n    }, o($V41, [2, 81]), o($V41, [2, 82], {\n      80: 52,\n      53: 168,\n      75: 169,\n      76: 170,\n      79: 171,\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }), {\n      71: [1, 172]\n    }, {\n      71: [1, 173]\n    }, {\n      5: [2, 69],\n      63: 174,\n      67: 146,\n      68: 147,\n      69: 148,\n      70: $V_,\n      72: $V$\n    }, {\n      5: [2, 71],\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      53: 175,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      75: 169,\n      76: 170,\n      79: 171,\n      80: 52,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }, {\n      5: [2, 73],\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      53: 176,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      75: 169,\n      76: 170,\n      79: 171,\n      80: 52,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }, {\n      5: [2, 55],\n      57: [1, 177]\n    }, {\n      5: [2, 56],\n      29: [1, 178]\n    }, {\n      5: [2, 60],\n      35: [1, 179]\n    }, {\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      35: [1, 181],\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      70: $Vx,\n      72: $Vy,\n      74: $Vz,\n      79: 180,\n      80: 52,\n      81: 182,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN,\n      96: $VO,\n      97: $VP,\n      98: $VQ,\n      99: $VR\n    }, {\n      5: [2, 12]\n    }, {\n      5: [2, 13]\n    }, {\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      32: 183,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      70: $Vx,\n      72: $Vy,\n      74: $Vz,\n      79: 184,\n      80: 52,\n      81: 185,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN,\n      96: $VO,\n      97: $VP,\n      98: $VQ,\n      99: $VR\n    }, {\n      14: [1, 186]\n    }, o($V51, [2, 87]), o($V51, [2, 88]), {\n      5: [2, 48],\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      53: 187,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      75: 169,\n      76: 170,\n      79: 171,\n      80: 52,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }, {\n      5: [2, 49],\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      53: 188,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      75: 169,\n      76: 170,\n      79: 171,\n      80: 52,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN,\n      101: $V01\n    }, {\n      5: [2, 68]\n    }, {\n      5: [2, 78],\n      67: 189,\n      68: 147,\n      69: 148,\n      70: $V_,\n      72: $V$\n    }, o($V41, [2, 83], {\n      80: 52,\n      76: 170,\n      79: 171,\n      75: 190,\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }), o($V31, [2, 89]), {\n      71: [1, 191],\n      101: [1, 192]\n    }, o($V61, [2, 156]), {\n      14: $VS,\n      16: 193,\n      35: $VT,\n      38: $VU,\n      77: $VV,\n      78: $VW\n    }, {\n      14: $VS,\n      16: 194,\n      35: $VT,\n      38: $VU,\n      77: $VV,\n      78: $VW\n    }, {\n      5: [2, 70]\n    }, {\n      5: [2, 72],\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      75: 190,\n      76: 170,\n      79: 171,\n      80: 52,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }, {\n      5: [2, 74],\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      75: 190,\n      76: 170,\n      79: 171,\n      80: 52,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }, {\n      5: [2, 57]\n    }, {\n      5: [2, 58]\n    }, {\n      5: [2, 61]\n    }, o($V11, [2, 161]), o($V11, [2, 162]), o($V11, [2, 163]), {\n      5: [2, 29]\n    }, {\n      5: [2, 99]\n    }, {\n      5: [2, 100]\n    }, {\n      31: [1, 195]\n    }, {\n      5: [2, 50],\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      75: 190,\n      76: 170,\n      79: 171,\n      80: 52,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }, {\n      5: [2, 51],\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      75: 190,\n      76: 170,\n      79: 171,\n      80: 52,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }, {\n      5: [2, 79],\n      67: 196,\n      68: 147,\n      69: 148,\n      70: $V_,\n      72: $V$\n    }, o($V31, [2, 90]), {\n      14: $VS,\n      16: 197,\n      35: $VT,\n      38: $VU,\n      77: $VV,\n      78: $VW\n    }, {\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      33: $Ve,\n      34: $Vf,\n      35: [1, 199],\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      79: 198,\n      80: 52,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN\n    }, o($V41, [2, 84]), o($V31, [2, 85]), {\n      6: $V0,\n      7: $V1,\n      9: $V2,\n      13: $V3,\n      15: $V4,\n      17: $V5,\n      18: $V6,\n      19: $V7,\n      20: $V8,\n      23: $V9,\n      25: $Va,\n      26: $Vb,\n      27: $Vc,\n      30: $Vd,\n      32: 200,\n      33: $Ve,\n      34: $Vf,\n      37: $Vg,\n      38: $Vh,\n      41: $Vi,\n      43: $Vj,\n      45: $Vk,\n      46: $Vl,\n      49: $Vm,\n      52: $Vn,\n      54: $Vo,\n      55: $Vp,\n      56: $Vq,\n      58: $Vr,\n      59: $Vs,\n      62: $Vt,\n      64: $Vu,\n      65: $Vv,\n      66: $Vw,\n      70: $Vx,\n      72: $Vy,\n      74: $Vz,\n      79: 184,\n      80: 52,\n      81: 185,\n      82: $VA,\n      83: $VB,\n      84: $VC,\n      85: $VD,\n      86: $VE,\n      87: $VF,\n      88: $VG,\n      89: $VH,\n      90: $VI,\n      91: $VJ,\n      92: $VK,\n      93: $VL,\n      94: $VM,\n      95: $VN,\n      96: $VO,\n      97: $VP,\n      98: $VQ,\n      99: $VR\n    }, {\n      5: [2, 80]\n    }, o($V31, [2, 91]), o($V61, [2, 157]), o($V61, [2, 158]), {\n      5: [2, 31]\n    }],\n    defaultActions: {\n      3: [2, 2],\n      4: [2, 3],\n      7: [2, 8],\n      8: [2, 9],\n      11: [2, 14],\n      12: [2, 15],\n      13: [2, 16],\n      15: [2, 19],\n      16: [2, 20],\n      25: [2, 33],\n      26: [2, 34],\n      29: [2, 40],\n      34: [2, 46],\n      35: [2, 47],\n      37: [2, 52],\n      46: [2, 1],\n      47: [2, 5],\n      107: [2, 11],\n      110: [2, 18],\n      116: [2, 21],\n      119: [2, 22],\n      120: [2, 23],\n      121: [2, 24],\n      122: [2, 26],\n      123: [2, 27],\n      125: [2, 30],\n      127: [2, 32],\n      128: [2, 36],\n      129: [2, 37],\n      130: [2, 39],\n      131: [2, 41],\n      136: [2, 45],\n      139: [2, 53],\n      140: [2, 62],\n      141: [2, 63],\n      142: [2, 64],\n      143: [2, 164],\n      145: [2, 67],\n      158: [2, 12],\n      159: [2, 13],\n      166: [2, 68],\n      174: [2, 70],\n      177: [2, 57],\n      178: [2, 58],\n      179: [2, 61],\n      183: [2, 29],\n      184: [2, 99],\n      185: [2, 100],\n      196: [2, 80],\n      200: [2, 31]\n    },\n    parseError: function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    },\n    parse: function parse(input) {\n      var self = this,\n          stack = [0],\n          tstack = [],\n          vstack = [null],\n          lstack = [],\n          table = this.table,\n          yytext = '',\n          yylineno = 0,\n          yyleng = 0,\n          TERROR = 2,\n          EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer = Object.create(this.lexer);\n      var sharedState = {\n        yy: {}\n      };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer;\n      sharedState.yy.parser = this;\n      if (typeof lexer.yylloc == 'undefined') {\n        lexer.yylloc = {};\n      }\n      var yyloc = lexer.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer.options && lexer.options.ranges;\n      if (typeof sharedState.yy.parseError === 'function') {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer.lex() || EOF;\n        if (typeof token !== 'number') {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      var symbol,\n          state,\n          action,\n          r,\n          yyval = {},\n          p,\n          len,\n          newState,\n          expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == 'undefined') {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === 'undefined' || !action.length || !action[0]) {\n          var errStr = '';\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push(\"'\" + this.terminals_[p] + \"'\");\n            }\n          }\n          if (lexer.showPosition) {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ':\\n' + lexer.showPosition() + '\\nExpecting ' + expected.join(', ') + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n          } else {\n            errStr = 'Parse error on line ' + (yylineno + 1) + ': Unexpected ' + (symbol == EOF ? 'end of input' : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n          }\n          this.parseError(errStr, {\n            text: lexer.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer.yylineno,\n            loc: yyloc,\n            expected: expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error('Parse Error: multiple actions possible at state: ' + state + ', token: ' + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer.yytext);\n            lstack.push(lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            {\n              yyleng = lexer.yyleng;\n              yytext = lexer.yytext;\n              yylineno = lexer.yylineno;\n              yyloc = lexer.yylloc;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n            r = this.performAction.apply(yyval, [yytext, yyleng, yylineno, sharedState.yy, action[1], vstack, lstack].concat(args));\n            if (typeof r !== 'undefined') {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }\n  };\n  var lexer = function () {\n    var lexer = {\n      EOF: 1,\n      parseError: function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      setInput: function setInput(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      },\n      input: function input() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      unput: function unput(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      more: function more() {\n        this._more = true;\n        return this;\n      },\n      reject: function reject() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n' + this.showPosition(), {\n            text: '',\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      },\n      less: function less(n) {\n        this.unput(this.match.slice(n));\n      },\n      pastInput: function pastInput() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...' : '') + past.substr(-20).replace(/\\n/g, '');\n      },\n      upcomingInput: function upcomingInput() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? '...' : '')).replace(/\\n/g, '');\n      },\n      showPosition: function showPosition() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join('-');\n        return pre + this.upcomingInput() + '\\n' + c + '^';\n      },\n      test_match: function test_match(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      },\n      next: function next() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = '';\n          this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === '') {\n          return this.EOF;\n        } else {\n          return this.parseError('Lexical error on line ' + (this.yylineno + 1) + '. Unrecognized text.\\n' + this.showPosition(), {\n            text: '',\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      lex: function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions['INITIAL'].rules;\n        }\n      },\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return 'INITIAL';\n        }\n      },\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: {\n        'case-insensitive': true\n      },\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        switch ($avoiding_name_collisions) {\n          case 0\n          :\n            break;\n          case 1:\n            return '';\n          case 2:\n            return '';\n          case 3:\n            return 42;\n          case 4:\n            return 35;\n          case 5:\n            return 77;\n          case 6:\n            return 78;\n          case 7:\n            return 78;\n          case 8:\n            return 8;\n          case 9:\n            return 6;\n          case 10:\n            return 82;\n          case 11:\n            return 7;\n          case 12:\n            return 9;\n          case 13:\n            return 59;\n          case 14:\n            return 13;\n          case 15:\n            return 15;\n          case 16:\n            return 17;\n          case 17:\n            return 18;\n          case 18:\n            return 19;\n          case 19:\n            return 20;\n          case 20:\n            return 11;\n          case 21:\n            return 62;\n          case 22:\n            return 64;\n          case 23:\n            return 23;\n          case 24:\n            return 25;\n          case 25:\n            return 26;\n          case 26:\n            return 27;\n          case 27:\n            return 30;\n          case 28:\n            return 34;\n          case 29:\n            return 33;\n          case 30:\n            return 65;\n          case 31:\n            return 66;\n          case 32:\n            return 37;\n          case 33:\n            return 41;\n          case 34:\n            return 43;\n          case 35:\n            return 52;\n          case 36:\n            return 54;\n          case 37:\n            return 55;\n          case 38:\n            return 46;\n          case 39:\n            return 48;\n          case 40:\n            return 45;\n          case 41:\n            return 49;\n          case 42:\n            return 56;\n          case 43:\n            return 58;\n          case 44:\n            return 44;\n          case 45:\n            return 83;\n          case 46:\n            return 84;\n          case 47:\n            return 85;\n          case 48:\n            return 86;\n          case 49:\n            return 87;\n          case 50:\n            return 88;\n          case 51:\n            return 89;\n          case 52:\n            return 90;\n          case 53:\n            return 91;\n          case 54:\n            return 92;\n          case 55:\n            return 93;\n          case 56:\n            return 94;\n          case 57:\n            return 95;\n          case 58:\n            return 70;\n          case 59:\n            return 70;\n          case 60:\n            return 72;\n          case 61:\n            return 72;\n          case 62:\n            return 74;\n          case 63:\n            return 74;\n          case 64:\n            return 74;\n          case 65:\n            return 31;\n          case 66:\n            return 36;\n          case 67:\n            return 96;\n          case 68:\n            return 97;\n          case 69:\n            return 98;\n          case 70:\n            return 99;\n          case 71:\n            yy_.yytext = yy.utils.unquoteString(yy_.yytext);\n            return 14;\n          case 72:\n            return 38;\n          case 73:\n            return 5;\n          case 74:\n            return 101;\n          case 75:\n            return 103;\n          case 76:\n            return '\\\\';\n          case 77:\n            return 28;\n          case 78:\n            return 61;\n          case 79:\n            return 29;\n          case 80:\n            return 57;\n          case 81:\n            return 71;\n        }\n      },\n      rules: [/^(?:\\s+)/i, /^(?:[#].*)/i, /^(?:\\/\\/.*)/i, /^(?:([_A-Z0-9\\/\\+]+==))/i, /^(?:-?[0-9]+(\\.[0-9]+)?\\b)/i, /^(?:0[xX][0-9A-F]+\\b)/i, /^(?:false\\b)/i, /^(?:true\\b)/i, /^(?:all\\b)/i, /^(?:reset\\b)/i, /^(?:clear\\b)/i, /^(?:build\\b)/i, /^(?:help\\b)/i, /^(?:load\\b)/i, /^(?:get\\b)/i, /^(?:set\\b)/i, /^(?:set_save\\b)/i, /^(?:set_restore\\b)/i, /^(?:set_reset\\b)/i, /^(?:preset\\b)/i, /^(?:motm\\b)/i, /^(?:add\\b)/i, /^(?:rep\\b)/i, /^(?:remove\\b)/i, /^(?:hide\\b)/i, /^(?:show\\b)/i, /^(?:list\\b)/i, /^(?:select\\b)/i, /^(?:within\\b)/i, /^(?:selector\\b)/i, /^(?:mode\\b)/i, /^(?:color\\b)/i, /^(?:material\\b)/i, /^(?:view\\b)/i, /^(?:unit\\b)/i, /^(?:line\\b)/i, /^(?:listobj\\b)/i, /^(?:removeobj\\b)/i, /^(?:rotate\\b)/i, /^(?:translate\\b)/i, /^(?:scale\\b)/i, /^(?:center\\b)/i, /^(?:url\\b)/i, /^(?:screenshot\\b)/i, /^(?:dssp\\b)/i, /^(?:file_list\\b)/i, /^(?:file_register\\b)/i, /^(?:file_delete\\b)/i, /^(?:preset_add\\b)/i, /^(?:preset_delete\\b)/i, /^(?:preset_update\\b)/i, /^(?:preset_rename\\b)/i, /^(?:preset_open\\b)/i, /^(?:create_scenario\\b)/i, /^(?:reset_scenario\\b)/i, /^(?:delete_scenario\\b)/i, /^(?:add_scenario_item\\b)/i, /^(?:list_scenario\\b)/i, /^(?:s\\b)/i, /^(?:mt\\b)/i, /^(?:m\\b)/i, /^(?:c\\b)/i, /^(?:x\\b)/i, /^(?:y\\b)/i, /^(?:z\\b)/i, /^(?:as\\b)/i, /^(?:of\\b)/i, /^(?:pdb\\b)/i, /^(?:delay\\b)/i, /^(?:prst\\b)/i, /^(?:desc\\b)/i, /^(?:((?:\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*')))/i, /^(?:([_A-Z0-9]+))/i, /^(?:$)/i, /^(?:\\.)/i, /^(?:\\/)/i, /^(?:\\\\)/i, /^(?:-e\\b)/i, /^(?:-f\\b)/i, /^(?:-s\\b)/i, /^(?:-v\\b)/i, /^(?:=)/i],\n      conditions: {\n        INITIAL: {\n          rules: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81],\n          inclusive: true\n        }\n      }\n    };\n    return lexer;\n  }();\n  parser.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  Parser.prototype = parser;\n  parser.Parser = Parser;\n  return new Parser();\n}();\nvar MiewCLIParser = {\n  parser: parser\n};\n\nvar modeIdDesc = {\n  $help: ['Rendering mode shortcut', '    BS - balls and sticks mode', '    LN - lines mode', '    LC - licorice mode', '    VW - van der waals mode', '    TR - trace mode', '    TU - tube mode', '    CA - cartoon mode', '    SA - isosurface mode', '    QS - quick surface mode', '    SE - solvent excluded mode', '    TX - text mode'],\n  BS: {\n    $help: ['   Balls and sticks', '      aromrad = <number> #aromatic radius', '      atom = <number>    #atom radius', '      bond = <number>    #bond radius', '      multibond = <bool> #use multibond', '      showarom = <bool>  #show aromatic', '      space = <number>   #space value\\n']\n  },\n  CA: {\n    $help: ['   Cartoon', '      arrow = <number>   #arrow size', '      depth = <number>   #depth of surface', '      heightSegmentsRatio = <number>', '      radius = <number>  #tube radius', '      tension = <number> #', '      width = <number>  #secondary width\\n']\n  },\n  LN: {\n    $help: ['   Lines', '      atom = <number>    #atom radius', '      chunkarom = <number>', '      multibond = <bool> #use multibond', '      showarom = <bool>  #show aromatic', '      offsarom = <number>\\n']\n  },\n  LC: {\n    $help: ['   Licorice', '      aromrad = <number> #aromatic radius', '      bond = <number>    #bond radius', '      multibond = <bool> #use multibond', '      showarom = <bool>  #show aromatic', '      space = <number>   #space value\\n']\n  },\n  VW: {\n    $help: ['   Van der Waals', '      nothing\\n']\n  },\n  TR: {\n    $help: ['   Trace', '      radius = <number>  #tube radius\\n']\n  },\n  TU: {\n    $help: ['   Tube', '      heightSegmentsRatio = <number>', '      radius = <number>  #tube radius', '      tension = <number> \\n']\n  },\n  SA: {\n    $help: ['   Surface', '      zClip = <bool> #clip z plane\\n']\n  },\n  QS: {\n    $help: ['   Quick surface', '      isoValue = <number>', '      scale = <number>', '      wireframe = <bool>', '      zClip = <bool> #clip z plane\\n']\n  },\n  SE: {\n    $help: ['   Solvent excluded surface', '      zClip = <bool> #clip z plane\\n']\n  },\n  TX: {\n    $help: ['   Text mode', '      template = <format string> string that can include \"{{ id }}\"', '          it will be replaced by value, id can be one of next:', '          serial, name, type, sequence, residue, chain, hetatm, water\\n', '      horizontalAlign = <string> {\"left\", \"right\", \"center\"}', '      verticalAlign = <string> {\"top\", \"bottom\", \"middle\"}', '      dx = <number> #offset along x', '      dy = <number> #offset along y', '      dz = <number> #offset along z', '      fg = <string> #text color modificator', '           could be keyword, named color or hex', '      fg = <string> #back color modificator', '           could be keyword, named color or hex', '      showBg = <bool> #if set show background', '           plate under text']\n  }\n};\nvar colorDesc = {\n  $help: ['Coloring mode shortcut', '    EL - color by element', '    CH - color by chain', '    SQ - color by sequence', '    RT - color by residue type', '    SS - color by secondary structure', '    UN - uniform'],\n  UN: {\n    $help: ['Parameters of coloring modes customization', '   Uniform', '      color = <number|color> #RGB->HEX->dec\\n'],\n    color: {\n      $help: Object.keys(palettes$1.get(settings$1.now.palette).namedColors).sort().join('\\n')\n    }\n  }\n};\nvar materialDesc = {\n  $help: ['Material shortcut', '    DF - diffuse', '    TR - transparent', '    SF - soft plastic', '    PL - glossy plastic', '    ME - metal', '    GL - glass']\n};\nvar addRepDesc = {\n  $help: ['Short (packed) representation description as a set of variables', '    s=<EXPRESSION>', '        selector property', '    m=<MODE_ID>[!<PARAMETER>:<VALUE>[,...]]', '        render mode property', '    c=<COLORER_ID>[!<PARAMETER>:<VALUE>[,...]]', '        color mode property', '    mt=<MATERIAL_ID>', '        material property'],\n  s: {\n    $help: 'Selection expression string as it is in menu->representations->selection'\n  },\n  m: modeIdDesc,\n  c: colorDesc,\n  mt: materialDesc\n};\nvar setGetParameterDesc = {\n  $help: ['Parameters of rendering modes customization: modes', 'Parameters of colorer customization: colorers', 'Autobuild: autobuild = (<number>|<bool>)'],\n  modes: modeIdDesc,\n  colorers: colorDesc\n};\nvar help = {\n  $help: ['help (<cmd name>| <path to property>)', 'You can get detailed information about command options', '   using \"help cmd.opt.opt.[...]\"\\n', '   you can use one line comments', '   everything started from (#|//) will be skipped', '   Example: >build //some comment\\n', 'List of available commands:'],\n  reset: {\n    $help: ['Reload current object, delete all representations', '    Nothing will work until load new object']\n  },\n  load: {\n    $help: ['load (<PDBID>|<URL>|-f [<*.NC FILE URL STRING>])', '    Load new pdb object from selected source'],\n    PDBID: {\n      $help: 'pdb id in remote molecule database'\n    },\n    URL: {\n      $help: 'url to source file'\n    },\n    f: {\n      $help: ['open file system dialog to fetch local file', 'optionally you can determine trajectory file', 'via URL for *.top model']\n    }\n  },\n  clear: {\n    $help: 'No args. Clear terminal'\n  },\n  add: {\n    $help: ['add [<REP_NAME>] [<DESCRIPTION>]', '    Add new item to representation set with', '    default or <DESCRIPTION> params'],\n    REP_NAME: {\n      $help: 'Identifier string [_,a-z,A-Z,0-9] can not start from digit'\n    },\n    DESCRIPTION: addRepDesc\n  },\n  rep: {\n    $help: ['rep [<REP_NAME>|<REP_INDEX>] [<DESCRIPTION>]', '    set current representation by name or index', '    edit current representation by <DESCRIPTION>'],\n    REP_NAME: {\n      $help: ['Identifier string [_,a-z,A-Z,0-9] can not start from digit', 'Must be declared before']\n    },\n    REP_INDEX: {\n      $help: 'Index of available representation'\n    },\n    DESCRIPTION: addRepDesc\n  },\n  remove: {\n    $help: ['remove (<REP_NAME>|<REP_INDEX>)', 'Remove representation by name or index'],\n    REP_NAME: {\n      $help: ['Identifier string [_,a-z,A-Z,0-9] can not start from digit', 'Must be declared before']\n    },\n    REP_INDEX: {\n      $help: 'Index of available representation'\n    }\n  },\n  selector: {\n    $help: ['selector <EXPRESSION>', '   set selector from EXPRESSION to current representation'],\n    EXPRESSION: {\n      $help: 'Selection expression string as it is in menu->representations->selection'\n    }\n  },\n  mode: {\n    $help: ['mode <MODE_ID> [<PARAMETER>=<VALUE>...]', '   set rendering mode and apply parameters to current representation'],\n    MODE_ID: modeIdDesc\n  },\n  color: {\n    $help: ['color <COLORER_ID> [<PARAMETER>=<VALUE>...]', '   set colorer and apply parameters to current representation'],\n    COLORER_ID: colorDesc\n  },\n  material: {\n    $help: ['material <MATERIAL_ID>', '   set material to current representation'],\n    MATERIAL_ID: materialDesc\n  },\n  build: {\n    $help: 'build help str',\n    add: {\n      $help: 'build.add',\n      new: {\n        $help: ['add.new', 'add.new new line 1', 'add.new new line 2', 'add.new new line 3']\n      }\n    },\n    del: {\n      $help: 'build.del'\n    }\n  },\n  list: {\n    $help: ['list [-e|-s|<REP_NAME>|<REP_INDEX>]', 'Print representations if no args print list of representations', '    -e expand list and show all representations', '    -s show all user-registered selectors', '    <REP_NAME>|<REP_INDEX> show only current representation']\n  },\n  hide: {\n    $help: ['hide (<REP_NAME>|<REP_INDEX>)', 'Hide representation referenced in args']\n  },\n  show: {\n    $help: ['show (<REP_NAME>|<REP_INDEX>)', 'Show representation referenced in args']\n  },\n  get: {\n    $help: ['get <PARAMETER>', 'Print <PARAMETER> value', '    <PARAMETER> - path to option use get.PARAMETER to get more info'],\n    PARAMETER: setGetParameterDesc\n  },\n  set: {\n    $help: ['set <PARAMETER> <VALUE>', 'Set <PARAMETER> with <VALUE>', '    <PARAMETER> - path to option use set.PARAMETER to get more info'],\n    PARAMETER: setGetParameterDesc\n  },\n  set_save: {\n    $help: ['set_save', 'Save current settings to cookie']\n  },\n  set_restore: {\n    $help: ['set_restore', 'Load and apply settings from cookie']\n  },\n  set_reset: {\n    $help: ['set_reset', 'Reset current settings to the defaults']\n  },\n  preset: {\n    $help: ['preset [<PRESET>]', 'Reset current representation or set preset to <PRESET>'],\n    PRESET: {\n      $help: ['default', 'wire', 'small', 'macro']\n    }\n  },\n  unit: {\n    $help: ['unit [<unit_id>]', 'Change current biological structure view. Zero <unit_id> value means asymmetric unit,', 'positive values set an assembly with corresponding number.', 'Being called with no parameters command prints current unit information.']\n  },\n  view: {\n    $help: ['view [<ENCODED_VIEW>]', 'Get current encoded view or set if ENCODED_VIEW placed as argument'],\n    ENCODED_VIEW: {\n      $help: ['encoded view matrix string (binary code)']\n    }\n  },\n  rotate: {\n    $help: ['rotate (x|y|z) [<DEGREES>] [(x|y|z) [<DEGREES>]]...', 'Rotate scene']\n  },\n  scale: {\n    $help: ['scale <SCALE>', 'Scale scene']\n  },\n  select: {\n    $help: ['select <SELECTOR_STRING> [as <SELECTOR_NAME>]', 'Select atoms using selector defined in SELECTOR_STRING', '    and if SELECTOR_NAME is defined register it in viewer', '    you can use it later as a complex selector']\n  },\n  within: {\n    $help: ['within <DISTANCE> of <SELECTOR_STRING> as <SELECTOR_NAME>', 'Build within named selector', '    DISTANCE        <number>', '    SELECTOR_STRING <string(selection language)>', '    SELECTOR_NAME   <identifier>']\n  },\n  url: {\n    $help: ['url [-s] [-v]', 'Report URL encoded scene', '    if -s set that include settings in the URL', '    if -v set that include view in the URL']\n  },\n  screenshot: {\n    $help: ['screenshot [<WIDTH> [<HEIGHT>]]', 'Make a screenshot of the scene', '    WIDTH  <number> in pixels', '    HEIGHT <number> in pixels, equal to WIDTH by default']\n  },\n  line: {\n    $help: ['line <first_atom_path> <second_atom_path> [<PARAMETER>=<VALUE>]', 'Draw dashed line between two specified atoms']\n  },\n  removeobj: {\n    $help: ['removeobj <id>', 'Remove scene object by its index. Indices could be obtained by <listobj> command']\n  },\n  listobj: {\n    $help: ['listobj', 'Display the list of all existing scene objects']\n  }\n};\n\nvar selectors = Miew.chem.selectors,\n    modes = Miew.modes,\n    colorers = Miew.colorers,\n    materials = Miew.materials,\n    palettes = Miew.palettes,\n    options = Miew.options,\n    settings = Miew.settings;\nfunction None() {}\nvar NULL = function () {\n  var obj = new None();\n  return function () {\n    return obj;\n  };\n}();\nvar RepresentationMap = function () {\n  function RepresentationMap() {\n    _classCallCheck(this, RepresentationMap);\n    this.representationMap = {};\n    this.representationID = {};\n  }\n  _createClass(RepresentationMap, [{\n    key: \"get\",\n    value: function get(strId) {\n      return this.representationMap[strId] || this.representationID[strId] || '<no name>';\n    }\n  }, {\n    key: \"add\",\n    value: function add(strId, index) {\n      if (strId === -1) {\n        return 'Can not create representation: there is no data';\n      }\n      if (index !== undefined) {\n        if (!this.representationMap.hasOwnProperty(strId)) {\n          this.representationMap[strId.toString()] = index;\n          this.representationID[index] = strId.toString();\n        } else {\n          return 'This name has already existed, registered without name';\n        }\n      }\n      return \"Representation \".concat(strId, \" successfully added\");\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(index) {\n      if (index && this.representationID.hasOwnProperty(index)) {\n        delete this.representationMap[this.representationID[index]];\n        delete this.representationID[index];\n      }\n      var sortedKeys = Object.keys(this.representationID).sort();\n      for (var i in sortedKeys) {\n        if (sortedKeys.hasOwnProperty(i)) {\n          var id = sortedKeys[i];\n          if (id > index) {\n            this.representationID[id - 1] = this.representationID[id];\n            this.representationMap[this.representationID[id]] -= 1;\n            delete this.representationID[id];\n          }\n        }\n      }\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.representationMap = {};\n      this.representationID = {};\n    }\n  }]);\n  return RepresentationMap;\n}();\nvar representationsStorage = new RepresentationMap();\nfunction keyRemap(key) {\n  var keys = {\n    s: 'selector',\n    m: 'mode',\n    c: 'colorer',\n    mt: 'material',\n    mode: 'modes',\n    color: 'colorers',\n    colorer: 'colorers',\n    select: 'selector',\n    material: 'materials',\n    selector: 'selector'\n  };\n  var ans = keys[key];\n  return ans === undefined ? key : ans;\n}\nvar CLIUtils = function () {\n  function CLIUtils() {\n    _classCallCheck(this, CLIUtils);\n  }\n  _createClass(CLIUtils, [{\n    key: \"list\",\n    value: function list(miew, repMap, key) {\n      var ret = '';\n      if (miew && repMap !== undefined) {\n        if (key === undefined || key === '-e') {\n          var count = miew.repCount();\n          for (var i = 0; i < count; i++) {\n            ret += this.listRep(miew, repMap, i, key);\n          }\n        }\n      }\n      return ret;\n    }\n  }, {\n    key: \"listRep\",\n    value: function listRep(miew, repMap, repIndex, key) {\n      var ret = '';\n      var rep = miew.repGet(repIndex);\n      if (!rep) {\n        logger.warn(\"Rep \".concat(repIndex, \" does not exist!\"));\n        return ret;\n      }\n      var index = repIndex;\n      var repName = repMap.get(index);\n      var mode = rep.mode,\n          colorer = rep.colorer;\n      var selectionStr = rep.selectorString;\n      var material = rep.materialPreset;\n      ret += \"#\".concat(index, \" : \").concat(mode.name).concat(repName === '<no name>' ? '' : \", \".concat(repName), \"\\n\");\n      if (key !== undefined) {\n        ret += \"    selection : \\\"\".concat(selectionStr, \"\\\"\\n\");\n        ret += \"    mode      : (\".concat(mode.id, \"), \").concat(mode.name, \"\\n\");\n        ret += \"    colorer   : (\".concat(colorer.id, \"), \").concat(colorer.name, \"\\n\");\n        ret += \"    material  : (\".concat(material.id, \"), \").concat(material.name, \"\\n\");\n      }\n      return ret;\n    }\n  }, {\n    key: \"listSelector\",\n    value: function listSelector(miew, context) {\n      var ret = '';\n      for (var k in context) {\n        if (context.hasOwnProperty(k)) {\n          ret += \"\".concat(k, \" : \\\"\").concat(context[k], \"\\\"\\n\");\n        }\n      }\n      return ret;\n    }\n  }, {\n    key: \"listObjs\",\n    value: function listObjs(miew) {\n      var objs = miew._objects;\n      if (!objs || !Array.isArray(objs) || objs.length === 0) {\n        return 'There are no objects on the scene';\n      }\n      var strList = [];\n      for (var i = 0, n = objs.length; i < n; ++i) {\n        strList[i] = \"\".concat(i, \": \").concat(objs[i].toString());\n      }\n      return strList.join('\\n');\n    }\n  }, {\n    key: \"joinHelpStr\",\n    value: function joinHelpStr(helpData) {\n      if (helpData instanceof Array) {\n        return helpData.join('\\n');\n      }\n      return helpData;\n    }\n  }, {\n    key: \"help\",\n    value: function help$1(path) {\n      if (isUndefined(path)) {\n        return \"\".concat(this.joinHelpStr(help.$help), \"\\n\").concat(slice(sortBy(keys(help)), 1).join(', '), \"\\n\");\n      }\n      var helpItem = get(help, path);\n      return isUndefined(helpItem) ? this.help() : \"\".concat(this.joinHelpStr(helpItem.$help), \"\\n\");\n    }\n  }, {\n    key: \"load\",\n    value: function load(miew, arg) {\n      if (miew === undefined || arg === undefined || arg === '-f') {\n        return;\n      }\n      miew.awaitWhileCMDisInProcess();\n      var finish = function finish() {\n        return miew.finishAwaitingCMDInProcess();\n      };\n      miew.load(arg).then(finish, finish);\n    }\n  }, {\n    key: \"checkArg\",\n    value: function checkArg(key, arg, modificate) {\n      if (key !== undefined && arg !== undefined) {\n        if (keyRemap(key) === 'selector') {\n          var res = selectors.parse(arg);\n          if (res.error !== undefined) {\n            var selExc = {\n              message: res.error\n            };\n            throw selExc;\n          }\n          if (modificate !== undefined && modificate) {\n            return res.selector;\n          }\n          return arg;\n        }\n        var modificators = {\n          colorers: colorers,\n          modes: modes,\n          materials: materials\n        };\n        var modificator = key;\n        var temp;\n        while (modificator !== temp) {\n          temp = modificator;\n          modificator = keyRemap(temp);\n        }\n        if (modificators[modificator].get(arg) === undefined) {\n          var exc = {\n            message: \"\".concat(arg, \" is not existed in \").concat(modificator)\n          };\n          throw exc;\n        }\n        return arg;\n      }\n      return NULL;\n    }\n  }, {\n    key: \"propagateProp\",\n    value: function propagateProp(path, arg) {\n      if (path !== undefined) {\n        var argExc = {};\n        var adapter = options.adapters[_typeof(get(settings.defaults, path))];\n        if (adapter === undefined) {\n          var pathExc = {\n            message: \"\".concat(path, \" is not existed\")\n          };\n          throw pathExc;\n        }\n        if ((path.endsWith('.color') || path.endsWith('.baseColor') || path.endsWith('.EL.carbon')) && typeof arg !== 'number') {\n          arg = palettes.get(settings.now.palette).getNamedColor(arg);\n        }\n        if (path.endsWith('.fg') || path.endsWith('.bg')) {\n          if (typeof arg !== 'number') {\n            var val = palettes.get(settings.now.palette).getNamedColor(arg, true);\n            if (val !== undefined) {\n              arg = \"0x\".concat(val.toString(16));\n            }\n          } else {\n            arg = \"0x\".concat(arg.toString(16));\n          }\n        }\n        if (path.endsWith('.template')) {\n          arg = arg.replace(/\\\\n/g, '\\n');\n        }\n        if (arg !== undefined && adapter(arg) !== arg && adapter(arg) !== arg > 0) {\n          argExc = {\n            message: \"\".concat(path, \" must be a \\\"\").concat(_typeof(get(settings.defaults, path)), \"\\\"\")\n          };\n          throw argExc;\n        }\n      }\n      return arg;\n    }\n  }, {\n    key: \"unquoteString\",\n    value: function unquoteString(value) {\n      return utils.unquoteString(value);\n    }\n  }]);\n  return CLIUtils;\n}();\nvar utilFunctions = new CLIUtils();\nfunction CreateObjectPair(a, b) {\n  var obj = {};\n  obj[a] = b;\n  return obj;\n}\nfunction ArgList(arg) {\n  if (arg instanceof this.constructor) {\n    return arg;\n  }\n  if (arg instanceof Array) {\n    this._values = arg.slice(0);\n  } else if (arg) {\n    this._values = [arg];\n  } else {\n    this._values = [];\n  }\n}\nArgList.prototype.append = function (value) {\n  var values = this._values;\n  values[values.length] = value;\n  return this;\n};\nArgList.prototype.remove = function (value) {\n  var values = this._values;\n  var index = values.indexOf(value);\n  if (index >= 0) {\n    values.splice(index, 1);\n  }\n  return this;\n};\nArgList.prototype.toJSO = function (cliUtils, cmd, arg) {\n  var res = {};\n  var list = this._values;\n  for (var i = 0, n = list.length; i < n; ++i) {\n    set(res, list[i].id, cliUtils.propagateProp(\"\".concat(keyRemap(cmd), \".\").concat(arg, \".\").concat(list[i].id), list[i].val));\n  }\n  return res;\n};\nfunction Arg(_id, _val) {\n  this.id = _id;\n  this.val = _val;\n}\nvar cliutils = Object.create({});\ncliutils.Arg = Arg;\ncliutils.ArgList = ArgList;\ncliutils.miew = null;\ncliutils.echo = null;\ncliutils.representations = representationsStorage;\ncliutils.utils = utilFunctions;\ncliutils.assign = assign;\ncliutils.CreateObjectPair = CreateObjectPair;\ncliutils.keyRemap = keyRemap;\ncliutils.Context = selectors.Context;\ncliutils.ClearContext = selectors.ClearContext;\ncliutils.NULL = NULL;\ncliutils.notimplemented = function () {\n  return this.NULL;\n};\nMiew.prototype.script = function (script, _printCallback, _errorCallback) {\n  MiewCLIParser.parser.yy.miew = this;\n  MiewCLIParser.parser.yy.echo = _printCallback;\n  MiewCLIParser.parser.yy.error = _errorCallback;\n  if (this.cmdQueue === undefined) {\n    this.cmdQueue = [];\n  }\n  if (this.commandInAction === undefined) {\n    this.commandInAction = false;\n  }\n  this.cmdQueue = this.cmdQueue.concat(script.split('\\n'));\n};\nMiew.prototype.awaitWhileCMDisInProcess = function () {\n  this.commandInAction = true;\n};\nMiew.prototype.finishAwaitingCMDInProcess = function () {\n  this.commandInAction = false;\n};\nMiew.prototype.isScriptingCommandAvailable = function () {\n  return this.commandInAction !== undefined && !this.commandInAction && this.cmdQueue !== undefined && this.cmdQueue.length > 0;\n};\nMiew.prototype.callNextCmd = function () {\n  if (this.isScriptingCommandAvailable()) {\n    var cmd = this.cmdQueue.shift();\n    var res = {};\n    res.success = false;\n    try {\n      MiewCLIParser.parser.parse(cmd);\n      res.success = true;\n    } catch (e) {\n      res.error = e.message;\n      MiewCLIParser.parser.yy.error(res.error);\n      this.finishAwaitingCMDInProcess();\n    }\n    return res;\n  }\n  return '';\n};\nMiewCLIParser.parser.yy = cliutils;\nMiewCLIParser.parser.yy.parseError = MiewCLIParser.parser.parseError;\n\nexport { Miew, Miew as default };\n//# sourceMappingURL=miew.module.js.map\n"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","value","create","_possibleConstructorReturn","call","_getPrototypeOf","getPrototypeOf","_arrayLikeToArray$1","arr","len","arr2","Array","_unsupportedIterableToArray$1","minLen","n","toString","slice","name","from","test","_slicedToArray","isArray","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","__assign","assign","t","s","arguments","hasOwnProperty","apply","this","defaults$1","lines","width","radius","scale","corners","color","fadeColor","animation","rotate","direction","speed","zIndex","className","top","left","shadow","position","Spinner","opts","spin","stop","el","document","createElement","setAttribute","css","transform","insertBefore","firstChild","borderRadius","Math","round","shadows","boxShadow","regex","_a","split","matches","match","x","y","xUnits","yUnits","prefix","end","parseBoxShadow","degrees","backgroundLine","height","background","getColor","transformOrigin","delay","line","normalizeShadow","appendChild","drawLines","requestAnimationFrame","cancelAnimationFrame","animateId","clearTimeout","parentNode","removeChild","undefined","prop","style","idx","normalized","shadows_1","xy","convertOffset","join","radians","PI","sin","cos","Timer","startTime","oldTime","elapsedTime","running","now","getElapsedTime","update","delta","newTime","window","performance","bind","Date","createElement$2","tag","id","element","cssText","Stats","domElement","_text","_startTime","_prevTime","_deltas","_index","_total","_count","time","ms","fps","textContent","toPrecision","on","display","_construct","Parent","args","Class","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct$23","a","Function","_wrapNativeSuper","_cache","Map","fn","indexOf","has","get","set","Wrapper","isUndefOrEqual","param","EventDispatcher","_handlers","addEventListener","type","callback","context","handlers","params","find","par","removeEventListener","forEach","handler","ev","remove","values","omitBy","dispatchEvent","event","priorities","debug","info","report","warn","error","Logger","console","_priority","verify","number","isNumber","Error","instantiate","_this","findKey","level","levels","keys","message","priority","_message","String","output","concat","log","logger","browserType","DEFAULT","SAFARI","decodeQueryComponent","text","decodeURIComponent","replace","getUrlParameters","url","query","location","search","substring","result","exec","DebugTracer","namespace","enabled","enable","indent","methods","wrap","method_","name_","spaces","substr","_len","_key","method","OutOfMemoryError","_Error","Derived","hasNativeReflectConstruct","_super","_isNativeReflectConstruct$22","Super","NewTarget","bytesToBase64","buffer","bytes","Uint8Array","binary","byteLength","fromCharCode","btoa","bytesFromBase64","str","atob","charCodeAt","isAlmostPlainObject","isPlainObject","proto","getFileExtension","fileName","max","lastIndexOf","Infinity","dataUrlToBlob","parts","partsCount","Blob","unquotedStringRE","enquoteHelper","utils","encodeQueryComponent","excludeExp","encodeURIComponent","code","parseInt","getUrlParametersAsDict","_a$i","resolveURL","URL","href","anchor","generateRegExp","symbolStr","symbolList","listStr","RegExp","attrs","content","child","createTextNode","HTMLElement","deriveClass","cls","base","members","statics","deriveDeep","needZeroOwnProperties","res","copy","hexColor","hex","allocateTyped","TypedArrayName","size","RangeError","arrayFromBase64","TypedArrayClass","arrayToBase64","array","compareOptionsWithDefaults","defOpts","optsStr","objectsDiff","src","dst","diff","forIn","srcValue","dstValue","deepDiff","isEmpty","isEqual","forInRecursive","object","iterateThrough","newPref","enquoteString","isString","unquoteString","SyntaxError","getBrowser","navigator","vendor","userAgent","shotOpen","open","write","shotDownload","dataUrl","filename","msSaveBlob","link","download","innerHTML","createObjectURL","body","click","copySubArrays","indices","itemSize","j","shallowCloneNode","node","newNode","cloneNode","worldPos","correctSelectorIdentifier","splitFileName","ext","data","blobData","concatTypedArraysUnsafe","first","second","mergeTypedArraysUnsafe","reduce","acc","cur","start","count","JobHandle","_EventDispatcher","_isNativeReflectConstruct$21","_shouldCancel","slaveEvent","defaults","modes","BS","atom","bond","space","multibond","aromrad","showarom","polyComplexity","poor","low","medium","high","ultra","VW","LN","offsarom","chunkarom","lineWidth","LC","SA","zClip","probeRadius","subset","wireframe","SE","QS","isoValue","gaussLim","gridSpacing","CS","probePositions","TR","TU","heightSegmentsRatio","tension","CA","depth","ss","helix","arrow","strand","TX","template","horizontalAlign","verticalAlign","dx","dy","dz","fg","bg","showBg","VD","kSigma","kSigmaMed","kSigmaMax","frame","isoMode","colorers","EL","carbon","UN","CO","baseColor","CB","factor","SQ","gradient","TM","min","OC","HY","MO","antialias","camFov","camNear","camFar","camDistance","radiusToFit","fogNearFactor","fogFarFactor","fogAlpha","fogColor","fogColorEnable","palette","resolution","autoResolution","autoPreset","preset","presets","default","mode","colorer","selector","material","empty","wire","small","macro","objects","dashSize","gapSize","transparent","draft","clipPlane","clipPlaneFactor","clipPlaneSpeed","plugins","axes","fog","zSprites","isoSurfaceFakeOpacity","suspendRender","nowater","autobuild","fxaa","outline","threshold","thickness","ao","autoRotation","maxfps","fbxprec","autoRotationAxisFixed","zooming","picking","pick","editing","aromatic","singleUnit","stereo","interpolateViews","transparency","translationSpeed","example","good","ssaoKernelRadius","ssaoFactor","stereoBarrel","use","multiFile","Settings","old","_changed","reset","path","_notifyChange","merge","_notifyChanges","defaultValue","cloneDeep","checkpoint","deepValue","deepPath","changed","filter","applyDiffs","diffs","VERSION","getDiffs","versioned","setPluginOpts","plugin","settings$1","repIndex","asBoolean","toLowerCase","adapters","string","Number","boolean","cL2Ass","cLSep","cCommonIgnoreSymbols","cL1ExclExpr","encodeQueryComponentL1","cL2ExclExpr","encodeQueryComponentL2","ensureRepList","reps","ensureRepAssign","rep","extractArgs","input","defaultsDict","bang","inputVal","sep","parseParams","arg","pair","adapter","actions","l","load","v","view","u","unit","menu","options","_objects","_options","newOpts","newObj","addObject","r","select","m","c","mt","materials","dup","ar","_fromArray","entries","entry","action","_processOptsForURL","_processArgsForURL","_processObjForURL","objOpts","_processOptsForScript","_processArgsForScript","_processObjForScript","map","_processRepsForScript","index","repString","strIdx","localAdd","options$1","fromURL","fromAttr","attr","toURL","stringList","checkAndAdd","repList","addReps","objList","addObjects","settings","protocol","host","pathname","toScript","commandsList","command","saveQuotes","quote","trim","_defineProperty","Atom$2","Atom","residue","role","het","serial","occupancy","temperature","charge","mask","hydrogenCount","radicalCount","valence","bonds","flags","Flags","HYDROGEN","CARBON","process","_chain","getName","_sequence","NONPOLARH","Element$a","Element","fullName","weight","radiusBonding","hValency","hydrogenValency","U1","Lead","U2","Wing","U18","N","Constants","C","O","SG","D","T","byAtomicNumber","ByAtomicNumber","byName","ByName","getByName","cBondTypes","UNKNOWN","COVALENT","AROMATIC","getAtomPos","Bond$5","Bond","right","order","fixed","_left","_right","_fixed","_order","_type","distanceTo","currAtom","_forEachNeighbour","l2Atom","refPoint","currDir","posGetter","rightCount","leftCount","tmpVec","clone","checkDir","sub","dot","checkCarbon","stages","forEachLevelOne","forEachLevelTwo","stageId","multiplyScalar","third","maxNeibs","another","secondPos","firstV","secondV","crossVectors","lengthSq","normalize","_fixDir","BondType","cNucleicControlNames","cNucleicWing1Names","cNucleicWing2Names","cCylinderSource","cCylinderTarget","types","atoms","Residue$1","Residue","chain","sequence","icode","_component","_icode","_mask","_atoms","_secondary","_firstAtom","_leadAtom","_wingAtom","_lastAtom","_controlPoint","_midPoint","_wingVector","_cylinders","_isValid","_het","_molecule","xyz","altLoc","tempFactor","getComplex","addAtom","forEachAtom","names","_findAtomByName","_name","getAtomPosition","leadAtom","_findFirstAtomInList","wingStart","wingEnd","cylSource","targetList","getCylinderTargetList","cylTarget","prevLeadPos","currLeadPos","prevWingPos","prevWing","vectorA","vectorB","abs","angleTo","negate","prevRes","prev","nextRes","chainAsNucleic","bFirstInChain","lp","z","_detectLeadWing","lerp","calcWing","asNucleic","_innerFinalize","anotherResidue","_this$_atoms","tempCount","occupCount","ResidueType$1","ResidueType","letterCode","_fullName","_addFlag","flag","list","StandardTypes","ALA","ARG","ASN","ASP","CYS","GLN","GLU","GLY","HIS","ILE","LEU","LYS","MET","PHE","PRO","PYL","SEC","SER","THR","TRP","TYR","VAL","A","G","I","U","DA","DC","DG","DI","DT","DU","WAT","H2O","HOH","DOD","UNK","UNL","PROTEIN","BASIC","ACIDIC","POLAR","NONPOLAR","NUCLEIC","PURINE","PYRIMIDINE","DNA","RNA","WATER","_addParam","_StructuralElement$ge","Chain$2","Chain","complex","_complex","_residues","minSequence","POSITIVE_INFINITY","maxSequence","NEGATIVE_INFINITY","residues","_ResidueType$Flags","seqNum","iCode","_determineType","curr","_finalize2","frameData","prevData","frameRes","currData","getResidueType","addResidueType","addResidue","StructuralElement","init","term","generic","genericByType","serialAtomMap","residueHash","splitUnifiedSerial","chainId","serialId","hashCode","getUnifiedSerial","Type","STRAND","BRIDGE","HELIX_310","HELIX_ALPHA","HELIX_PI","HELIX","TURN_310","TURN_ALPHA","TURN_PI","TURN","BEND","COIL","Generic","LOOP","StructuralElementType$5","StructuralElementGeneric","StructuralElementType$4","typeByPDBHelixClass","Helix$3","_StructuralElement","Helix","_isNativeReflectConstruct$20","helixClass","comment","_get","property","receiver","_superPropBase","desc","getOwnPropertyDescriptor","Strand$3","Strand","_isNativeReflectConstruct$1$","sheet","sense","atomCur","atomPrev","as","isNaN","Sheet$3","Sheet","_width","_strands","_finalize","SGroup$1","SGroup","saveNode","_id","_position","_charge","_repeat","_center","xmlNodeRef","nLimon","bLow","bHight","aPos","addVectors","commonjsGlobal","globalThis","g","parser$1","k","_o","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","parser","trace","yy","symbols_","Program","Expression","EOF","Selector","OR","AND","NOT","SELECTOR","NAMED_SELECTOR","SELECTOR_RANGED","RangeList","SELECTOR_NAMED","NameList","Range","NUMBER","Name","IDENTIFIER","STRING","$accept","$end","terminals_","productions_","performAction","yytext","yyleng","yylineno","yystate","$$","_$","$0","$","keyword","GetSelector","append","ValueList","table","defaultActions","parseError","hash","recoverable","parse","stack","tstack","vstack","lstack","lexer","sharedState","setInput","yylloc","yyloc","ranges","symbol","state","newState","expected","token","yyval","pop","lex","errStr","showPosition","loc","first_line","last_line","first_column","last_column","range","_input","_more","_backtrack","matched","conditionStack","offset","ch","unput","oldLines","more","reject","backtrack_lexer","less","pastInput","past","upcomingInput","pre","test_match","indexed_rule","backup","tempMatch","rules","_currentRules","flex","begin","condition","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","INITIAL","inclusive","Parser","SelectionParser","_createSuper$1_","_isNativeReflectConstruct$1_","List","_values","splice","toJSON","_List","includes","valuesArray","_List2","_super2","upperOnly","toUpperCase","_validate","_createSuper$1Z","_isNativeReflectConstruct$1Z","ListSelector","_Selector","RangeListSelector","_ListSelector","ValueListSelector","_ListSelector2","_super3","caseSensitive","NoneSelector","_Selector2","_super4","_atom","AllSelector","_Selector3","_super5","_createSuper$1Y","_isNativeReflectConstruct$1Y","none","PrefixOperator","rhs","InfixOperator","lhs","_this2","_createSuper$1X","_isNativeReflectConstruct$1X","keywords","defineSelector","SelectorClass","factory","_RangeListSelector","SerialSelector","_ValueListSelector","NameSelector","_ValueListSelector2","AltLocSelector","_ValueListSelector3","ElemSelector","_ValueListSelector4","ResidueSelector","_RangeListSelector2","SequenceSelector","_super6","_ValueListSelector5","ICodeSelector","_super7","_RangeListSelector3","ResIdxSelector","_super8","_ValueListSelector6","ChainSelector","_super9","HetatmSelector","_super10","PolarHSelector","_super11","NonPolarHSelector","_super12","NULL_SELECTOR","defineOperator","OperatorClass","byResidueTypeFlag","_Selector4","_class","_super16","_PrefixOperator","NotOperator","_super13","includesAtom","_InfixOperator","AndOperator","_super14","_InfixOperator2","OrOperator","_super15","selectors$5","Context","ClearContext","BiologicalUnit","_selector","_boundaries","boundingBox","boundingSphere","makeEmpty","expandByPoint","bbc","getCenter","setFromCenterAndSize","radiusSquared","center","pos","lengthSquared","distanceToSquared","sqrt","Assembly$3","_BiologicalUnit","Assembly","_isNativeReflectConstruct$1W","chains","matrices","oldCenter","oldRad","applyMatrix4","newRad","addScalar","subScalar","matrix","Component","_residueIndices","_cycles","_subDivs","_residueCount","resIdc","idIdc","idCount","last","subDivs","resCnt","_bonds","forEachCycle","cycle","forEachResidue","cycles","subs","currRes","endRes","_forEachSubChain","_subIdx","currIdx","lastSubIdx","subIdx","boundaries","AtomPairs","maxPairsEstimate","numPairs","numMaxPairs","intBuffer","Int32Array","hashBuffer","cHashTableSize","indexA","indexB","ia","ib","codeToAdd","apI","_getBondingRadius","v1Tmp","v2Tmp","cp","AutoBond","_maxRad","bBox","getDefaultBoundaries","_vBoxMin","_vBoxMax","_pairCollection","getAtoms","numAtoms","aInd","collection","numBondsForAtom","bInd","addPair","vw","getVoxelWorld","rA","isHydrogenA","posA","locationA","atomA","atomsNum","processAtom","atomB","isHydrogen","locationB","dist2","rB","maxAcceptable","isHet","forEachAtomWithinRadius","iA","iB","_addPair","bondsA","numBonds","newBond","addBond","_buildInner","_calcBoundingBox","_addExistingPairs","_findPairs","_addPairs","nAtoms","maxRad","destroy","cAromaticType","cAromaticAtoms","_coDirVectors","v1","v2","_insertAscending","val","_anotherAtom","_markAromatic","Cycle","atomsList","nA","add","nextAtom","checkBond","forEachBond","_isAromatic","_isPossibleAromatic","rightIdx","leftIdx","_checkCycleSimple","_checkCycleComplex","assert","AromaticLoopsMarker","bondsData","bondMarks","_bondsData","_bondMarks","_resetCycles","_currIdx","bond1","bond2","arr1","n1","n2","i1","i2","prevBond","currRight","bondsOrder","currLeft","currVec","startAtomRef","_currStart","checkAromatic","_checkBond","_haveSameCycle","theta","anotherAtom","anotherVec","clamp","newDir","cross","dir","newRight","_tryBond","checkCycle","forEachComponent","component","_startCycle","newCycle","addCycle","_findLoops","_getSphereSliceRadiusRange","zMin","zMax","dzMin","dzMax","rzMin","rzMax","_getCircleSliceRadiusRange","yMin","yMax","dyMin","dyMax","ryMin","ryMax","VoxelWorld","box","vCellSizeHint","_box","getSize","divide","floor","_last","_cellSize","_cellInnerR","_cellOuterR","numVoxels","_voxels","getAtomCount","voxelIdx","_findVoxel","point","zero","_zero","voxel","_voxel","xRange","_xRange","yRange","_yRange","zRange","_zRange","_forEachVoxelWithinRadiusSimple","rRangeXY","rRangeX","xVal","yVal","zVal","isInsideX","isInsideY","isInsideZ","divideScalar","clampScalar","vCenter","_vCenter","distTouch2","distInside2","d2","r2","_forEachVoxelWithinRadius","isInside","_forEachAtomInVoxel","dist","_forEachAtomWithinDistFromGroup","atomProc","voxels","processIfWithin","MINIMAL_DISTANCE","MIN_HBOND_ENERGY","COUPLING_CONSTANT","HBondInfo","_hbonds","_buildVW","_build","to","_this$_hbonds$from$ac","acceptor","acc0","acc1","energy","ri","getType","preri","rj","prerj","_calcHBondEnergy","pairs","_residueGetCAlpha","_this$_residueGetCO2","_residueGetCO","h","predonor","donor","_this$_residueGetNH2","_residueGetNH","_this$_residueGetCO4","distanceHO","distanceHC","distanceNC","distanceNO","donorInfo","accInfo","_createForOfIteratorHelper","allowArrayLike","it","_arrayLikeToArray","_unsupportedIterableToArray","F","f","normalCompletion","didErr","step","_e2","return","_helixClassMap","_loopMap","BridgeType","freeze","NO_BRIDGE","PARALLEL","ANTI_PARALLEL","HelixFlag","START","MIDDLE","END","START_AND_END","StructureType$1","SecondaryStructureMap","_ss","_sheet","_betaPartners","_bend","getResidues","_helixFlags","_chainLengths","_chains","_buildBetaSheets","_i2","_buildAlphaHelices","inResidues","chainLength","inPreferPiHelices","stride","isBond","_i3","kappa","_kappa","_i4","_isHelixStart","_j","_i5","_j2","_j3","_i6","_empty","_j4","_j5","_i7","isTurn","_stride","p1","p2","p3","p4","v12","v34","prevPrev","nextNext","curCA","ppCA","nnCA","ckap","_cosinusAngle","skap","atan2","bridges","lenA","chainA","b","lenB","chainB","_testBridge","_step","found","_iterator","bridge","unshift","chainI","getChain","chainJ","sort","_i8","_j6","ibi","iei","jbi","jei","ibj","iej","jbj","jej","_hasChainBreak","ladderset","Set","_i9","ladder","_bridge","delete","sheetset","toMove","_step2","_iterator2","_step4","_iterator4","_b","_areBridgesLinked","_step3","_iterator3","_step5","_iterator5","_i10","_bridge2","betai","betaj","_l","_j7","parallel","_k","_j8","_k2","_k3","_k4","_k5","d","_step6","ai","aj","_iterator6","_step7","_iterator7","_i11","StructureType","StructuralElementType$3","helixClassMap","loopMap","Complex$9","Complex","_components","_helices","_sheets","structures","_residueTypes","_sgroups","_molecules","_maskNeedsUpdate","metadata","symmetry","units","_currentUnit","forEachChain","updateToFrame","resName","chainName","resId","atomName","localeCompare","molecules","groups","components","maxSerial","uniSerial","chainShift","remnant","insCode","addComp","comp","resCount","currStart","isConnected","setSubDivs","currSubDivs","enableEditing","_fillCmpEdit","_fillCmpNoedit","getBoundaries","getTransforms","getSelector","setCurrentUnit","newUnit","computeBoundaries","_computeBounds","_finalizeBonds","forEachSGroup","_rebuildSGroupOnAtomChange","updateStructuresMask","getBonds","finalize","getSequence","getICode","helices","sheets","needAutoBonding","autoConnector","build","_bond","_fillComponents","marker","markCycles","detectAromaticLoops","detectCycles","_finalizeMolecules","molecule","updater","structure","collectMask","forEachMolecule","setMask","clearMask","totalSelector","reseter","_atomNames","dict","_elements","_residueNames","_chainNames","_altlocNames","_voxelWorld","addAtoms","srcArray","dstArray","functor","elem","complexes","atomBias","bondBias","residueBias","chainBias","componentBias","bias","processBond","processResidue","processChain","processComponent","doNothing","rt","addElement","lastCode","lastSheetIndex","item","ssMap","lastHelixIndex","curStructure","curCode","curResidue","curSheetIndex","loopType","curSheet","addStrand","pow2ceil","Volume$2","Volume","dimensions","vecSize","volumeInfo","_dimVec","_volumeInfo","_dimensions","_dimX","_dimY","_dimZ","_rowElements","_planeElements","_totalElements","_data","getValue","setValue","addValue","boxSize","Float32Array","vl","getCellSize","vs","xSize","ySize","zSize","volMap","_voxelValue","zi","zm","zp","yi","ym","yp","xi","xm","xp","tilesX","ceil","tilesY","tileRow","row","_tileRow","_x","_x2","texture","needsUpdate","Molecule$8","Molecule","chem","selectors","CSS2DObject","_Object3D","_isNativeReflectConstruct$1V","_element","transp","getElement","op","op100","opacity","RCGroup","_Group","_isNativeReflectConstruct$1U","raycaster","intersects","visible","children","raycast","innerOnly","enableSubset","disableSubset","totalSubset","getSubset","vertexScreenQuadShader","_worldMatrixInverse","identity","LAYERS","VOLUME","TRANSPARENT","PREPASS_TRANSPARENT","VOLUME_BFPLANE","COLOR_FROM_POSITION","SHADOWMAP","SELECTION_LAYERS","resetTransform","quaternion","updateMatrixWorldRecursive","parent","updateMatrixWorld","addSavingWorldTransform","matrixWorld","invert","multiply","decompose","renderDummyQuad","_material","depthWrite","_scene","_quad","_camera","render","renderScreenQuad","isIdentity","equals","applyToPointsArray","w","elements","persp","_v","ScreenQuadMaterial","_RawShaderMaterial","_isNativeReflectConstruct$1T","uniforms","srcTex","vertexShader","depthTest","clearTree","traverse","geometry","dispose","removeChildren","renderScreenQuadFromTex","fragmentShader","renderScreenQuadFromTexWithDistortion","coef","setMinimalFov","angle","aspect","fov","radToDeg","atan","tan","degToRad","updateHalfSized","camera","originalAspect","originalFov","updateProjectionMatrix","setDistanceToFit","intersectVisibleObject","gfxObj","fogFarPlane","intersectObject","nearPlane","near","matrixWorldInverse","farPlane","far","extractScale","te","determinant","copyAtList","attribute","indexList","_oldInstancedBufferGeometryCopy","source","instanceCount","gfxutils","calcCylinderMatrix","posBegin","posEnd","posCenter","matScale","makeScale","matRotHalf","makeRotationX","matRotLook","vUp","lookAt","setPosition","calcChunkMatrix","eye","up","rad","groupHasGeometryToRender","group","hasGeoms","buildDistorionMesh","widthSegments","heightSegements","calcInverseBarrel","prevR2","curR2","dr","geo","getAttribute","setXY","fillArray","startIndex","endIndex","destroyObject","belongToSelectLayers","layers","processObjRenderOrder","root","idMaterial","renderOrder","isGroup","applySelectionMaterial","setValues","depthFunc","overrideColor","lights","shadowmap","setUberOptions","fixedColor","zOffset","getMiddlePoint","point1","point2","optionalTarget","addScaledVector","_defaultBoundaries","Visual","_gfxutils$RCGroup","_isNativeReflectConstruct$1S","dataSource","_dataSource","_toConsumableArray","_arrayWithoutHoles","iter","_iterableToArray","_nonIterableSpread","_ensureArray","EntityList","entities","_list","_dict","_indices","entity","register","registerInList","registerInDict","_this3","unregisterFromList","unregisterFromDict","makeContextDependent","defineProperties","CollisionSphere","_radius","sphere","_sphere","ray","intersectSphere","distance","origin","SphereCollisionGeo","_base","_isNativeReflectConstruct$1R","inters","chunkIdx","computeBoundingBox","tmpColor$4","copySubArrays$1","InstancedSpheresGeometry","_SphereCollisionGeo","_isNativeReflectConstruct$1Q","spheresCount","sphereComplexity","useZSprites","_sphGeometry","_init","itemIdx","itemPos","itemRad","_offsets","setSphere","colorVal","_colors","finishUpdate","computeBoundingSphere","chunkIndices","alphaArr","_alpha","geom","sphereGeo","alpha","fill","tmpColor$3","ChunkedObjectsGeometry","_BufferGeometry","_isNativeReflectConstruct$1P","chunkGeo","chunksCount","_chunkGeo","colors","chunkSize","_chunkSize","mesh","facesPerChunk","faceIndex","srcPos","_positions","srcNorm","_normals","srcColor","dstPos","dstNorm","dstColor","dstPtOffset","ptIdxBegin","ptIdxEnd","subarray","attributes","chunkIndex","chunkIndexSize","pointsCount","use32bitIndex","indexSize","Uint32Array","Uint16Array","posOffset","setIndex","SimpleSpheresGeometry","_isNativeReflectConstruct$1O","sphGeometry","normals","geoNormals","normal","_chunkPos","_tmpPositions","tmpPos","geoPos","centerPos","tmpVector$2","normMtx$1","Simple2CCylindersGeometry","_ChunkedObjectsGeomet","_isNativeReflectConstruct$1N","cylGeometry","_chunkNorms","_tmpVector","botPos","topPos","firstOffset","secondOffset","tmpArray","geoNorm","lerpVectors","mtx1","getNormalMatrix","fromArray","toArray","applyMatrix3","colorVal1","colorVal2","CylinderBufferGeometry","_isNativeReflectConstruct$1M","radiusTop","radiusBottom","radialSegments","heightSegments","openEnded","thetaLength","parameters","hasTop","hasBottom","vertexCount","facesCount","heightHalf","positions","uvs","currVtxIdx","currFaceIdx","tanTheta","v3","v4","setXYZ","vx","vy","vz","startTIdx","lastIdx","fTIdx","currSrcIdx","getX","getY","getZ","nextTVtx","startBIdx","lastBIdx","fBIdx","currSrcBIdx","nextBVtx","tmpColor$2","invMatrix","setArrayXYZ$1","setArrayXYZW$1","sortNumber","Instanced2CCylindersGeometry","_InstancedBufferGeome","_isNativeReflectConstruct$1L","_useZSprites","_cylGeometry","_collisionGeo","me","mtxOffset","setItem","_matVector1","_matVector2","_matVector3","_invmatVector1","_invmatVector2","_invmatVector3","colorIdx","_color1","_color2","chunksIdx","cylinderInfo","newPar","_prepareCylinderInfo","cylinderIndices","color1","color2","_assignOpacity","cylinderGeo","tmpPrev","tmpNext","tmpRes","simpleNormal","normalOnCut","nearRingPt","ExtrudedObjectsGeometry","_isNativeReflectConstruct$1K","shape","ringsCount","ptsCount","totalPts","_createExtrudedChunkGeometry","_ringsCount","tmpShape","_tmpShape","hasSlope","hasCut","chunkStartIdx","_setPoints","_setSlopeNormals","_setBaseNormals","_addCut","vtxIdx","mtx","nPtsInRing","_countNormalsInRing","isSlope","shiftToExtraPt","subVectors","tmpColor$1","setArrayXYZ","setArrayXYZW","startSegmentIdx","segmentsCount","elemSize","ThickLinesGeometry","_isNativeReflectConstruct$1J","_initVertices","segmentIdx","pos1","pos2","directions","_directions","dirIdx","startSegIdx","endSegIdx","startPos","startDir","_buffersSize","indexOffset","pointOffset","LinesGeometry","_BaseLinesGeometry","_isNativeReflectConstruct$1I","posSize","getPositionSize","tmpVector$1","normMtx","CylinderCollisionGeo","_isNativeReflectConstruct$1H","itemOffset","ChunkedLinesGeometry","_LinesGeometry","_isNativeReflectConstruct$1G","enableCollision","collisionGeo","segCount","segIdx","setSegments","getSubsetSegments","setColors","getSubsetColors","tmpVector","TwoColorLinesGeometry","_isNativeReflectConstruct$1F","segmentIndices","_segCounts","vectors","vecCount","tempPos1","tempPos2","CrossGeometry","_isNativeReflectConstruct$1E","setSegment","tmpColor","IsoSurfaceGeometry","_isNativeReflectConstruct$1D","_opts","_posRad","posRad","IsoSurfaceMarchCube","pointsValuesLinear","hasIntersection","bitsInside","numCellsPerSide","n3","striIndicesMarchCube","edgeTable","GridCell","_arrSize","cubeIndex","Triangle","createArray","arrSize","IsoSurface","_numTriangles","_numVertices","_volumetricData","_xAxis","_yAxis","_zAxis","_xDir","_yDir","_zDir","cellSize","xAxis","yAxis","zAxis","xDir","yDir","zDir","tmp","notZero","axe","EPSILON","isoLevel","grid","ind1","ind2","vertex","valP1","isoDiffP1","diffValP2P1","mu","triangles","firstIndices","_firstIndices","secondIndices","_secondIndices","vertexList","_vertexList","normalList","_normalList","_vertexInterp","triCount","triTblIdx","triTable","_triTable","appendSimple","appendVertex","vol","volData","getData","dim","getDimensions","stepX","getStrideX","stepY","getStrideY","stepZ","getStrideZ","gc","gcVal","gcValSize","additions","axis","triVertex","_origin","posMtx","grad","globTriCount","getDirectIdx","_gradient","_polygonize","computeGradient","_doGridPosNorms","_prepareAxesAndDirs","vertexMap","idcCount","newIndices","vertices","newPositions","newNormals","norm","faceVer","oldVerCount","vMap","newVer","matchedIndex","_remapIndices","_remapVertices","colorMap","atomMap","atomWeightMap","visibilitySelector","atomWeightData","atomStrideX","atomStrideY","atomStrideZ","numVerts","xs","ys","zs","colorData","strideX","strideY","strideZ","xInv","yInv","zInv","atomLookup","atomWeights","interp","idx1","idx2","collectWeight","coefX","coefY","coefZ","newVerCount","ind","mux","muy","muz","maxWeight","dominantIdx","atomIdx","c0","c1","c2","c3","cz0","cz1","numTriangles","newTriCount","i0","VolumeSurfaceGeometry","_IsoSurfaceGeometry","_isNativeReflectConstruct$1C","_visibilitySelector","_calcSurface","posRadArray","itemsCount","maxPosRad","minPosRad","tmpVal","minMaxValues","_findMinMax","minCoordRad","maxCoordRad","gridPadding","radScale","padRad","_minCoordRad","bbox","surface","isoSurf","compute","vertexFusion","setColorVolTex","volTexMap","packedArrays","_findNumVoxels","_computeSurface","_makeSurface","Volume$1","QuickSurfGeometry","_VolumeSurfaceGeometr","_isNativeReflectConstruct$1B","_shiftByOrigin","gaussdensity","atomicNum","invIsoValue","invGridSpacing","maxVoxelX","maxVoxelY","maxVoxelZ","volTexData","texStrideX","scaledRad","atomicNumFactor","radInv","radLim","radLim2","xMin","xMax","dy2dz2","addr","texAddr","expVal","density","exp","colInd","originX","originY","originZ","AVHash","maxDistance","minX","minY","minZ","maxX","maxY","maxZ","hashFunc","minW","cid","iDim","jDim","kDim","nCells","jkDim","preHash","iIdx","cellOffsets","cellLengths","maxCellLength","subArray","cellLength","neighbourListLength","withinRadii","rExtra","out","outIdx","nearI","nearJ","nearK","loI","loJ","loK","hiI","hiJ","hiK","iOffset","jOffset","cellStart","cellEnd","dataIndex","baseIndex","rSum","ContactSurface","_indexList","maxRadius","scaleFactor","volTex","weights","gridx","gridy","gridz","sinTable","cosTable","neighbours","ngTorus","lastClip","weightsMap","mid","fillGridDim","innI","rExt","gridSize","TypeName","uniformArray","initializeGrid","initializeAngleTables","singleAtomObscures","innX","innY","innZ","innCI","ra2","obscured","ni","projectTorus","aIdx","bIdx","xa","ya","za","r1","innR2","dmp","normalToLine","rInt","ng","cost","sint","px","py","pz","iax","iay","iaz","minx","miny","minz","maxx","maxy","maxz","iz","iy","dzy2","zyOffset","ix","current","timeEnd","ax","ay","az","ar2","colIdx","cr","cg","cb","cIdx","ap","spx","spy","spz","dd","projectPoints","innIdx","projectTorii","innInnI","fixNegatives","ContactSurfaceGeometry","_isNativeReflectConstruct$1A","contactSurface","IsoSurfaceAtomColored","radiusAt","coord","colorX","colorY","colorZ","atomType","srcAtom","IsosurfaceBuildNormals","vBoxMin","vBoxMax","_numAtoms","_probeRadius","_atomsList","_voxelList","numAtomsRefs","aveRad","numCells","_numCells","_aveRad","side","side2","side3","xScale","_xScale","yScale","_yScale","zScale","_zScale","maxAtomsRefs","xNumVoxMult","yNumVoxMult","zNumVoxMult","diaAffect","numVoxX","numVoxY","numVoxZ","xIndMin","yIndMin","zIndMin","xIndMax","yIndMax","zIndMax","indVoxel","indexNext","_vertices","xInd","yInd","zInd","ref","closest","minDist2","MAX_VALUE","forEachRelatedAtom","numVertices","numCloseAtoms","vNormalX","vNormalY","vNormalZ","koef","maxRadAffect","maxRadAffect2","expScale","gatherNormals","radiusColorSmoothness","colorsClose","weightsSum","gatherColors","weightNormalized","IsoSurfaceGeo","maxNumVertices","maxNumTriangles","needVertexColors","_maxNumVertices","_maxNumTriangles","Element$9","SSIsosurfaceGeometry","_isNativeReflectConstruct$1z","_innerBuild","geoOut","getGeo","_fromGeo","numTri3","atomsColored","nm","hashLines","hashEntries","bigNum","probeRadius2","atomRadiusScale","radMax","num","numPoints","vOut","invNP","tx","ty","tz","sign","cube","indexPointValue","xb","yb","zb","v0","a0","voxelWorld","getClosestAtom","a1","a2","isTriangleVisible","indInGeo0","addVertexToGeo","indInGeo1","indInGeo2","itr","meshRes","vCellStep","vaEdges","vCorner","indCell","indY","indZ","getCornerCoord","indPointValues","indValues","buildEdgePoint","offs","numTri","indTri","addTriangle","numIntersectedCells","cubeValuesIndex","indCorner","letter","atomT","probeRad","vDif","fx","fy","fz","indXMin","indYMin","indZMin","indXMax","indYMax","indZMax","HASH_SIZE","numHashEtriesAllocated","numHashEntryIndex","vAdd","oneHynberes","hashResolution","marCubeResoultion","iHash","hLineIndex","iVertAdd","getNewHashEntry","entryFirst","probeSphereRadius","distToBorder","probeSpRad2","sideInv","radEst","xCorner","yCorner","zCorner","ok","expandFactor","meshResolution","colorMode","useVertexColors","excludeProbe","convertToAtomsColored","getBoundingBox","rProbeRadius","calculateGridCorners","numIntersectedCellsEstim","getNumIntersectedCells","createVertexHash","probeRadForNormalsColors","createVoxels","buildGeoFromCorners","modifyExcludedFromGeo","buildNormals","buildColors","destroyVoxels","LabelsGeometry","_isNativeReflectConstruct$1y","items","xTranslation","yTranslation","deltaPos","userData","translation","fieldTxt","spanText","fontSize","strings","spanNodeP","spanNodeText","createLabel","textAlign","fColor","bColor","geometries","capabilities","precision","renderer","getMaxPrecision","_noiseData","_noiseWrapS","_noiseWrapT","_noiseMinFilter","_noiseMagFilter","_noiseMapping","noiseTexture","noise","noiseWidth","noiseHeight","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","getOwnPropertyDescriptors","_samplesKernel$1","defaultUniforms","diffuse","specular","shininess","zClipValue","clipPlaneValue","nearPlaneValue","invModelViewMatrix","world2colorMatrix","dashedLineSize","dashedLinePeriod","projMatrixInv","viewport","samplesKernel","noiseTex","noiseTexelSize","srcTexelSize","uberOptionNames","uberOptions","zClipCoef","toonShading","UberMaterial","_isNativeReflectConstruct$1x","instancedPos","instancedMatrix","attrColor","attrColor2","attrAlphaColor","sphereSprite","cylinderSprite","fakeOpacity","prepassTransparancy","colorFromPos","shadowmapType","colorFromDepth","orthoCam","dashedLine","thickLine","fogTransparent","normalsToGBuffer","precisionString","defines","extensions","inst","USE_FOG","INSTANCED_POS","INSTANCED_MATRIX","ATTR_COLOR","ATTR_COLOR2","ATTR_ALPHA_COLOR","OVERRIDE_COLOR","SPHERE_SPRITE","fragDepth","CYLINDER_SPRITE","ZCLIP","CLIP_PLANE","FAKE_OPACITY","USE_LIGHTS","COLOR_FROM_POS","SHADOWMAP_PCF_SHARP","SHADOWMAP_PCF_RAND","SHADOWMAP_BASIC","COLOR_FROM_DEPTH","ORTHOGRAPHIC_CAMERA","PREPASS_TRANSP","DASHED_LINE","THICK_LINE","FOG_TRANSPARENT","drawBuffers","NORMALS_TO_G_BUFFER","TOON_SHADING","shallow","createInstance","UberObject","SuperClass","NewObjectType","_SuperClass","_isNativeReflectConstruct$1w","rest","onBeforeRender","scene","_onBeforeRender","_update","updateUniforms","OurMesh$4","ZSpriteMesh","_OurMesh","_isNativeReflectConstruct$1v","castShadow","receiveShadow","_geometry","_group","modelViewMatrix","multiplyMatrices","uniformsNeedUpdate","OurMesh$3","ZClippedMesh","_isNativeReflectConstruct$1u","modelView","_modelView","mvLength","_mvLength","setFromMatrixColumn","localToWorld","TextMesh","_isNativeReflectConstruct$1t","initialized","_this$geometry","srcItem","label","visibility","SimpleMesh","_isNativeReflectConstruct$1s","OurMesh$1","_viewport","ThickLineMesh","_isNativeReflectConstruct$1r","projectionMatrix","InstancedMesh","_isNativeReflectConstruct$1q","meshes","ZClipped","ZSprite","Text","Line","LineSegments","Mesh","Instanced","setMatParams","_createInstancedCylinders","Geometry","initMaterial","_createLineSegmentsGeoTriplet","renderParams","thickLines","_createIsoSurfaceGeoTriplet","geoClass","caps","surfaceOpts","MeshCreator","_caps","_settings","TransformGroup","_isNativeReflectConstruct$1p","geoParams","transforms","_geoParams","mat","_transforms","_createMeshes","_ray","inverseMatrix","_inverseMatrix","childIntersects","ciCount","geos","meshCnt","ChemGroup","_RCGroup","_isNativeReflectConstruct$1o","selection","_selection","_mode","_colorer","_chunksIdc","chunks","_polyComplexity","_geo","_makeGeoArgs","_mesh","chunksList","_calcChunksList","setOpacity","_changeSubsetOpacity","AtomsGroup","_ChemGroup","_isNativeReflectConstruct$1n","atomsIdc","AtomsSphereGroup","_AtomsGroup","_isNativeReflectConstruct$1m","_this$_selection","calcAtomRadius","setColor","getAtomColor","updateColor","needsColorUpdate","AtomsSurfaceGroup","_AtomsSphereGroup","_isNativeReflectConstruct$1l","selectedAtoms","getSurfaceOpts","AtomsSASSESGroupStub","_isNativeReflectConstruct$1k","getAtomText","getNode","getVisualName","colorMappings","adjust","inverse","propagateColor","rule","startsWith","templateMappings","hetatm","water","parseTemplate","AtomsTextGroup","_isNativeReflectConstruct$1j","getLabelOpts","fgColor","bgColor","_slerp","omega","oSin","AromaticGroup","_isNativeReflectConstruct$1i","radOffset","addChunk","chunksToIdx","prevVector","currVector","segmentsHeight","_segmentsHeight","leprStep","currAtomIdx","cCount","cycAtoms","chunkPoints","tmpDir","cycleRad","prevPos","currPos","upDir","currAngle","_createShape$1","pts","AromaticTorusGroup","_AromaticGroup","_isNativeReflectConstruct$1h","torusRad","getAromRadius","radiusV","calcStickRadius","lookAtVector","mtc","points","currPoint","AromaticLinesGroup","_isNativeReflectConstruct$1g","getAromaticOffset","prevPt","getAromaticArcChunks","ResiduesGroup","_isNativeReflectConstruct$1f","chunksIdc","resIdx","NucleicItemGroup","_ResiduesGroup","_isNativeReflectConstruct$1e","stickRad","getResidueColor","_processItem","NucleicCylindersGroup","_NucleicItemGroup","_isNativeReflectConstruct$1d","cyl1","cyl2","exports","NucleicSpheresGroup","_isNativeReflectConstruct$1c","Smooth","AbstractInterpolator","CubicInterpolator","Enum","LinearInterpolator","NearestInterpolator","SincFilterInterpolator","_Smooth","clipClamp","clipMirror","clipPeriodic","defaultConfig","getColumn","isValidNumber","makeLanczosWindow","makeScaledFunction","makeSincKernel","normalizeScaleTo","shallowCopy","sinc","validateNumber","validateVector","__hasProp","__extends","ctor","__super__","METHOD_NEAREST","METHOD_LINEAR","METHOD_CUBIC","METHOD_LANCZOS","METHOD_SINC","CLIP_CLAMP","CLIP_ZERO","CLIP_PERIODIC","CLIP_MIRROR","CUBIC_TENSION_DEFAULT","CUBIC_TENSION_CATMULL_ROM","cubicTension","clip","scaleTo","sincFilterSize","sincWindow","period","config","clipHelper","clipHelperClamp","clipHelperZero","periodic","clipHelperPeriodic","mirror","clipHelperMirror","getClippedInput","interpolate","tangentFactor","getTangent","t2","t3","kernel","sum","_ref","_ref2","_results","baseScale","scaleRange","isFinite","dimension","invalidErr","baseDomainEnd","interpolator","interpolatorClass","interpolators","properties","smoothFunc","lanczosFilterSize","nearest","linear","cubic","lanczos","_len2","deepValidation","_len3","domain","calcMatrix","_buildStructureInterpolator","argTrans","transformT","tt","newt","ans","_addPoints","centerPoints","topPoints","tp","CartoonHelper","startIdx","endIdx","pointsArrays","firstIdx","_prevIdx","_nextIdx","arrIdx","_extrapolate2","otherIdx","prevIdx","nextIdx","posFrom","posTo","nucleic","nameFrom","nameTo","shift","wing","cpPrev","tpPrev","cpNext","tpNext","_addPointsForLoneResidue","_calcPoints","_topInterp","_centerInterp","_shift","_valueStep","_segmentsCount","firstRad","secondRad","mtcCount","outMtc","currRad","topInterp","cenInterp","currentValue","mtxIdx","lerpVal","currTop","currCenter","nextCenter","_createShape","_loopThrough","subDiv","subDivI","subDivN","idc","matrixHelper","prevLast","prevSecondRad","getResidueRadius","prepareMatrices","ResiduesSubseqGroup","_isNativeReflectConstruct$1b","cmpMultiplier","getHeightSegmentsRatio","getTension","chunkIdc","subdivs","ResiduesTraceGroup","_isNativeReflectConstruct$1a","chunk","BondsGroup","_isNativeReflectConstruct$19","drawMultiple","drawMultiorderBonds","showAromatic","showAromaticLoops","bondsIdc","bondsCount","getBondOrder","bondOrder","getCylinderCount","bondIdx","BondsCylinderGroup","_BondsGroup","_isNativeReflectConstruct$18","normDir","emptyOffset","calcSpaceFraction","leftPos","rightPos","currBondIdx","atom1","atom2","a1Pos","a2Pos","calcNormalDir","currStickRad","STEP_SIZE","BondsLinesGroup","_isNativeReflectConstruct$17","bondDir","a1Hangs","a2Hangs","AtomsProcessor","_isNativeReflectConstruct$16","atomCount","_checkAtom","atomsGroup","meshIdx","chSubset","subsetEl","OrphanAtomsProcessor","_AtomsProcessor","_isNativeReflectConstruct$15","ResiduesProcessor","_isNativeReflectConstruct$14","ResidueGroup","_checkResidue","residuesGroup","NucleicProcessor","_ResidueProcessor","_isNativeReflectConstruct$13","SubseqsProcessor","_isNativeReflectConstruct$12","getMaskedSubdivSequences","jEnd","BondsProcessor","_isNativeReflectConstruct$11","bondsGroup","AromaticProcessor","_isNativeReflectConstruct$10","cycleIdx","perCycle","processors","Atoms","OrphanAtoms","Residues","Nucleic","Subseqs","Bonds","Aromatic","_bakeGroup","triplet","Processor","Group","GroupsFactory","createSpheres","createCrosses","create2CCylinders","create2CLines","createExtrudedChains","create2CClosedCylinders","createChunkedLines","createQuickSurface","createContactSurface","createSASSES","createLabels","Mode","groupList","depGroups","groupCount","currGroup","newGroup","getRenderParams$1","LinesMode","_Mode","_isNativeReflectConstruct$$","shortName","LicoriceMode","_isNativeReflectConstruct$_","BallsAndSticksMode","_isNativeReflectConstruct$Z","VanDerWaalsMode","_isNativeReflectConstruct$Y","TraceMode","_isNativeReflectConstruct$X","TubeMode","_isNativeReflectConstruct$W","_residue","TUBE_RADIUS","buildGeometry","CartoonMode","_isNativeReflectConstruct$V","secCache","getSecondary","secOpts","ARROW_END","startRad","getResidueStartRadius","endRad","getResidueEndRadius","_res","tubeRad","secHeight","secData","selectors$4","getRenderParams","SurfaceMode","_isNativeReflectConstruct$U","surfaces","surfaceNames","isSurface","QuickSurfaceMode","_SurfaceMode","_isNativeReflectConstruct$T","useBeads","getVisibilitySelector","IsoSurfaceMode","_isNativeReflectConstruct$S","_excludeProbe","_radScale","IsoSurfaceSASMode","_IsoSurfaceMode","_isNativeReflectConstruct$R","IsoSurfaceSESMode","_isNativeReflectConstruct$Q","ContactSurfaceMode","_isNativeReflectConstruct$P","TextMode","_isNativeReflectConstruct$O","adjustColor","modes$1","Palette","asIs","elementColors","defaultElementColor","residueColors","defaultResidueColor","chainColors","secondaryColors","defaultSecondaryColor","gradientName","gradients","defaultNamedColor","beta","namedColors","minRangeColor","midRangeColor","maxRangeColor","defaultGradientColor","namedColorsArray","rainbow","temp","hot","cold","reds","blues","_Palette$prototype","_namedColorsArray$i","_palette$secondaryCol$1","palette$2","H","P","S","CL","FE","NI","CU","BR","palette$1","HE","LI","BE","B","NE","NA","MG","AL","SI","AR","K","SC","TI","V","CR","MN","ZN","GA","GE","AS","KR","RB","SR","Y","ZR","NB","TC","RU","RH","PD","AG","CD","IN","SN","SB","TE","XE","BA","LA","CE","PR","ND","PM","SM","EU","GD","TB","DY","HO","ER","YB","LU","HF","TA","W","RE","OS","IR","PT","AU","HG","TL","PB","BI","PO","AT","RN","FR","RA","AC","TH","PA","NP","PU","AM","CM","BK","CF","ES","FM","MD","NO","LR","RF","DB","BH","HS","MT","_palette$secondaryCol","StructuralElementType$2","StructuralElementType$1","palettes$1","Colorer","ElementColorer","_Colorer","_isNativeReflectConstruct$N","getElementColor","ResidueTypeColorer","_isNativeReflectConstruct$M","SequenceColorer","_isNativeReflectConstruct$L","getGradientColor","ChainColorer","_isNativeReflectConstruct$K","getChainColor","SecondaryStructureColorer","_isNativeReflectConstruct$J","getSecondaryColor","secondary","UniformColorer","_isNativeReflectConstruct$I","ConditionalColorer","_isNativeReflectConstruct$H","parsed","_subsetCached","ConformationColorer","_isNativeReflectConstruct$G","TemperatureColorer","_isNativeReflectConstruct$F","OccupancyColorer","_isNativeReflectConstruct$E","_getColorByOccupancy","HydrophobicityColorer","_isNativeReflectConstruct$D","hydrophobicity","MoleculeColorer","_isNativeReflectConstruct$C","getMoleculeCount","CarbonColorer","_isNativeReflectConstruct$B","colorCarbon","colorNotCarbon","colorers$1","neutralColor","intensity","materials$1","createDerivativeMesh","layer","newMesh","traverseMeshes","meshTypes","func","_gatherObjects","matValues","processTransparentMaterial","prepassTranspMesh","processColFromPosMaterial","colFromPosMesh","createShadowmapMaterial","shadowmapMesh","isShadowmapMesh","forEachMeshInGroup","processObj","meshutils","applyTransformsToMeshes","removeShadowmapMaterial","countTriangles","totalCount","attribs","currAttr","faces","_countMeshTriangles","selectors$3","Representation","startMaterialValues","selectorString","materialPreset","needsRebuild","setMode","markAtoms","clearAtomBits","selectionGeo","sg","matrixAutoUpdate","repSettings","selStr","modeDiff","identify","colorerDiff","newSelectorObject","newSelector","newMode","newColorer","newMaterial","setMaterialPreset","_createSuper$A","_isNativeReflectConstruct$A","_traverseComponentGroups","ComplexEditor","ComplexComponentEditor","_ComplexEditor","complexVisual","_complexVisual","_inProgress","_componentTransforms","_bakeComponentTransform","onAtomPositionChanged","_resetComponentTransform","finalizeEdit","pivot","visual","getSelectedComponent","reprNode","getSelectionGeo","selectionMask","getSelectionBit","bbmin","bbmax","updateMatrix","ComplexFragmentEditor","_ComplexEditor2","_getSelectionBorderAtoms","_fragmentBoundAtoms","pivotPos","_fragmentGeo","_fragmentSelectionGeo","vg","smeshes","sm","selectionBit","makeTranslation","_bakeAtomTransform","boundAtoms","transformDirection","atomHash","ComplexVisualEdit","ComponentEditor","FragmentEditor","selectors$2","lookupAndCreate","entityList","specs","_specs2","ComplexVisual","_Visual","_isNativeReflectConstruct$z","_reprList","_repr","_reprListChanged","_selectionBit","_reprUsedBits","_selectionCount","_selectionGeometry","release","_editor","_rep","repCurrent","repAdd","status","change","bits","NUM_REPRESENTATION_BITS","newSelectionBit","_getFreeReprIdx","originalSelection","buildSelectorFromMask","def","unmarkAtoms","hide","show","markAtomsAdditionally","rebuildSelectionGeometry","pickedObj","otherObj","getMolecule","resetSelectionMask","tmpMask","deselectionMask","multiple","selRule","reprList","Promise","resolve","errorOccured","setTimeout","hasGeometry","repr","buildSelectionGeometry","optimizeList","NaN","expression","all","or","and","residx","_buildSelectorFromSortedLists","editor","needTraverse","forEachAtomWithinDistFromMasked","countAtomsByMask","_createSuper$y","_isNativeReflectConstruct$y","volumeUniforms","volumeDim","tileTex","tileTexSize","tileStride","boxAngles","_isoLevel0","_flipV","_BFLeft","_BFRight","_FFLeft","_FFRight","_WFFLeft","_WFFRight","overrideUniforms","defUniforms","facesPosMaterialParams","sideType","BackFacePosMaterial","_ShaderMaterial","backFaceParams","ShaderParams","VolumeMaterial$1","BackFacePosMaterialFarPlane","_ShaderMaterial2","matUniforms","aspectRatio","farZ","tanHalfFOV","matWorld2Volume","shaderParams","FrontFacePosMaterial","_ShaderMaterial3","frontFaceParams","VolumeMaterial","_ShaderMaterial4","updateDefines","ISO_MODE","STEPS_COUNT","VolumeMesh","_Mesh","_isNativeReflectConstruct$x","cullFlag","_corners","edges","_edges","edgeIntersections","_edgeIntersections","constant","vert","cornerMark","edgeMark","curEdge","curEdgeInter","CheckX","CheckY","CheckZ","curEdgeIdx","curEdgeSource","face","nextVertex","coplanarPoint","faceIdx","_collectVertices","vRight","vDir","rightProj","_sortIndices","numIndices","vm","getTiledTextureStride","buildTiledTexture","getBox","image","getVolumeInfo","volInfo","obtuseAngle","_settings$now$modes$V","mean","dmean","dmin","span","dmax","sd","nearClipPlaneOffset","_nearClipPlaneOffset","_pos","_norm","norm4D","_norm4D","matrixWorldToLocal","_matrixWorldToLocal","_clipPlane","_updateIsoLevel","getWorldDirection","getWorldPosition","setFromNormalAndCoplanarPoint","_updateVertices","_updateIndices","VolumeBounds","bSize","offsetVert","_getBaseVertices","flatVertices","_flattenArray","_lines","projTable","_projectionTable","proj","inv","currDelta","XY","XZ","YZ","VolumeFarPlane","volume","planeGeo","_initPlaneGeo","_plane","frustumCulled","doubleSided","matWorldToVolume","_renderer","planeCamPos","normalMatrix","volumeMatrix","DEG2RAD","VolumeVisual","_isNativeReflectConstruct$w","setDataSource","_frame","getMesh","showFrame","_farPlane","getBoundingSphere","needShow","LoaderList","_EntityList","_isNativeReflectConstruct$v","someLoaders","SomeLoader","canProbablyLoad","Loader","_isNativeReflectConstruct$u","_source","_abort","_agent","abort","FileLoader","_Loader","_isNativeReflectConstruct$t","_binary","blob","reader","FileReader","readAsArrayBuffer","readAsText","File","urlStartRegexp","XHRLoader","_isNativeReflectConstruct$s","request","XMLHttpRequest","response","responseType","send","ImmediateLoader","_isNativeReflectConstruct$r","loaders","ParserList","_isNativeReflectConstruct$q","someParsers","format","formats","SomeParser","canProbablyParse","parseSync","model","_parseHeader","Remark290","_matrix","_matrixIndex","stream","readString","matrixRow","readCharCode","matrixData","matrixIndex","parseFloat","Assembly$2","Remark350","assemblies","_assembly","assembly","addMatrix","addChain","PDBStream","_start","_nextCR","_nextLF","_next","_end","Complex$8","Element$8","Helix$2","Sheet$2","Strand$2","Bond$4","Molecule$7","pdbStartRegexp","remarkParsers","PDBParser","_Parser","_isNativeReflectConstruct$p","_serialAtomMap","_modelId","_compaundFound","_biomoleculeFound","_allowedChainsIDs","_lastMolId","_remarks","_remark","_compndCurrToken","fileType","_fixBondsArray","_fixChains","remark290","isUndefined","remark350","chainDict","chainObj","idChainMap","nj","readInt","readChar","chainID","resSeq","readFloat","veryLong","nameToElement$1","Role","serial0","serial1","serial2","serial3","serial4","tokenIdx","chainStr","lastChar","remarkNum","remark","RemarkParser","_parseSTRUCTURE","addHelix","addSheet","pars","adder","serialNumber","structureName","helLength","shWidth","shCur","shPrev","startChainID","endChainID","startSequenceNumber","iCodeStr","startICode","endSequenceNumber","endICode","cs","classification","date","title","tagParsers","HEADER","_parseHEADER","_parseTITLE","_parseATOM","HETATM","ENDMDL","_parseENDMDL","CONECT","_parseCONECT","COMPND","_parseCOMPND","REMARK","_parseREMARK","_parseHELIX","_parseSHEET","Complex$7","Element$7","Bond$3","cOrderCharCodes","cmlStartRegexp","CMLParser","_isNativeReflectConstruct$o","_readOnlyOneMolecule","atomId","countBonds","idxs","atomRefs2","moleculeArr","fieldData","atomRefs","placement","fieldName","_extractSGroup","_createSGroup","sgroupRef","atomsRef","mapEntry","cycleFuncInner","cycleFunc","x2","x3","y2","y3","z3","dom","childNodes","parseNode","xmlNode","nodeName","nodeValue","jsonNode","existing","molSet","atomArray","_findSuitableMolecule","rawData","doc","DOMParser","parseFromString","traversedData","_traverseData","cml","retData","filteredData","rd","ret","_extractSGroups","localBond","bondArray","_rebuidBondIndexes","orderAttr","tc","labels","_breadWidthSearch","retStruct","atomLabels","labelsCount","originalCML","prepareComponentCompound","compId","molId","molID","_packLabel","breadthQueue","componentID","labeledAtoms","startID","_unpackLabel","eAtom","mainAtom","varData","currentLabel","reorder","lLabel","atomFullNameStruct","elementType","countRef","currAtomComp","strLabel","JSON","stringify","atomSerial","added","mrvValence","complexAtom","_parseBond","getSGroupCount","sGrp","getSGroups","_selectComponents","_parseSet","totalAtomsParsed","joinedComplex","joinComplexes","mmtf","module","setUint8","setUint16","setUint32","setFloat64","setInt8","setInt16","setInt32","ArrayBuffer","DataView","byteOffset","Int8Array","Int16Array","L","E","q","R","rr","bondAtomList","bondOrderList","xCoordList","yCoordList","zCoordList","bFactorList","atomIdList","altLocList","occupancyList","groupIdList","groupTypeList","secStructList","insCodeList","sequenceIndexList","chainIdList","chainNameList","getInt8","getUint8","getUint16","getUint32","getFloat32","getFloat64","getInt16","getInt32","setFloat32","M","X","ignoreFields","nr","J","Z","ir","encode","decode","firstModelOnly","onModel","onChain","onGroup","onAtom","onBond","chainsPerModel","chainCount","modelIndex","groupsPerChain","chainIndex","atomNameList","groupIndex","groupId","groupType","groupName","singleLetterCode","chemCompType","secStruct","sequenceIndex","atomIndex","elementList","formalCharge","formalChargeList","xCoord","yCoord","zCoord","bFactor","atomIndex1","atomIndex2","fetch","fetchReduced","version","fetchUrl","fetchReducedUrl","encodeMsgpack","encodeMmtf","decodeMsgpack","decodeMmtf","MMTF","Complex$6","Chain$1","Atom$1","Element$6","Helix$1","Sheet$1","Strand$1","Bond$2","Assembly$1","Molecule$6","ArrayComparator","original","_original","_sum","candidate","sorted","StructuralElementType","secStructToType","MMTFParser","_isNativeReflectConstruct$n","_modelData","chainData","groupData","_updateSecStructure","atomData","bondData","_ssType","_ssStruct","_ssStart","struct","mmtfData","chainsInModel0","chainIndexList","description","structureId","releaseDate","eventCallbacks","modelData","_onModel","_onChain","_onGroup","_onAtom","_onBond","_updateMolecules","named","bioAssemblyList","baInfo","transformList","chainListCheck","chainNames","allChains","_chainsByName","compare","transpose","primaryChainsArray","primaryChainsHash","primary","_traverse","_linkAtomsToResidues","_markHeteroAtoms","_findSynonymousChains","_parseAssemblyInfo","_joinSynonymousChains","isArrayBuffer","ParsingError","_isNativeReflectConstruct$m","column","captureStackTrace","parseLine","parseColumn","_isWhitespace","_inlineIndexOf","ch0","_createSuper$l","_isNativeReflectConstruct$l","Complex$5","Element$5","Molecule$5","cRequiredAtomFields","cSecondaryCoding","helx","turn","strn","arrize","arrayLikeObject","nameToElement","AtomDataError","_extractOperations","assemblyGen","opsDict","groupStr","gps","grIdx","grCount","gr","gp","es","cnt","ii","nn","newMtx","CIFParser","asymDict","newline","block","keysCount","valuesCount","_parseValue","keyIndex","readCIF","_toComplex","cifData","complexData","_extractAtoms","_extractSecondary","_extractAssemblies","_extractMolecules","_extractMetadata","struct_keywords","pdbx_keywords","databaserev","database_PDB_rev","date_original","pdbx_description","getMolecules","atom_site","auth_seq_id","Cartn_x","Cartn_y","Cartn_z","label_atom_id","group_PDB","chainIdc","auth_asym_id","chainLabelIdc","label_asym_id","serials","iCodes","pdbx_PDB_ins_code","resNames","label_comp_id","type_symbol","tempFactors","B_iso_or_equiv","occupancies","charges","pdbx_formal_charge","altLocs","label_alt_id","models","pdbx_PDB_model_num","label_entity_id","moleculeIdx","struct_conf","_extractConfs","struct_sheet_range","_extractSheets","sheetData","sheet_id","beg_label_seq_id","end_label_seq_id","beg_label_asym_id","sheetNames","strandNames","starts","beg_auth_seq_id","ends","end_auth_seq_id","stICodes","pdbx_beg_PDB_ins_code","endICodes","pdbx_end_PDB_ins_code","getSheet","findResidue","helicesData","conf_type_id","typeId","comments","details","lengths","pdbx_PDB_helix_length","helixClasses","pdbx_PDB_helix_class","asmGen","pdbx_struct_assembly_gen","asmIdx","assembly_id","asmOper","oper_expression","asmList","asym_id_list","operList","vector","ops","_getOperations","pdbx_struct_oper_list","asm","assemblyOps","VolumeModel","_header","_boxSize","_boxStart","extent","nstart","crs2xyz","cellDims","angles","isTypedArray","_buff","headerFormat","arrays","_parseArray","_parseVector","_buffer","header","_header$angles","gamma","z1","z2","_xyz2crs","xaxis","yaxis","zaxis","shiftX","shiftY","_this$_header$angles","_setOrigins","_getXYZdim","_getXYZbox","_toXYZData","_getVolumeInfo","_createSuper$k","_isNativeReflectConstruct$k","CCP4Header","ispg","nsymbt","lksflg","customData","machine","nlabel","Ccp4Model","_VolumeModel","_typedCheck","u32","i32","f32","_fillHeader","xyz2crs","_this$_getAxis2","_getAxis","_setAxisIndices","_setBoxParams","xyzData","crsIdx","CCP4Parser","Complex$4","Element$4","Molecule$4","XYZParser","_isNativeReflectConstruct$j","_atomsInf","_fileName","endnAtoms","endComment","startAtomsInf","words","_parseToAtomsInf","_parseAtomsInf","Complex$3","Element$3","PubChemParser","_isNativeReflectConstruct$i","jsonData","PC_Compounds","aids","aid","fromPairs","zip","coords","conformers","aids1","aid1","aids2","aid2","orders","SDFStream","_strings","_currentStart","_currentStringIndx","numb","curStr","getNextString","getCurrentString","setStart","probablyHaveDataToParse","Complex$2","Element$2","Bond$1","Molecule$3","chargeMap","orderMap$1","typeMap$1","sdfAndMolRegexp","sdfRegExp","tagsNames","tags","SDFParser","_isNativeReflectConstruct$h","_format","_metadata","_currentMolProps","_compoundIndx","_assemblies","_atomsParsed","_atomsIndexes","getStringFromStart","codes","trunc","reverse","buildChainID","bondsNum","bondType","countsLine","_parseAtoms","_parseBonds","_parseMOL","findNextDataItem","_parseDataItem","_tryToUpdateMoleculeData","tagsList","_searchTag","tagPossibleNames","_tryToFind","_finalizeMetadata","_buildAssemblies","_buildMolecules","defineFormat","_parseCompound","findNextCompoundStart","_createSuper$g","_isNativeReflectConstruct$g","DSN6Header","div","DSN6Model","i16","byteBuffer","counter","zBlock","yBlock","xBlock","inRange","_pointCalculate","blocks","_blockCalculate","_calculateInfoParams","dispersion","minDensity","maxDensity","pow","DSN6Parser","checkDataTypeOptions","GROReader","_PDBStream","_isNativeReflectConstruct$f","Complex$1","Element$1","Molecule$2","GROParser","_isNativeReflectConstruct$e","_time","_residueNumber","_residueName","_atomName","_atomNumber","_atomPosition","_atomVelocity","filetype","readLine","getNext","positionX","positionY","positionZ","_parseTitle","_parseNumberOfAtoms","_parseAtom","Molecule$1","orderMap","un","am","nc","du","typeMap","resNumberRegex","spacesRegex","splitToFields","MOL2Parser","_isNativeReflectConstruct$d","_currPosIdx","_currStartIdx","MOL2Data","newPosIdx","_toStringFromStart","_toHeaderString","_setStart","_probablyHaveDataToParse","parsedStr","_setResidue","originAtomId","targetAtomId","currMolecule","molResidues","_fixSerialAtoms","_parseMolecule","_toStringFromHeader","_parseRawStrings","_findNextCompoundStart","parsers","ExporterList","_isNativeReflectConstruct$c","someExporters","Exporter","exportSync","PDBResult","_resultArray","_currentStr","_tag","_fixedNumeration","_numeration","_tagStrNum","writeString","numeration","isBoolean","maxStrPos","_currentStrLength","newString","curStrLength","finish","repeat","cStr","bondsArrays","_getSubArrays","subArraySize","subArrays","matrixIndx","_numb","toFixed","writeMatrix","PDBExporter","_Exporter","_isNativeReflectConstruct$b","_tags","_result","_tagExtractors","_extractHEADER","TITLE","_extractTITLE","_extractATOM","_extractCONECT","_extractCOMPND","_extractREMARK","_extractHELIX","SHEET","_extractSHEET","_stringForRemark350","_stringForRemark290","getResult","newTag","fixedBonds","writeBondsArray","strands","startIndx","_getMoleculeChains","chainsString","writeEntireString","_Remark290","_Remark350","writeMatrices","biomolIndx","copyFbxPoint3","srcIdx","dstIdx","copyFbxPoint4","SourceClass","vector4","copyTransformedPoint3","setSubArray","copyFunctor","functorOpts","arridx","FBXModel","lastPos","lastNorm","lastCol","vertsCount","indsCount","shifted","setIndices","currentCount","getVerticesNumber","setShiftedIndices","setTransformedPositions","setTransformedNormals","FBXGeometry","_info","FBX1CGeometry","_FBXGeometry","_isNativeReflectConstruct$a","_geo$attributes","cl","FBX2CCylinder","_isNativeReflectConstruct$9","_cutRawStart","_cutRawEnd","_facesPerSlice","addPerCylinder","_extendVertices","_extendIndices","getGeoParams","_temp","startToShift","colorSize","part1End","part2End","_setColorRange","capSize","cap1End","cap2End","FBXInfoExtractor","_materials","_models","_extractModelsAndMaterials","_flattenModels","layersOfInterest","checkExportAbility","_collectInstancedGeoInfo","_collectGeoInfo","faceSize","overallVertsCount","combined","_reworkIndices","verticesCount","_mesh$geometry","_mesh$geometry$attrib","vertCount","setPositions","setNormals","_collectMaterialInfo","_addToPool","_mesh$geometry2","_mesh$geometry2$attri","instCount","instMatrix","objMatrix","sphereColor","instanceIndex","_getSphereInstanceMatrix","addInstance","_mesh$geometry3","_mesh$geometry3$attri","oneCCylinder","splittingInfo","_gatherCylindersColoringInfo","twoCCylinder","needToSplit","additionalVertsCount","colorStart","colorEnd","is2Colored","_getCylinderInstanceMatrix","materialIdx","_checkExistingMaterial","findIndex","differs","_collectSpheresInfo","_collectCylindersInfo","instIdx","matVector1","matVector2","matVector3","idxOffset","FBXResult","_writeHeader","_writeDefinitions","_writeObjects","_writeRelations","_writeConnections","creator","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","allModels","_verticesIndices","_normalLayer","_colorLayer","allMaterials","_materialProperties","modelsList","materialList","colorArray","colorsStr","_floatArrayToString","colorIndices","normalArray","normalsStr","vertStr","FBXExporter","_isNativeReflectConstruct$8","_version","miewVersion","_extractor","rot","eyeDirection","cameraUpDirection","cameraSidewaysDirection","moveDirection","mouseDelta","quat","io","exporters","tempColor","CSS2DRenderer","_height","_widthHalf","_heightHalf","_vector","_viewMatrix","_projectionMatrix","_domElement","overflow","pointerEvents","myNode","lerpColorAsHex","setHex","getHexString","colorAsHex","setFromMatrixPosition","localOffset","getMaxScaleOnAxis","fogFactor","smoothstep","WebkitTransform","MozTransform","oTransform","_renderObject","STATE","matrix4","ObjectHandler","lastRotation","ObjectControls","objectPivot","getAltObj","hotkeysEnabled","screen","rotateFactor","axisRotateFactor","intertia","dynamicDampingFactor","intertiaThreshold","_state","_mousePrevPos","_mouseCurPos","_mainObj","_altObj","_affectedObj","_isAltObjFreeRotationAllowed","_isTranslationAllowed","_isKeysTranslatingObj","_pressedKeys","_clock","_lastUpdateTime","_listeners","mousedown","mouseup","mousemove","mousewheel","touchstartend","touchmove","getKeyBindObject","keydownup","handleResize","resetKeys","contextmenu","Picker","_lastMousePos","_mouseTotalDist","_lastClickBeginTime","_lastClickPos","_clickBeginTime","touchstart","touchend","_rotate","zeroPivot","makeRotationFromQuaternion","setObjects","_objects2","mousePrevPos","mouseCurPos","aboutAxis","mouse2rotation","setFromAxisAngle","translate","translateOnAxis","timeSinceLastUpdate","timeSinceMove","mousePrev","mouseCur","setLength","stopPropagation","preventDefault","innerWidth","innerHeight","getBoundingClientRect","ownerDocument","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","enableHotkeys","allowTranslation","allow","allowAltObjFreeRotation","keysTranslateObj","isEditingAltObj","convertMouseToOnCircle","pageX","pageY","screenSize","convertMouseToViewport","rotateByMouse","aboutZAxis","getOrientation","setOrientation","getScale","setScale","curTime","_lastMouseMoveTime","speedX","speedY","altObj","button","workWithAltObj","altKey","ctrlKey","shiftKey","translatePivotByMouse","wheelDelta","detail","touches","_touchDistanceCur","_touchDistanceStart","_scaleStart","keyCode","translatePivotInWorld","setX","setY","setZ","translatePivot","setPivot","newPivot","picked","pickObject","screenPos","rayCaster","unproject","fogFarValue","getMouseInViewport","curPos","_lastTouchdownPos","changedTouches","Axes","targetCamera","_target","_targetCamera","_object","_full","autoClear","setViewport","clear","secTypes","cSecNames","_createSecondary","strArray","nRes","resid","rIdx","fromUInt20ToInt20","uint20","FrameInfo","payload","callbacks","isLoading","_framesRange","frameIsReady","_frameRequest","_callbacks","_framesRequestLength","_downloadDataFn","parseBinaryData","setFrame","framesStart","framesEnd","_framesCount","onLoadStatusChanged","onError","_bufferRequestStart","_prepareBuffer","arrayBuffer","dataView","atomsCount","framesCount","_atomsCount","chunkedFramesCount","timeStep","iName","_timeStep","posData","coordIdx","secondaryArr","hiWord","loWord","_secondaryData","_currFrame","myResidues","sec","oldSec","nSec","compRes","getSec","frameIdx","_cachedResidues","_updateSecondary","_parseBuffer","vec","_vec","SceneObject","LinesObj","_SceneObject","_isNativeReflectConstruct$7","_params","_id1","_id2","getAtomByFullname","_atom1","_getAtomFromName","_atom2","_line","computeLineDistances","_raycaster","_intersects","verticesNeedUpdate","OutlineMaterial","_isNativeReflectConstruct$6","srcDepthTex","srcTexSize","DEPTH_OUTLINE","FXAAMaterial","_isNativeReflectConstruct$5","bgTransparent","BG_TRANSPARENT","_samplesKernel","AOMaterial","_isNativeReflectConstruct$4","diffuseTexture","normalTexture","depthTexture","camNearFar","projMatrix","kernelRadius","depthThreshold","_kernelOffsets$1","AOHorBlurMaterial","_isNativeReflectConstruct$3","aoMap","samplesOffsets","_kernelOffsets","AOVertBlurWithBlendMaterial","_isNativeReflectConstruct$2","fogNearFar","useFog","AnaglyphMaterial","_isNativeReflectConstruct$1","srcL","srcR","View","orientation","ViewInterpolator","startView","endView","_endTime","_isPaused","_srcView","_dstView","_isMoving","transTime","_transitionTime","wasStarted","success","createView","slerp","setup","getCurrentView","Cookies","removeCookie","cntKey","_toCount","cntVal","_getSimpleCookie","_removeSimpleCookie","setCookie","chunkLen","lc","_chunkString","_setSimpleCookie","getCookie","cookie","_getExpirationDate","today","setFullYear","toUTCString","_exists","WebVRPoC","onToggle","_mainCamera","_button","_onToggle","_molContainer","_user","_scalingPivot","_controller1","_controller2","_pressedGripsCounter","_distance","_gfx","startScalingByControllers","stopScalingByControllers","gfx","xr","webVRPoC","stylizeElement","bottom","padding","border","font","isSessionSupported","then","supported","cursor","currentSession","onSessionEnded","onSessionStarted","session","setReferenceSpaceType","setSession","onmouseenter","onmouseleave","onclick","requestSession","optionalFeatures","moveSceneBehindHeadset","showEnterVR","showWebXRNotFound","textDecoration","createWebVRButton","_mainFog","_plugVRNodesIntoScene","_setControllersListeners","getController","_createControllerMesh","handleGripsDown","handleGripsUp","_this$_gfx","setAnimationLoop","getSession","_unplugVRNodesFromScene","cylinder","rotateX","scaler","container","selectors$1","LOADER_NOT_FOUND","removeExtension","reportProgress","percent","chooseFogColor","_setContainerContents","arezSpritesSupported","getExtension","isAOSupported","rePdbId","rePubchem","reUrlScheme","_includesInCurSelection","_includesInSelector","Miew","_isNativeReflectConstruct","settingsCookie","cookiePath","_interpolator","_container","getElementById","head","getElementsByClassName","_containerRoot","_running","_halting","_building","_needRender","_hotKeysEnabled","_cookies","restoreSettings","_spinner","_loading","_animInterval","_visuals","_curVisualName","_sourceWindow","registeredPlugins","_initOnSettingsChanged","shadowMatrix","OBB","halfSize","_bSphereForOneVisual","_bBoxForOneVisual","_bBox","_invMatrix","_points","_anaglyphMat","_size","aberration","_outlineMaterial","minFilter","magFilter","light","getOBB","class","frag","createDocumentFragment","_msgMode","_msgAtomInfo","_showMessage","_initGfx","_initListeners","_onKeyDown","_onKeyUp","_objectControls","_getAltObj","_updateShadowCamera","_picker","_onPick","file","keepRepsInfo","job","cancel","halt","msg","clientWidth","clientHeight","webGLOptions","preserveDrawingBuffer","premultipliedAlpha","renderer2d","shadowMap","autoUpdate","getContext","setPixelRatio","devicePixelRatio","setSize","setClearColor","clearColor","stereoCam","selectionScene","selectionRoot","selectionPivot","light12","pixelRatio","getPixelRatio","shadowMapSize","mapSize","light3","deviceWidth","deviceHeight","offscreenBuf","depthBuffer","offscreenBuf2","offscreenBuf3","offscreenBuf4","volBFTex","volFFTex","volWFFTex","offscreenBuf5","offscreenBuf6","offscreenBuf7","stereoBufL","stereoBufR","_showCanvas","_embedWebXR","stats","_fps","_onResize","baseName","random","suffix","_makeUniqueVisualName","any","_forEachComplexVisual","_forEachVisual","resume","_requestAnimationFrame","_onTick","_discardComponentEdit","_discardFragmentEdit","pause","isAnaglyph","multi","_onUpdate","_onRender","_this4","union","_setUberMaterialValues","updateFogRange","_getBSphereRadius","isScriptingCommandAvailable","callNextCmd","_needRebuild","rebuild","_updateView","_updateFog","webVR","updateMoleculeScale","_clipPlaneUpdateValue","_fogFarUpdateValue","setRenderTarget","_renderFrame","focus","_resizeOffscreenBuffers","_renderShadowMap","_renderScene","setScissorTest","setScissor","cameraL","cameraR","renderBuffer","textureBuffer","gl","tx8","__webglTexture","bindTexture","TEXTURE_2D","fb","__webglFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","COLOR_ATTACHMENT1_WEBGL","drawBuffersWEBGL","distortion","bHaveComplexes","_getComplexVisual","volumeVisual","_getVolumeVisual","ssao","_enableMRT","_renderWithPrepassTransparency","dstBuffer","srcBuffer","_performAO","_renderOutline","_renderSelection","_renderVolume","_performFXAA","_performDistortion","targetBuffer","srcDepthBuffer","srcColorBuffer","currentRenderTarget","getRenderTarget","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","setBlending","buffers","setClear","setTest","updateMatrices","selPivot","_hasSelectionToRender","renderTarget","oldRT","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","dstBuf","tmpBuf1","tmpBuf2","tmpBuf3","volumeRenderingSupported","volumeBFMat","volumeFFMat","cubeOffsetMat","world2colorMat","_checkVolumeRenderingSupport","overrideMaterial","colorMask","_fxaaMaterial","normalBuffer","srcDepthTexture","tempBuffer","tempBuffer1","_aoMaterial","_horBlurMaterial","_vertBlurMaterial","_scale","_lastPick","_releaseAllVisuals","_setEditMode","_resetObjects","setNeedRender","resetReps","resetPivot","rebuildAll","_resetScene","updateSelectionMask","TheExporter","export","_this5","onLoadEnd","anything","jobIndex","_refreshTitle","notify","shouldCancel","matchesPdbId","_matchesPdbId","_matchesPdbId$","sourceType","matchesPubchem","compound","resolveSourceShortcut","TheLoader","extractName","_utils$splitFileName2","fileExt","TheParser","_TheParser","updateBinaryMode","newOptions","keyCount","loader","lengthComputable","total","loaded","catch","_fetchData","dataSet","_parseData","_onLoad","_removeVisual","getCurrentVisual","fileData","_stopAnimation","_frameInfo","isPlaying","_isAnimating","_continueAnimation","clearInterval","minFrameTime","setInterval","_updateObjsToFrame","nextFrame","disableEvents","visualName","_startAnimation","amberFileName","_addVisual","hasValidRes","hasValidResidues","resetEd","_onLoadEd","_tweakResolution","_edLoader","_this6","toRemove","getGeometry","unitIdx","_updateInfoPanel","getCurrentUnit","_this7","_rebuildObjects","rebuildActions","setNeedsRebuild","appendix","repGet","_this8","getSelectionCount","defPreset","repCount","presList","_setReps","applyPreset","newIdx","repRemove","repHide","_editMode","getElementsByTagName","editors","beginComponentEdit","_editors","discard","selectedVisuals","beginFragmentEdit","isFreeRotationAllowed","_getVisualForComplex","_updateSelection","_enterComponentEditMode","_enterFragmentEditMode","_applyComponentEdit","_applyFragmentEdit","expandSelection","shrinkSelection","_extractRepresentation","firstLine","secondLine","aName","coordLine","nextAltObj","amount","_centerInVisual","getSelectionCenter","screenshotURI","getDataURL","dataURL","canvas","canvasContext","drawImage","toDataURL","areaOfInterestTanFov2","shotAspect","setDrawingBufferSize","uri","screenshot","_this9","_export","dataString","maxPerf","_gfxScore","_autoChangeResolution","resetCurrentUnit","resetView","getBondCount","getResidueCount","getChainCount","objData","bThrow","Ctor","_addSceneObject","sceneObject","objs","getState","compact","compareWithDefaults","currPreset","repsDiff","emptyReps","repsInfo","_compareReps","objectsState","setMaterialValues","_this10","disable","_this11","_onBgColorChanged","_onFogColorChanged","evt","_updateMaterials","_updateShadowmapMeshes","_fogAlphaChanged","sel","euler","setFromQuaternion","srcView","dstView","setFromEuler","isMoving","setPivotSubset","setPivotAtom","setPivotResidue","None","within","fullAtomName","complexName","project","dssp","extractBasis","retMat","makeBasis","extractRotation","xml","removeAttribute","sGroup","getPosition","getCentralPoint","updateCMLData","XMLSerializer","serializeToString","curChainName","curChainColor","palettes","$Ve","$Vf","$Vg","$Vh","$Vi","$Vj","$Vk","$Vl","$Vm","$Vn","$Vo","$Vp","$Vq","$Vr","$Vs","$Vt","$Vu","$Vv","$Vw","$Vx","$Vy","$Vz","$VA","$VB","$VC","$VD","$VE","$VF","$VG","$VH","$VI","$VJ","$VK","$VL","$VM","$VN","$VO","$VP","$VQ","$VR","$VS","$VT","$VU","$VV","$VW","$VX","$VY","$VZ","$V_","$V$","$V01","$V11","$V21","$V31","$V41","$V51","$V61","Command","RESET","BUILD","ALL","HELP","Path","MOTM","OneArgCommand","GET","SET","Value","SET_SAVE","SET_RESTORE","SET_RESET","PRESET","AddRepresentation","EditRepresentation","REMOVE","RepresentationReference","HIDE","SHOW","LIST","EXPAND_KEY","SELECTOR_KEY","SELECT","WordAll","WITHIN","OF","MATERIAL","ModeCMD","ColorCMD","VIEW","BASE_64","UNIT","DSSP","SCALE","ROTATE","AxesList","TRANSLATE","CENTER","GetURLBranch","Screenshot","LINE","ArgList","LISTOBJ","REMOVEOBJ","VIEW_KEY","SCREENSHOT","LOAD","Url","FILE_KEY","ADD","Description","REP","MODE","COLOR","Descriptor","RepresentationOwnProperty","RepresentationOwnPropertyOpts","DESC_KEY","DESC_KEY_OPTS","AxesArg","DESC_KEY_AXES","Arg","PathWoDescKey","HEX","BOOL","Word","CommandSetWoDESC_KEY","DescKeys","CLEAR","FILE_LIST","FILE_REGISTER","FILE_DELETE","PRESET_ADD","PRESET_DELETE","PRESET_UPDATE","PRESET_RENAME","PRESET_OPEN","CREATE_SCENARIO","RESET_SCENARIO","DELETE_SCENARIO","ADD_SCENARIO_ITEM","LIST_SCENARIO","PDB_KEY","DELAY_KEY","PRST_KEY","DESCRIPTION_KEY","CommandSet","PresetPath","HexOrNumber","miew","echo","help","motm","propagateProp","saveSettings","resetSettings","representations","listRep","listSelector","checkArg","changeUnit","toJSO","listObjs","removeObject","getURL","screenshotSave","CreateObjectPair","keyRemap","MiewCLIParser","modeIdDesc","$help","colorDesc","materialDesc","addRepDesc","setGetParameterDesc","PDBID","REP_NAME","DESCRIPTION","REP_INDEX","EXPRESSION","MODE_ID","COLORER_ID","MATERIAL_ID","new","del","PARAMETER","set_save","set_restore","set_reset","ENCODED_VIEW","removeobj","listobj","NULL","RepresentationMap","representationMap","representationID","strId","sortedKeys","representationsStorage","CLIUtils","repMap","repName","selectionStr","strList","helpData","joinHelpStr","sortBy","helpItem","awaitWhileCMDisInProcess","finishAwaitingCMDInProcess","modificate","modificators","modificator","endsWith","getNamedColor","utilFunctions","cliUtils","cmd","cliutils","_val","notimplemented","script","_printCallback","_errorCallback","cmdQueue","commandInAction"],"sourceRoot":""}